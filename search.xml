<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>matplotlibå­—ä½“é“¾æ¥ğŸ”—</title>
      <link href="/2022/11/18/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib%E5%AD%97%E4%BD%93/matplotlib%E5%AD%97%E4%BD%93%E9%93%BE%E6%8E%A5%F0%9F%94%97/"/>
      <url>/2022/11/18/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib%E5%AD%97%E4%BD%93/matplotlib%E5%AD%97%E4%BD%93%E9%93%BE%E6%8E%A5%F0%9F%94%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p><a href="https://www.aliyundrive.com/s/nqN9BVK9kma">simhei.ttf</a></p><p><a href="https://www.aliyundrive.com/s/9QWzE5UHUVN">SourceHanSansSC-Bold.otf</a></p><p>simsun.ttcï¼ˆæš‚ä¸æ”¯æŒåˆ†äº«ï¼Œæ”¾åœ¨è‡ªå·±çš„é¡¹ç›®ä¸‹é¢äº†ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlibå­—ä½“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wrapsã€update_wrapper</title>
      <link href="/2022/11/18/Python/%E6%A8%A1%E5%9D%97/functools/wraps%E3%80%81update_wrapper/"/>
      <url>/2022/11/18/Python/%E6%A8%A1%E5%9D%97/functools/wraps%E3%80%81update_wrapper/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå†ç»§ç»­å¾€ä¸‹çœ‹ä½ ä¼šå‘ç°å—·ï½åŸæ¥æ˜¯è¿™ä¹ˆå›äº‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">wrap</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args</span>):</span><br><span class="line">        <span class="keyword">return</span> func(*args)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@wrap</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æˆ‘æ˜¯ä¾‹å­&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(demo.__name__) <span class="comment"># inner</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…ˆçœ‹ä¸€ä¸‹è¿™ä¸ªç»“æœï¼Œæ˜¯ä¸æ˜¯å¾ˆæœ‰æ„æ€demoçš„__name__å±æ€§ç«Ÿç„¶æ˜¯innerã€‚</p><p>ç»§ç»­å¾€ä¸‹çœ‹</p><h2 id="update-wrapper"><a href="#update-wrapper" class="headerlink" title="update_wrapper"></a>update_wrapper</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>ä½¿ç”¨ partial åŒ…è£…çš„å‡½æ•°æ˜¯æ²¡æœ‰__name__å’Œ__doc__å±æ€§çš„ã€‚</p><p>update_wrapper ä½œç”¨ï¼šå°†è¢«åŒ…è£…å‡½æ•°çš„__name__ç­‰å±æ€§ï¼Œæ‹·è´åˆ°æ–°çš„å‡½æ•°ä¸­å»ã€‚</p><h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> update_wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wrap1</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args</span>):</span><br><span class="line">        <span class="keyword">return</span> func(*args)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> update_wrapper(inner, func)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@wrap1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯ä¾‹å­1&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(demo1.__name__) <span class="comment"># demo1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>çœ‹åˆ°è¿™é‡Œçš„ç»“æœä½ æ˜ç™½update_wrapperçš„ä½œç”¨äº†å§</p><h2 id="wraps"><a href="#wraps" class="headerlink" title="wraps"></a>wraps</h2><h3 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>wraps å‡½æ•°å°±æ˜¯ä¸ºäº†åœ¨è£…é¥°å™¨æ‹·è´è¢«è£…é¥°å™¨å‡½æ•°çš„__name__ã€‚</p><p>å°±æ˜¯åœ¨update_wrapperä¸Šè¿›è¡Œäº†ä¸€ä¸ªåŒ…è£…ã€‚</p><h3 id="ç¤ºä¾‹-1"><a href="#ç¤ºä¾‹-1" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wrap2</span>(<span class="params">func</span>):</span><br><span class="line"><span class="meta">    @wraps(<span class="params">func</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args</span>):</span><br><span class="line">        <span class="keyword">return</span> func(*args)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@wrap2</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">demo2</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;æˆ‘æ˜¯ä¾‹å­2&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(demo2.__name__) <span class="comment"># demo2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-functools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>issubclassåˆ¤æ–­æ˜¯å¦æ˜¯æŸçš„å­ç±»</title>
      <link href="/2022/11/18/Python/%E6%A8%A1%E5%9D%97/issubclass/issubclass%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E6%9F%90%E7%9A%84%E5%AD%90%E7%B1%BB/"/>
      <url>/2022/11/18/Python/%E6%A8%A1%E5%9D%97/issubclass/issubclass%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6%E6%98%AF%E6%9F%90%E7%9A%84%E5%AD%90%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Python ä¸­çš„ issubclass å‡½æ•°ç”¨äºåˆ¤æ–­å‚æ•° class æ˜¯å¦æ˜¯ç±»å‹å‚æ•° classinfo çš„å­ç±»ã€‚ issubclass ä¸ä»…å¯ä»¥ç”¨äºå†…ç½®ç±»å‹çš„åˆ¤æ–­ï¼Œä¹Ÿå¯ä»¥ç”¨äºè‡ªå®šä¹‰ç±»çš„åˆ¤æ–­ã€‚</p><h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">issubclass</span>(å­ç±»å<span class="keyword">class</span>,çˆ¶ç±»å<span class="keyword">class</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><h4 id="è‡ªå®šä¹‰ç±»çš„åˆ¤æ–­"><a href="#è‡ªå®šä¹‰ç±»çš„åˆ¤æ–­" class="headerlink" title="è‡ªå®šä¹‰ç±»çš„åˆ¤æ–­"></a>è‡ªå®šä¹‰ç±»çš„åˆ¤æ–­</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æˆ‘æ˜¯çˆ¶ç±»&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Children</span>(<span class="title class_ inherited__">Parent</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">func2</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æˆ‘æ˜¯å­ç±»&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;è¯·é—®æˆ‘æ˜¯Parentçš„å­ç±»å—ï¼Ÿ&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">issubclass</span>(Children,Parent))) </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">è¯·é—®æˆ‘æ˜¯Parentçš„å­ç±»å—ï¼Ÿ<span class="literal">True</span></span><br></pre></td></tr></table></figure><h4 id="å†…ç½®ç±»å‹çš„åˆ¤æ–­"><a href="#å†…ç½®ç±»å‹çš„åˆ¤æ–­" class="headerlink" title="å†…ç½®ç±»å‹çš„åˆ¤æ–­"></a>å†…ç½®ç±»å‹çš„åˆ¤æ–­</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;list issubclass object =&quot;</span>, <span class="built_in">issubclass</span>(<span class="built_in">list</span>, <span class="built_in">object</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;dict issubclass object =&quot;</span>, <span class="built_in">issubclass</span>(<span class="built_in">dict</span>, <span class="built_in">object</span>))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span> <span class="built_in">issubclass</span> <span class="built_in">object</span> = <span class="literal">True</span></span><br><span class="line"><span class="built_in">dict</span> <span class="built_in">issubclass</span> <span class="built_in">object</span> = <span class="literal">True</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-issubclass </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ–­è¨€</title>
      <link href="/2022/11/17/Python/%E6%A8%A1%E5%9D%97/%E6%96%AD%E8%A8%80/python%E6%96%AD%E8%A8%80/"/>
      <url>/2022/11/17/Python/%E6%A8%A1%E5%9D%97/%E6%96%AD%E8%A8%80/python%E6%96%AD%E8%A8%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>Python assertæ–­è¨€ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç¼©å°ç‰ˆçš„ifè¯­å¥ã€‚åˆ¤æ–­è¡¨è¾¾å¼ä¸ºçœŸæ—¶ï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œåä¹‹æŠ¥é”™ï¼šAssertErrorå¼‚å¸¸</p><p>assertè¯­å¥åªåœ¨è°ƒè¯•é˜¶æ®µæœ‰æ•ˆï¼Œé€šè¿‡æ‰§è¡Œpythonå‘½ä»¤æ—¶åŠ å…¥-Oï¼ˆå¤§å†™çš„ï¼‰å‚æ•°æ¥å…³é—­assertè¯­å¥ã€‚</p><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>æœ‰åˆ©äºæˆ‘ä»¬å¯¹ç¨‹åºçš„æ’é”™ï¼Œæé«˜ç¨‹åºçš„å¥å£®æ€§ã€‚é€šå¸¸ç”¨äºç¨‹åºçš„åˆæœŸæµ‹è¯•å’Œè°ƒè¯•è¿‡ç¨‹ä¸­çš„è¾…åŠ©å·¥å…·ã€‚</p><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>é¢‘ç¹çš„è°ƒç”¨ä¼šæå¤§çš„å½±å“ç¨‹åºçš„æ€§èƒ½ï¼Œå¢åŠ é¢å¤–çš„å¼€é”€ã€‚</p><h1 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> expression, reason</span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;expressionï¼šåˆ¤æ–­æ¡ä»¶ï¼Œæ”¾å¤šä¸ªåˆ¤æ–­æ¡ä»¶æ—¶ï¼Œä¸èƒ½å†™reasonã€‚ä¸ºçœŸï¼Œä¸åšä»»ä½•æ“ä½œï¼›ä¸ºå‡ï¼ŒæŠ›å‡ºå¼‚å¸¸AssertErrorã€‚&#x3D;&#x3D;</p><p>&#x3D;&#x3D;reasonï¼šå¯¹åˆ¤æ–­æ¡ä»¶çš„æè¿°ã€‚&#x3D;&#x3D;</p><h1 id="ä¸¾ä¾‹ï¼š"><a href="#ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸¾ä¾‹ï¼š"></a>ä¸¾ä¾‹ï¼š</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> <span class="number">100</span> &gt; <span class="number">10</span> , <span class="string">&quot;ä¸€ç™¾å¤§äºå&quot;</span> <span class="comment"># æ¡ä»¶ä¸ºçœŸï¼Œä¸åšä»»ä½•æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> <span class="number">100</span> &lt; <span class="number">10</span> , <span class="string">&quot;ä¸€ç™¾å°äºå&quot;</span> <span class="comment"># æ¡ä»¶ä¸ºå‡ï¼ŒæŠ¥AssertErrorå¼‚å¸¸</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assert</span> <span class="number">100</span> &lt; <span class="number">10</span> ,<span class="number">10</span> &gt; <span class="number">1</span> <span class="comment"># æ¡ä»¶ä¸ºå‡ï¼ŒæŠ¥AssertErrorå¼‚å¸¸</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;/Users/wanghan/Desktop/code/project_test/Learn/learn_assert/assert_test.py&quot;</span>, line <span class="number">15</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">assert</span> <span class="number">100</span> &lt; <span class="number">10</span> ,<span class="number">10</span> &gt; <span class="number">1</span></span><br><span class="line">AssertionError: <span class="literal">True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="åº”ç”¨ï¼ˆæ•è·assertå¼‚å¸¸ï¼‰"><a href="#åº”ç”¨ï¼ˆæ•è·assertå¼‚å¸¸ï¼‰" class="headerlink" title="åº”ç”¨ï¼ˆæ•è·assertå¼‚å¸¸ï¼‰"></a>åº”ç”¨ï¼ˆæ•è·assertå¼‚å¸¸ï¼‰</h1><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œassertå’Œå¼‚å¸¸å¤„ç†è¯­å¥ç»“åˆä½¿ç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    a= <span class="built_in">int</span> (<span class="built_in">input</span>())</span><br><span class="line">    <span class="keyword">assert</span> a&lt;<span class="number">15</span>,<span class="string">&quot;èŒƒå›´è¶…å‡º&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    fun()</span><br><span class="line"><span class="keyword">except</span> AssertionError <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;è¾“å…¥æœ‰è¯¯&quot;</span>,e)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ‰§è¡Œæ—¶å…³é—­assertè¯­å¥"><a href="#æ‰§è¡Œæ—¶å…³é—­assertè¯­å¥" class="headerlink" title="æ‰§è¡Œæ—¶å…³é—­assertè¯­å¥"></a>æ‰§è¡Œæ—¶å…³é—­assertè¯­å¥</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -O xxx.py</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-æ–­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>signature</title>
      <link href="/2022/11/16/Python/%E6%A8%A1%E5%9D%97/inspect/signature/"/>
      <url>/2022/11/16/Python/%E6%A8%A1%E5%9D%97/inspect/signature/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æœ¬æ–‡ç®€å•ä»‹ç»äº†ï¼Œsignatureè·å–ï¼šå‡½æ•°çš„ç­¾åã€å‡½æ•°å‚æ•°ã€æ ‡æ³¨ç±»å‹ã€å‡½æ•°æ³¨è§£ã€å‚æ•°é»˜è®¤å€¼</p><h2 id="è·å–å‡½æ•°ç­¾å"><a href="#è·å–å‡½æ•°ç­¾å" class="headerlink" title="è·å–å‡½æ•°ç­¾å"></a>è·å–å‡½æ•°ç­¾å</h2><h4 id="ç¬¬ä¸€ç§æ–¹æ³•ï¼š"><a href="#ç¬¬ä¸€ç§æ–¹æ³•ï¼š" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•ï¼š"></a>ç¬¬ä¸€ç§æ–¹æ³•ï¼š</h4><p>å¯¼å…¥å°å†™çš„signatureï¼Œè·å–å‡½æ•°ç­¾åã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line">sig = signature(func) <span class="comment"># (x: int)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§æ–¹æ³•ï¼š"><a href="#ç¬¬äºŒç§æ–¹æ³•ï¼š" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•ï¼š"></a>ç¬¬äºŒç§æ–¹æ³•ï¼š</h4><p>é€šè¿‡å‡½æ•°çš„é­”æ³•å±æ€§__annotations__æ¥è·å–å‡½æ•°çš„ç­¾åï¼Œä½†è¯¥æ–¹æ³•æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯å¦‚æœå­˜åœ¨æœªè¢«æ ‡æ³¨çš„å‚æ•°ï¼Œé‚£è¿™ä¸ªé­”æ³•å±æ€§å°±æ— æ³•è·å–è¿™ä¸ªå‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(func.__annotations__) <span class="comment"># &#123;&#x27;x&#x27;: &lt;class &#x27;str&#x27;&gt;&#125;</span></span><br></pre></td></tr></table></figure><p>ç¼ºç‚¹æ¼”ç¤ºï¼š</p><p>ä¸‹é¢çš„å‚æ•°yæœªè¿›è¡Œæ ‡æ³¨ï¼Œå› æ­¤é­”æ³•å±æ€§__annotations__æ˜¯è·å–ä¸åˆ°è¯¥å‚æ•°çš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span>, y</span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(func.__annotations__) <span class="comment"># &#123;&#x27;x&#x27;: &lt;class &#x27;str&#x27;&gt;&#125;</span></span><br></pre></td></tr></table></figure><h2 id="è·å–å‡½æ•°çš„å‚æ•°"><a href="#è·å–å‡½æ•°çš„å‚æ•°" class="headerlink" title="è·å–å‡½æ•°çš„å‚æ•°"></a>è·å–å‡½æ•°çš„å‚æ•°</h2><p>signature.parametersï¼šæ ¹æ®å‡½æ•°ç­¾åçš„parameterså±æ€§ï¼Œè·å–å‡½æ•°å‚æ•°ï¼Œç»“æœä¸ºæœ‰åºçš„å­—å…¸ç±»å‹ã€‚</p><p>è¯¥å­—å…¸åŒ…å«äº†keyå‚æ•°åå’Œvalueï¼šinspect.Parameterå¯¹è±¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line">sig = signature(func) <span class="comment"># (x: int)</span></span><br><span class="line"><span class="built_in">print</span>(sig.parameters) <span class="comment"># OrderedDict([(&#x27;x&#x27;, &lt;Parameter &quot;x: str&quot;&gt;)])</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>sig.parametersåŒ…å«çš„ä¿¡æ¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> name,param <span class="keyword">in</span> sig.parameters.items():</span><br><span class="line">  <span class="comment"># å‚æ•°å inspect.Parameterså¯¹è±¡</span></span><br><span class="line">  <span class="built_in">print</span>(name,param) <span class="comment"># x x: str</span></span><br></pre></td></tr></table></figure><h2 id="è·å–å‡½æ•°çš„æ ‡æ³¨ç±»å‹"><a href="#è·å–å‡½æ•°çš„æ ‡æ³¨ç±»å‹" class="headerlink" title="è·å–å‡½æ•°çš„æ ‡æ³¨ç±»å‹"></a>è·å–å‡½æ•°çš„æ ‡æ³¨ç±»å‹</h2><p>éå†signature.parameterså¾—åˆ°çš„keyï¼ˆå‚æ•°åï¼‰ï¼Œå–å‡ºvalueï¼ˆParameterå¯¹è±¡ï¼‰ï¼Œé€šè¿‡è®¿é—®valueï¼ˆParameterså¯¹è±¡ï¼‰çš„kindå±æ€§è·å–æ ‡æ³¨ç±»å‹ã€‚</p><p>æ¯”å¦‚ï¼šä½ç½®å‚æ•°ï¼Œå¯å˜å‚æ•°ï¼Œå…³é”®å­—å‚æ•°ï¼Œå­—å…¸å‚æ•°</p><table><thead><tr><th>åç§°</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><em>POSITIONAL_ONLY</em></td><td>Value must be supplied as a positional argument.Python has no explicit syntax for defining positional-only parameters, but many built-in and extension module functions (especially those that accept only one or two parameters) accept them.</td></tr><tr><td><em>POSITIONAL_OR_KEYWORD</em></td><td>Value may be supplied as either a keyword or positional argument (this is the standard binding behaviour for functions implemented in Python.)</td></tr><tr><td><em>VAR_POSITIONAL</em></td><td>A tuple of positional arguments that arenâ€™t bound to any other parameter. This corresponds to a <code>*args</code> parameter in a Python function definition.</td></tr><tr><td><em>KEYWORD_ONLY</em></td><td>Value must be supplied as a keyword argument. Keyword only parameters are those which appear after a <code>*</code> or <code>*args</code> entry in a Python function definition.</td></tr><tr><td><em>VAR_KEYWORD</em></td><td>A dict of keyword arguments that arenâ€™t bound to any other parameter. This corresponds to a <code>**kwargs</code> parameter in a Python function definition.</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line">sig = signature(func) <span class="comment"># (x: int)</span></span><br><span class="line"><span class="built_in">print</span>(sig.parameters) <span class="comment"># OrderedDict([(&#x27;x&#x27;, &lt;Parameter &quot;x: str&quot;&gt;)])</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> sig.parameters:</span><br><span class="line">    param = sig.parameters[name]</span><br><span class="line">    <span class="built_in">print</span>(param.kind) <span class="comment"># POSITIONAL_OR_KEYWORD</span></span><br><span class="line">   </span><br></pre></td></tr></table></figure><h2 id="è·å–å‡½æ•°æ³¨è§£"><a href="#è·å–å‡½æ•°æ³¨è§£" class="headerlink" title="è·å–å‡½æ•°æ³¨è§£"></a>è·å–å‡½æ•°æ³¨è§£</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line">sig = signature(func) <span class="comment"># (x: int)</span></span><br><span class="line"><span class="built_in">print</span>(sig.parameters) <span class="comment"># OrderedDict([(&#x27;x&#x27;, &lt;Parameter &quot;x: str&quot;&gt;)])</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> sig.parameters:</span><br><span class="line">    param = sig.parameters[name]</span><br><span class="line">    <span class="built_in">print</span>(param.annotation) <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è·å–å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼"><a href="#è·å–å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼" class="headerlink" title="è·å–å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼"></a>è·å–å‡½æ•°çš„å‚æ•°é»˜è®¤å€¼</h2><p>é»˜è®¤ï¼š&lt;class â€˜inspect._emptyâ€™&gt;ç©ºçš„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">x:<span class="built_in">str</span></span>):</span><br><span class="line">  <span class="built_in">print</span>(x)</span><br><span class="line">  </span><br><span class="line">sig = signature(func) <span class="comment"># (x: int)</span></span><br><span class="line"><span class="built_in">print</span>(sig.parameters) <span class="comment"># OrderedDict([(&#x27;x&#x27;, &lt;Parameter &quot;x: str&quot;&gt;)])</span></span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> sig.parameters:</span><br><span class="line">    param = sig.parameters[name]</span><br><span class="line"><span class="built_in">print</span>(param.default) <span class="comment"># &lt;class &#x27;inspect._empty&#x27;&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å‚æ•°åŒ¹é…"><a href="#å‚æ•°åŒ¹é…" class="headerlink" title="å‚æ•°åŒ¹é…"></a>å‚æ•°åŒ¹é…</h2><p>ä½¿ç”¨signatureçš„bindæ–¹æ³•ï¼Œå¦‚æœå‚æ•°ç¬¦åˆï¼Œè¿”å›BoundArgumentså¯¹è±¡ï¼Œå¦åˆ™æŠ›å‡ºTypeErroré”™è¯¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>(<span class="params">greet : <span class="built_in">str</span>, flag=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>, greet)</span><br><span class="line"></span><br><span class="line">sig = inspect.signature(hello)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sig.bind(<span class="string">&quot;hello&quot;</span>, <span class="literal">True</span>))</span><br><span class="line"><span class="built_in">print</span>(sig.bind())</span><br></pre></td></tr></table></figure><p>outï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;BoundArguments (greet=<span class="string">&#x27;hello&#x27;</span>, flag=<span class="literal">True</span>)&gt;</span><br><span class="line"></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;e:\python draft\test.py&quot;</span>, line <span class="number">9</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">print</span>(sig.bind())</span><br><span class="line">  File <span class="string">&quot;D:\Python\lib\inspect.py&quot;</span>, line <span class="number">3015</span>, <span class="keyword">in</span> bind</span><br><span class="line">    <span class="keyword">return</span> args[<span class="number">0</span>]._bind(args[<span class="number">1</span>:], kwargs)</span><br><span class="line">  File <span class="string">&quot;D:\Python\lib\inspect.py&quot;</span>, line <span class="number">2930</span>, <span class="keyword">in</span> _bind</span><br><span class="line">    <span class="keyword">raise</span> TypeError(msg) <span class="keyword">from</span> <span class="literal">None</span></span><br><span class="line">TypeError: missing a required argument: <span class="string">&#x27;greet&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³æ£€æŸ¥æ‰€æœ‰å‚æ•°ï¼Œåªæƒ³æ£€æŸ¥éƒ¨åˆ†å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨bind_partial</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">hello</span>(<span class="params">greet : <span class="built_in">str</span>, flag=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>, greet)</span><br><span class="line"></span><br><span class="line">sig = inspect.signature(hello)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sig.bind(<span class="string">&quot;hello&quot;</span>, <span class="literal">True</span>))</span><br><span class="line"><span class="built_in">print</span>(sig.bind_partial())  <span class="comment"># æ£€æŸ¥éƒ¨åˆ†å‚æ•°ï¼Œä¸ä¼šæŠ›å‡ºé”™è¯¯</span></span><br></pre></td></tr></table></figure><p>out:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;BoundArguments (greet=<span class="string">&#x27;hello&#x27;</span>, flag=<span class="literal">True</span>)&gt;</span><br><span class="line">&lt;BoundArguments ()&gt;</span><br></pre></td></tr></table></figure><h2 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h2><p>åˆ¤æ–­ä¼ å…¥çš„å‚æ•°ç±»å‹æ˜¯å¦æ­£ç¡®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="keyword">from</span> inspect <span class="keyword">import</span> signature,Signature,Parameter</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">prints</span>(<span class="params">wrappers</span>):</span><br><span class="line"><span class="meta">    @wraps(<span class="params">wrappers</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">        params = signature(wrappers).parameters</span><br><span class="line">        <span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">zip</span>(args,params.values()):</span><br><span class="line">            <span class="keyword">if</span> v.annotation != Parameter.empty <span class="keyword">and</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(k,v.annotation):</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;&#123;&#125; annotation is error&#x27;</span>.<span class="built_in">format</span>(k))</span><br><span class="line">        <span class="keyword">for</span> k,v <span class="keyword">in</span> kwargs.items():</span><br><span class="line">            <span class="keyword">if</span> params[k].annotation != Parameter.empty <span class="keyword">and</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(v,params[k].annotation):</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; annotation is error&quot;</span>.<span class="built_in">format</span>(v))</span><br><span class="line">        <span class="keyword">return</span> wrappers</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@prints</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x,y:<span class="built_in">int</span> = <span class="number">7</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    add(<span class="number">4</span>,<span class="number">5</span>) <span class="comment"># ç±»å‹æ­£ç¡®</span></span><br><span class="line">    add(<span class="number">4</span>,<span class="string">&quot;d&quot;</span>) <span class="comment"># å‚æ•°äºŒç±»å‹é”™è¯¯ï¼ŒæŠ¥é”™ï¼šd annotation is error</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-inspect </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSæ¨¡å—--è·å–æ–‡ä»¶åˆ›å»ºæ—¶é—´ï¼ˆMacï¼‰</title>
      <link href="/2022/11/15/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4%EF%BC%88Mac%EF%BC%89/"/>
      <url>/2022/11/15/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%88%9B%E5%BB%BA%E6%97%B6%E9%97%B4%EF%BC%88Mac%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">modification_date</span>(<span class="params">filename</span>):</span><br><span class="line">    t = os.stat(filename).st_birthtime</span><br><span class="line">    <span class="comment"># å°†æ•´æ•°ç»“æœè½¬æ¢ä¸ºdatetimeå¯¹è±¡datetime.datetime.fromtimestamp()</span></span><br><span class="line">    <span class="keyword">return</span> datetime.datetime.fromtimestamp(t)</span><br><span class="line"></span><br><span class="line">d = modification_date(<span class="string">&quot;/Users/wanghan/Desktop/code/blog/source/_posts/Redis/pythonæ“ä½œredis.md&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure><h4 id="ç»“æœï¼š"><a href="#ç»“æœï¼š" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h4><p>2022-11-08 11:38:22.762786</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-os </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ (ä¸æˆ–é) </title>
      <link href="/2022/11/15/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E4%BD%8D%20(%E4%B8%8E%E6%88%96%E9%9D%9E)%20/"/>
      <url>/2022/11/15/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E4%BD%8D%20(%E4%B8%8E%E6%88%96%E9%9D%9E)%20/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>é¦–å…ˆåœ¨Pythonä¸­äºŒè¿›åˆ¶é€šå¸¸ä»¥â€0bâ€å’Œâ€-0bâ€å¼€å¤´çš„å­—ç¬¦ä¸²æ¥è¡¨ç¤ºã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p><blockquote><p>binï¼ˆï¼‰å‡½æ•°ç”¨äºåè¿›åˆ¶è½¬äºŒè¿›åˆ¶</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line">c = -<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a)) <span class="comment"># 0b1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(b)) <span class="comment"># 0b10</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(c)) <span class="comment"># -0b10</span></span><br></pre></td></tr></table></figure><h1 id="ä½è¿ç®—æ³•åˆ™ï¼š"><a href="#ä½è¿ç®—æ³•åˆ™ï¼š" class="headerlink" title="ä½è¿ç®—æ³•åˆ™ï¼š"></a>ä½è¿ç®—æ³•åˆ™ï¼š</h1><p>ä¸‹é¢çš„è¿ç®—éƒ½æ˜¯é€šè¿‡è¡¥ç çš„æ–¹å¼è¿›è¡Œè®¡ç®—çš„ï¼Œæ‰€è°“è¡¥ç å°±æ˜¯æ“ä½œbitä½</p><table><thead><tr><th>ç¬¦å·</th><th>æè¿°</th><th>è¿ç®—æ³•åˆ™</th></tr></thead><tbody><tr><td>&amp;</td><td>ä¸</td><td>ä¸¤ä½éƒ½ä¸º1ï¼Œé‚£ä¹ˆç»“æœä¸º1</td></tr><tr><td>|</td><td>æˆ–</td><td>æœ‰ä¸€ä½ä¸º1ï¼Œé‚£ä¹ˆç»“æœä¸º1</td></tr><tr><td>~</td><td>é</td><td>ï½0 &#x3D; 1ï¼Œï½1 &#x3D; 0</td></tr><tr><td>^</td><td>å¼‚æˆ–</td><td>ä¸¤ä½ä¸ç›¸åŒï¼Œç»“æœä¸º1</td></tr><tr><td>&lt;&lt;</td><td>å·¦ç§»</td><td>å„äºŒè¿›åˆ¶å…¨éƒ¨è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0</td></tr><tr><td>&gt;&gt;</td><td>å³ç§»</td><td>å„äºŒè¿›ä½å…¨éƒ¨å³ç§»è‹¥å¹²ä½ï¼Œå¯¹æ— ç¬¦å·æ•°ï¼Œé«˜ä½è¡¥0ï¼Œæœ‰ç¬¦å·æ•°ï¼Œå„ç¼–è¯‘å™¨å¤„ç†æ–¹æ³•ä¸ä¸€æ ·ï¼Œæœ‰çš„è¡¥ç¬¦å·ä½ï¼ˆç®—æ˜¯å³ç§»ï¼‰ï¼Œæœ‰çš„è¡¥0ï¼ˆé€»è¾‘å³ç§»ï¼‰</td></tr></tbody></table><h2 id="ä¸"><a href="#ä¸" class="headerlink" title="ä¸"></a>ä¸</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a &amp; b) <span class="comment"># 0</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡ä¸Šé¢çš„äº†è§£å¾—çŸ¥ï¼Œaçš„äºŒè¿›åˆ¶ä¸ºï¼šâ€0b1â€ï¼Œbçš„äºŒè¿›åˆ¶ä¸ºï¼šâ€0b10â€ã€‚</p><p>ç”±â€œä¸â€çš„ä½è¿ç®—æ³•åˆ™ï¼šä¸¤ä½éƒ½ä¸º1ï¼Œé‚£ä¹ˆç»“æœä¸º1çš„æ–¹å¼è¿›è¡Œè®¡ç®—ã€‚</p><p>å¾ˆæ˜æ˜¾ï¼Œå»æ‰å¼€å¤´çš„ä¸¤ä½â€œ0bâ€å­—ç¬¦ï¼Œåªæœ‰â€œ1â€å’Œâ€œ10â€ï¼Œä»å³å¾€å·¦æ•°ï¼Œå®ƒä»¬ä¹‹é—´ç¬¬ä¸€ä½ä¸€ä¸ªä¸º0ï¼Œä¸€ä¸ªä¸º1ï¼Œä¸ç›¸ç­‰ï¼Œæ‰€ä»¥ç¬¬ä¸€ä½çš„ç»“æœä¸º0ï¼Œç¬¬äºŒä½ä¸€ä¸ªä¸º1ï¼Œä¸€ä¸ªæ²¡æœ‰ç¬¬äºŒä½ï¼Œæ‰€ä»¥ç¬¬äºŒä½ç»“æœä¹Ÿä¸º0ã€‚å› æ­¤æœ€ç»ˆç»“æœä¸ºï¼š0b00 &#x3D; 0</p><p><img src="https://s1.ax1x.com/2022/11/15/zEYw4A.md.png" alt="zEYw4A.md.png"></p><h2 id="æˆ–"><a href="#æˆ–" class="headerlink" title="æˆ–"></a>æˆ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a | b) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure><p>å…ˆå°†aå’Œbè½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åé€šè¿‡æˆ–çš„ä½è¿ç®—æ³•åˆ™ï¼šæœ‰ä¸€ä½ä¸º1ï¼Œé‚£ä¹ˆç»“æœä¸º1ã€‚</p><p>å…ˆå»æ‰â€œ0bâ€å¼€å¤´è¿™ä¸¤ä½ï¼Œä»å³å¾€å·¦æ•°ï¼Œå®ƒä»¬ä¹‹é—´ç¬¬ä¸€ä½ä¸€ä¸ªä¸º0ï¼Œä¸€ä¸ªä¸º1ï¼Œæ ¹æ®æ³•åˆ™ï¼Œç»“æœç¬¬ä¸€ä½çš„ç»“æœä¸º1ï¼Œç¬¬äºŒä½ä¸€ä¸ªä¸º1ï¼Œä¸€ä¸ªæ²¡æœ‰ç¬¬äºŒä½ï¼Œæ‰€ä»¥ç¬¬äºŒä½çš„ç»“æœä¹Ÿä¸º1ã€‚å› æ­¤æœ€ç»ˆç»“æœä¸ºï¼š0b11 &#x3D; 3</p><p><img src="https://s1.ax1x.com/2022/11/15/zEN9Wn.md.png" alt="zEN9Wn.md.png"></p><h2 id="é"><a href="#é" class="headerlink" title="é"></a>é</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(~a) <span class="comment"># -2</span></span><br><span class="line"><span class="built_in">print</span>(~b) <span class="comment"># -3</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ²¡ä»€ä¹ˆå¯è®²çš„ï¼Œæ¢ã€‚ã€‚ã€‚</p><h2 id="å¼‚æˆ–"><a href="#å¼‚æˆ–" class="headerlink" title="å¼‚æˆ–"></a>å¼‚æˆ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a ^ b) <span class="comment"># #</span></span><br></pre></td></tr></table></figure><p>å…ˆå°†aå’Œbè½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åé€šè¿‡æˆ–çš„ä½è¿ç®—æ³•åˆ™ï¼šä¸¤ä½ä¸ç›¸åŒï¼Œç»“æœä¸º1ã€‚</p><p>å…ˆå»æ‰â€œ0bâ€å¼€å¤´è¿™ä¸¤ä½ï¼Œä»å³å¾€å·¦æ•°ï¼Œå®ƒä»¬ä¹‹é—´ç¬¬ä¸€ä½ä¸€ä¸ªä¸º0ï¼Œä¸€ä¸ªä¸º1ï¼Œæ ¹æ®æ³•åˆ™ï¼Œç»“æœç¬¬ä¸€ä½çš„ç»“æœä¸º1ï¼Œç¬¬äºŒä½ä¸€ä¸ªä¸º1ï¼Œä¸€ä¸ªæ²¡æœ‰ç¬¬äºŒä½ï¼Œæ‰€ä»¥ç¬¬äºŒä½çš„ç»“æœä¹Ÿä¸º1ã€‚å› æ­¤æœ€ç»ˆç»“æœä¸ºï¼š0b11 &#x3D; 3</p><p><img src="https://s1.ax1x.com/2022/11/15/zEhMpq.png" alt="zEhMpq.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-è¿ç®—ç¬¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸æˆ–é</title>
      <link href="/2022/11/14/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E4%B8%8E%E6%88%96%E9%9D%9E/"/>
      <url>/2022/11/14/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E4%B8%8E%E6%88%96%E9%9D%9E/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¡¨è¾¾å¼</th></tr></thead><tbody><tr><td>andï¼ˆä¸ï¼‰</td><td>(a and b)</td></tr><tr><td>or  ï¼ˆæˆ–ï¼‰</td><td>(a or b)</td></tr><tr><td>notï¼ˆéï¼‰</td><td>(not a)</td></tr></tbody></table><ul><li><p>andï¼ˆä¸ï¼‰ï¼šå¦‚æœå·¦è¾¹ä¸ºFalseï¼Œåˆ™å³è¾¹ä¸æ‰§è¡Œï¼Œè¾“å‡ºå·¦è¾¹çš„å€¼ã€‚åä¹‹äº¦ç„¶ã€‚</p></li><li><p>or  ï¼ˆæˆ–ï¼‰ï¼šå¦‚æœå·¦è¾¹ä¸ºTrueï¼Œåˆ™å³è¾¹ä¸æ‰§è¡Œï¼Œè¾“å‡ºå·¦è¾¹çš„å€¼ã€‚åä¹‹äº¦ç„¶ã€‚</p></li><li><p>notï¼ˆéï¼‰ï¼šå¦‚æœnotçš„å€¼ä¸ºTrueï¼Œåˆ™è¾“å‡ºç»“æœä¸ºFalseã€‚åä¹‹äº¦ç„¶ï¼Œè¿”å›Trueï¼ˆå˜»å˜»ï¼‰ã€‚</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">c1 = (a <span class="keyword">and</span> b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ä¸ï¼š&quot;</span>,c1) <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">c1 = (a <span class="keyword">or</span> b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æˆ–ï¼š&quot;</span>,c1) <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">c1 = (<span class="keyword">not</span> b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;éï¼š&quot;</span>,c1) <span class="comment"># False</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-è¿ç®—ç¬¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/2022/11/08/Hexo/hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2022/11/08/Hexo/hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æ³¨æ„ï¼šhexoæ­å»ºåšå®¢çš„å‰ææ˜¯ç”µè„‘å†…å®‰è£…æœ‰node.jså’Œnpm</p><h4 id="æ­¥éª¤ä¸€ï¼š"><a href="#æ­¥éª¤ä¸€ï¼š" class="headerlink" title="æ­¥éª¤ä¸€ï¼š"></a>æ­¥éª¤ä¸€ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmdè¿›å…¥å‘½ä»¤è¡Œ</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤äºŒï¼š"><a href="#æ­¥éª¤äºŒï¼š" class="headerlink" title="æ­¥éª¤äºŒï¼š"></a>æ­¥éª¤äºŒï¼š</h4><ol><li>åˆ©ç”¨npmå®‰è£…cnpmé…ç½®æ·˜å®é•œåƒ<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></li><li>æµ‹è¯•(å¦‚æœæœ‰å‡ºç°ç‰ˆæœ¬å·è¯æ˜å®‰è£…æˆåŠŸ)<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm -v</span><br></pre></td></tr></table></figure></li></ol><h4 id="æ­¥éª¤ä¸‰ï¼š"><a href="#æ­¥éª¤ä¸‰ï¼š" class="headerlink" title="æ­¥éª¤ä¸‰ï¼š"></a>æ­¥éª¤ä¸‰ï¼š</h4><ol><li>åˆ©ç”¨cnpmå®‰è£…hexoæ–‡ä»¶<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cnpm install -g hexo-cli</span><br><span class="line">éªŒè¯ï¼š</span><br><span class="line">hexo-v</span><br></pre></td></tr></table></figure></li></ol><h4 id="æ­¥éª¤å››ï¼š"><a href="#æ­¥éª¤å››ï¼š" class="headerlink" title="æ­¥éª¤å››ï¼š"></a>æ­¥éª¤å››ï¼š</h4><ol><li>åˆ›å»ºæ–‡ä»¶å¤¹<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir blog</span><br><span class="line">è¿›å…¥blogæ–‡ä»¶</span><br><span class="line">cd blog</span><br></pre></td></tr></table></figure></li></ol><h4 id="æ­¥éª¤äº”ï¼š"><a href="#æ­¥éª¤äº”ï¼š" class="headerlink" title="æ­¥éª¤äº”ï¼š"></a>æ­¥éª¤äº”ï¼š</h4><ol><li>åˆ©ç”¨hexoç”Ÿæˆæˆ‘ä»¬çš„åšå®¢<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init(åˆå§‹åŒ–ä¸€ä¸ªåšå®¢)</span><br></pre></td></tr></table></figure></li></ol><h4 id="æ­¥éª¤å…­ï¼š"><a href="#æ­¥éª¤å…­ï¼š" class="headerlink" title="æ­¥éª¤å…­ï¼š"></a>æ­¥éª¤å…­ï¼š</h4><p>å¯åŠ¨hexo</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><ol><li>åˆ›å»ºæˆåŠŸåå®ƒä¼šé»˜è®¤ç«¯å£<a href="http://localhost:4000/">http://localhost:4000</a></li><li>å¹¶è‡ªåŠ¨ç”Ÿæˆä¸€ç‰‡Hello Word æ–‡ç« </li><li>æ–‡ç« å†…æœ‰hexoçš„ä½¿ç”¨</li></ol><h1 id="äºŒã€Hexoçš„ä½¿ç”¨"><a href="#äºŒã€Hexoçš„ä½¿ç”¨" class="headerlink" title="äºŒã€Hexoçš„ä½¿ç”¨"></a>äºŒã€Hexoçš„ä½¿ç”¨</h1><h3 id="1-åˆ›å»ºåšå®¢æ–‡ç« "><a href="#1-åˆ›å»ºåšå®¢æ–‡ç« " class="headerlink" title="1. åˆ›å»ºåšå®¢æ–‡ç« "></a>1. åˆ›å»ºåšå®¢æ–‡ç« </h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢æ–‡ç« &quot;</span><br></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆ"><a href="#2-ç”Ÿæˆ" class="headerlink" title="2. ç”Ÿæˆ"></a>2. ç”Ÿæˆ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate(ç®€å†™ï¼šhexo g)</span><br></pre></td></tr></table></figure><h3 id="3-è¿è¡Œ"><a href="#3-è¿è¡Œ" class="headerlink" title="3. è¿è¡Œ"></a>3. è¿è¡Œ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server(ç®€å†™ï¼šhexo s)</span><br></pre></td></tr></table></figure><h3 id="4-éƒ¨ç½²"><a href="#4-éƒ¨ç½²" class="headerlink" title="4.éƒ¨ç½²"></a>4.éƒ¨ç½²</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy(ç®€å†™ï¼šhexo d)</span><br></pre></td></tr></table></figure><h2 id="4-éƒ¨ç½²åˆ°GitHUb"><a href="#4-éƒ¨ç½²åˆ°GitHUb" class="headerlink" title="4.éƒ¨ç½²åˆ°GitHUb"></a>4.éƒ¨ç½²åˆ°GitHUb</h2><p>éƒ¨ç½²å‰è¦å…ˆæ³¨å†ŒGitHubå“¦ï¼Œå¯ä»¥ç»™ä½ ç½‘ç«™github.com,å¿«å»æ³¨å†Œå§ï¼</p><h4 id="æ­¥éª¤ä¸€ï¼š-1"><a href="#æ­¥éª¤ä¸€ï¼š-1" class="headerlink" title="æ­¥éª¤ä¸€ï¼š"></a>æ­¥éª¤ä¸€ï¼š</h4><ol><li>å…ˆå®‰è£…ä¸€ä¸ªæ’ä»¶<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><h4 id="æ­¥éª¤äºŒï¼š-1"><a href="#æ­¥éª¤äºŒï¼š-1" class="headerlink" title="æ­¥éª¤äºŒï¼š"></a>æ­¥éª¤äºŒï¼š</h4></li><li>ç”¨pycharmæ‰“å¼€blogæ–‡ä»¶ï¼Œä¿®æ”¹_config.ymlé…ç½®æ–‡ä»¶æœ€ä¸‹é¢çš„#Deployment<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/Wanghan123-github/wanghan123-github.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>æ³¨æ„ï¼šè¿™ä¸ªrepoåé¢çš„ç½‘ç«™æ˜¯ä½ æ–°å»ºä»“åº“çš„åœ°å€</li></ol><h4 id="æ­¥éª¤ä¸‰ï¼š-1"><a href="#æ­¥éª¤ä¸‰ï¼š-1" class="headerlink" title="æ­¥éª¤ä¸‰ï¼š"></a>æ­¥éª¤ä¸‰ï¼š</h4><ol><li>éƒ¨ç½²GitHubï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy(ç®€å†™ï¼šhexo d)</span><br></pre></td></tr></table></figure>æ¥ä¸‹æ¥è¾“å…¥ä½ çš„GitHubç”¨æˆ·åå’Œå¯†ç å°±å¯ä»¥éƒ¨ç½²å®Œæ¯•</li></ol><h4 id="ä¸Šè¿°æ“ä½œæˆåŠŸä»¥åï¼š"><a href="#ä¸Šè¿°æ“ä½œæˆåŠŸä»¥åï¼š" class="headerlink" title="ä¸Šè¿°æ“ä½œæˆåŠŸä»¥åï¼š"></a>ä¸Šè¿°æ“ä½œæˆåŠŸä»¥åï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">åˆ·æ–°ä½ çš„GitHubé¡µé¢å°±å¯ä»¥çœ‹åˆ°ä¸Šä¼ çš„æ–‡ä»¶äº†,å†å¤åˆ¶ä½ ç½‘é¡µè·¯ç”±ä¸Šçš„æœ€åä¸€æ®µ,</span><br><span class="line">ç²˜è´´åˆ°æ–°çš„æµè§ˆå™¨é¡µé¢æ‰“å¼€å°±å¯ä»¥çœ‹åˆ°ä½ çº¿ä¸Šçš„ä¸ªäººåšå®¢äº†</span><br><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">https://github.com/Wanghan123-github/wanghan123-github.github.io</span><br><span class="line">æ‰“å¼€wanghan123-github.github.ioå°±å¯ä»¥çœ‹åˆ°äº†</span><br></pre></td></tr></table></figure><h1 id="Hexoçš„ä¸»é¢˜æ›´æ¢"><a href="#Hexoçš„ä¸»é¢˜æ›´æ¢" class="headerlink" title="Hexoçš„ä¸»é¢˜æ›´æ¢"></a>Hexoçš„ä¸»é¢˜æ›´æ¢</h1><h3 id="ç¬¬ä¸€æ­¥ï¼š"><a href="#ç¬¬ä¸€æ­¥ï¼š" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼š"></a>ç¬¬ä¸€æ­¥ï¼š</h3><ol><li>è¿›å…¥themesæ–‡ä»¶ä¸‹å…‹éš†ä¸‹ä½ æƒ³è¦çš„ä¸»é¢˜<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd themes</span><br><span class="line">git clone https://github.com/litten/hexo-theme-yilia.git</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç¬¬äºŒæ­¥ï¼š"><a href="#ç¬¬äºŒæ­¥ï¼š" class="headerlink" title="ç¬¬äºŒæ­¥ï¼š"></a>ç¬¬äºŒæ­¥ï¼š</h3><ol start="2"><li>ä¿®æ”¹config.tomlé…ç½®æ–‡ä»¶é‡Œçš„theme<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: yilia</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥:"></a>ç¬¬ä¸‰æ­¥:</h3><ol start="3"><li>å…ˆç”Ÿæˆåéƒ¨ç½²<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo generate(ç®€å†™ï¼šhexo g)</span><br><span class="line">hexo deploy(ç®€å†™ï¼šhexo d)</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonæ“ä½œredis</title>
      <link href="/2022/11/08/Redis/python%E6%93%8D%E4%BD%9Credis/"/>
      <url>/2022/11/08/Redis/python%E6%93%8D%E4%BD%9Credis/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>redisè¿æ¥å®ä¾‹æ˜¯çº¿ç¨‹å®‰å…¨ï¼ˆredisæ˜¯å•ä¸ªçº¿ç¨‹çš„ï¼Œæ‰€ä»¥ä»–æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰ã€‚å¯ä»¥ç›´æ¥å°†redisè¿æ¥å®ä¾‹è®¾ç½®ä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œç›´æ¥ä½¿ç”¨ã€‚</p><p>å¦‚æœéœ€è¦å¦ä¸€ä¸ªrediså®ä¾‹ï¼Œå°±éœ€è¦é‡æ–°åˆ›å»ºä¸€ä¸ªredisè¿æ¥å®ä¾‹æ¥è·å–ä¸€ä¸ªæ–°çš„è¿æ¥ã€‚</p><p>redisç‰ˆæœ¬ï¼š4.3.4</p><h2 id="è¿æ¥redisï¼š"><a href="#è¿æ¥redisï¼š" class="headerlink" title="è¿æ¥redisï¼š"></a>è¿æ¥redisï¼š</h2><h4 id="å•ä¸ªrediså®ä¾‹"><a href="#å•ä¸ªrediså®ä¾‹" class="headerlink" title="å•ä¸ªrediså®ä¾‹"></a>å•ä¸ªrediså®ä¾‹</h4><p>å‚æ•°ï¼šdecode_responses è®¾ç½®å†™å…¥çš„é”®å€¼å¯¹ä¸­çš„valueä¸ºstrç±»å‹ï¼Œä¸åŠ è¿™ä¸ªå‚æ•°åˆ™ä¸ºå­—èŠ‚ç±»å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">r = redis.Redis(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;wanghan&quot;</span>)</span><br><span class="line">r.get(<span class="string">&quot;name&quot;</span>) <span class="comment"># wanghan</span></span><br></pre></td></tr></table></figure><h4 id="è¿æ¥æ± "><a href="#è¿æ¥æ± " class="headerlink" title="è¿æ¥æ± "></a>è¿æ¥æ± </h4><blockquote><p>å…ˆå»ºç«‹ä¸€ä¸ªè¿æ¥æ± ï¼Œç„¶åä½œä¸ºå•ä¸ªrediså®ä¾‹çš„å‚æ•°ï¼Œè¿™æ ·å°±å¯ä»¥å¤šä¸ªrediså®ä¾‹å»å…±äº«åŒä¸€ä¸ªè¿æ¥æ± ï¼ˆè¿™æ ·å°±å¯ä»¥é¿å…æ¯æ¬¡å»ºç«‹å’Œé‡Šæ”¾çš„å¼€é”€ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;gender&quot;</span>,<span class="string">&quot;male&quot;</span>)</span><br><span class="line">r.get(<span class="string">&quot;gender&quot;</span>) <span class="comment"># male</span></span><br></pre></td></tr></table></figure><h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><h4 id="ä¸€ã€set-ï¼ˆå­˜å‚¨å€¼ï¼Œé»˜è®¤ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹ï¼‰"><a href="#ä¸€ã€set-ï¼ˆå­˜å‚¨å€¼ï¼Œé»˜è®¤ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹ï¼‰" class="headerlink" title="ä¸€ã€set ï¼ˆå­˜å‚¨å€¼ï¼Œé»˜è®¤ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹ï¼‰"></a>ä¸€ã€set ï¼ˆå­˜å‚¨å€¼ï¼Œé»˜è®¤ä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ä¿®æ”¹ï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span>(name, value, ex=<span class="literal">None</span>, px=<span class="literal">None</span>, nx=<span class="literal">False</span>, xx=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>å‚æ•°ï¼š</p><ul><li><p>exï¼šè¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</p></li><li><p>pxï¼šè¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</p></li><li><p>nxï¼šå¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åªæœ‰nameï¼ˆå‚æ•°ï¼‰ä¸å­˜åœ¨æ—¶ï¼Œå½“å‰setæ“ä½œæ‰æ‰§è¡Œ</p></li><li><p>xxï¼šå¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åªæœ‰nameï¼ˆå‚æ•°ï¼‰å­˜åœ¨æ—¶ï¼Œå½“å‰setæ“ä½œæ‰æ‰§è¡Œ</p></li></ul><ol><li><p>exï¼šè¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰è¿™é‡Œè¿‡æœŸæ—¶é—´æ˜¯3ç§’ï¼Œè¿‡æœŸåå€¼ä¸ºNone</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;food&quot;</span>,<span class="string">&quot;beef&quot;</span>,px=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;food&quot;</span>)) <span class="comment"># beef</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;food&quot;</span>)) <span class="comment"># None</span></span><br></pre></td></tr></table></figure></li><li><p>pxï¼šè¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;fruit&quot;</span>,<span class="string">&quot;Banana&quot;</span>,px=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;fruit&quot;</span>)) <span class="comment"># Banana</span></span><br><span class="line">time.sleep(<span class="number">3</span>/<span class="number">1000</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;fruit&quot;</span>)) <span class="comment"># Banana</span></span><br></pre></td></tr></table></figure></li><li><p>nxï¼šå¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åªæœ‰nameï¼ˆå‚æ•°ï¼‰ä¸å­˜åœ¨æ—¶ï¼Œå½“å‰setæ“ä½œæ‰ä¼šæ–°å»ºkey:value</p><blockquote><p>é”®fruit ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¾“å‡ºä¸ºTrueï¼Œä¸å­˜åœ¨è¾“å‡ºä¸ºNone</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">result = r.<span class="built_in">set</span>(<span class="string">&quot;fruit&quot;</span>,<span class="string">&quot;apple&quot;</span>,nx=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># True</span></span><br><span class="line">result2 = r.<span class="built_in">set</span>(<span class="string">&quot;fruit&quot;</span>,<span class="string">&quot;orange&quot;</span>,nx=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(result2) <span class="comment"># None</span></span><br></pre></td></tr></table></figure></li><li><p>xxï¼šå¦‚æœè®¾ç½®ä¸ºTrueï¼Œåˆ™åªæœ‰nameå‚æ•°å­˜åœ¨æ—¶ï¼Œå½“å‰setæ“ä½œæ‰ä¼šä¿®æ”¹value</p><blockquote><p>é”®fruit å­˜åœ¨ï¼Œé‚£ä¹ˆè¾“å‡ºTrueï¼Œä¸å­˜åœ¨è¾“å‡ºNone</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;fruit&quot;</span>,<span class="string">&quot;test&quot;</span>)</span><br><span class="line">result = r.<span class="built_in">set</span>(<span class="string">&quot;fruit&quot;</span>,<span class="string">&quot;apple&quot;</span>,xx=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># True</span></span><br><span class="line">result = r.<span class="built_in">set</span>(<span class="string">&quot;food&quot;</span>,<span class="string">&quot;apple&quot;</span>,xx=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># None</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="äºŒã€setnxï¼ˆå­˜å‚¨å€¼ï¼Œåªæœ‰name-ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ·»åŠ ï¼‰"><a href="#äºŒã€setnxï¼ˆå­˜å‚¨å€¼ï¼Œåªæœ‰name-ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ·»åŠ ï¼‰" class="headerlink" title="äºŒã€setnxï¼ˆå­˜å‚¨å€¼ï¼Œåªæœ‰name ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ·»åŠ ï¼‰"></a>äºŒã€setnxï¼ˆå­˜å‚¨å€¼ï¼Œåªæœ‰name ä¸å­˜åœ¨æ—¶ï¼Œæ‰æ·»åŠ ï¼‰</h4><ol><li><p>setnx(name,value)</p><blockquote><p>é”®weather ä¸å­˜åœ¨ï¼Œè¾“å‡ºä¸ºTrueï¼Œå­˜åœ¨è¾“å‡ºä¸ºFalse</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">result = r.setnx(<span class="string">&quot;weather&quot;</span>,<span class="string">&quot;Sunny&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># True</span></span><br><span class="line">result = r.setnx(<span class="string">&quot;weather1&quot;</span>,<span class="string">&quot;overcast&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># False</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="ä¸‰ã€setexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œç§’çº§ï¼‰"><a href="#ä¸‰ã€setexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œç§’çº§ï¼‰" class="headerlink" title="ä¸‰ã€setexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œç§’çº§ï¼‰"></a>ä¸‰ã€setexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œç§’çº§ï¼‰</h4><ol><li><p>setex(name, time, value)</p><p>æ³¨æ„ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ—¶é—´ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å€¼ã€‚é»˜è®¤ä»¥ç§’åšå•ä½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.setex(<span class="string">&quot;age&quot;</span>,<span class="number">3</span>,<span class="string">&quot;21&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;age&quot;</span>)) <span class="comment"># 21</span></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;age&quot;</span>)) <span class="comment"># None</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="å››ã€psetexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œæ¯«ç§’çº§ï¼‰"><a href="#å››ã€psetexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œæ¯«ç§’çº§ï¼‰" class="headerlink" title="å››ã€psetexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œæ¯«ç§’çº§ï¼‰"></a>å››ã€psetexï¼ˆå­˜å‚¨å€¼ï¼Œæ·»åŠ è¿‡æœŸæ—¶é—´ï¼Œæ¯«ç§’çº§ï¼‰</h4><ol><li><p>psetex(name, time_ms,value)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.psetex(<span class="string">&quot;gender&quot;</span>,<span class="number">5000</span>,<span class="string">&quot;male&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;gender&quot;</span>)) <span class="comment"># male</span></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;gender&quot;</span>)) <span class="comment"># None</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="äº”ã€msetï¼ˆæ‰¹é‡å­˜å‚¨å€¼ï¼‰mgetï¼ˆæ‰¹é‡è·å–å€¼ï¼‰"><a href="#äº”ã€msetï¼ˆæ‰¹é‡å­˜å‚¨å€¼ï¼‰mgetï¼ˆæ‰¹é‡è·å–å€¼ï¼‰" class="headerlink" title="äº”ã€msetï¼ˆæ‰¹é‡å­˜å‚¨å€¼ï¼‰mgetï¼ˆæ‰¹é‡è·å–å€¼ï¼‰"></a>äº”ã€msetï¼ˆæ‰¹é‡å­˜å‚¨å€¼ï¼‰mgetï¼ˆæ‰¹é‡è·å–å€¼ï¼‰</h4><ol><li><p>mset(*kwargs)mget(list)</p><ul><li><p>msetåªéœ€è¦ä¼ å…¥ä¸€ä¸ªdictå³å¯æ‰¹é‡å­˜å‚¨å€¼</p></li><li><p>mgetåªéœ€è¦ä¼ å…¥ä¸€ä¸ªlistçš„keyå³å¯æ‰¹é‡æŸ¥è¯¢å€¼</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">data = &#123;<span class="string">&#x27;k1&#x27;</span>:<span class="string">&#x27;v1&#x27;</span>,<span class="string">&#x27;k2&#x27;</span>:<span class="string">&#x27;v2&#x27;</span>&#125;</span><br><span class="line">r.mset(data)</span><br><span class="line">result = r.mget([<span class="string">&quot;k1&quot;</span>,<span class="string">&quot;k2&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># [&#x27;v1&#x27;, &#x27;v2&#x27;]</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="å…­ã€getsetï¼ˆè®¾ç½®æ–°å€¼å¹¶è·å–åŸæ¥çš„å€¼ï¼‰"><a href="#å…­ã€getsetï¼ˆè®¾ç½®æ–°å€¼å¹¶è·å–åŸæ¥çš„å€¼ï¼‰" class="headerlink" title="å…­ã€getsetï¼ˆè®¾ç½®æ–°å€¼å¹¶è·å–åŸæ¥çš„å€¼ï¼‰"></a>å…­ã€getsetï¼ˆè®¾ç½®æ–°å€¼å¹¶è·å–åŸæ¥çš„å€¼ï¼‰</h4><ol><li><p>getset(name,value)</p><p>getsetè¿”å›çš„å€¼æ˜¯åŸæ¥çš„å€¼ï¼Œå†æ¬¡è·å–è®¾ç½®çš„keyæ—¶æ‰æ˜¯æ–°çš„å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">pool = redis.ConnectionPool(host=<span class="string">&quot;127.0.0.1&quot;</span>,port=<span class="number">6379</span>,decode_responses=<span class="literal">True</span>)</span><br><span class="line">r = redis.Redis(connection_pool=pool)</span><br><span class="line">r.<span class="built_in">set</span>(<span class="string">&quot;food&quot;</span>,<span class="string">&quot;milk&quot;</span>)</span><br><span class="line">result = r.getset(<span class="string">&quot;food&quot;</span>,<span class="string">&quot;bread&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># milk</span></span><br><span class="line"><span class="built_in">print</span>(r.get(<span class="string">&quot;food&quot;</span>)) <span class="comment"># bread</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="ä¸ƒã€"><a href="#ä¸ƒã€" class="headerlink" title="ä¸ƒã€"></a>ä¸ƒã€</h4>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RedisåŸºç¡€å‘½ä»¤</title>
      <link href="/2022/11/07/Redis/Redis%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/11/07/Redis/Redis%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>RedisåŸºç¡€æ“ä½œå‘½ä»¤ï¼š</p><h1 id="å¯åŠ¨redisæœåŠ¡ï¼š"><a href="#å¯åŠ¨redisæœåŠ¡ï¼š" class="headerlink" title="å¯åŠ¨redisæœåŠ¡ï¼š"></a>å¯åŠ¨redisæœåŠ¡ï¼š</h1><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services start redis</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server </span><br></pre></td></tr></table></figure><p><a href="https://imgse.com/i/xv0gKA"><img src="https://s1.ax1x.com/2022/11/07/xv0gKA.png" alt="xv0gKA.png"></a></p><h1 id="æŸ¥çœ‹redisæœåŠ¡è¿›ç¨‹ï¼š"><a href="#æŸ¥çœ‹redisæœåŠ¡è¿›ç¨‹ï¼š" class="headerlink" title="æŸ¥çœ‹redisæœåŠ¡è¿›ç¨‹ï¼š"></a>æŸ¥çœ‹redisæœåŠ¡è¿›ç¨‹ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps axu | grep redis</span><br></pre></td></tr></table></figure><h1 id="è¿æ¥redisæœåŠ¡"><a href="#è¿æ¥redisæœåŠ¡" class="headerlink" title="è¿æ¥redisæœåŠ¡:"></a>è¿æ¥redisæœåŠ¡:</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli</span><br></pre></td></tr></table></figure><h1 id="å…³é—­redisæœåŠ¡ï¼š"><a href="#å…³é—­redisæœåŠ¡ï¼š" class="headerlink" title="å…³é—­redisæœåŠ¡ï¼š"></a>å…³é—­redisæœåŠ¡ï¼š</h1><p>æ–¹æ³•ä¸€ï¼š</p><blockquote><p>ç”±äºbrewå¯åŠ¨çš„redis æ‰‹åŠ¨æ— æ³•æ€æ­»è¿›ç¨‹ï¼Œæ‰€ä»¥éœ€è¦brewå…³é—­redisã€‚brew services listæŸ¥çœ‹brewå¯åŠ¨çš„æœåŠ¡åˆ—è¡¨</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew services stop redis</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli shutdown</span><br></pre></td></tr></table></figure><p>æ–¹æ³•ä¸‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 ***</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Redis </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Redis </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>schedulerå®è·µ</title>
      <link href="/2022/11/02/Python/%E6%A8%A1%E5%9D%97/scheduler%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/scheduler%E5%AE%9E%E8%B7%B5/"/>
      <url>/2022/11/02/Python/%E6%A8%A1%E5%9D%97/scheduler%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/scheduler%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timedelta</span><br><span class="line"><span class="keyword">from</span> apscheduler.schedulers.blocking <span class="keyword">import</span> BlockingScheduler</span><br><span class="line"><span class="keyword">from</span> dispose.UPAR_CIMSS_CSA_HB_ZK <span class="keyword">import</span> do_main</span><br><span class="line"><span class="keyword">from</span> dispose.draw_tlogp <span class="keyword">import</span> tlogp_do_main</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">job</span>():</span><br><span class="line">    date_time = datetime.now()</span><br><span class="line">    <span class="comment"># print(date_time)</span></span><br><span class="line">    <span class="keyword">if</span> date_time.hour &gt; <span class="number">0</span> <span class="keyword">and</span> date_time.hour &lt; <span class="number">12</span>:</span><br><span class="line">        lastimestr = (date_time-timedelta(days=<span class="number">1</span>)).strftime(<span class="string">&quot;%Y%m%d&quot;</span>)</span><br><span class="line">        lastimestr = lastimestr + <span class="string">&quot;200000&quot;</span></span><br><span class="line">        nowtime = date_time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>) + <span class="string">&quot;080000&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> date_time.hour &gt; <span class="number">12</span> <span class="keyword">and</span> date_time.hour &lt; <span class="number">24</span>:</span><br><span class="line">        lastimestr = date_time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>)</span><br><span class="line">        lastimestr = lastimestr + <span class="string">&quot;080000&quot;</span></span><br><span class="line">        nowtime = date_time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>) + <span class="string">&quot;200000&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        lastimestr = datetime.strftime(date_time, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">        nowtime = datetime.strftime(date_time, <span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)</span><br><span class="line">    <span class="comment"># print(lastimestr)</span></span><br><span class="line">    <span class="comment"># print(nowtime)</span></span><br><span class="line">    <span class="comment"># äº‘ç»“æ„åˆ†æå›¾</span></span><br><span class="line">    do_main(lastimestr,nowtime)</span><br><span class="line">    <span class="comment"># tlogp</span></span><br><span class="line">    tlogp_do_main(lastimestr,nowtime)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºåå°æ‰§è¡Œçš„ schedulers</span></span><br><span class="line">scheduler = BlockingScheduler(timezone=<span class="string">&quot;Asia/Shanghai&quot;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ è°ƒåº¦ä»»åŠ¡</span></span><br><span class="line"><span class="comment"># è°ƒåº¦æ–¹æ³•ä¸º my_jobï¼Œè§¦å‘å™¨é€‰æ‹© cron(ç‰¹å®šæ—¶é—´å‘¨æœŸ)ï¼Œè®¾å®šæ¯å¤©å…«ç‚¹å’Œæ™šä¸Šå…«ç‚¹æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="comment"># scheduler.add_job(job, &#x27;cron&#x27;, hour=10, minute=35)</span></span><br><span class="line"><span class="comment"># scheduler.add_job(job, &#x27;cron&#x27;, hour=10, minute=36)</span></span><br><span class="line"></span><br><span class="line">scheduler.add_job(job, <span class="string">&#x27;cron&#x27;</span>, hour=<span class="number">8</span>, minute=<span class="number">0</span>)</span><br><span class="line">scheduler.add_job(job, <span class="string">&#x27;cron&#x27;</span>, hour=<span class="number">20</span>, minute=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># å¯åŠ¨è°ƒåº¦ä»»åŠ¡</span></span><br><span class="line">scheduler.start()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-schedulerå®šæ—¶ä»»åŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>splitã€rsplitã€joinï¼ˆï¼‰æ–¹æ³•</title>
      <link href="/2022/11/02/Python/%E6%A8%A1%E5%9D%97/split%E3%80%81rsplit%E3%80%81join/split%E3%80%81rsplit%E3%80%81join%EF%BC%88%EF%BC%89%E6%96%B9%E6%B3%95/"/>
      <url>/2022/11/02/Python/%E6%A8%A1%E5%9D%97/split%E3%80%81rsplit%E3%80%81join/split%E3%80%81rsplit%E3%80%81join%EF%BC%88%EF%BC%89%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="split-æ–¹æ³•"><a href="#split-æ–¹æ³•" class="headerlink" title="split()æ–¹æ³•"></a>split()æ–¹æ³•</h2><p>Python split()é€šè¿‡æŒ‡å®šåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²è¿›è¡Œåˆ‡ç‰‡ï¼Œå¦‚æœå‚æ•°num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…åˆ†éš” num ä¸ªå­å­—ç¬¦ä¸²</p><p>str.split(str&#x3D;â€â€œ, num&#x3D;string.count(str)).</p><p>å‚æ•° ï¼š<br>str â€“ åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚<br>num â€“ åˆ†å‰²æ¬¡æ•°ã€‚</p><p>è¿”å›å€¼ ï¼š<br>è¿”å›åˆ†å‰²åçš„å­—ç¬¦ä¸²åˆ—è¡¨ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str = &quot;Line1-abcdef \nLine2-abc \nLine4-abcd&quot;</span><br><span class="line">print (str.split( ))</span><br><span class="line">print (str.split(&#x27; &#x27;, 1 ))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&#x27;Line1-abcdef&#x27;, &#x27;Line2-abc&#x27;, &#x27;Line4-abcd&#x27;]</span><br><span class="line">[&#x27;Line1-abcdef&#x27;, &#x27;\nLine2-abc \nLine4-abcd&#x27;]</span><br></pre></td></tr></table></figure><h2 id="rsplit-æ–¹æ³•"><a href="#rsplit-æ–¹æ³•" class="headerlink" title="rsplit()æ–¹æ³•"></a>rsplit()æ–¹æ³•</h2><p>Python å­—ç¬¦åˆ†å‰²æ—¶ï¼Œå¯ä»¥æŒ‡å®šåˆ†å‰²å“ªä¸€éƒ¨åˆ†ã€‚</p><blockquote><p>rsplit(â€œ&#x2F;â€œ,1) ä¸­çš„1ï¼Œè¡¨ç¤ºä»åé¢åˆ†å‰²1ä¸ªå‡ºæ¥ï¼Œå¦‚æœæ˜¯2ï¼Œé‚£ä¹ˆå°±æ˜¯åˆ†å‰²ä¸¤éƒ¨åˆ†å‡ºæ¥</p></blockquote><p>æ¯”å¦‚ï¼šåªåˆ†å‰²æœ€åä¸€ä¸ª</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">filename = <span class="string">&quot;Matplotlib--dates.Dateformatter(å¤„ç†æ—¥æœŸæ ¼å¼çš„xè½´).md&quot;</span>.rsplit(<span class="string">&quot;.&quot;</span>,<span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(filename) <span class="comment"># Matplotlib--dates.Dateformatter(å¤„ç†æ—¥æœŸæ ¼å¼çš„xè½´)</span></span><br></pre></td></tr></table></figure><p>æ¯”å¦‚ï¼šåˆ†å‰²æ–‡ä»¶è·¯å¾„ï¼Œåªæƒ³æŠŠæœ€åçš„æ–‡ä»¶åå»é™¤ï¼Œä¿ç•™æ–‡ä»¶å¤¹çš„è·¯å¾„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="string">&quot;/home/username/data/text.txt&quot;</span></span><br><span class="line">filepath = file.rsplit(<span class="string">&quot;/&quot;</span>,<span class="number">1</span>) <span class="comment"># [&quot;/home/username/data&quot;,&quot;text.txt &quot;]</span></span><br></pre></td></tr></table></figure><h2 id="join-æ–¹æ³•"><a href="#join-æ–¹æ³•" class="headerlink" title="join()æ–¹æ³•"></a>join()æ–¹æ³•</h2><p>Python join() æ–¹æ³•ç”¨äºå°†åºåˆ—ä¸­çš„å…ƒç´ ä»¥æŒ‡å®šçš„å­—ç¬¦è¿æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</p><p>è¯­æ³•ï¼š<br>str.join(sequence)</p><p>å‚æ•°ï¼š<br>sequence â€“ è¦è¿æ¥çš„å…ƒç´ åºåˆ—ã€‚</p><p>è¿”å›å€¼ï¼š<br>è¿”å›é€šè¿‡æŒ‡å®šå­—ç¬¦è¿æ¥åºåˆ—ä¸­å…ƒç´ åç”Ÿæˆçš„æ–°å­—ç¬¦ä¸²ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;li = [&#x27;my&#x27;,&#x27;name&#x27;,&#x27;is&#x27;,&#x27;bob&#x27;] </span><br><span class="line">&gt;&gt;&gt;&#x27; &#x27;.join(li)  #ä»¥â€˜ â€™è¿æ¥</span><br><span class="line">&#x27;my name is bob&#x27; </span><br><span class="line"></span><br><span class="line">&gt;&gt;&gt;&#x27;_&#x27;.join(li)  #ä»¥â€˜_â€™è¿æ¥</span><br><span class="line">&#x27;my_name_is_bob&#x27; </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-splitã€rsplitã€join </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>unittestç¤ºä¾‹</title>
      <link href="/2022/11/02/Python/%E6%A8%A1%E5%9D%97/unittest/unittest%E7%A4%BA%E4%BE%8B/"/>
      <url>/2022/11/02/Python/%E6%A8%A1%E5%9D%97/unittest/unittest%E7%A4%BA%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(pathlib.Path(__file__).resolve().parents[<span class="number">4</span>]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pandora.abstractdata.Product.Config <span class="keyword">import</span> AD_ProductFlow</span><br><span class="line"><span class="keyword">from</span> pandora.abstractdata.Product.Config.AD_ProductFlow <span class="keyword">import</span> (</span><br><span class="line">    ProductFlowORMModel, </span><br><span class="line">    ProductFlowNodeORMModel,</span><br><span class="line">    ProductFlowOperationLogORMModel,</span><br><span class="line">    ProductFlowRoleORMModel,</span><br><span class="line">)</span><br><span class="line"><span class="keyword">from</span> pandora.base.base_query <span class="keyword">import</span> QueryColumnFieldModel, transform_to_model</span><br><span class="line"><span class="keyword">from</span> pandora.unit_test.config <span class="keyword">import</span> execute_sql, get_db_sessionmaker</span><br><span class="line"><span class="keyword">from</span> pandora.updatedata.Product.Config.AD_ProductFlow <span class="keyword">import</span> (</span><br><span class="line">    ProductFlowQueryModel,</span><br><span class="line">    ProductFlowInModel,</span><br><span class="line">    ProductFlowOutModel,</span><br><span class="line">    Insert_ProductFlow_ToDB,</span><br><span class="line">    Update_ProductFlow_ToDB,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Tester</span>(unittest.TestCase):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_Get_ProductFlow_FromDB</span>(<span class="params">self</span>):</span><br><span class="line">        session = get_db_sessionmaker(<span class="string">&quot;Aries&quot;</span>)</span><br><span class="line">        _session_ins = session()</span><br><span class="line"></span><br><span class="line">        in_model = ProductFlowInModel(</span><br><span class="line">            ProductID=<span class="string">&quot;12&quot;</span>, Name=<span class="string">&quot;è§„åˆ™ç»„åå­—&quot;</span>, Entity=<span class="string">&quot;ubiq&quot;</span>, Title=<span class="string">&quot;adproductFlowtest&quot;</span>,</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># æ’å…¥</span></span><br><span class="line">        ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            Insert_ProductFlow_ToDB(</span><br><span class="line">                _session_ins, in_model</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        <span class="comment"># æ— æ¡ä»¶è·å–</span></span><br><span class="line">        ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            AD_ProductFlow.Get_ProductFlow_FromDB(</span><br><span class="line">                _session_ins</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        df = ad.data(<span class="string">&quot;df&quot;</span>)</span><br><span class="line">        _session_ins.commit()</span><br><span class="line">        self.assertEqual(<span class="string">&quot;è§„åˆ™ç»„åå­—&quot;</span>, df[df.ProductID == <span class="string">&quot;12&quot;</span>][<span class="string">&quot;Name&quot;</span>].iloc[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># qeury_dict è·å–</span></span><br><span class="line">        query_dict = &#123;<span class="string">&quot;Name&quot;</span>: (<span class="string">&quot;is&quot;</span>, <span class="string">&quot;è§„åˆ™ç»„åå­—&quot;</span>)&#125;</span><br><span class="line">        query_ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            AD_ProductFlow.Get_ProductFlow_FromDB(</span><br><span class="line">                _session_ins, query_dict=query_dict</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        query_df = query_ad.data(<span class="string">&quot;df&quot;</span>)</span><br><span class="line">        _session_ins.commit()</span><br><span class="line">        self.assertEqual(<span class="string">&quot;è§„åˆ™ç»„åå­—&quot;</span>, query_df[query_df.ProductID == <span class="string">&quot;12&quot;</span>][<span class="string">&quot;Name&quot;</span>].iloc[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># æœ‰æ¡ä»¶è·å–</span></span><br><span class="line">        ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            AD_ProductFlow.Get_ProductFlow_FromDB(</span><br><span class="line">                _session_ins,</span><br><span class="line">                ProductFlowQueryModel(</span><br><span class="line">                    <span class="built_in">id</span>=QueryColumnFieldModel(</span><br><span class="line">                        exp=<span class="string">&quot;is&quot;</span>, value=<span class="built_in">str</span>(df[df.ProductID == <span class="string">&quot;12&quot;</span>][<span class="string">&quot;id&quot;</span>].iloc[<span class="number">0</span>]), orm_col=ProductFlowORMModel.<span class="built_in">id</span></span><br><span class="line">                    )</span><br><span class="line">                ),</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        out_model = transform_to_model(ad, ProductFlowOutModel)[<span class="number">0</span>]</span><br><span class="line">        in_model = ProductFlowInModel(</span><br><span class="line">            <span class="built_in">id</span>=out_model.<span class="built_in">id</span>, ProductID=<span class="string">&quot;12&quot;</span>, Name=<span class="string">&quot;æ–°è§„åˆ™ç»„åå­—&quot;</span></span><br><span class="line">        )</span><br><span class="line">        _session_ins.commit()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ›´æ–°</span></span><br><span class="line">        ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            Update_ProductFlow_ToDB(</span><br><span class="line">                _session_ins, in_model</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        df = ad.data(<span class="string">&quot;df&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.assertEqual(<span class="string">&quot;æ–°è§„åˆ™ç»„åå­—&quot;</span>, df[df.ProductID == <span class="string">&quot;12&quot;</span>][<span class="string">&quot;Name&quot;</span>].iloc[<span class="number">0</span>])</span><br><span class="line">        <span class="comment"># è·å–</span></span><br><span class="line">        ad = AD_ProductFlow.AD_ProductFlow().get(</span><br><span class="line">            AD_ProductFlow.Get_ProductFlow_FromDB(</span><br><span class="line">                _session_ins</span><br><span class="line">            )</span><br><span class="line">        )</span><br><span class="line">        df = ad.data(<span class="string">&quot;df&quot;</span>)</span><br><span class="line">        _session_ins.commit()</span><br><span class="line">        <span class="built_in">print</span>(df)</span><br><span class="line">        self.assertEqual(</span><br><span class="line">            <span class="string">&quot;æ–°è§„åˆ™ç»„åå­—&quot;</span>, df[df.ProductID == <span class="string">&quot;12&quot;</span>][<span class="string">&quot;Name&quot;</span>].iloc[<span class="number">0</span>]</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        sql = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">            delete from ProductFlow where ProductID=&#x27;12&#x27;</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        execute_sql(session, sql)</span><br><span class="line">        _session_ins.commit()</span><br><span class="line">        _session_ins.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-unittest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>partial</title>
      <link href="/2022/11/02/Python/%E6%A8%A1%E5%9D%97/functools/partial/"/>
      <url>/2022/11/02/Python/%E6%A8%A1%E5%9D%97/functools/partial/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åå‡½æ•°partial"><a href="#åå‡½æ•°partial" class="headerlink" title="åå‡½æ•°partial"></a>åå‡½æ•°partial</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å½“å‡½æ•°çš„å‚æ•°ä¸ªæ•°å¤ªå¤šï¼Œéœ€è¦ç®€åŒ–æ—¶ï¼Œä½¿ç”¨ functools.partial å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°å¯ä»¥å›ºå®šä½åŸå‡½æ•°çš„éƒ¨åˆ†å‚æ•°ï¼Œä»è€Œåœ¨è°ƒç”¨æ—¶æ›´ç®€å•ã€‚</p><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>åªè¦ä¸æ˜¯å…³é”®å­—å‚æ•°ï¼Œéƒ½æŒ‰ç…§ å‚æ•°funcåå‚æ•°çš„æ’åº ä¾æ¬¡å‘ funcå‡½æ•°ä¼ é€’</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line">partial_func = partial(func, *args, **kwargs)</span><br></pre></td></tr></table></figure><h2 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="headerlink" title="ä¸¾ä¾‹"></a>ä¸¾ä¾‹</h2><h4 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calsum</span>(<span class="params">a, b, c, d</span>):</span><br><span class="line">    <span class="keyword">return</span> a + b + c + d</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¿è½½calsumå‡½æ•°ï¼Œå¹¶ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">para = partial(calsum, <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°,å°±æ˜¯æŠŠ2ä¼ ç»™para</span></span><br><span class="line">res = para(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæœ€åçš„ç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># 8</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§ï¼ˆå…³é”®å­—å‚æ•°ï¼‰"><a href="#ç¬¬äºŒç§ï¼ˆå…³é”®å­—å‚æ•°ï¼‰" class="headerlink" title="ç¬¬äºŒç§ï¼ˆå…³é”®å­—å‚æ•°ï¼‰"></a>ç¬¬äºŒç§ï¼ˆå…³é”®å­—å‚æ•°ï¼‰</h4><p>æ³¨æ„ï¼šå¦‚æœä½¿ç”¨partialå‘å‡½æ•°ä¼ é€’å…³é”®è¯å‚æ•°ä¹‹åï¼Œåç»­ç»§ç»­å†ç»§ç»­ä¼ é€’çš„æ—¶å€™è®°å¾—ä¹Ÿè¦ç”¨å…³é”®å­—å‚æ•°å“¦ã€‚ã€‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calsum</span>(<span class="params">a, b, c</span>):</span><br><span class="line">    <span class="keyword">return</span> a, b, c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¿è½½calsumå‡½æ•°ï¼Œå¹¶ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">para = partial(calsum, <span class="number">999</span>, c=<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼ é€’ç¬¬äºŒä¸ªå‚æ•°,å°±æ˜¯æŠŠ2ä¼ ç»™para</span></span><br><span class="line">res = para(b=<span class="number">666</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¾“å‡ºæœ€åçš„ç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(res)  <span class="comment"># (999, 7, &#x27;æˆ‘æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²&#x27;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="ä¸mapå‡½æ•°çš„åº”ç”¨"><a href="#ä¸mapå‡½æ•°çš„åº”ç”¨" class="headerlink" title="ä¸mapå‡½æ•°çš„åº”ç”¨"></a>ä¸mapå‡½æ•°çš„åº”ç”¨</h1><p>ç”±äºmapå‡½æ•°çš„æ¯æ¬¡æœ€å¤šä¼ é€’ä¸€ä¸ªå¯è¿­ä»£çš„å‚æ•°ï¼Œä½†å®é™…åœºæ™¯æ˜¯ä¼ é€’å¤šä¸ªå‚æ•°ä½†æ˜¯è¿™å‡ ä¸ªå‚æ•°çš„ç»“æœä¹Ÿå·²çŸ¥äº†ï¼Œè¿™æ—¶å¯ä»¥å€ŸåŠ©partialåå‡½æ•°å…ˆå‘å‡½æ•°ä¼ é€’ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå†ç”±mapä¼ é€’ä¸€ä¸ªå¯è¿­ä»£å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line"></span><br><span class="line">data = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">nn,zm</span>):</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(nn,zm)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    n = <span class="string">&quot;æˆ‘æ˜¯æ•°æ®nn&quot;</span></span><br><span class="line">    pfunc = partial(func,n)</span><br><span class="line">    <span class="keyword">with</span> ThreadPoolExecutor(max_workers=<span class="number">20</span>) <span class="keyword">as</span> pool:</span><br><span class="line">        <span class="comment"># for i in data:</span></span><br><span class="line">        <span class="comment">#     res = pool.submit(func,i,n)</span></span><br><span class="line">        <span class="comment"># ä½¿ç”¨mapå‡½æ•°æ›¿æ¢ä¸Šé¢çš„forå¾ªç¯</span></span><br><span class="line">        results = pool.<span class="built_in">map</span>(pfunc,data)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">100</span>)</span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœï¼š"><a href="#è¾“å‡ºç»“æœï¼š" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘æ˜¯æ•°æ®nn æˆ‘æ˜¯æ•°æ®nnæˆ‘æ˜¯æ•°æ®nn e</span><br><span class="line"> d</span><br><span class="line">a</span><br><span class="line">æˆ‘æ˜¯æ•°æ®nn cæˆ‘æ˜¯æ•°æ®nn b</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-functools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>super MROè§£æé¡ºåº</title>
      <link href="/2022/10/27/Python/%E6%A8%A1%E5%9D%97/super/super%20MRO%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F/"/>
      <url>/2022/10/27/Python/%E6%A8%A1%E5%9D%97/super/super%20MRO%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å½“ä½¿ç”¨ç»§æ‰¿æ¥è°ƒç”¨æŸä¸ªæ–¹æ³•æ—¶ï¼Œå…¶æ–¹æ³•ï¼ˆå±æ€§ï¼‰å¯èƒ½å®šä¹‰åœ¨å½“å‰ç±»ï¼Œä¹Ÿå¯èƒ½æ¥è‡ªäºåŸºç±»ï¼Œæ‰€ä»¥åœ¨æ–¹æ³•è°ƒç”¨æ—¶å°±éœ€è¦å¯¹å½“å‰ç±»å’ŒåŸºç±»è¿›è¡Œæœç´¢ä»¥ç¡®å®šæ–¹æ³•æ‰€åœ¨çš„ä½ç½®ã€‚è€Œæœç´¢çš„é¡ºåºå°±æ˜¯æ‰€è°“çš„ã€Œæ–¹æ³•è§£æé¡ºåºã€ï¼ˆMethod Resoulution Orderï¼Œæˆ–MROï¼‰ã€‚å¯¹äºå•ç»§æ‰¿æ¥è¯´ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•ï¼Œä½†æ˜¯åœ¨å¤šç»§æ‰¿ä¸­å°±ä¼šæ¶‰åŠåˆ°é‡å¤ç»§æ‰¿çš„é—®é¢˜ï¼Œè¿™æ ·ä¹Ÿéœ€è¦æ¶‰åŠåˆ°MROã€‚</p><p>å…ˆçœ‹ä¸€ä¸ªã€Œè±å½¢ç»§æ‰¿ã€çš„ä¾‹å­ï¼š<br>ï¼ˆä¹Ÿå¯ä»¥ç§°ä¸ºé’»çŸ³ç»§æ‰¿ï¼‰</p><p><img src="https://s1.ax1x.com/2022/10/28/x4MLVA.png" alt="x4MLVA.png"></p><p>å›¾ä¾‹ä»‹ç»ï¼šç±»Dç»§æ‰¿ç±»Bå’Œç±»Cï¼Œç±»Bå’Œç±»Céƒ½ç»§æ‰¿ç±»Aï¼Œç±»Cå’Œç±»Aéƒ½æœ‰æ–¹æ³•showï¼Œé‚£ä¹ˆD.method()åˆ°åº•æ˜¯è°ƒç”¨A.method()è¿˜æ˜¯C.method()ï¼Ÿå¦‚æœæŒ‰ç…§[D,B,A,C]çš„æœç´¢é¡ºåºå°†ä¼šè°ƒç”¨A.method()ï¼ŒæŒ‰ç…§[D,B,C,A]çš„æœç´¢é¡ºåºå°†ä¼šè°ƒç”¨C.method()ã€‚ç”±æ­¤å¯è§ï¼ŒMROæ˜¯æŠŠç±»ç»§æ‰¿å…³ç³»çº¿æ€§åŒ–çš„ä¸€ä¸ªè¿‡ç¨‹ï¼Œè€Œçº¿æ€§åŒ–æ–¹å¼å†³å®šäº†ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å…·ä½“ä¼šè°ƒç”¨å“ªä¸€ä¸ªæ–¹æ³•ã€‚ä¸‹é¢æ¥ç ”ç©¶ä¸€ä¸‹Pythonå„ä¸ªç‰ˆæœ¬çš„MROï¼Œåˆ°åº•æ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿ</p><p>Pythonè‡³å°‘æœ‰ä¸‰ç§ä¸åŒçš„MROï¼š</p><ul><li>Python2.2ä»¥å‰çš„å”¯ä¸€å¯ç”¨çš„ç»å…¸ç±»ï¼ˆclassic classï¼‰</li><li>Python2.2å¼•å…¥çš„æ–°å¼ç±»ï¼ˆnew-style classï¼‰</li><li>Python2.3åŠå…¶ä»¥åçš„Py2ç‰ˆæœ¬éƒ½é‡‡ç”¨äº†æ–°å¼ç±»çš„C3ç®—æ³•ï¼Œå½“ç„¶è¿˜å­˜åœ¨ç»å…¸ç±»ã€‚è€ŒPython3åªæ”¯æŒå”¯ä¸€çš„æ–°å¼ç±»çš„C3ç®—æ³•ï¼ˆç»Ÿç§°Python2.3ä»¥åï¼‰ã€‚</li></ul><h1 id="ç»å…¸ç±»çš„MROï¼ˆPython2-2ä»¥å‰ï¼‰"><a href="#ç»å…¸ç±»çš„MROï¼ˆPython2-2ä»¥å‰ï¼‰" class="headerlink" title="ç»å…¸ç±»çš„MROï¼ˆPython2.2ä»¥å‰ï¼‰"></a>ç»å…¸ç±»çš„MROï¼ˆPython2.2ä»¥å‰ï¼‰</h1><p>ç»å…¸ç±»é‡‡ç”¨äº†ä¸€ç§å¾ˆç®€å•çš„MROæ–¹æ³•ï¼Œä»<strong>å·¦è‡³å³çš„æ·±åº¦éå†</strong>ã€‚ä»¥ä¸Šæ‰€è¿°çš„ã€Œè±å½¢ç»§æ‰¿ã€ä¸ºä¾‹ï¼Œå…¶æŸ¥æ‰¾é¡ºåºä¸º[D,B,A,C,A]ï¼Œå¦‚æœåªä¿ç•™é‡å¤ç±»çš„ç¬¬ä¸€ä¸ªåˆ™ç»“æœä¸º[D,B,A,C]ï¼Œåœ¨ç»å…¸äº†ç±»ä¸­D.method()è°ƒç”¨çš„æ˜¯A.method()ã€‚ä½†æ˜¯å¦‚æœæœ‰è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼ŸC.method()åœ¨A.method()åŸºç¡€ä¸Šå¢åŠ äº†æ–°çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆä½¿ç”¨D.method()æ— æ³•è°ƒç”¨åˆ°C.method()ã€‚æˆ‘ä»¬å¯ä»¥ç”¨inspect.getmroæ¥è·å–ç±»çš„MROï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;This is a method of A&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&#x27;This is a method of C&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(B, C):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">x = D()</span><br><span class="line">x.method()</span><br><span class="line"><span class="comment"># A.method()</span></span><br><span class="line"><span class="built_in">print</span> inspect.getmro(D) </span><br><span class="line"><span class="comment"># (&lt;class __main__.D at 0x105f0a6d0&gt;, &lt;class __main__.B at 0x105f0a600&gt;, &lt;class __main__.A at 0x105f0a668&gt;, &lt;class __main__.C at 0x105f0a738&gt;)</span></span><br></pre></td></tr></table></figure><h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>ç”±æ­¤å¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ·±åº¦ä¼˜å…ˆéå†å¯¹äºä¸Šè¿°ã€Œè±å½¢ç»§æ‰¿ã€å…¶ç»“æœä¸å°½äººæ„ï¼Œè™½ç„¶C.show()æ˜¯A.show()çš„å…·ä½“åŒ–ç‰ˆæœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬çš„x.show()æ²¡æœ‰è°ƒç”¨å®ƒï¼Œè€Œæ˜¯è°ƒç”¨äº†A.show()ã€‚è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬å¸Œæœ›çš„ç»“æœï¼š&#x3D;&#x3D;å®ƒä¸èƒ½è§£å†³è±å½¢ç»§æ‰¿&#x3D;&#x3D;ã€‚</p><h1 id="æ–°å¼ç±»ï¼ˆPython2-2ä¸­çš„ï¼‰"><a href="#æ–°å¼ç±»ï¼ˆPython2-2ä¸­çš„ï¼‰" class="headerlink" title="æ–°å¼ç±»ï¼ˆPython2.2ä¸­çš„ï¼‰"></a>æ–°å¼ç±»ï¼ˆPython2.2ä¸­çš„ï¼‰</h1><h4 id="è¯ç”Ÿ"><a href="#è¯ç”Ÿ" class="headerlink" title="è¯ç”Ÿ"></a>è¯ç”Ÿ</h4><p>ä¸ºè§£å†³ç»å…¸ç±»MROæ‰€å­˜åœ¨çš„é—®é¢˜ï¼ŒPython2.2é’ˆå¯¹è¿™ä¸€é—®é¢˜æå‡ºäº†ä¸€ç§æ–°çš„MROè®¡ç®—æ–¹å¼ï¼šåœ¨å®šä¹‰ç±»æ—¶å°±è®¡ç®—å‡ºè¯¥ç±»çš„MROå¹¶å°†å…¶ä½œä¸ºå…¶å±æ€§ï¼Œå› æ­¤æ–°å¼ç±»å¯ä»¥é€šè¿‡__mro__å±æ€§è·å–ç±»çš„MROã€‚</p><h4 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h4><p>å¯¹äºæ–°å¼ç±»è€Œè¨€ï¼Œæ‰€æœ‰ç±»éƒ½éœ€è¦ç»§æ‰¿objectï¼Œéœ€è¦åœ¨åˆ›å»ºç±»æ—¶ç»§æ‰¿objectï¼ŒåŒæ—¶å¯ä»¥ä½¿ç”¨__mro__æŸ¥çœ‹MROã€‚<br>Python 2.2 çš„æ–°å¼ç±» MRO è®¡ç®—æ–¹å¼å’Œç»å…¸ç±» MRO çš„è®¡ç®—æ–¹å¼éå¸¸ç›¸ä¼¼ï¼šå®ƒä»ç„¶é‡‡ç”¨ä»å·¦è‡³å³çš„æ·±åº¦ä¼˜å…ˆéå†ï¼Œä½†æ˜¯å¦‚æœéå†ä¸­å‡ºç°é‡å¤çš„ç±»ï¼Œåªä¿ç•™æœ€åä¸€ä¸ªã€‚å¯ä»¥æ€»ç»“ä¸ºä»–æ˜¯<strong>ä»å·¦å‘å³çš„å¹¿åº¦éå†</strong>ã€‚</p><h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>é‡æ–°è€ƒè™‘ä¸Šé¢ã€Œè±å½¢ç»§æ‰¿ã€çš„ä¾‹å­ï¼Œç”±äºæ–°å¼ç±»ç»§æ‰¿è‡ª object å› æ­¤ç±»å›¾ç¨æœ‰æ”¹å˜ã€Œæ–°å¼ç±»è±å½¢ç»§æ‰¿ã€ï¼š</p><p><img src="https://s1.ax1x.com/2022/10/28/x41D8P.png" alt="x41D8P.png"></p><p>æŒ‰ç…§ä»å·¦åˆ°å³çš„æ·±åº¦éå†ï¼Œå…¶é¡ºåºä¸º [D, B, A, object, C, A, object]ï¼Œé‡å¤ç±»åªä¿ç•™æœ€åä¸€ä¸ªï¼Œå› æ­¤å˜ä¸º [D, B, C, A, object]ã€‚è¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠç»“æœçœ‹ä¸ºä»å·¦åˆ°å³çš„å¹¿åº¦éå†ï¼Œå°±ä¸€ä¸‹å¯ä»¥å¾—å‡ºç»“æœä¸ºï¼š[D, B, C, A, object]ã€‚</p><p>ä»£ç ä¸ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;A.method()&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>): </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span> <span class="string">&quot;C.method()&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(B, C):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="built_in">print</span>(D.__mro__)</span><br><span class="line"><span class="comment"># (&lt;class &#x27;__main__.D&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;, &lt;class &#x27;__main__.C&#x27;&gt;, &lt;class &#x27;__main__.A&#x27;&gt;, &lt;type &#x27;object&#x27;&gt;)</span></span><br><span class="line">x = D()</span><br><span class="line"><span class="built_in">print</span>(x.method())</span><br><span class="line"><span class="comment"># C.method()</span></span><br></pre></td></tr></table></figure><p>å¾ˆæ˜¾ç„¶è¾“å‡ºçš„ç»“æœä¸ºC.method()ä¸æˆ‘ä»¬çš„é¢„æœŸç»“æœä¸€è‡´ï¼Œè¡¨ç¤º Python2.2ä¸­çš„MRO&#x3D;&#x3D;å·²ç»èƒ½å¤Ÿè§£å†³ã€Œè±å½¢ç»§æ‰¿ã€é—®é¢˜&#x3D;&#x3D;ï¼Œä½†æ˜¯å¯¹äºç¨å¾®å¤æ‚ç‚¹çš„æ­£å¸¸çš„ç»§æ‰¿å…³ç³»ï¼Œå®ƒæ˜¯ä¸èƒ½å¤Ÿè§£å†³çš„ï¼š</p><h4 id="é—®é¢˜-1"><a href="#é—®é¢˜-1" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p><img src="https://s1.ax1x.com/2022/10/28/x41dUA.png" alt="x41dUA.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">B</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(C, D):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p><font color=red>Python2.2ä¸­çš„MROæ— æ³•è§£å†³çš„é—®é¢˜ï¼š</font><br>æ ¹æ®æ–°å¼ç±»ä¸­çš„å¹¿åº¦éå†åŸåˆ™ï¼Œ[E,C,D,A,B,object]ï¼ŒAæ˜¯Cçš„å”¯ä¸€åŸºç±»ï¼Œä½†å´åœ¨Cä¹‹åå…ˆæŸ¥è¯¢Dï¼Œæ ¹æ®å•è°ƒæ€§ï¼Œåº”è¯¥å…ˆä»å”¯ä¸€åŸºç±»è¿›è¡ŒæŸ¥æ‰¾ï¼Œåº”è¯¥ä¸º<font color=green>[E,C,A,D,B,object]</font>ï¼ˆæ³¨æ„è¿™ä¸ªç»“æœåœ¨åé¢çš„C3ç®—æ³•ä¼šå¾—åˆ°è¯å®ï¼‰ï¼Œå¾—åˆ°çš„ç»“æœä¸é¢„æœŸä¸ç¬¦ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜è¯ç”Ÿäº†MRO C3ç®—æ³•ã€‚<br>æ³¨æ„ï¼šåœ¨Python 2.2åŠå…¶ä»¥åçš„ç‰ˆæœ¬ä»ç„¶å­˜åœ¨ç»å…¸ç±»ï¼Œåœ¨å®šä¹‰åŸºç±»æ—¶ï¼Œå¦‚æœç»§æ‰¿objectæ‰æ˜¯æ–°å¼ç±»ï¼Œå¦åˆ™æ˜¯ç»å…¸ç±»ï¼Œç»å…¸ç±»è¿˜æ˜¯æŒ‰ç…§ä¸Šé¢çš„æœç´¢é¡ºåºã€‚</p><h1 id="æ–°å¼ç±»C3-MROï¼ˆPython2-3ä»¥åï¼‰"><a href="#æ–°å¼ç±»C3-MROï¼ˆPython2-3ä»¥åï¼‰" class="headerlink" title="æ–°å¼ç±»C3 MROï¼ˆPython2.3ä»¥åï¼‰"></a>æ–°å¼ç±»C3 MROï¼ˆPython2.3ä»¥åï¼‰</h1><h4 id="è¯ç”Ÿ-1"><a href="#è¯ç”Ÿ-1" class="headerlink" title="è¯ç”Ÿ"></a>è¯ç”Ÿ</h4><p>ä¸ºè§£å†³ Python 2.2 ä¸­ MRO æ‰€å­˜åœ¨çš„é—®é¢˜ï¼ŒPython 2.3ä»¥åé‡‡ç”¨äº† C3 æ–¹æ³•æ¥ç¡®å®šæ–¹æ³•è§£æé¡ºåºã€‚è€Œä¸”æ–°å¢äº†ä¸€ä¸ªå¼‚å¸¸ï¼šç¦æ­¢åˆ›å»ºå…·æœ‰äºŒä¹‰æ€§çš„ç»§æ‰¿å…³ç³»ï¼ˆæœ€åä¼šä»‹ç»åˆ°ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">class</span> <span class="title class_">C</span>(A, B): <span class="keyword">pass</span></span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;ipython-input-8-01bae83dc806&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">C</span>(A, B): <span class="keyword">pass</span></span><br><span class="line">TypeError: Error when calling the metaclass bases</span><br><span class="line">    Cannot create a consistent method resolution</span><br><span class="line">order (MRO) <span class="keyword">for</span> bases X, Y</span><br></pre></td></tr></table></figure><h4 id="C3ç®—æ³•ï¼š"><a href="#C3ç®—æ³•ï¼š" class="headerlink" title="C3ç®—æ³•ï¼š"></a>C3ç®—æ³•ï¼š</h4><p>å‡è®¾ç±»Cç»§æ‰¿äº†nä¸ªç±»ï¼Œé‚£å®ƒçš„çº¿æ€§åŒ–MROå°±æ˜¯ï¼šL(C) &#x3D;  [C1, C2,â€¦,CN]ã€‚å…¶ä¸­æˆ‘ä»¬æŠŠ&#x3D;&#x3D;C1æˆä¸ºL(C)çš„å¤´&#x3D;&#x3D;ï¼Œå…¶ä½™å…ƒç´  &#x3D;&#x3D;[C2,â€¦,CN] ç§°ä¸ºå°¾&#x3D;&#x3D;ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å°†ä¸Šè¿°å‡è®¾å¥—å…¥å¦ä¸€ä¸ªä¸¾ä¾‹ï¼šå¦‚æœä¸€ä¸ªç±» C ç»§æ‰¿è‡ªåŸºç±» B1ã€B2ã€â€¦â€¦ã€BNï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ ¹æ®ä»¥ä¸‹ä¸¤æ­¥è®¡ç®—å‡º L[C]ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">L[<span class="built_in">object</span>] = [<span class="built_in">object</span>]</span><br><span class="line">L[C(B1â€¦BN)] = [C] + merge(L[B1]â€¦L[BN], [B1]â€¦[BN])</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„å…³é”®åœ¨äº mergeï¼Œå…¶è¾“å…¥æ˜¯ä¸€ç»„åˆ—è¡¨ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ–¹å¼è¾“å‡ºä¸€ä¸ªåˆ—è¡¨ï¼š</p><p><strong><font color=red>é‡ç‚¹: </font></strong></p><ol><li>æ£€æŸ¥ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å¤´å…ƒç´ ï¼ˆå¦‚ L[B1] çš„å¤´ï¼‰ï¼Œè®°ä½œ Hã€‚</li><li>è‹¥ H æœªå‡ºç°åœ¨å…¶å®ƒåˆ—è¡¨çš„å°¾éƒ¨ï¼Œåˆ™å°†å…¶è¾“å‡ºï¼Œå¹¶å°†å…¶ä»æ‰€æœ‰åˆ—è¡¨ä¸­åˆ é™¤ï¼Œç„¶åå›åˆ°æ­¥éª¤1ï¼›å¦åˆ™ï¼Œå–å‡ºä¸‹ä¸€ä¸ªåˆ—è¡¨çš„å¤´éƒ¨è®°ä½œ Hï¼Œç»§ç»­è¯¥æ­¥éª¤ã€‚</li><li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´è‡³åˆ—è¡¨ä¸ºç©ºæˆ–è€…ä¸èƒ½å†æ‰¾å‡ºå¯ä»¥è¾“å‡ºçš„å…ƒç´ ã€‚å¦‚æœæ˜¯å‰ä¸€ç§æƒ…å†µï¼Œåˆ™ç®—æ³•ç»“æŸï¼›å¦‚æœæ˜¯åä¸€ç§æƒ…å†µï¼Œè¯´æ˜æ— æ³•æ„å»ºç»§æ‰¿å…³ç³»ï¼ŒPython ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</li></ol><p>è¯¥ç®—æ³•å¾ˆå¥½çš„è€ƒè™‘äº†åŸºç±»å‡ºç°çš„é¡ºåºã€‚è¿™é‡Œæˆ‘ä»¬ç”¨C3ç®—æ³•å…ˆæ¥<font color=red>è§£å†³</font>åˆšæ‰<font color=red>Python2.2ä¸­çš„MROæ— æ³•è§£å†³çš„é—®é¢˜</font>ï¼š</p><h4 id="è§£å†³-1"><a href="#è§£å†³-1" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p><img src="https://s1.ax1x.com/2022/10/28/x41dUA.png" alt="x41dUA.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">B</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(C, D):</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>C3ç®—æ³•å¯¹äºä¸Šå›¾æ­£å¸¸ç»§æ‰¿çš„æœç´¢é¡ºåºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">L[A] = [A,<span class="built_in">object</span>]</span><br><span class="line">L[B] = [B,<span class="built_in">object</span>]</span><br><span class="line"></span><br><span class="line">l[C] = [C] + merge(L[A],[A])</span><br><span class="line">L[C] = [C] + merge([A,<span class="built_in">object</span>],[A])</span><br><span class="line">L[C] = [C,A] + merge([<span class="built_in">object</span>])</span><br><span class="line">L[C] = [C,A,<span class="built_in">object</span>]</span><br><span class="line"></span><br><span class="line">L[D] = [D] + merge([L[B],[B])</span><br><span class="line">L[D] = [D] + merge([B,<span class="built_in">object</span>],[B])</span><br><span class="line">L[D] = [D,B,<span class="built_in">object</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">L[E] = [E] + merge([L[C],L[D],[C],[D])</span><br><span class="line">L[E] = [E] + merge([C,A,<span class="built_in">object</span>],[D,B,<span class="built_in">object</span>],[C],[D])</span><br><span class="line">L[E] = [E,C] + merge([A,<span class="built_in">object</span>],[D,B,<span class="built_in">object</span>],[D])</span><br><span class="line">L[E] = [E,C,A] + merge([<span class="built_in">object</span>],[D,B,<span class="built_in">object</span>],[D])</span><br><span class="line">L[E] = [E,C,A,D] + merge([<span class="built_in">object</span>],[B,<span class="built_in">object</span>])</span><br><span class="line">L[E] = [E,C,A,D,B] + merge([<span class="built_in">object</span>],[<span class="built_in">object</span>])</span><br><span class="line">L[E] = [E,C,A,D,B,<span class="built_in">object</span>])</span><br></pre></td></tr></table></figure><p>é€šè¿‡C3ç®—æ³•å¾—åˆ°çš„ç»“æœä¸º<font color=green>[E,C,A,D,B,object]</font>ï¼Œä¸æˆ‘ä»¬é¢„æœŸçš„ç»“æœä¸€è‡´ã€‚ä¹Ÿæ²¡æœ‰è¿åå•è°ƒæ€§ã€‚</p><h4 id="è§£å†³2"><a href="#è§£å†³2" class="headerlink" title="è§£å†³2"></a>è§£å†³2</h4><p>è¿™ä¸ªè¿˜æ˜¯python2.2 MROè§£å†³çš„è±å½¢ç»§æ‰¿ï¼Œæˆ‘ä»¬åœ¨ç”¨C3 MROæ¥éªŒè¯ä¸€é<br><img src="https://s1.ax1x.com/2022/10/28/x41D8P.png" alt="x41D8P.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">L[A] = [A,<span class="built_in">object</span>]</span><br><span class="line">L[B] = [B] + merge([LA],[A])</span><br><span class="line">L[B] = [B] + merge([A,<span class="built_in">object</span>],[A])</span><br><span class="line">L[B] = [B,A] + merge([<span class="built_in">object</span>])</span><br><span class="line">L[B] = [B,A,<span class="built_in">object</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒç†å¾—å‡ºï¼š</span></span><br><span class="line">L[C] = [C,A,<span class="built_in">object</span>]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">L[D] = [D] + merge([LB],[LC],[B],[C])</span><br><span class="line">L[D] = [D] + merge([B,A,<span class="built_in">object</span>],[C,A,<span class="built_in">object</span>],[B],[C])</span><br><span class="line">L[D] = [D,B] + merge([A,<span class="built_in">object</span>],[C,A,<span class="built_in">object</span>],[C])</span><br><span class="line">L[D] = [D,B,C] + merge([A,<span class="built_in">object</span>],[A,<span class="built_in">object</span>])</span><br><span class="line">L[D] = [D,B,C,A] + merge([<span class="built_in">object</span>],[<span class="built_in">object</span>])</span><br><span class="line">L[D] = [D,B,C,A,<span class="built_in">object</span>]</span><br></pre></td></tr></table></figure><p>ä»ä¸Šè¿°ç»“æœå¯ä»¥çœ‹åˆ°ï¼ŒC3è®¡ç®—åçš„MROç»“æœ[D,B,C,A,object]ä¸python2.2ä¸­çš„MROè®¡ç®—ç»“æœä¸€è‡´ã€‚è¯´æ˜C3å°†ä¸Šè¿°MROä¸»è¦çš„æ— æ³•ç»“æœçš„é—®é¢˜éƒ½è§£å†³äº†ã€‚</p><h1 id="MROæ— æ³•è§£å†³çš„äºŒä¹‰æ€§ç»§æ‰¿å…³ç³»"><a href="#MROæ— æ³•è§£å†³çš„äºŒä¹‰æ€§ç»§æ‰¿å…³ç³»" class="headerlink" title="MROæ— æ³•è§£å†³çš„äºŒä¹‰æ€§ç»§æ‰¿å…³ç³»"></a>MROæ— æ³•è§£å†³çš„äºŒä¹‰æ€§ç»§æ‰¿å…³ç³»</h1><p>ä¸¾ä¾‹ï¼š</p><p><img src="https://s1.ax1x.com/2022/10/28/x4M8gS.png" alt="x4M8gS.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">X</span>(<span class="title class_ inherited__">object</span>): </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Y</span>(<span class="title class_ inherited__">object</span>): </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(X, Y): </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(Y, X): </span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(A, B): </span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h3 id="Python2-2-MROè¿›è¡Œåˆ†æ"><a href="#Python2-2-MROè¿›è¡Œåˆ†æ" class="headerlink" title="Python2.2 MROè¿›è¡Œåˆ†æ"></a>Python2.2 MROè¿›è¡Œåˆ†æ</h3><p>é¦–å…ˆè¿›è¡Œä»å·¦åˆ°å³çš„æ·±åº¦éå†ï¼Œç»“æœä¸º [C, A, X, object, Y, object, B, Y, object, X, object]ï¼›ç„¶åï¼Œåªä¿ç•™é‡å¤å…ƒç´ çš„æœ€åä¸€ä¸ªï¼Œç»“æœä¸º [C, A, B, Y, X, object]ã€‚Python 2.2 åœ¨å®ç°è¯¥æ–¹æ³•çš„æ—¶å€™è¿›è¡Œäº†è°ƒæ•´ï¼Œä½¿å…¶æ›´å°Šé‡åŸºç±»ä¸­ç±»å‡ºç°çš„é¡ºåºï¼Œå…¶å®é™…ç»“æœä¸º [C, A, B, X, Y, object]ã€‚</p><p>è¿™æ ·çš„ç»“æœæ˜¯å¦åˆç†å‘¢ï¼Ÿé¦–å…ˆæˆ‘ä»¬çœ‹ä¸‹å„ä¸ªç±»ä¸­çš„æ–¹æ³•è§£æé¡ºåºï¼šå¯¹äº A æ¥è¯´ï¼Œå…¶æœç´¢é¡ºåºä¸º[A, X, Y, object]ï¼›å¯¹äº Bï¼Œå…¶æœç´¢é¡ºåºä¸º [B, Y, X, object]ï¼›å¯¹äº Cï¼Œå…¶æœç´¢é¡ºåºä¸º[C, A, B, X, Y, object]ã€‚æˆ‘ä»¬ä¼šå‘ç°ï¼ŒB å’Œ C ä¸­ Xã€Y çš„æœç´¢é¡ºåºæ˜¯ç›¸åçš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æŒ‰ç…§Cçš„æœç´¢é¡ºåºæ—¶ï¼Œä»Bå¾€åå°±å˜ä¸ºäº†[B,X,Y,object]ï¼Œä¸Bæœ¬èº«[B, Y, X, object]æ˜¯ç›¸åçš„ã€‚è¿™ä¹Ÿå°±æ„å‘³ç€å½“Cç»§æ‰¿åˆ°Bæ—¶ï¼Œé€ æˆäº†Bæœ¬èº«çš„è¡Œä¸ºå‘ç”Ÿäº†æ”¹å˜ï¼Œ&#x3D;&#x3D;è¿™å¾ˆå®¹æ˜“å¯¼è‡´ä¸æ˜“å¯Ÿè§‰çš„é”™è¯¯&#x3D;&#x3D;ã€‚æ­¤å¤–ï¼Œå³ä½¿æŠŠ C æœç´¢é¡ºåºä¸­ X å’Œ Y äº’æ¢ä»ç„¶ä¸èƒ½è§£å†³é—®é¢˜ï¼Œè¿™æ—¶å€™å®ƒåˆä¼šå’Œ A ä¸­çš„æœç´¢é¡ºåºç›¸çŸ›ç›¾ã€‚</p><p>äº‹å®ä¸Šï¼Œä¸ä½†ä¸Šè¿°ç‰¹æ®Šæƒ…å†µä¼šå‡ºç°é—®é¢˜ï¼Œåœ¨å…¶å®ƒæƒ…å†µä¸‹ä¹Ÿå¯èƒ½å‡ºé—®é¢˜ã€‚å…¶åŸå› åœ¨äºï¼Œæ ¹æ®å•è°ƒæ€§ï¼Œåº”è¯¥å…ˆä»å”¯ä¸€åŸºç±»è¿›è¡ŒæŸ¥æ‰¾ã€‚å¾ˆæ˜æ˜¾ä¸Šé¢çš„ç»§æ‰¿ä¸­æ— è®ºä¿®æ”¹Xè¿˜æ˜¯Yçš„é¡ºåºï¼Œéƒ½ä¼šè¿åã€Œå•è°ƒæ€§åŸåˆ™ã€ã€‚</p><p>&#x3D;&#x3D;ä¹Ÿå°±æ˜¯è¯´ï¼Œå­ç±»ä¸èƒ½æ”¹å˜åŸºç±»çš„æ–¹æ³•æœç´¢é¡ºåºã€‚åœ¨ Python 2.2 çš„ MRO ç®—æ³•ä¸­å¹¶ä¸èƒ½ä¿è¯è¿™ç§å•è°ƒæ€§ï¼Œå®ƒä¸ä¼šé˜»æ­¢ç¨‹åºå‘˜å†™å‡ºä¸Šè¿°å…·æœ‰äºŒä¹‰æ€§çš„ç»§æ‰¿å…³ç³»ï¼Œå› æ­¤å¾ˆå¯èƒ½æˆä¸ºé”™è¯¯çš„æ ¹æºã€‚&#x3D;&#x3D;</p><p>é™¤äº†å•è°ƒæ€§ä¹‹å¤–ï¼Œç»å…¸ç±»å’ŒPython 2.2çš„æ–°å¼ç±»çš„ MRO ä¹Ÿå¯èƒ½è¿åç»§æ‰¿çš„ã€Œ å±€éƒ¨ä¼˜å…ˆçº§ ã€ï¼Œå…·ä½“ä¾‹å­å¯ä»¥å‚è§å®˜æ–¹æ–‡æ¡£ã€‚é‡‡ç”¨ä¸€ç§æ›´å¥½çš„ MRO æ–¹å¼åŠ¿åœ¨å¿…è¡Œã€‚</p><h3 id="C3-MROè¿›è¡Œåˆ†æ"><a href="#C3-MROè¿›è¡Œåˆ†æ" class="headerlink" title="C3 MROè¿›è¡Œåˆ†æ"></a>C3 MROè¿›è¡Œåˆ†æ</h3><p>ä¸ºæ–¹ä¾¿åˆ†æï¼Œæˆ‘ä»¬ä¸Šé¢çš„å›¾æ‹¿ä¸‹æ¥ï¼š</p><p><img src="https://s1.ax1x.com/2022/10/28/x4M8gS.png" alt="x4M8gS.png"></p><pre><code>L[object] = [object]L[X] = [X, object]L[Y] = [Y, object]</code></pre><p>A çš„çº¿æ€§åŒ–è®¡ç®—å¦‚ä¸‹ï¼š</p><pre><code>L[A] = [A] + merge(L[X], L[Y], [X], [Y])     = [A] + merge([X, object], [Y, object], [X], [Y])     = [A, X] + merge([object], [Y, object], [Y])     = [A, X, Y] + merge([object], [object])     = [A, X, Y, object]</code></pre><p>æ³¨æ„ç¬¬3æ­¥ï¼ï¼ï¼merge([object], [Y, object], [Y]) ä¸­é¦–å…ˆè¾“å‡ºçš„æ˜¯ Y è€Œä¸æ˜¯ objectã€‚è¿™æ˜¯å› ä¸º object è™½ç„¶æ˜¯ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å¤´ï¼Œä½†æ˜¯å®ƒå‡ºç°åœ¨äº†ç¬¬äºŒä¸ªåˆ—è¡¨çš„å°¾éƒ¨ã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šè·³è¿‡ç¬¬ä¸€ä¸ªåˆ—è¡¨ï¼Œå»æ£€æŸ¥ç¬¬äºŒä¸ªåˆ—è¡¨çš„å¤´éƒ¨ï¼Œä¹Ÿå°±æ˜¯ Yã€‚Y æ²¡æœ‰å‡ºç°åœ¨å…¶å®ƒåˆ—è¡¨çš„å°¾éƒ¨ï¼Œæ‰€ä»¥å°†å…¶è¾“å‡ºã€‚</p><p>åŒç†ï¼ŒB çš„çº¿æ€§åŒ–ç»“æœä¸ºï¼š</p><pre><code>L[B] = [B, Y, X, object]</code></pre><p>æœ€åï¼Œæˆ‘ä»¬çœ‹çœ‹ C çš„çº¿æ€§åŒ–ç»“æœï¼š</p><pre><code>L[C] = [C] + merge(L[A], L[B], [A], [B])     = [C] + merge([A, X, Y, object], [B, Y, X, object], [A], [B])     = [C, A] + merge([X, Y, object], [B, Y, X, object], [B])     = [C, A, B] + merge([X, Y, object], [Y, X, object])</code></pre><p>åˆ°äº†æœ€åä¸€æ­¥æˆ‘ä»¬æ²¡æœ‰åŠæ³•ç»§ç»­è®¡ç®—ä¸‹å» äº†ï¼šX è™½ç„¶æ˜¯ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å¤´ï¼Œä½†æ˜¯å®ƒå‡ºç°åœ¨äº†ç¬¬äºŒä¸ªåˆ—è¡¨çš„å°¾éƒ¨ï¼›Y è™½ç„¶æ˜¯ç¬¬äºŒä¸ªåˆ—è¡¨çš„å¤´ï¼Œä½†æ˜¯å®ƒå‡ºç°åœ¨äº†ç¬¬ä¸€ä¸ªåˆ—è¡¨çš„å°¾éƒ¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ— æ³•æ„å»ºä¸€ä¸ªæ²¡æœ‰äºŒä¹‰æ€§çš„ç»§æ‰¿å…³ç³»ï¼Œ&#x3D;&#x3D;åªèƒ½æ‰‹å·¥å»è§£å†³&#x3D;&#x3D;ï¼ˆæ¯”å¦‚æ”¹å˜ B åŸºç±»ä¸­ Xã€Y çš„é¡ºåºï¼‰ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-super </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytest POMæ¨¡å‹</title>
      <link href="/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%20POM%E6%A8%A1%E5%9E%8B/"/>
      <url>/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%20POM%E6%A8%A1%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>POMï¼šPage Object Modelï¼ˆé¡µé¢å¯¹è±¡æ¨¡å‹ï¼‰<br>POMæ˜¯ä¸ºäº†è§£å†³å‰ç«¯UIå˜åŒ–é¢‘ç¹ï¼Œä»è€Œé€ æˆç»´æŠ¤è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬çš„æˆæœ¬è¶Šæ¥è¶Šå¤§ã€‚</p><h1 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h1><ol><li><p>æ¯ä¸€ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªé¡µé¢ç±»ï¼Œé¡µé¢å…ƒç´ å†™åˆ°è¿™ä¸ªé¡µé¢ç±»ä¸­ã€‚</p></li><li><p>é¡µé¢ç±»ä¸»è¦åŒ…æ‹¬é¡µé¢å…ƒç´ çš„å®šä½ï¼Œå’Œè¿™äº›å…ƒç´ ç›¸å…³çš„ä¸šåŠ¡æ“ä½œä»£ç å°è£…çš„æ–¹æ³•ã€‚</p></li><li><p>ä»£ç å¤ç”¨ï¼Œå‡å°‘ä»£ç é‡ã€‚</p></li><li><p>æ”¯æŒå¤šä¸ªäººåŒæ—¶ç¼–å†™ï¼Œæ¯ä¸ªäººä¸€ä¸ªé¡µé¢ï¼Œä¸ç›¸äº’å½±å“ä»–äººã€‚</p></li></ol><h1 id="POMç›®å½•ç»“æ„"><a href="#POMç›®å½•ç»“æ„" class="headerlink" title="POMç›®å½•ç»“æ„"></a>POMç›®å½•ç»“æ„</h1><p>1ã€base ç›®å½•ï¼ˆseleniumå…¬å…±æ–¹æ³•çš„å°è£…ã€‚å•å‡»ã€è¾“å…¥ç­‰ï¼‰</p><p>2ã€data ç›®å½•ï¼ˆå­˜æ”¾æµ‹è¯•æ•°æ®yamlã€xlsxæ–‡ä»¶ï¼‰</p><p>3ã€config ç›®å½•ï¼ˆå­˜æ”¾è¯»å–yamlæ–‡ä»¶çš„pyæ–‡ä»¶ï¼‰</p><p>4ã€page_object ç›®å½• ï¼ˆè„šæœ¬ç›®å½•ï¼‰</p><p>5ã€test_case ç›®å½• ï¼ˆæµ‹è¯•ç”¨ä¾‹ï¼‰</p><p>6ã€report ç›®å½•ï¼ˆæµ‹è¯•æŠ¥å‘Šç”Ÿæˆç›®å½•ï¼‰</p><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><p>1ã€baseç›®å½•</p><p>ä¸€èˆ¬æ˜¯å­˜æ”¾æµ‹è¯•ä»£ç ä¸­éƒ½éœ€è¦ç”¨åˆ°çš„å…¬å…±æ–¹æ³•</p><p><img src="https://s1.ax1x.com/2022/10/26/xWHUw8.png" alt="xWHUw8.png"></p><p>2ã€dataç›®å½•ä¸configç›®å½•</p><p>dataç›®å½•å­˜æ”¾æµ‹è¯•çš„æ•°æ®æˆ–è€…é…ç½®æ–‡ä»¶</p><p>configç›®å½•å­˜æ”¾çš„æ˜¯è¯»å–é…ç½®æ–‡ä»¶çš„py</p><p><img src="https://s1.ax1x.com/2022/10/26/xWHrSs.png" alt="xWHrSs.png"></p><p>3ã€page_objectç›®å½•ï¼ˆä¹Ÿæ˜¯æœ¬é¡¹ç›®ä¸­çš„actionobjectç›®å½•ï¼‰</p><p>pageç›®å½•å†…å®ç°å¯¹å„é¡µé¢çš„å°è£…ï¼Œæ¯ä¸ªå¾…æµ‹è¯•çš„é¡µé¢å¯ä»¥å®ç°ä¸€ä¸ªpageï¼Œä¾‹å¦‚ç™»å½•ï¼Œå¯å‘½åä¸ºlogin_page.pyï¼Œè¾¾åˆ°è§åçŸ¥æ„çš„æ•ˆæœï¼Œä¹Ÿæ–¹ä¾¿ä¸ªäººåœ¨å…¶ä»–æ–‡ä»¶ä¸­å¯¹è¯¥æ–‡ä»¶çš„å¯¼å…¥å¤ç”¨ä»¥åŠåæœŸç»´æŠ¤ï¼Œæ¯ä¸ªpageæ–‡ä»¶ä¸­ï¼Œå®ç°å¯¹è¯¥é¡µé¢ä¸­å¾…æ“ä½œçš„å…ƒç´ ä»¥åŠå„å…ƒç´ è¦å®ç°çš„åŠ¨ä½œçš„å°è£…ã€‚</p><p><img src="https://s1.ax1x.com/2022/10/26/xWHbm6.png" alt="xWHbm6.png"></p><p>å…·ä½“ä»£ç </p><p>login_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.base.base_page <span class="keyword">import</span> BasePage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginPage</span>(<span class="title class_ inherited__">BasePage</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ¨ä½œå±‚ï¼Œé€šè¿‡è°ƒç”¨åŸºç¡€å±‚æ¥å®ç°å…·ä½“çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    username_loc = (By.ID, <span class="string">&quot;id_username&quot;</span>)</span><br><span class="line">    password_loc = (By.ID, <span class="string">&quot;id_password&quot;</span>)</span><br><span class="line">    login_loc = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>)</span><br><span class="line">    <span class="comment"># æ–­è¨€çš„æ•°æ®å®šä½</span></span><br><span class="line">    assertions_loc = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;user-tools&#x27;]/a[3]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†çš„åŠ¨ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">login_ecshop</span>(<span class="params">self,username,password</span>):</span><br><span class="line">        self.send_keys(self.username_loc, username)</span><br><span class="line">        self.send_keys(self.password_loc, password)</span><br><span class="line">        self.click(self.login_loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–ç™»é™†ä¹‹åé¡µé¢æœ‰æ— æ³¨é”€ä¸¤å­—ï¼Œé…åˆæ–­è¨€ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">assertions_get_login_value</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.locator_element(self.assertions_loc).text</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>blogger_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="comment"># as loginpageå¯ä»¥é¿å…ä»¥åä¿®æ”¹LoginPageç±»åçš„ä¿®æ”¹é€ æˆå¤§é‡ç»§æ‰¿æ­¤ç±»çš„å¯¼å…¥åéƒ½éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.actionobject.login_page <span class="keyword">import</span> LoginPage <span class="keyword">as</span> loginpage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BloggerPage</span>(<span class="title class_ inherited__">loginpage</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ¨ä½œå±‚ï¼Œé€šè¿‡è°ƒç”¨åŸºç¡€å±‚æ¥å®ç°å…·ä½“çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»å…³é”®å­—</span></span><br><span class="line">    blogger_loc = (By.LINK_TEXT, <span class="string">&quot;Blogger&quot;</span>)</span><br><span class="line">    addlink_blogger_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    name_loc = (By.ID, <span class="string">&quot;id_name&quot;</span>)</span><br><span class="line">    sel_loc = (By.ID, <span class="string">&quot;id_level&quot;</span>)</span><br><span class="line">    blogger_pic_loc = (By.ID, <span class="string">&quot;id_picture&quot;</span>)</span><br><span class="line">    blogger_submit_pic_loc = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_blogger</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop(username, password)</span><br><span class="line">        self.click(self.blogger_loc)</span><br><span class="line">        self.click(self.addlink_blogger_loc)</span><br><span class="line">        self.send_keys(self.name_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.choice_select_element(self.sel_loc, <span class="string">&quot;L&quot;</span>)</span><br><span class="line">        self.send_keys(self.blogger_pic_loc, <span class="string">&quot;/Users/wanghan/Desktop/å›¾ç‰‡/è¡¨æƒ…åŒ…/109951167799422820.jpg&quot;</span>)</span><br><span class="line">        self.click(self.blogger_submit_pic_loc)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>article_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="comment"># as loginpageå¯ä»¥é¿å…ä»¥åä¿®æ”¹LoginPageç±»åçš„ä¿®æ”¹é€ æˆå¤§é‡ç»§æ‰¿æ­¤ç±»çš„å¯¼å…¥åéƒ½éœ€è¦ä¿®æ”¹</span></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.login_page <span class="keyword">import</span> LoginPage <span class="keyword">as</span> loginpage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ArticlePage</span>(<span class="title class_ inherited__">loginpage</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ¨ä½œå±‚ï¼Œé€šè¿‡è°ƒç”¨åŸºç¡€å±‚æ¥å®ç°å…·ä½“çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« å…³é”®å­—</span></span><br><span class="line">    article_info_loc = (By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>)</span><br><span class="line">    addlink_article_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    title_loc = (By.ID, <span class="string">&quot;id_title&quot;</span>)</span><br><span class="line">    content_loc = (By.ID, <span class="string">&quot;id_content&quot;</span>)</span><br><span class="line">    submit_add = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« æ•°æ®</span></span><br><span class="line">    article_list_tr = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr&quot;</span>)</span><br><span class="line">    article_list_tr_a = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr[1]/th/a&quot;</span>)</span><br><span class="line">    delete_article_link = (By.CLASS_NAME, <span class="string">&quot;deletelink&quot;</span>)</span><br><span class="line">    delete_article_link_submit = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;content&#x27;]/form/div/input[2]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop(username, password)</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        self.click(self.addlink_article_loc)</span><br><span class="line">        self.send_keys(self.title_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.send_keys(self.content_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.click(self.submit_add)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        self.login_ecshop(username, password)</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        tr_list = self.locator_elements(self.article_list_tr)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tr_list) &gt; <span class="number">0</span>:</span><br><span class="line">            self.click(self.article_list_tr_a)</span><br><span class="line">            self.click(self.delete_article_link)</span><br><span class="line">            self.click(self.delete_article_link_submit)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æš‚æ—¶æ²¡æœ‰å¯åˆ é™¤çš„æ•°æ®&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>4ã€test_caseç›®å½•</p><p>cases ç›®å½•ç”¨æ¥å­˜æ”¾å®é™…çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæ–‡ä»¶ä»¥testå¼€å¤´å‘½åï¼Œå¯¹pageä¸­çš„æ–‡ä»¶è¿›è¡Œæµ‹è¯•æ­¥éª¤çš„å®ç°ã€‚å¯ä»¥æ”¾å¤šä¸ªpageä¸­çš„æµ‹è¯•æ­¥éª¤ã€‚</p><p><img src="https://s1.ax1x.com/2022/10/26/xWHzpd.png" alt="xWHzpd.png"></p><p>å…·ä½“ä»£ç ï¼š</p><p>test_login_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.login_page <span class="keyword">import</span> LoginPage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Login</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†åå°ç®¡ç†</span></span><br><span class="line">    <span class="comment"># pytestæ˜¯é€šè¿‡parametrizeä¼ é€’å‚æ•°çš„ï¼Œå¦‚ä½•è¦ä¼ é€’å¤šä¸ªå‚æ•°å¹¶æ‹†åˆ†ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å†™å…¥å¤šä¸ªï¼Œå³å¯è‡ªåŠ¨æ‹†åˆ†</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_login_admin</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = LoginPage()</span><br><span class="line">        lp.login_ecshop(username, password)</span><br><span class="line">        <span class="comment"># æ–­è¨€</span></span><br><span class="line">        <span class="keyword">assert</span> lp.assertions_get_login_value() == <span class="string">&quot;æ³¨é”€&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>test_blogger_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.blogger_page <span class="keyword">import</span> BloggerPage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Blogger</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_blogger</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = BloggerPage()</span><br><span class="line">        lp.add_blogger(username, password)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    pytest.main([<span class="string">&#x27;-vs&#x27;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>test_article_page.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.article_page <span class="keyword">import</span> ArticlePage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Article</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ArticlePage()</span><br><span class="line">        lp.add_article(username, password)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_delete_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ArticlePage()</span><br><span class="line">        lp.delete_article(username, password)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    pytest.main([<span class="string">&#x27;-vs&#x27;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>5ã€æœ€ååˆ›å»ºä¸€ä¸ªrun.pyè¿è¡Œæ–‡ä»¶ï¼Œç”¨æ¥è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Šã€‚</p><p><img src="https://s1.ax1x.com/2022/10/26/xWbp6I.png" alt="xWbp6I.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-pytestå•å…ƒæµ‹è¯•æ¡†æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytest allureç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</title>
      <link href="/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%20allure%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"/>
      <url>/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%20allure%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"><a href="#è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"></a>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</h1><h2 id="allure"><a href="#allure" class="headerlink" title="allure"></a>allure</h2><p><strong>æ˜¯ä¸€æ¬¾å¯ä»¥ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šçš„å·¥å…·ï¼Œé…åˆpytestä½¿ç”¨</strong></p><h4 id="1-éœ€è¦é…ç½®Javaç¯å¢ƒ"><a href="#1-éœ€è¦é…ç½®Javaç¯å¢ƒ" class="headerlink" title="1. éœ€è¦é…ç½®Javaç¯å¢ƒ"></a>1. éœ€è¦é…ç½®Javaç¯å¢ƒ</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/downloads/#java8-mac">https://www.oracle.com/java/technologies/downloads/#java8-mac</a></p><p><strong>å‚»ç“œå¼å®‰è£…å³å¯</strong></p><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java --version</span><br></pre></td></tr></table></figure><h4 id="2-éœ€è¦æœ¬åœ°ä¸‹è½½allure"><a href="#2-éœ€è¦æœ¬åœ°ä¸‹è½½allure" class="headerlink" title="2. éœ€è¦æœ¬åœ°ä¸‹è½½allure"></a>2. éœ€è¦æœ¬åœ°ä¸‹è½½allure</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/allure-framework/allure2">https://github.com/allure-framework/allure2</a></p><p><strong>Macå®‰è£…ï¼š</strong></p><pre><code>ç»ˆç«¯ï¼š    brew install allure</code></pre><p><strong>Windowså®‰è£…ï¼š</strong></p><pre><code>1.é€‰æ‹© zip åŒ…ä¸‹è½½å¹¶è§£å‹åˆ°ä¸€ä¸ªç›®å½•2.é…ç½® bin æ–‡ä»¶å¤¹åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡3.æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ</code></pre><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure --version</span><br></pre></td></tr></table></figure><h4 id="3-pipå®‰è£…allureåŒ…"><a href="#3-pipå®‰è£…allureåŒ…" class="headerlink" title="3.pipå®‰è£…allureåŒ…"></a>3.pipå®‰è£…allureåŒ…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install allure-pytest </span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆ"><a href="#ç”Ÿæˆ" class="headerlink" title="ç”Ÿæˆ"></a>ç”Ÿæˆ</h2><h4 id="mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œï¼š"><a href="#mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œï¼š" class="headerlink" title="mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œï¼š"></a>mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest.main([<span class="string">&#x27;-vs&#x27;</span>,<span class="string">&#x27;--alluredir=æµ‹è¯•æŠ¥å‘Šçš„ç›®å½•&#x27;</span>])</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼špytest.main([â€˜-vsâ€™,â€™â€“alluredir&#x3D;reportsâ€™])</p><ul><li>--alluredirï¼šalltureæŠ¥å‘Šå†…å®¹ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆç»“æœé»˜è®¤ä¸æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹çš„æ–‡ä»¶åŒçº§</li></ul><h4 id="allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"><a href="#allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š" class="headerlink" title="allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"></a>allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure serve æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼šallure serve reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW3Yt0.png" alt="xW3Yt0.png"></p><h4 id="å‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œï¼š"><a href="#å‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œï¼š" class="headerlink" title="å‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œï¼š"></a>å‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œï¼š</h4><p>å‰ææ˜¯å…ˆè¿›å…¥æµ‹è¯•é¡¹ç›®çš„ç›®å½•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest æµ‹è¯•ç”¨ä¾‹æ‰€åœ¨ç›®å½• --alluredir=æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼špytest .&#x2F; â€“alluredir&#x3D;reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW8C40.png" alt="xW8C40.png"></p><h4 id="allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š-1"><a href="#allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š-1" class="headerlink" title="allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"></a>allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure serve æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼šallure serve reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW8iCV.png" alt="xW8iCV.png"></p><p>æŠ¥å‘Šæ˜¾ç¤ºï¼š<br><img src="https://s1.ax1x.com/2022/10/26/xW8AvF.png" alt="xW8AvF.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-pytestå•å…ƒæµ‹è¯•æ¡†æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyteståŸºç¡€</title>
      <link href="/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%E5%9F%BA%E7%A1%80/"/>
      <url>/2022/10/26/Python/%E6%A8%A1%E5%9D%97/pytest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6/Pytest%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h2><p>pytestæ˜¯unittestçš„å‡çº§ç‰ˆ<br>å¯ä»¥ç»“åˆallureç”Ÿæˆå®šåˆ¶ç‰ˆçš„æµ‹è¯•æŠ¥å‘Š<br>æ”¯æŒå¾ˆå¤šå¼ºå¤§çš„ç¬¬ä¸‰æ–¹æ’ä»¶ï¼šaliure-pytestã€pytest-xdistã€pytest-orderingâ€¦</p><h1 id="é»˜è®¤è§„åˆ™"><a href="#é»˜è®¤è§„åˆ™" class="headerlink" title="é»˜è®¤è§„åˆ™"></a>é»˜è®¤è§„åˆ™</h1><p><font size=4 color=red>1.  æ¨¡å—åå¿…é¡»ä»¥test_å¼€å¤´æˆ–è€…_testç»“å°¾</font><br><font size=4 color=red>2.  æµ‹è¯•ç±»å¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰initæ–¹æ³•</font><br><font size=4 color=red>3.  æµ‹è¯•æ–¹æ³•å¿…é¡»ä»¥testå¼€å¤´</font></p><p><img src="https://s1.ax1x.com/2022/10/26/xW3P6e.png" alt="xW3P6e.png"></p><h1 id="è¿è¡Œpytest"><a href="#è¿è¡Œpytest" class="headerlink" title="è¿è¡Œpytest"></a>è¿è¡Œpytest</h1><p>ä¸€èˆ¬åœ¨å‘½ä»¤è¡Œç›´æ¥ï¼špytestï¼Œè¿è¡Œã€‚</p><p>Pycharmå³é”®è¿è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="comment"># é»˜è®¤è¿è¡Œçš„æ˜¯å½“å‰ç›®å½•åŠå­ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶å¤¹çš„æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">pytest.main()</span><br></pre></td></tr></table></figure><h2 id="å¸¦å‚æ•°è¿è¡Œ"><a href="#å¸¦å‚æ•°è¿è¡Œ" class="headerlink" title="å¸¦å‚æ•°è¿è¡Œ"></a>å¸¦å‚æ•°è¿è¡Œ</h2><p>-sï¼š æ˜¾ç¤ºç¨‹åºä¸­çš„ print&#x2F;logging è¾“å‡º<br>-v: ä¸°å¯Œä¿¡æ¯æ¨¡å¼, è¾“å‡ºæ›´è¯¦ç»†çš„ç”¨ä¾‹æ‰§è¡Œä¿¡æ¯<br>-kï¼š è¿è¡ŒåŒ…å«æŸä¸ªå­—ç¬¦ä¸²çš„æµ‹è¯•ç”¨ä¾‹ã€‚å¦‚ï¼špytest -k add XX.py è¡¨ç¤ºè¿è¡Œ XX.py ä¸­åŒ…å« add çš„æµ‹è¯•ç”¨ä¾‹ã€‚<br>-q: ç®€å•è¾“å‡ºæ¨¡å¼, ä¸è¾“å‡ºç¯å¢ƒä¿¡æ¯<br>-x: å‡ºç°ä¸€æ¡æµ‹è¯•ç”¨ä¾‹å¤±è´¥å°±é€€å‡ºæµ‹è¯•ã€‚åœ¨è°ƒè¯•é˜¶æ®µéå¸¸æœ‰ç”¨ï¼Œå½“æµ‹è¯•ç”¨ä¾‹å¤±è´¥æ—¶ï¼Œåº”è¯¥å…ˆè°ƒè¯•é€šè¿‡ï¼Œè€Œä¸æ˜¯ç»§ç»­æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ã€‚</p><p>ä¸åŒå‚æ•°è¿è¡Œæ–¹å¼å˜åŒ–ï¼š</p><table><thead><tr><th>main()</th><th>å‘½ä»¤è¡Œ</th></tr></thead><tbody><tr><td>pytest.main([â€œ-sâ€])</td><td>pytest -s</td></tr><tr><td>pytest.main([â€œ-sâ€, â€œ-xâ€])</td><td>pytest -s -x</td></tr></tbody></table><h2 id="è¿è¡Œç”¨ä¾‹æ–¹æ³•"><a href="#è¿è¡Œç”¨ä¾‹æ–¹æ³•" class="headerlink" title="è¿è¡Œç”¨ä¾‹æ–¹æ³•"></a>è¿è¡Œç”¨ä¾‹æ–¹æ³•</h2><p>mainæ–¹æ³•å’Œå‘½ä»¤è¡Œè¿è¡Œéƒ½æ˜¯åŸºäºå½“å‰æ‰€åœ¨ç›®å½•å¡«å†™ï¼šç›®å½•å‚æ•°çš„ã€‚</p><table><thead><tr><th></th><th>mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œ</th><th>å‘½ä»¤è¡Œè¿è¡Œ</th></tr></thead><tbody><tr><td><font color=blue>æ‰§è¡ŒæŸä¸ªç›®å½•ä¸‹çš„ç”¨ä¾‹</font></td><td>pytest.main([â€œLearn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_caseâ€])</td><td>pytest Learn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_case&#x2F;</td></tr><tr><td><font color=blue>æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„ç”¨ä¾‹</font></td><td>pytest.main([â€œLearn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_case&#x2F;test_blogger_page.pyâ€])</td><td>pytest Learn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_case&#x2F;test_login_page.py</td></tr><tr><td><font color=blue>æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„å“ªä¸ªç”¨ä¾‹ï¼ˆ::åé¢æ˜¯æµ‹è¯•ç”¨ä¾‹ç±»åï¼‰</font></td><td>pytest.main([â€œLearn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_case&#x2F;test_login_page.py::Test_Auto_Articleâ€])</td><td>pytest Learn&#x2F;learn_selenium&#x2F;selenium_pytest_encapsulation&#x2F;test_case&#x2F;test_login_page.py::Test_Auto_Article</td></tr></tbody></table><p>mainï¼ˆï¼‰æ–¹æ³•è¿è¡Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="comment"># æ‰§è¡ŒæŸä¸ªç›®å½•ä¸‹çš„ç”¨ä¾‹</span></span><br><span class="line">pytest.main([<span class="string">&quot;Learn/learn_selenium/selenium_pytest_encapsulation/test_case&quot;</span>])</span><br><span class="line"><span class="comment"># æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„ç”¨ä¾‹</span></span><br><span class="line">pytest.main([<span class="string">&quot;Learn/learn_selenium/selenium_pytest_encapsulation/test_case/test_blogger_page.py&quot;</span>])</span><br><span class="line"><span class="comment"># æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„å“ªä¸ªç”¨ä¾‹ï¼ˆ::åé¢æ˜¯æµ‹è¯•ç”¨ä¾‹ç±»åï¼‰</span></span><br><span class="line">pytest.main([<span class="string">&quot;Learn/learn_selenium/selenium_pytest_encapsulation/test_case/test_login_page.py::Test_Auto_Article&quot;</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å‘½ä»¤è¡Œè¿è¡Œå¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰§è¡ŒæŸä¸ªç›®å½•ä¸‹çš„ç”¨ä¾‹</span></span><br><span class="line">pytest Learn/learn_selenium/selenium_pytest_encapsulation/test_case/</span><br><span class="line"><span class="comment"># æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„ç”¨ä¾‹</span></span><br><span class="line">pytest Learn/learn_selenium/selenium_pytest_encapsulation/test_case/test_login_page.py</span><br><span class="line"><span class="comment"># æ‰§è¡Œå…·ä½“åˆ°å“ªä¸ªæ–‡ä»¶çš„å“ªä¸ªç”¨ä¾‹ï¼ˆ::åé¢æ˜¯æµ‹è¯•ç”¨ä¾‹ç±»åï¼‰</span></span><br><span class="line">pytest Learn/learn_selenium/selenium_pytest_encapsulation/test_case/test_login_page.py::Test_Auto_Article</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-pytestå•å…ƒæµ‹è¯•æ¡†æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium pytestè‡ªåŠ¨åŒ–æµ‹è¯•</title>
      <link href="/2022/10/25/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/selenium%20pytest%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
      <url>/2022/10/25/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/selenium%20pytest%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å‰è¨€ï¼šæœ¬æ–‡æ˜¯å€ŸåŠ©Djangoçš„åå°ç®¡ç†æ¥è¾…åŠ©è‡ªåŠ¨åŒ–æµ‹è¯•æ‰€éœ€çš„é¡¹ç›®æ¡ä»¶ï¼Œåœ¨ç™»é™†åå¯¹æ–‡ç« æ•°æ®å’Œåšä¸»æ•°æ®è¿›è¡Œå¢åˆ æŸ¥æ“ä½œã€‚</p><ul><li><strong>&#x3D;&#x3D;æ•´ç¯‡ä»£ç æ˜¯æ ¹æ®ã€Š&#x3D;&#x3D;</strong>&#x3D;&#x3D;selenium unittestè‡ªåŠ¨åŒ–æµ‹è¯•åŸå‹ï¼ˆå°è£…ï¼‰&#x3D;&#x3D;<strong>&#x3D;&#x3D;ã€‹ç¯‡ä»£ç æ”¹ç¼–çš„ã€‚&#x3D;&#x3D;</strong></li></ul><p>&amp;#x9;å­¦ä¹ æœ¬æ–‡å†…å®¹ä¹‹å‰ï¼Œå¯ä»¥å…ˆå›é¡¾ä¸‹å‰é¢å†™çš„seleniumç¯‡å’Œpytestç¯‡</p><h2 id="ä¸€ã€æµ‹è¯•å‰å‡†å¤‡"><a href="#ä¸€ã€æµ‹è¯•å‰å‡†å¤‡" class="headerlink" title="ä¸€ã€æµ‹è¯•å‰å‡†å¤‡"></a>ä¸€ã€æµ‹è¯•å‰å‡†å¤‡</h2><p>Djangoé¡¹ç›®ç®€ä»‹å…·ä½“ä»£ç åœ¨ï¼š<a href="https://github.com/Wanghan123-github/Django_test">https://github.com/Wanghan123-github/Django_test</a></p><h2 id="äºŒã€çº¿æ€§è„šæœ¬"><a href="#äºŒã€çº¿æ€§è„šæœ¬" class="headerlink" title="äºŒã€çº¿æ€§è„šæœ¬"></a>äºŒã€çº¿æ€§è„šæœ¬</h2><p><strong>è¿™é‡Œå…ˆæ’å…¥ä¸€æ®µæ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„selenium å’Œ unittest ç»“åˆå®ç°çš„è‡ªåŠ¨åŒ–æµ‹è¯•åŸå‹ä»£ç ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"></span><br><span class="line"><span class="comment"># Googleé©±åŠ¨</span></span><br><span class="line">driver_path = <span class="string">r&quot;/Users/wanghan/Downloads/chromedriver&quot;</span></span><br><span class="line">driver = webdriver.Chrome(executable_path=driver_path)</span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://127.0.0.1:8000/admin/&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Auto_Article</span>(unittest.TestCase):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†åå°ç®¡ç†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_login_admin</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_get_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Articles&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>).click()</span><br><span class="line">        <span class="comment"># ç‚¹å‡»æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_title&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_content&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        <span class="comment"># ç¡®è®¤æ·»åŠ </span></span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;default&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_blogger</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥åšä¸»æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Blogger&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_name&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        <span class="comment"># é€‰æ‹©åšä¸»çš„ç­‰çº§ï¼ˆå¤šé€‰æ¡†æ“ä½œï¼‰</span></span><br><span class="line">        <span class="comment"># å…¶ä¸­å¤šé€‰æœ‰ä¸‰ç§ï¼š1. é€šè¿‡æ–‡æœ¬é€‰ä¸­ 2. é€šè¿‡valueå±æ€§é€‰ä¸­ 3. é€šè¿‡ä¸‹æ ‡é€‰ä¸­</span></span><br><span class="line">        sel = Select(driver.find_element(By.ID, <span class="string">&quot;id_level&quot;</span>))</span><br><span class="line">        sel.select_by_value(<span class="string">&quot;L&quot;</span>)</span><br><span class="line">        <span class="comment"># ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_picture&quot;</span>).send_keys(<span class="string">&quot;/Users/wanghan/Desktop/å›¾ç‰‡/è¡¨æƒ…åŒ…/109951167799422820.jpg&quot;</span>)</span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;default&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_delete_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>).click()</span><br><span class="line">        <span class="comment"># å¯¹å±•ç¤ºçš„å¤šæ¡æ•°æ®è¿›è¡Œå•ä¸€åˆ é™¤çš„æ“ä½œ</span></span><br><span class="line"><span class="comment"># è·å–æ•°æ®åˆ—è¡¨</span></span><br><span class="line">        tr_list = driver.find_elements(By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(tr_list)</span><br><span class="line">        <span class="comment"># å¦‚æœæ•°æ®åˆ—è¡¨çš„é•¿åº¦å¤§äº0è¯´æ˜æœ‰æ•°æ®ï¼Œæˆ‘ä»¬é»˜è®¤åˆ é™¤æœ€ä¸Šé¢çš„é‚£ä¸ª</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tr_list) &gt; <span class="number">0</span>:</span><br><span class="line">            driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr[1]/th/a&quot;</span>).click()</span><br><span class="line">            <span class="comment"># ç‚¹å‡»åˆ é™¤æŒ‰é’®</span></span><br><span class="line">            driver.find_element(By.CLASS_NAME, <span class="string">&quot;deletelink&quot;</span>).click()</span><br><span class="line">            <span class="comment"># ç¡®è®¤åˆ é™¤</span></span><br><span class="line">            driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;content&#x27;]/form/div/input[2]&quot;</span>).click()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æš‚æ—¶æ²¡æœ‰å¯åˆ é™¤çš„æ•°æ®&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢éƒ½æ˜¯ä¸€äº›ç®€å•çš„è¾“å…¥æ–‡æœ¬å’Œä¸€äº›ç‚¹å‡»äº‹ä»¶çš„æ“ä½œï¼Œä»¥åŠé¢å¤–å¢åŠ äº†ä¸€äº›å¤šé€‰æ¡†å’Œå¤šæ¡æ•°æ®å±•ç¤ºé€‰æ‹©å…¶ä¸€è¿›è¡Œæ“ä½œã€‚ä½†æ˜¯å¾ˆå®¹æ˜“çœ‹å‡ºè¿™æ ·çš„ä»£ç é‡Œé‡å¤çš„å†…å®¹å¾ˆå¤šï¼Œå¦‚æœåœ¨æ›´ä¸ºå¤æ‚çš„éœ€æ±‚ä¸Šï¼Œå®ƒçš„ä»£ç é‡ä¹Ÿä¼šå¤§å¤§çš„å¢åŠ ã€‚</p><h2 id="ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰"><a href="#ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰" class="headerlink" title="ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰"></a>ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰</h2><p>&amp;#x9;çº¿æ€§è„šæœ¬æœ‰å¾ˆå¤šé‡å¤ä½¿ç”¨çš„ä»£ç ï¼Œå°è£…å°±æ˜¯ä¸ºäº†é‡å¤ä½¿ç”¨ä»£ç ï¼Œä¸ºäº†æ–¹ä¾¿ç»´æŠ¤</p><p>&amp;#x9;å…¶ä¸­è®¾è®¡æ¨¡å¼ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼š</p><ol><li>&amp;#x20;  åŸºç¡€å±‚ï¼šä¸»è¦å­˜æ”¾seleniumåŸç”Ÿçš„æ–¹æ³•</li><li>&amp;#x20;  åŠ¨ä½œå±‚ï¼šä¸»è¦ç”¨äºå­˜æ”¾å®šä½é¡µé¢å…ƒç´ å’Œé¡µé¢åŠ¨ä½œã€‚å¤šäººå¼€å‘æ—¶å¯ä»¥æ¯ä¸ªé¡µé¢ä¸€ä¸ªpyæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ä¸€ä¸ªæµ‹è¯•ç±»ã€‚<br>ï¼ˆå¤šäººè¯¦è§ï¼šã€Špytestå•å…ƒæµ‹è¯•æ¡†æ¶â€“Pytest POMæ¨¡å‹ã€‹ç¯‡ï¼‰</li><li>&amp;#x20;  æµ‹è¯•ç”¨ä¾‹å±‚ï¼šä¸»è¦ç”¨äºæ‰§è¡ŒåŠ¨ä½œå±‚å’Œå­˜æ”¾æµ‹è¯•æ•°æ®&amp;#x20;</li><li>&amp;#x20;  é…ç½®å±‚ï¼šä¸»è¦ç”¨äºå­˜æ”¾æµ‹è¯•æ•°æ®æ–‡ä»¶ã€‚yamlç­‰</li><li>&amp;#x20;  è¯»å–é…ç½®å±‚ï¼šä¸»è¦ç”¨äºå­˜æ”¾è¯»å–yamlæ–‡ä»¶çš„pyæ–‡ä»¶ &amp;#x20;</li><li>&amp;#x20;  æµ‹è¯•æŠ¥å‘Šå±‚ï¼šä¸»è¦ç”¨äºå­˜æ”¾æµ‹è¯•æŠ¥å‘Š</li></ol><p><img src="https://s1.ax1x.com/2022/10/26/xWwgZ8.png" alt="xWwgZ8.png"></p><h3 id="åŸºç¡€å±‚ä»£ç ï¼š"><a href="#åŸºç¡€å±‚ä»£ç ï¼š" class="headerlink" title="åŸºç¡€å±‚ä»£ç ï¼š"></a>åŸºç¡€å±‚ä»£ç ï¼š</h3><p>åŸºç¡€å±‚å­˜æ”¾çš„éƒ½æ˜¯seleniumåŸç”Ÿçš„æ“ä½œæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŸºç¡€å±‚ï¼Œç”¨æ¥æ”¾seleniumåŸç”Ÿçš„æ–¹æ³•</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        s = Service(executable_path=<span class="string">r&quot;/Users/wanghan/Downloads/chromedriver&quot;</span>)</span><br><span class="line">        self.driver = webdriver.Chrome(service=s)</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://127.0.0.1:8000/admin/&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å…ƒç´ </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">locator_element</span>(<span class="params">self, loc</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        locï¼šå…ƒç¥–ç±»å‹</span></span><br><span class="line"><span class="string">        *: è§£åŒ…</span></span><br><span class="line"><span class="string">        ç”±äºfind_elementï¼ˆï¼‰åªæ¥æ”¶ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.driver.find_element(*loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½è¾“å…¥å€¼æ“ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send_keys</span>(<span class="params">self, loc, value</span>):</span><br><span class="line">        self.locator_element(loc).send_keys(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½ç‚¹å‡»æ“ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">click</span>(<span class="params">self, loc</span>):</span><br><span class="line">        self.locator_element(loc).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å¤šé€‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">choice_select_element</span>(<span class="params">self, loc, value</span>):</span><br><span class="line">        sel = Select(self.locator_element(loc))</span><br><span class="line">        sel.select_by_value(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å…ƒç´ åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">locator_elements</span>(<span class="params">self, loc</span>):</span><br><span class="line">        <span class="keyword">return</span> self.driver.find_elements(*loc)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åŠ¨ä½œå±‚ä»£ç ï¼š"><a href="#åŠ¨ä½œå±‚ä»£ç ï¼š" class="headerlink" title="åŠ¨ä½œå±‚ä»£ç ï¼š"></a>åŠ¨ä½œå±‚ä»£ç ï¼š</h3><p>åŠ¨ä½œå±‚æ˜¯é€šè¿‡è°ƒç”¨åŸºç¡€å±‚seleniumåŸç”Ÿçš„æ–¹æ³•æ¥å®ç°é¡µé¢æ“ä½œæ—¶çš„åŠ¨ä½œï¼Œå­˜æ”¾çš„éƒ½æ˜¯é¡µé¢çš„å…ƒç´ å’Œé¡µé¢çš„åŠ¨ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.base.base_page <span class="keyword">import</span> BasePage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ActionPage</span>(<span class="title class_ inherited__">BasePage</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.password = password</span><br><span class="line">        <span class="built_in">super</span>(ActionPage, self).__init__()</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ¨ä½œå±‚ï¼Œé€šè¿‡è°ƒç”¨åŸºç¡€å±‚æ¥å®ç°å…·ä½“çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    username_loc = (By.ID, <span class="string">&quot;id_username&quot;</span>)</span><br><span class="line">    password_loc = (By.ID, <span class="string">&quot;id_password&quot;</span>)</span><br><span class="line">    login_loc = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>)</span><br><span class="line">    <span class="comment"># æ–­è¨€</span></span><br><span class="line">    assertions_loc = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;user-tools&#x27;]/a[3]&quot;</span>)</span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« å…³é”®å­—</span></span><br><span class="line">    article_info_loc = (By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>)</span><br><span class="line">    addlink_article_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    title_loc = (By.ID, <span class="string">&quot;id_title&quot;</span>)</span><br><span class="line">    content_loc = (By.ID, <span class="string">&quot;id_content&quot;</span>)</span><br><span class="line">    submit_add = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»å…³é”®å­—</span></span><br><span class="line">    blogger_loc = (By.LINK_TEXT, <span class="string">&quot;Blogger&quot;</span>)</span><br><span class="line">    addlink_blogger_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    name_loc = (By.ID, <span class="string">&quot;id_name&quot;</span>)</span><br><span class="line">    sel_loc = (By.ID, <span class="string">&quot;id_level&quot;</span>)</span><br><span class="line">    blogger_pic_loc = (By.ID, <span class="string">&quot;id_picture&quot;</span>)</span><br><span class="line">    blogger_submit_pic_loc = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« æ•°æ®</span></span><br><span class="line">    article_list_tr = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr&quot;</span>)</span><br><span class="line">    article_list_tr_a = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr[1]/th/a&quot;</span>)</span><br><span class="line">    delete_article_link = (By.CLASS_NAME, <span class="string">&quot;deletelink&quot;</span>)</span><br><span class="line">    delete_article_link_submit = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;content&#x27;]/form/div/input[2]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†çš„åŠ¨ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">login_ecshop</span>(<span class="params">self</span>):</span><br><span class="line">        self.send_keys(self.username_loc, self.username)</span><br><span class="line">        self.send_keys(self.password_loc, self.password)</span><br><span class="line">        self.click(self.login_loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–ç™»é™†ä¹‹åé¡µé¢æœ‰æ— æ³¨é”€ä¸¤å­—ï¼Œé…åˆæ–­è¨€ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">assertions_get_login_value</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.locator_element(self.assertions_loc).text</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_article</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        self.click(self.addlink_article_loc)</span><br><span class="line">        self.send_keys(self.title_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.send_keys(self.content_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.click(self.submit_add)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_blogger</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.blogger_loc)</span><br><span class="line">        self.click(self.addlink_blogger_loc)</span><br><span class="line">        self.send_keys(self.name_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.choice_select_element(self.sel_loc, <span class="string">&quot;L&quot;</span>)</span><br><span class="line">        self.send_keys(self.blogger_pic_loc, <span class="string">&quot;/Users/wanghan/Desktop/å›¾ç‰‡/è¡¨æƒ…åŒ…/109951167799422820.jpg&quot;</span>)</span><br><span class="line">        self.click(self.blogger_submit_pic_loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete_article</span>(<span class="params">self</span>):</span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        tr_list = self.locator_elements(self.article_list_tr)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tr_list) &gt; <span class="number">0</span>:</span><br><span class="line">            self.click(self.article_list_tr_a)</span><br><span class="line">            self.click(self.delete_article_link)</span><br><span class="line">            self.click(self.delete_article_link_submit)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æš‚æ—¶æ²¡æœ‰å¯åˆ é™¤çš„æ•°æ®&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è¯»å–é…ç½®å±‚"><a href="#è¯»å–é…ç½®å±‚" class="headerlink" title="è¯»å–é…ç½®å±‚"></a>è¯»å–é…ç½®å±‚</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_config</span>():</span><br><span class="line">    config_path = Path(__file__).parent.parent.joinpath(<span class="string">&quot;data/Django_Admin_Message.xlsx&quot;</span>)</span><br><span class="line">    df = pd.read_excel(config_path)</span><br><span class="line">    data = df[[<span class="string">&quot;ç”¨æˆ·å&quot;</span>,<span class="string">&quot;å¯†ç &quot;</span>]].values.tolist()</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    read_config()</span><br></pre></td></tr></table></figure><h3 id="pytestæµ‹è¯•ç”¨ä¾‹ç®€ä»‹"><a href="#pytestæµ‹è¯•ç”¨ä¾‹ç®€ä»‹" class="headerlink" title="pytestæµ‹è¯•ç”¨ä¾‹ç®€ä»‹"></a>pytestæµ‹è¯•ç”¨ä¾‹ç®€ä»‹</h3><p>ï¼ˆæœ¬ç®€ä»‹ä»…ç›¸å¯¹äºæ­¤æ¬¡unittestä»£ç æ”¹pytestè€Œè¨€ï¼‰</p><ol><li>æ¨¡å—åå¿…é¡»ä»¥test_å¼€å¤´æˆ–è€…_testç»“å°¾ï¼Œæµ‹è¯•ç±»å¿…é¡»ä»¥Testå¼€å¤´ï¼Œå¹¶ä¸”ä¸èƒ½æœ‰initæ–¹æ³•ï¼Œæµ‹è¯•æ–¹æ³•å¿…é¡»ä»¥testå¼€å¤´</li><li>pytestä¸åƒunittestéœ€è¦ç»§æ‰¿å®ƒçš„TestCaseç±»ï¼Œ</li><li>ä¹Ÿä¸éœ€è¦åœ¨ç±»æ·»åŠ è£…é¥°å™¨@ddtå£°æ˜ä¼ é€’å‚æ•°ï¼Œä¸éœ€è¦åœ¨æµ‹è¯•æ–¹æ³•ä¸ŠåŠ å…¥unittestçš„è£…é¥°å™¨@data()å’Œ@unpackæ¥ä¼ å‚æ•°å’Œæ‹†åˆ†çš„ï¼Œpytestçš„å‚æ•°ä¼ é€’ä¹Ÿæ˜¯é€šè¿‡pytest.mark.parametrizeä¼ é€’å’Œæ‹†åˆ†çš„ã€‚</li><li>æ–­è¨€ä¹Ÿæ˜¯pythonè‡ªå¸¦çš„assertè¿›è¡Œæ–­è¨€ï¼Œä¸éœ€è¦unittestçš„self.assertEqual()æ–­è¨€ï¼Œ<br>æ‰€ä»¥åœ¨unittestçš„ä»£ç åŸºç¡€ä¸Šæ˜¯å¾ˆå¥½ä¿®æ”¹åˆ°pytestçš„ã€‚</li></ol><h3 id="æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š"><a href="#æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š"></a>æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š</h3><p><strong>æµ‹è¯•ç”¨ä¾‹å±‚åˆ™æ˜¯å¯¹å°è£…å¥½çš„åŠ¨ä½œè¿›è¡Œè°ƒç”¨</strong></p><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“ç™»é™†</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ â€œ/Learnâ€ç›®å½•ç¯å¢ƒ</span></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Article</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†åå°ç®¡ç†</span></span><br><span class="line">    <span class="comment"># pytestæ˜¯é€šè¿‡parametrizeä¼ é€’å‚æ•°çš„ï¼Œå¦‚ä½•è¦ä¼ é€’å¤šä¸ªå‚æ•°å¹¶æ‹†åˆ†ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å†™å…¥å¤šä¸ªï¼Œå³å¯è‡ªåŠ¨æ‹†åˆ†</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_login_admin</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ActionPage(username, password)</span><br><span class="line">        lp.login_ecshop()</span><br><span class="line">        <span class="comment"># æ–­è¨€</span></span><br><span class="line">        <span class="keyword">assert</span> lp.assertions_get_login_value() == <span class="string">&quot;æ³¨é”€&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“æ–‡ç« </font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Article</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="comment"># pytestæ˜¯é€šè¿‡parametrizeä¼ é€’å‚æ•°çš„ï¼Œå¦‚ä½•è¦ä¼ é€’å¤šä¸ªå‚æ•°å¹¶æ‹†åˆ†ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å†™å…¥å¤šä¸ªï¼Œå³å¯è‡ªåŠ¨æ‹†åˆ†</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ActionPage(username, password)</span><br><span class="line">        lp.add_article()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_delete_article</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ActionPage(username, password)</span><br><span class="line">        lp.delete_article()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“åšä¸»</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line"></span><br><span class="line">sys.path.append(<span class="built_in">str</span>(Path(__file__).parent.parent.parent.parent.parent))</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_pytest_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"><span class="keyword">from</span> learn_selenium.selenium_pytest_encapsulation.config.read_excel <span class="keyword">import</span> read_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test_Auto_Article</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»</span></span><br><span class="line">    <span class="comment"># pytestæ˜¯é€šè¿‡parametrizeä¼ é€’å‚æ•°çš„ï¼Œå¦‚ä½•è¦ä¼ é€’å¤šä¸ªå‚æ•°å¹¶æ‹†åˆ†ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°å†™å…¥å¤šä¸ªï¼Œå³å¯è‡ªåŠ¨æ‹†åˆ†</span></span><br><span class="line"><span class="meta">    @pytest.mark.parametrize(<span class="params"><span class="string">&quot;username,password&quot;</span>, read_config(<span class="params"></span>)</span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_blogger</span>(<span class="params">self, username, password</span>):</span><br><span class="line">        lp = ActionPage(username, password)</span><br><span class="line">        lp.add_blogger()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"><a href="#æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹" class="headerlink" title="æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹"></a>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹</h3><p>run.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pytest</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># å…·ä½“å‚æ•°å¯ä»¥çœ‹pytestç¯‡</span></span><br><span class="line">    pytest.main([<span class="string">&#x27;-vs&#x27;</span>,<span class="string">&#x27;--alluredir=reports-dir&#x27;</span>])</span><br></pre></td></tr></table></figure><h1 id="è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"><a href="#è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š" class="headerlink" title="è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"></a>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</h1><h2 id="allureå·¥å…·"><a href="#allureå·¥å…·" class="headerlink" title="allureå·¥å…·"></a>allureå·¥å…·</h2><p><strong>æ˜¯ä¸€æ¬¾å¯ä»¥ç”Ÿæˆæµ‹è¯•æŠ¥å‘Šçš„å·¥å…·ï¼Œé…åˆpytestä½¿ç”¨</strong></p><h4 id="1-éœ€è¦é…ç½®Javaç¯å¢ƒ"><a href="#1-éœ€è¦é…ç½®Javaç¯å¢ƒ" class="headerlink" title="1. éœ€è¦é…ç½®Javaç¯å¢ƒ"></a>1. éœ€è¦é…ç½®Javaç¯å¢ƒ</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/downloads/#java8-mac">https://www.oracle.com/java/technologies/downloads/#java8-mac</a></p><p><strong>å‚»ç“œå¼å®‰è£…å³å¯</strong></p><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java --version</span><br></pre></td></tr></table></figure><h4 id="2-éœ€è¦æœ¬åœ°ä¸‹è½½allure"><a href="#2-éœ€è¦æœ¬åœ°ä¸‹è½½allure" class="headerlink" title="2. éœ€è¦æœ¬åœ°ä¸‹è½½allure"></a>2. éœ€è¦æœ¬åœ°ä¸‹è½½allure</h4><p>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/allure-framework/allure2">https://github.com/allure-framework/allure2</a></p><p><strong>Macå®‰è£…ï¼š</strong></p><pre><code>ç»ˆç«¯ï¼š    brew install allure</code></pre><p><strong>Windowså®‰è£…ï¼š</strong></p><pre><code>1.é€‰æ‹© zip åŒ…ä¸‹è½½å¹¶è§£å‹åˆ°ä¸€ä¸ªç›®å½•2.é…ç½® bin æ–‡ä»¶å¤¹åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡3.æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸï¼Œåœ¨ç»ˆç«¯æ‰§è¡Œ</code></pre><p>æµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure --version</span><br></pre></td></tr></table></figure><h4 id="3-pipå®‰è£…allureåŒ…"><a href="#3-pipå®‰è£…allureåŒ…" class="headerlink" title="3.pipå®‰è£…allureåŒ…"></a>3.pipå®‰è£…allureåŒ…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install allure-pytest </span><br></pre></td></tr></table></figure><h2 id="ç”Ÿæˆ"><a href="#ç”Ÿæˆ" class="headerlink" title="ç”Ÿæˆ"></a>ç”Ÿæˆ</h2><h4 id="ç¬¬ä¸€ç§ï¼šmainï¼ˆï¼‰æ–¹æ³•è¿è¡Œ"><a href="#ç¬¬ä¸€ç§ï¼šmainï¼ˆï¼‰æ–¹æ³•è¿è¡Œ" class="headerlink" title="ç¬¬ä¸€ç§ï¼šmainï¼ˆï¼‰æ–¹æ³•è¿è¡Œ"></a>ç¬¬ä¸€ç§ï¼šmainï¼ˆï¼‰æ–¹æ³•è¿è¡Œ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest.main([<span class="string">&#x27;-vs&#x27;</span>,<span class="string">&#x27;--alluredir=æµ‹è¯•æŠ¥å‘Šçš„ç›®å½•&#x27;</span>])</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼špytest.main([â€˜-vsâ€™,â€™â€“alluredir&#x3D;reportsâ€™])</p><ul><li>--alluredirï¼šalltureæŠ¥å‘Šå†…å®¹ç”Ÿæˆçš„è·¯å¾„ï¼Œç”Ÿæˆç»“æœé»˜è®¤ä¸æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹çš„æ–‡ä»¶åŒçº§</li></ul><h4 id="allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"><a href="#allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š" class="headerlink" title="allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"></a>allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure serve æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼šallure serve reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW3Yt0.png" alt="xW3Yt0.png"></p><h4 id="ç¬¬äºŒç§ï¼šå‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œ"><a href="#ç¬¬äºŒç§ï¼šå‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œ" class="headerlink" title="ç¬¬äºŒç§ï¼šå‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œ"></a>ç¬¬äºŒç§ï¼šå‘½ä»¤è¡Œæ–¹æ³•è¿è¡Œ</h4><p>å‰ææ˜¯å…ˆè¿›å…¥æµ‹è¯•é¡¹ç›®çš„ç›®å½•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest æµ‹è¯•ç”¨ä¾‹æ‰€åœ¨ç›®å½• --alluredir=æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼špytest .&#x2F; â€“alluredir&#x3D;reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW8C40.png" alt="xW8C40.png"></p><h4 id="allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š-1"><a href="#allure-å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š-1" class="headerlink" title="allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š"></a>allure å‘½ä»¤è§£æå¹¶æŸ¥çœ‹æŠ¥å‘Š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">allure serve æµ‹è¯•æŠ¥å‘Šç›®å½•</span><br></pre></td></tr></table></figure><p>å‘½ä»¤ç¤ºä¾‹ï¼šallure serve reports</p><p><img src="https://s1.ax1x.com/2022/10/26/xW8iCV.png" alt="xW8iCV.png"></p><p>æŠ¥å‘Šæ˜¾ç¤ºï¼š<br><img src="https://s1.ax1x.com/2022/10/26/xW8AvF.png" alt="xW8AvF.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-è‡ªåŠ¨åŒ–æµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å€ŸåŠ©HTMLTestRunnerè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</title>
      <link href="/2022/10/24/Python/%E6%A8%A1%E5%9D%97/unittest/%E5%80%9F%E5%8A%A9HTMLTestRunner%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/"/>
      <url>/2022/10/24/Python/%E6%A8%A1%E5%9D%97/unittest/%E5%80%9F%E5%8A%A9HTMLTestRunner%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90%E6%B5%8B%E8%AF%95%E6%8A%A5%E5%91%8A/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="amp-x20-å‡†å¤‡"><a href="#amp-x20-å‡†å¤‡" class="headerlink" title="&amp;#x20;å‡†å¤‡"></a>&amp;#x20;å‡†å¤‡</h2><h4 id="å¯¼å…¥HTMLTestRunneræ¨¡å—"><a href="#å¯¼å…¥HTMLTestRunneræ¨¡å—" class="headerlink" title="å¯¼å…¥HTMLTestRunneræ¨¡å—"></a>å¯¼å…¥HTMLTestRunneræ¨¡å—</h4><p>ä¸èƒ½é€šè¿‡pipå®‰è£…çš„æ–¹å¼å¯¼å…¥ï¼Œéœ€è¦ç½‘ä¸Šå¤åˆ¶HTMLTestRunner.pyçš„å†…å®¹ï¼Œç„¶åç²˜è´´åˆ°ä¸€ä¸ªæ–°çš„HTMLTestRunner.pyæ–‡ä»¶ä¸­æ”¾åœ¨æ‰§è¡Œæµ‹è¯•æŠ¥å‘Šçš„åŒä¸€çº§ç›®å½•ï¼Œæˆ–è€…ï¼Œå°†å…¶æ”¾è‡³pythonå®‰è£…ç›®å½•ä¸‹çš„Libä¸‹å³å¯ç›´æ¥ä½¿ç”¨ï¼›</p><p>ä½†ç½‘ä¸Šâ€œ<a href="http://tungwaiyip.info/software/HTMLTestRunner.html">http://tungwaiyip.info/software/HTMLTestRunner.html</a>â€ä¸å…¼å®¹python3ï¼Œæ•…å¯åœ¨ç½‘ä¸Šç›´æ¥æœç´¢æ”¯æŒpython3çš„ç‰ˆæœ¬ï¼Œæˆ–æ˜¯ç›´æ¥åšä»¥ä¸‹ä¿®æ”¹ï¼š</p><pre><code>ç¬¬94è¡Œï¼Œå°†import StringIOä¿®æ”¹æˆimport ioç¬¬539è¡Œï¼Œå°†self.outputBuffer = StringIO.StringIO()ä¿®æ”¹æˆself.outputBuffer= io.StringIO()ç¬¬631è¡Œï¼Œå°†print &gt;&gt; sys.stderr, â€˜\nTime Elapsed: %sâ€˜ %(self.stopTime-self.startTime)ä¿®æ”¹æˆprint(sys.stderr, â€˜\nTimeElapsed: %sâ€˜ % (self.stopTime-self.startTime))ç¬¬642è¡Œï¼Œå°†if not rmap.has_key(cls):ä¿®æ”¹æˆif not cls in rmap:ç¬¬766è¡Œï¼Œå°†uo = o.decode(â€˜latin-1â€˜)ä¿®æ”¹æˆuo = eç¬¬775è¡Œï¼Œå°†ue = e.decode(â€˜latin-1â€˜)ä¿®æ”¹æˆue = e</code></pre><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ul><li>import HTMLTestRunnerï¼šå¯¼å…¥HTMLTestRunner</li><li>HTMLTestRunner.HTMLTestRunner(stream&#x3D;sys.stdout, verbosity&#x3D;1, title&#x3D;None, description&#x3D;None)<br>streamï¼šè¾“å‡ºæŠ¥å‘Šçš„åœ°å€ï¼›<br>verbosityï¼šæŠ¥å‘Šå†…å®¹çš„è¯¦ç»†ç¨‹åº¦ï¼Œ2è¡¨ç¤ºå¾ˆè¯¦ç»†ï¼›<br>titleï¼šæŠ¥å‘Šçš„æ ‡é¢˜ï¼›<br>descriptionï¼šæŠ¥å‘Šçš„è¯¦ç»†æè¿°ï¼›</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span></span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> HTMLTestRunner</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># æµ‹è¯•ç”¨ä¾‹ä¿å­˜çš„ç›®å½•</span></span><br><span class="line">    case_dirs = <span class="string">r&quot;/Users/wanghan/Desktop/code/project_test/Learn/learn_selenium/selenium_unittest_encapsulation/test_case&quot;</span></span><br><span class="line">    <span class="comment"># åŠ è½½æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">    discover = unittest.defaultTestLoader.discover(case_dirs, <span class="string">&quot;*_page.py&quot;</span>)</span><br><span class="line">    <span class="comment"># è¿è¡Œæµ‹è¯•ç”¨ä¾‹åŒæ—¶ä¿å­˜æµ‹è¯•æŠ¥å‘Š</span></span><br><span class="line">    test_report_path = <span class="string">&quot;/Users/wanghan/Desktop/code/project_test/Learn/learn_selenium/selenium_unittest_encapsulation/report.html&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(test_report_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> report_file:</span><br><span class="line">        runner = HTMLTestRunner.HTMLTestRunner(stream=report_file, title=<span class="string">&quot;è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š&quot;</span>, description=<span class="string">&quot;æ–‡ç« å’Œåšä¸»åŠŸèƒ½æ€§æµ‹è¯•&quot;</span>)</span><br><span class="line">        runner.run(discover)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/10/24/x2O0nx.png" alt="x2O0nx.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-unittest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataFrame--tolistå‡½æ•°ï¼ˆdfå˜listï¼‰</title>
      <link href="/2022/10/21/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/DataFrame--tolist%E5%87%BD%E6%95%B0%EF%BC%88df%E5%8F%98list%EF%BC%89/"/>
      <url>/2022/10/21/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/DataFrame--tolist%E5%87%BD%E6%95%B0%EF%BC%88df%E5%8F%98list%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="æŠŠdataframeè½¬æ¢ä¸ºlist"><a href="#æŠŠdataframeè½¬æ¢ä¸ºlist" class="headerlink" title="æŠŠdataframeè½¬æ¢ä¸ºlist"></a>æŠŠdataframeè½¬æ¢ä¸ºlist</h2><p><font size="4" color="blue">è¾“å…¥å¤šç»´dataframeï¼š </font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;å§“å&#x27;</span>:[<span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="string">&quot;æå››&quot;</span>,<span class="string">&quot;ç‹äº”&quot;</span>,<span class="string">&quot;èµµå…­&quot;</span>,<span class="string">&quot;å¼ ä¸‰&quot;</span>], <span class="string">&#x27;å¹´é¾„&#x27;</span>:[<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">78</span>]&#125;)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å§“å  å¹´é¾„</span><br><span class="line">0  å¼ ä¸‰  21</span><br><span class="line">1  æå››  22</span><br><span class="line">2  ç‹äº”  23</span><br><span class="line">3  èµµå…­  24</span><br><span class="line">4  å¼ ä¸‰  78</span><br></pre></td></tr></table></figure><p><font size="4" color="green">æŠŠç¬¬ä¸€åˆ—çš„å…ƒç´ è½¬æ¢æˆlistï¼š</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–¹æ³•1</span></span><br><span class="line">df[<span class="string">&#x27;å§“å&#x27;</span>].values.tolist() <span class="comment"># [&#x27;å¼ ä¸‰&#x27;, &#x27;æå››&#x27;, &#x27;ç‹äº”&#x27;, &#x27;èµµå…­&#x27;, &#x27;å¼ ä¸‰&#x27;]</span></span><br><span class="line"><span class="comment"># æ–¹æ³•2</span></span><br><span class="line">df[<span class="string">&#x27;å¹´é¾„&#x27;</span>].tolist() <span class="comment"># [21, 22, 23, 24, 78]</span></span><br></pre></td></tr></table></figure><p><font size="4" color="green">æŠŠç¬¬ä¸€ã€äºŒåˆ—çš„å…ƒç´ è½¬æ¢æˆlistï¼š</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å¤šåˆ—æ•°æ®</span></span><br><span class="line">df[[<span class="string">&#x27;å§“å&#x27;</span>,<span class="string">&#x27;å¹´é¾„&#x27;</span>]].values.tolist() <span class="comment"># [[&#x27;å¼ ä¸‰&#x27;, 21], [&#x27;æå››&#x27;, 22], [&#x27;ç‹äº”&#x27;, 23], [&#x27;èµµå…­&#x27;, 24], [&#x27;å¼ ä¸‰&#x27;, 78]]</span></span><br></pre></td></tr></table></figure><p><font size="4" color="green">æŠŠç¬¬ä¸€åˆ—ä¸­ä¸é‡å¤çš„å…ƒç´ è½¬æ¢æˆlistï¼š</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">&#x27;å§“å&#x27;</span>].drop_duplicates().values.tolist() <span class="comment"># [&#x27;å¼ ä¸‰&#x27;, &#x27;æå››&#x27;, &#x27;ç‹äº”&#x27;, &#x27;èµµå…­&#x27;]</span></span><br></pre></td></tr></table></figure><p><font size="4" color="blue">è¾“å…¥ä¸€ç»´dataframeï¼š</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame([<span class="number">3</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>])</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">   0</span><br><span class="line">0  3</span><br><span class="line">1  5</span><br><span class="line">2  6</span><br><span class="line">3  6</span><br><span class="line">4  7</span><br><span class="line">5  8</span><br><span class="line">6  7</span><br><span class="line">7  8</span><br><span class="line">8  9</span><br></pre></td></tr></table></figure><p><font size="4" color="green">è½¬æ¢æˆlist[list]ï¼š</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.values.tolist() <span class="comment"># [[3], [5], [6], [6], [7], [8], [7], [8], [9]]</span></span><br></pre></td></tr></table></figure><p><font size="4" color="green">æŠŠseriesè½¬æ¢ä¸ºlist</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Series.tolist()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>super</title>
      <link href="/2022/10/21/Python/%E6%A8%A1%E5%9D%97/super/super/"/>
      <url>/2022/10/21/Python/%E6%A8%A1%E5%9D%97/super/super/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ä»€ä¹ˆæ˜¯superï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯superï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯superï¼Ÿ"></a>ä»€ä¹ˆæ˜¯superï¼Ÿ</h1><p>super()å‡½æ•°æ˜¯ç”¨äºè°ƒç”¨çˆ¶ç±»çš„ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>super()ç”¨æ¥è§£å†³å¤šé‡ç»§æ‰¿é—®é¢˜çš„ï¼Œåœ¨å•ç»§æ‰¿çš„æ—¶å€™è°ƒç”¨æ­¤æ–¹æ³•æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœç”¨åˆ°å¤šç»§æ‰¿ï¼Œä¼šæ¶‰åŠåˆ°æŸ¥æ‰¾é¡ºåºï¼ˆMROï¼‰ã€é‡å¤è°ƒç”¨ï¼ˆé’»çŸ³ç»§æ‰¿ ä¹Ÿæ˜¯è±å½¢ç»§æ‰¿ï¼‰ç­‰ç§ç§é—®é¢˜ã€‚</p><h1 id="super-çš„è¡ç”Ÿ"><a href="#super-çš„è¡ç”Ÿ" class="headerlink" title="super()çš„è¡ç”Ÿ"></a>super()çš„è¡ç”Ÿ</h1><p>è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ²¡ç”¨super()å‰è°ƒç”¨ç±»æ–¹æ³•ä¸­å‡ºç°çš„å¼Šç«¯</p><p>å…ˆä¸¾ä¾‹ä¸€ä¸ªæ™®é€šçš„ç±»è°ƒç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Foo</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self, message</span>):</span><br><span class="line">    <span class="built_in">print</span>(message)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Foo().bar(<span class="string">&quot;Hello, Python.&quot;</span>)</span><br><span class="line">Hello, Python.</span><br></pre></td></tr></table></figure><p>å½“å­˜åœ¨ç»§æ‰¿å…³ç³»çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨å­ç±»è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ­¤æ—¶æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æŠŠå¯¹è±¡è°ƒç”¨è½¬æ¢æˆç±»è°ƒç”¨ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™æ˜¯selfå‚æ•°éœ€è¦æ˜¾ç¤ºä¼ é€’ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FooParent</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self, message</span>):</span><br><span class="line">    <span class="built_in">print</span>(message)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FooChild</span>(<span class="title class_ inherited__">FooParent</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self, message</span>):</span><br><span class="line">    FooParent.bar(self, message)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>FooChild().bar(<span class="string">&quot;Hello, Python.&quot;</span>)</span><br><span class="line">Hello, Python.</span><br></pre></td></tr></table></figure><p><font color=red>è¿™æ ·åšæœ‰ä¸€äº›ç¼ºç‚¹ï¼šæ¯”å¦‚è¯´å¦‚æœä¿®æ”¹äº†çˆ¶ç±»çš„åç§°ï¼Œé‚£ä¹ˆåœ¨å­ç±»ä¸­ä¼šæ¶‰åŠå¤šå¤„ä¿®æ”¹ã€‚å¦å¤–ï¼ŒPythonæ˜¯å…è®¸å¤šç»§æ‰¿è¯­è¨€çš„ï¼Œå¦‚ä¸Šæ‰€ç¤ºçš„æ–¹æ³•ï¼Œåœ¨å¤šç»§æ‰¿æ—¶å°±éœ€è¦é‡å¤å¤šæ¬¡ï¼Œæ˜¾å¾—éå¸¸ç¹çã€‚</font></p><p>&#x3D;&#x3D;ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒPythonå¼•å…¥äº†superï¼ˆï¼‰æœºåˆ¶&#x3D;&#x3D;ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FooParent</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self, message</span>):</span><br><span class="line">    <span class="built_in">print</span>(message)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FooChild</span>(<span class="title class_ inherited__">FooParent</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">bar</span>(<span class="params">self, message</span>):</span><br><span class="line">    <span class="built_in">super</span>(FooChild, self).bar(message)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f = FooChild()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f.bar(<span class="string">&quot;Helloï¼ŒPython.&quot;</span>)</span><br><span class="line">Hello, Python.</span><br></pre></td></tr></table></figure><p>è¡¨é¢ä¸Šçœ‹super(FooChild,self).bar(message)æ–¹æ³•å’ŒFooChild().bar(â€œHello, Python.â€)è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ä¸åŒï¼Œä½†æ˜¯ç»“æœä¸€è‡´ã€‚å®é™…ä¸Šçœ‹è¿™ä¸¤ç§æ–¹æ³•çš„å†…éƒ¨å¤„ç†æœºåˆ¶å¤§å¤§ä¸åŒï¼Œå½“æ¶‰åŠåˆ°å¤šç»§æ‰¿æƒ…å†µæ—¶ï¼Œå°±ä¼šè¡¨ç°å‡ºæ¥ã€‚ä¾‹å¦‚ï¼š</p><p>ä»£ç ä¸€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter A&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave A&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter B&quot;</span>)</span><br><span class="line">    A.__init__(self)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave B&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter C&quot;</span>)</span><br><span class="line">    A.__init__(self)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave C&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter D&quot;</span>)</span><br><span class="line">    A.__init__(self)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave D&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(B, C, D):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter E&quot;</span>)</span><br><span class="line">    B.__init__(self)</span><br><span class="line">    C.__init__(self)</span><br><span class="line">    D.__init__(self)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave E&quot;</span>)</span><br><span class="line">E()</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š<br>Enter E<br>Enter B<br>Enter A<br>Leave A<br>Leave B<br>Enter C<br>Enter A<br>Leave A<br>Leave C<br>Enter D<br>Enter A<br>Leave A<br>Leave D<br>Leave E</p><p><strong>æ‰§è¡Œé¡ºåºå¾ˆå¥½ç†è§£ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯å…¬å…±çˆ¶ç±»Aè¢«æ‰§è¡Œäº†å¤šæ¬¡ã€‚</strong></p><p>ä»£ç äºŒï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter A&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave A&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter B&quot;</span>)</span><br><span class="line">    <span class="built_in">super</span>(B, self).__init__()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave B&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter C&quot;</span>)</span><br><span class="line">    <span class="built_in">super</span>(C, self).__init__()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave C&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter D&quot;</span>)</span><br><span class="line">    <span class="built_in">super</span>(D, self).__init__()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave D&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">E</span>(B, C, D):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Enter E&quot;</span>)</span><br><span class="line">    <span class="built_in">super</span>(E, self).__init__()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Leave E&quot;</span>)</span><br><span class="line">E()</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š<br>Enter E<br>Enter B<br>Enter C<br>Enter D<br>Enter A<br>Leave A<br>Leave D<br>Leave C<br>Leave B<br>Leave E</p><p><strong>åœ¨superæœºåˆ¶é‡Œå¯ä»¥ä¿è¯å…¬å…±çˆ¶ç±»ä»…è¢«æ‰§è¡Œä¸€æ¬¡ï¼Œè‡³äºæ‰§è¡Œçš„é¡ºåºï¼Œæ˜¯æŒ‰ç…§MROï¼ˆMethod Resolution Orderï¼‰æ–¹æ³•è§£æé¡ºåº è¿›è¡Œçš„ã€‚è½¬ã€Šsuper MROè§£æé¡ºåºã€‹</strong></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-super </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªåŠ¨åŒ–æµ‹è¯•éœ€è¦çš„æ¡ä»¶</title>
      <link href="/2022/10/20/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E9%9C%80%E8%A6%81%E7%9A%84%E6%9D%A1%E4%BB%B6/"/>
      <url>/2022/10/20/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E9%9C%80%E8%A6%81%E7%9A%84%E6%9D%A1%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="éœ€è¦æŒæ¡çš„å†…å®¹ï¼š"><a href="#éœ€è¦æŒæ¡çš„å†…å®¹ï¼š" class="headerlink" title="éœ€è¦æŒæ¡çš„å†…å®¹ï¼š"></a>éœ€è¦æŒæ¡çš„å†…å®¹ï¼š</h2><p>ç¼–æ’­è¯­è¨€:python java&amp;#x20;</p><p>è®¾è®¡æ§½å¼:POM å…³å­—é©±åŠ¨æ¨ªå¼</p><p>ç”¨ä¾‹ç®¡ç†:unittest pytest</p><p>æ•°æ®é©±åŠ¨:ddt pytestmark.parameters()</p><p>äºŒæ¬¡å°æ¶²:excelå°è£…,ini&#x2F;yamlé…ç½®æ–‡ä»¶å°è£…,æ•°æ®åº“å°è£…&amp;#x20;</p><p>æ—¥å¿—ç›‘æ§:loggeræ—¥å¿—æ”¶é‡&amp;#x20;</p><p>å¼‚å¸¸å¤„ç†:try except</p><p>jenkins: æŒæ¢é›†æˆ æ— äººå€¼å®ˆ</p><p>Docker:é•œåƒå®¹å™¨æŠ€æœ¯&amp;#x20;</p><p>åˆ†å¸ƒå¼è¿è¡Œ:Gdid</p><p>å‰ç«¯ï¼šhtmlå’Œjavascript</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-è‡ªåŠ¨åŒ–æµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>selenium unittestè‡ªåŠ¨åŒ–æµ‹è¯•åŸå‹ï¼ˆå°è£…ï¼‰</title>
      <link href="/2022/10/19/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/selenium%20unittest%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%8E%9F%E5%9E%8B%EF%BC%88%E5%B0%81%E8%A3%85%EF%BC%89/"/>
      <url>/2022/10/19/Python/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/selenium%20unittest%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95%E5%8E%9F%E5%9E%8B%EF%BC%88%E5%B0%81%E8%A3%85%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å‰è¨€ï¼šæœ¬æ–‡æ˜¯å€ŸåŠ©Djangoçš„åå°ç®¡ç†æ¥è¾…åŠ©è‡ªåŠ¨åŒ–æµ‹è¯•åŸå‹æ‰€éœ€çš„é¡¹ç›®æ¡ä»¶ï¼Œåœ¨ç™»é™†åå¯¹æ–‡ç« æ•°æ®å’Œåšä¸»æ•°æ®è¿›è¡Œå¢åˆ æŸ¥æ“ä½œã€‚</p><p>&amp;#x9;å­¦ä¹ æœ¬æ–‡å†…å®¹ä¹‹å‰ï¼Œå¯ä»¥å…ˆå›é¡¾ä¸‹å‰é¢å†™çš„seleniumç¯‡å’Œunittestç¯‡</p><h2 id="ä¸€ã€æµ‹è¯•å‰å‡†å¤‡"><a href="#ä¸€ã€æµ‹è¯•å‰å‡†å¤‡" class="headerlink" title="ä¸€ã€æµ‹è¯•å‰å‡†å¤‡"></a>ä¸€ã€æµ‹è¯•å‰å‡†å¤‡</h2><p>Djangoé¡¹ç›®ç®€ä»‹å…·ä½“ä»£ç åœ¨ï¼š<a href="https://github.com/Wanghan123-github/Django_test">https://github.com/Wanghan123-github/Django_test</a></p><h2 id="äºŒã€çº¿æ€§è„šæœ¬"><a href="#äºŒã€çº¿æ€§è„šæœ¬" class="headerlink" title="äºŒã€çº¿æ€§è„šæœ¬"></a>äºŒã€çº¿æ€§è„šæœ¬</h2><p><strong>è¿™é‡Œå…ˆæ’å…¥ä¸€æ®µæ¯”è¾ƒé€šä¿—æ˜“æ‡‚çš„selenium å’Œ unittest ç»“åˆå®ç°çš„è‡ªåŠ¨åŒ–æµ‹è¯•åŸå‹ä»£ç ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"></span><br><span class="line"><span class="comment"># Googleé©±åŠ¨</span></span><br><span class="line">driver_path = <span class="string">r&quot;/Users/wanghan/Downloads/chromedriver&quot;</span></span><br><span class="line">driver = webdriver.Chrome(executable_path=driver_path)</span><br><span class="line"></span><br><span class="line">driver.get(<span class="string">&quot;http://127.0.0.1:8000/admin/&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Auto_Article</span>(unittest.TestCase):</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†åå°ç®¡ç†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_login_admin</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_get_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Articles&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>).click()</span><br><span class="line">        <span class="comment"># ç‚¹å‡»æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_title&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_content&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        <span class="comment"># ç¡®è®¤æ·»åŠ </span></span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;default&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_blogger</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥åšä¸»æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Blogger&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>).click()</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_name&quot;</span>).send_keys(<span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        <span class="comment"># é€‰æ‹©åšä¸»çš„ç­‰çº§ï¼ˆå¤šé€‰æ¡†æ“ä½œï¼‰</span></span><br><span class="line">        <span class="comment"># å…¶ä¸­å¤šé€‰æœ‰ä¸‰ç§ï¼š1. é€šè¿‡æ–‡æœ¬é€‰ä¸­ 2. é€šè¿‡valueå±æ€§é€‰ä¸­ 3. é€šè¿‡ä¸‹æ ‡é€‰ä¸­</span></span><br><span class="line">        sel = Select(driver.find_element(By.ID, <span class="string">&quot;id_level&quot;</span>))</span><br><span class="line">        sel.select_by_value(<span class="string">&quot;L&quot;</span>)</span><br><span class="line">        <span class="comment"># ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_picture&quot;</span>).send_keys(<span class="string">&quot;/Users/wanghan/Desktop/å›¾ç‰‡/è¡¨æƒ…åŒ…/109951167799422820.jpg&quot;</span>)</span><br><span class="line">        driver.find_element(By.CLASS_NAME, <span class="string">&quot;default&quot;</span>).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_delete_article</span>(<span class="params">self</span>):</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_username&quot;</span>).send_keys(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">        driver.find_element(By.ID, <span class="string">&quot;id_password&quot;</span>).send_keys(<span class="string">&quot;wanghan...&quot;</span>)</span><br><span class="line">        driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>).click()</span><br><span class="line">        <span class="comment"># è¿›å…¥æ–‡ç« æ•°æ®è¯¦æƒ…é¡µ</span></span><br><span class="line">        driver.find_element(By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>).click()</span><br><span class="line">        <span class="comment"># å¯¹å±•ç¤ºçš„å¤šæ¡æ•°æ®è¿›è¡Œå•ä¸€åˆ é™¤çš„æ“ä½œ</span></span><br><span class="line"><span class="comment"># è·å–æ•°æ®åˆ—è¡¨</span></span><br><span class="line">        tr_list = driver.find_elements(By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(tr_list)</span><br><span class="line">        <span class="comment"># å¦‚æœæ•°æ®åˆ—è¡¨çš„é•¿åº¦å¤§äº0è¯´æ˜æœ‰æ•°æ®ï¼Œæˆ‘ä»¬é»˜è®¤åˆ é™¤æœ€ä¸Šé¢çš„é‚£ä¸ª</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tr_list) &gt; <span class="number">0</span>:</span><br><span class="line">            driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr[1]/th/a&quot;</span>).click()</span><br><span class="line">            <span class="comment"># ç‚¹å‡»åˆ é™¤æŒ‰é’®</span></span><br><span class="line">            driver.find_element(By.CLASS_NAME, <span class="string">&quot;deletelink&quot;</span>).click()</span><br><span class="line">            <span class="comment"># ç¡®è®¤åˆ é™¤</span></span><br><span class="line">            driver.find_element(By.XPATH, <span class="string">&quot;//*[@id=&#x27;content&#x27;]/form/div/input[2]&quot;</span>).click()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æš‚æ—¶æ²¡æœ‰å¯åˆ é™¤çš„æ•°æ®&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¸Šé¢éƒ½æ˜¯ä¸€äº›ç®€å•çš„è¾“å…¥æ–‡æœ¬å’Œä¸€äº›ç‚¹å‡»äº‹ä»¶çš„æ“ä½œï¼Œä»¥åŠé¢å¤–å¢åŠ äº†ä¸€äº›å¤šé€‰æ¡†å’Œå¤šæ¡æ•°æ®å±•ç¤ºé€‰æ‹©å…¶ä¸€è¿›è¡Œæ“ä½œ</p><h2 id="ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰"><a href="#ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰" class="headerlink" title="ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰"></a>ä¸‰ã€POMè®¾è®¡æ¨¡å¼ï¼ˆå°è£…ï¼‰</h2><p>&amp;#x9;çº¿æ€§è„šæœ¬æœ‰å¾ˆå¤šé‡å¤ä½¿ç”¨çš„ä»£ç ï¼Œå°è£…å°±æ˜¯ä¸ºäº†é‡å¤ä½¿ç”¨ä»£ç ï¼Œä¸ºäº†æ–¹ä¾¿ç»´æŠ¤</p><p>&amp;#x9;å…¶ä¸­è®¾è®¡æ¨¡å¼ä¸»è¦åˆ†ä¸ºä¸‰ç§ï¼š</p><ol><li>&amp;#x20;  åŸºç¡€å±‚ï¼šä¸»è¦å­˜æ”¾seleniumåŸç”Ÿçš„æ–¹æ³•</li><li>&amp;#x20;  åŠ¨ä½œå±‚ï¼šä¸»è¦ç”¨äºå­˜æ”¾å®šä½é¡µé¢å…ƒç´ å’Œé¡µé¢åŠ¨ä½œ</li><li>&amp;#x20;  æµ‹è¯•ç”¨ä¾‹å±‚ï¼šä¸»è¦ç”¨äºæ‰§è¡ŒåŠ¨ä½œå±‚å’Œå­˜æ”¾æµ‹è¯•æ•°æ®&amp;#x20;</li></ol><p><img src="https://s1.ax1x.com/2022/10/19/xsb02T.png" alt="xsb02T.png"></p><h3 id="åŸºç¡€å±‚ä»£ç ï¼š"><a href="#åŸºç¡€å±‚ä»£ç ï¼š" class="headerlink" title="åŸºç¡€å±‚ä»£ç ï¼š"></a>åŸºç¡€å±‚ä»£ç ï¼š</h3><p>åŸºç¡€å±‚å­˜æ”¾çš„éƒ½æ˜¯seleniumåŸç”Ÿçš„æ“ä½œæ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.service <span class="keyword">import</span> Service</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasePage</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŸºç¡€å±‚ï¼Œç”¨æ¥æ”¾seleniumåŸç”Ÿçš„æ–¹æ³•</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        s = Service(executable_path=<span class="string">r&quot;/Users/wanghan/Downloads/chromedriver&quot;</span>)</span><br><span class="line">        self.driver = webdriver.Chrome(service=s)</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://127.0.0.1:8000/admin/&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å…ƒç´ </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">locator_element</span>(<span class="params">self,loc</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        locï¼šå…ƒç¥–ç±»å‹</span></span><br><span class="line"><span class="string">        *: è§£åŒ…</span></span><br><span class="line"><span class="string">        ç”±äºfind_elementï¼ˆï¼‰åªæ¥æ”¶ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> self.driver.find_element(*loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½è¾“å…¥å€¼æ“ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">send_keys</span>(<span class="params">self,loc,value</span>):</span><br><span class="line">        self.locator_element(loc).send_keys(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½ç‚¹å‡»æ“ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">click</span>(<span class="params">self,loc</span>):</span><br><span class="line">        self.locator_element(loc).click()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å¤šé€‰å…ƒç´ </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">choice_select_element</span>(<span class="params">self,loc,value</span>):</span><br><span class="line">        sel = Select(self.locator_element(loc))</span><br><span class="line">        sel.select_by_value(value)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä½å…ƒç´ åˆ—è¡¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">locator_elements</span>(<span class="params">self,loc</span>):</span><br><span class="line">        <span class="keyword">return</span> self.driver.find_elements(*loc)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åŠ¨ä½œå±‚ä»£ç ï¼š"><a href="#åŠ¨ä½œå±‚ä»£ç ï¼š" class="headerlink" title="åŠ¨ä½œå±‚ä»£ç ï¼š"></a>åŠ¨ä½œå±‚ä»£ç ï¼š</h3><p>åŠ¨ä½œå±‚æ˜¯é€šè¿‡è°ƒç”¨åŸºç¡€å±‚seleniumåŸç”Ÿçš„æ–¹æ³•æ¥å®ç°é¡µé¢æ“ä½œæ—¶çš„åŠ¨ä½œï¼Œå­˜æ”¾çš„éƒ½æ˜¯é¡µé¢çš„å…ƒç´ å’Œé¡µé¢çš„åŠ¨ä½œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_encapsulation.base.base_page <span class="keyword">import</span> BasePage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ActionPage</span>(<span class="title class_ inherited__">BasePage</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    åŠ¨ä½œå±‚ï¼Œé€šè¿‡è°ƒç”¨åŸºç¡€å±‚æ¥å®ç°å…·ä½“çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># ä»¥ä¸‹æ˜¯æ‰€æœ‰çš„é¡µé¢å…ƒç´ </span></span><br><span class="line">    username = <span class="string">&quot;admin&quot;</span></span><br><span class="line">    password = <span class="string">&quot;wanghan...&quot;</span></span><br><span class="line">    username_loc = (By.ID, <span class="string">&quot;id_username&quot;</span>)</span><br><span class="line">    password_loc = (By.ID, <span class="string">&quot;id_password&quot;</span>)</span><br><span class="line">    login_loc = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;login-form&#x27;]/div[3]/input&quot;</span>)</span><br><span class="line">    <span class="comment"># æ–­è¨€</span></span><br><span class="line">    assertions_loc = (By.XPATH,<span class="string">&quot;//*[@id=&#x27;user-tools&#x27;]/a[3]&quot;</span>)</span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« å…³é”®å­—</span></span><br><span class="line">    article_info_loc = (By.LINK_TEXT, <span class="string">&quot;Article&quot;</span>)</span><br><span class="line">    addlink_article_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    title_loc = (By.ID, <span class="string">&quot;id_title&quot;</span>)</span><br><span class="line">    content_loc = (By.ID, <span class="string">&quot;id_content&quot;</span>)</span><br><span class="line">    submit_add = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»å…³é”®å­—</span></span><br><span class="line">    blogger_loc = (By.LINK_TEXT, <span class="string">&quot;Blogger&quot;</span>)</span><br><span class="line">    addlink_blogger_loc = (By.CLASS_NAME, <span class="string">&quot;addlink&quot;</span>)</span><br><span class="line">    name_loc = (By.ID, <span class="string">&quot;id_name&quot;</span>)</span><br><span class="line">    sel_loc = (By.ID, <span class="string">&quot;id_level&quot;</span>)</span><br><span class="line">    blogger_pic_loc = (By.ID, <span class="string">&quot;id_picture&quot;</span>)</span><br><span class="line">    blogger_submit_pic_loc = (By.CLASS_NAME, <span class="string">&quot;default&quot;</span>)</span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« æ•°æ®</span></span><br><span class="line">    article_list_tr = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr&quot;</span>)</span><br><span class="line">    article_list_tr_a = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;result_list&#x27;]/tbody/tr[1]/th/a&quot;</span>)</span><br><span class="line">    delete_article_link = (By.CLASS_NAME, <span class="string">&quot;deletelink&quot;</span>)</span><br><span class="line">    delete_article_link_submit = (By.XPATH, <span class="string">&quot;//*[@id=&#x27;content&#x27;]/form/div/input[2]&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†çš„åŠ¨ä½œ</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">login_ecshop</span>(<span class="params">self</span>):</span><br><span class="line">        self.send_keys(self.username_loc, self.username)</span><br><span class="line">        self.send_keys(self.password_loc, self.password)</span><br><span class="line">        self.click(self.login_loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è·å–ç™»é™†ä¹‹åé¡µé¢æœ‰æ— æ³¨é”€ä¸¤å­—ï¼Œé…åˆæ–­è¨€ä½¿ç”¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">assertions_get_login_value</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.locator_element(self.assertions_loc).text</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_article</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        self.click(self.addlink_article_loc)</span><br><span class="line">        self.send_keys(self.title_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.send_keys(self.content_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.click(self.submit_add)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_blogger</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># ç™»é™†</span></span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.blogger_loc)</span><br><span class="line">        self.click(self.addlink_blogger_loc)</span><br><span class="line">        self.send_keys(self.name_loc, <span class="string">&quot;è„šæœ¬æ·»åŠ &quot;</span>)</span><br><span class="line">        self.choice_select_element(self.sel_loc, <span class="string">&quot;L&quot;</span>)</span><br><span class="line">        self.send_keys(self.blogger_pic_loc, <span class="string">&quot;/Users/wanghan/Desktop/å›¾ç‰‡/è¡¨æƒ…åŒ…/109951167799422820.jpg&quot;</span>)</span><br><span class="line">        self.click(self.blogger_submit_pic_loc)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">delete_article</span>(<span class="params">self</span>):</span><br><span class="line">        self.login_ecshop()</span><br><span class="line">        self.click(self.article_info_loc)</span><br><span class="line">        tr_list = self.locator_elements(self.article_list_tr)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(tr_list) &gt; <span class="number">0</span>:</span><br><span class="line">            self.click(self.article_list_tr_a)</span><br><span class="line">            self.click(self.delete_article_link)</span><br><span class="line">            self.click(self.delete_article_link_submit)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æš‚æ—¶æ²¡æœ‰å¯åˆ é™¤çš„æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š"><a href="#æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š" class="headerlink" title="æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š"></a>æµ‹è¯•ç”¨ä¾‹å±‚ä»£ç ï¼š</h3><p><strong>æµ‹è¯•ç”¨ä¾‹å±‚åˆ™æ˜¯å¯¹å°è£…å¥½çš„åŠ¨ä½œè¿›è¡Œè°ƒç”¨</strong></p><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“ç™»é™†</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Auto_Article</span>(unittest.TestCase):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‰”é™¤æ‰§è¡Œä¸­æŠ¥å‡ºçš„è­¦å‘Šâš ï¸</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUpClass</span>(<span class="params">cls</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        warnings.simplefilter(<span class="string">&#x27;ignore&#x27;</span>, ResourceWarning)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç™»é™†åå°ç®¡ç†</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_login_admin</span>(<span class="params">self</span>):</span><br><span class="line">        lp = ActionPage()</span><br><span class="line">        lp.login_ecshop()</span><br><span class="line">        <span class="comment"># æ–­è¨€</span></span><br><span class="line">        self.assertTrue(lp.assertions_get_login_value(), <span class="string">&quot;æ³¨é”€&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“æ–‡ç« </font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Auto_Article</span>(unittest.TestCase):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‰”é™¤æ‰§è¡Œä¸­æŠ¥å‡ºçš„è­¦å‘Šâš ï¸</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUpClass</span>(<span class="params">cls</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        warnings.simplefilter(<span class="string">&#x27;ignore&#x27;</span>, ResourceWarning)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ æ–‡ç« æ•°æ®</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_article</span>(<span class="params">self</span>):</span><br><span class="line">        lp = ActionPage()</span><br><span class="line">        lp.add_article()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ é™¤æ–‡ç« </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_delete_article</span>(<span class="params">self</span>):</span><br><span class="line">        lp = ActionPage()</span><br><span class="line">        lp.delete_article()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><font color="green">æµ‹è¯•ç”¨ä¾‹â€“åšä¸»</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> warnings</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> Learn.learn_selenium.selenium_encapsulation.actionobject.action_page <span class="keyword">import</span> ActionPage</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Auto_Article</span>(unittest.TestCase):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æµ‹è¯•ç”¨ä¾‹å±‚ï¼Œæ‰§è¡Œå¯¹åº”çš„åŠ¨ä½œ</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‰”é™¤æ‰§è¡Œä¸­æŠ¥å‡ºçš„è­¦å‘Šâš ï¸</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUpClass</span>(<span class="params">cls</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        warnings.simplefilter(<span class="string">&#x27;ignore&#x27;</span>, ResourceWarning)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ åšä¸»</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add_blogger</span>(<span class="params">self</span>):</span><br><span class="line">        lp = ActionPage()</span><br><span class="line">        lp.add_blogger()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="amp-x20-å‡†å¤‡ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"><a href="#amp-x20-å‡†å¤‡ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š" class="headerlink" title="&amp;#x20;å‡†å¤‡ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š"></a>&amp;#x20;å‡†å¤‡ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</h2><ol><li><p>å¯¼å…¥HTMLTestRunneræ¨¡å—<br>ä¸èƒ½é€šè¿‡pipå®‰è£…çš„æ–¹å¼å¯¼å…¥ï¼Œéœ€è¦ç½‘ä¸Šå¤åˆ¶HTMLTestRunner.pyçš„å†…å®¹ï¼Œç„¶åç²˜è´´åˆ°ä¸€ä¸ªæ–°çš„HTMLTestRunner.pyæ–‡ä»¶ä¸­æ”¾åœ¨æ‰§è¡Œæµ‹è¯•æŠ¥å‘Šçš„åŒä¸€çº§ç›®å½•ï¼Œæˆ–è€…ï¼Œå°†å…¶æ”¾è‡³pythonå®‰è£…ç›®å½•ä¸‹çš„Libä¸‹å³å¯ç›´æ¥ä½¿ç”¨ï¼›</p><p>ä½†ç½‘ä¸Šâ€œ<a href="http://tungwaiyip.info/software/HTMLTestRunner.html">http://tungwaiyip.info/software/HTMLTestRunner.html</a>â€ä¸å…¼å®¹python3ï¼Œæ•…å¯åœ¨ç½‘ä¸Šç›´æ¥æœç´¢æ”¯æŒpython3çš„ç‰ˆæœ¬ï¼Œæˆ–æ˜¯ç›´æ¥åšä»¥ä¸‹ä¿®æ”¹ï¼š</p></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ç¬¬94è¡Œï¼Œå°†import StringIOä¿®æ”¹æˆimport io</span><br><span class="line">ç¬¬539è¡Œï¼Œå°†self.outputBuffer = StringIO.StringIO()ä¿®æ”¹æˆself.outputBuffer= io.StringIO()</span><br><span class="line">ç¬¬631è¡Œï¼Œå°†print &gt;&gt; sys.stderr, â€˜\nTime Elapsed: %sâ€˜ %(self.stopTime-self.startTime)ä¿®æ”¹æˆprint(sys.stderr, â€˜\nTimeElapsed: %sâ€˜ % (self.stopTime-self.startTime))</span><br><span class="line">ç¬¬642è¡Œï¼Œå°†if not rmap.has_key(cls):ä¿®æ”¹æˆif not cls in rmap:</span><br><span class="line">ç¬¬766è¡Œï¼Œå°†uo = o.decode(â€˜latin-1â€˜)ä¿®æ”¹æˆuo = e</span><br><span class="line">ç¬¬775è¡Œï¼Œå°†ue = e.decode(â€˜latin-1â€˜)ä¿®æ”¹æˆue = e</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><ul><li>import HTMLTestRunnerï¼šå¯¼å…¥HTMLTestRunner</li><li>HTMLTestRunner.HTMLTestRunner(stream&#x3D;sys.stdout, verbosity&#x3D;1, title&#x3D;None, description&#x3D;None)<br>streamï¼šè¾“å‡ºæŠ¥å‘Šçš„åœ°å€ï¼›<br>verbosityï¼šæŠ¥å‘Šå†…å®¹çš„è¯¦ç»†ç¨‹åº¦ï¼Œ2è¡¨ç¤ºå¾ˆè¯¦ç»†ï¼›<br>titleï¼šæŠ¥å‘Šçš„æ ‡é¢˜ï¼›<br>descriptionï¼šæŠ¥å‘Šçš„è¯¦ç»†æè¿°ï¼›</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</span></span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">import</span> HTMLTestRunner</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># æµ‹è¯•ç”¨ä¾‹ä¿å­˜çš„ç›®å½•</span></span><br><span class="line">    case_dirs = <span class="string">r&quot;/Users/wanghan/Desktop/code/project_test/Learn/learn_selenium/selenium_unittest_encapsulation/test_case&quot;</span></span><br><span class="line">    <span class="comment"># åŠ è½½æµ‹è¯•ç”¨ä¾‹</span></span><br><span class="line">    discover = unittest.defaultTestLoader.discover(case_dirs, <span class="string">&quot;*_page.py&quot;</span>)</span><br><span class="line">    <span class="comment"># è¿è¡Œæµ‹è¯•ç”¨ä¾‹åŒæ—¶ä¿å­˜æµ‹è¯•æŠ¥å‘Š</span></span><br><span class="line">    test_report_path = <span class="string">&quot;/Users/wanghan/Desktop/code/project_test/Learn/learn_selenium/selenium_unittest_encapsulation/report.html&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(test_report_path, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> report_file:</span><br><span class="line">        runner = HTMLTestRunner.HTMLTestRunner(stream=report_file, title=<span class="string">&quot;è‡ªåŠ¨åŒ–æµ‹è¯•æŠ¥å‘Š&quot;</span>, description=<span class="string">&quot;æ–‡ç« å’Œåšä¸»åŠŸèƒ½æ€§æµ‹è¯•&quot;</span>)</span><br><span class="line">        runner.run(discover)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/10/24/x2O0nx.png" alt="x2O0nx.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-è‡ªåŠ¨åŒ–æµ‹è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>seleniumåŸºç¡€</title>
      <link href="/2022/10/17/Python/%E6%A8%A1%E5%9D%97/selenium/selenium%E5%9F%BA%E7%A1%80/"/>
      <url>/2022/10/17/Python/%E6%A8%A1%E5%9D%97/selenium/selenium%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="éœ€æ±‚è§£æï¼š"><a href="#éœ€æ±‚è§£æï¼š" class="headerlink" title="éœ€æ±‚è§£æï¼š"></a>éœ€æ±‚è§£æï¼š</h2><p>è¿›å…¥ç™¾åº¦é¦–é¡µï¼Œä½¿ç”¨ä¸åŒçš„åŒ¹é…æ–¹å¼è¾“å…¥å†…å®¹è¿›è¡Œæœç´¢ï¼Œå¹¶å€ŸåŠ©ç™¾åº¦é¦–é¡µçš„è¶…é“¾æ¥â€œæ–°é—»â€ã€â€œç™¾åº¦é¦–é¡µâ€æ¥å›è·³è½¬</p><h2 id="ä¸€ã€å¯¼å…¥æ¨¡å—"><a href="#ä¸€ã€å¯¼å…¥æ¨¡å—" class="headerlink" title="ä¸€ã€å¯¼å…¥æ¨¡å—"></a>ä¸€ã€å¯¼å…¥æ¨¡å—</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br></pre></td></tr></table></figure><h2 id="äºŒã€é©±åŠ¨ç±»å‹ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰"><a href="#äºŒã€é©±åŠ¨ç±»å‹ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰" class="headerlink" title="äºŒã€é©±åŠ¨ç±»å‹ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰"></a>äºŒã€é©±åŠ¨ç±»å‹ï¼ˆé€‰æ‹©å…¶ä¸€ï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Edgeé©±åŠ¨</span></span><br><span class="line">driver_path = <span class="string">r&quot;/Users/wanghan/Downloads/edgedriver_mac64_m1/msedgedriver&quot;</span></span><br><span class="line">driver = webdriver.Edge(executable_path=driver_path)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Googleé©±åŠ¨</span></span><br><span class="line">driver_path = <span class="string">r&quot;/Users/wanghan/Downloads/chromedriver&quot;</span></span><br><span class="line">driver = webdriver.Chrome(executable_path=driver_path)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€è®¿é—®url"><a href="#ä¸‰ã€è®¿é—®url" class="headerlink" title="ä¸‰ã€è®¿é—®url"></a>ä¸‰ã€è®¿é—®url</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.get(<span class="string">&quot;https://www.baidu.com&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="å››ã€åŒ¹é…"><a href="#å››ã€åŒ¹é…" class="headerlink" title="å››ã€åŒ¹é…"></a>å››ã€åŒ¹é…</h2><ol><li><p><strong>IDåŒ¹é…</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœç´¢æ¡†æœç´¢ä¿„ä¹Œå†²çª</span></span><br><span class="line">driver.find_element(By.ID,<span class="string">&quot;kw&quot;</span>).send_keys(<span class="string">&quot;ä¿„ä¹Œå†²çª&quot;</span>)</span><br><span class="line"><span class="comment"># ç‚¹å‡»æœç´¢</span></span><br><span class="line">driver.find_element(By.ID,<span class="string">&quot;su&quot;</span>).click()</span><br><span class="line"><span class="comment"># æ¸…ç©ºæœç´¢æ¡†å†…å®¹</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.find_element(By.ID,<span class="string">&quot;kw&quot;</span>).clear()</span><br></pre></td></tr></table></figure></li><li><p><strong>XPATHåŒ¹é…</strong></p><p>ç»å¯¹è·¯å¾„ï¼š&#x2F;å¼€å¤´æ˜¯ç»å¯¹è·¯å¾„</p><p>ç›¸å¯¹è·¯å¾„ï¼š&#x2F;&#x2F;å¼€å¤´æ˜¯ç›¸å¯¹è·¯å¾„</p><p>2.1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»å¯¹è·¯å¾„</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;/html/body/div[1]/div[1]/div[5]/div/div/form/span[1]/input&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“&quot;</span>)</span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;/html/body/div[1]/div[1]/div[5]/div/div/form/span[2]/input&quot;</span>).click()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.back()</span><br></pre></td></tr></table></figure><p>2.2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„ + ç´¢å¼•å®šä½</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//form/span[1]/input&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“1&quot;</span>)</span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//form/span[1]/input&quot;</span>).click()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.back()</span><br></pre></td></tr></table></figure><p>2.3</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„ + é€šé…ç¬¦* + å±æ€§å®šä½</span></span><br><span class="line"><span class="comment"># æœç´¢æ–°çš„å†…å®¹</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[@id=&#x27;kw&#x27;]&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“&quot;</span>)</span><br><span class="line"><span class="comment"># ç‚¹å‡»æœç´¢</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[@id=&#x27;su&#x27;]&quot;</span>).click()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="comment"># æµè§ˆå™¨é¡µé¢åé€€è‡³é¦–é¡µ</span></span><br><span class="line">driver.back()</span><br><span class="line">driver.back()</span><br></pre></td></tr></table></figure><p>2.4</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„ + éƒ¨åˆ†å±æ€§å€¼å®šä½</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">starts-with: ä»¥...å¼€å¤´</span></span><br><span class="line"><span class="string">substringï¼šä»¥...ç»“å°¾</span></span><br><span class="line"><span class="string">containsï¼šåŒ…å«...</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="comment"># æœç´¢å†…å®¹</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[starts-with(@autocomplete,&#x27;of&#x27;)]&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“&quot;</span>)</span><br><span class="line"><span class="comment"># æ¸…ç©ºæœç´¢å†…å®¹</span></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[starts-with(@autocomplete,&#x27;of&#x27;)]&quot;</span>).clear()</span><br><span class="line"></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[substring(@autocomplete,2)=&#x27;ff&#x27;]&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“&quot;</span>)</span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[substring(@autocomplete,2)=&#x27;ff&#x27;]&quot;</span>).clear()</span><br><span class="line"></span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[contains(@autocomplete,&#x27;of&#x27;)]&quot;</span>).send_keys(<span class="string">&quot;æœ€æ–°é«˜ç§‘æŠ€äº§å“&quot;</span>)</span><br><span class="line">driver.find_element(By.XPATH,<span class="string">&quot;//*[contains(@autocomplete,&#x27;of&#x27;)]&quot;</span>).clear()</span><br><span class="line"><span class="comment"># é¡µé¢åˆ·æ–°</span></span><br><span class="line">driver.refresh()</span><br></pre></td></tr></table></figure><p>2.5</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„ + æ–‡æœ¬å®šä½</span></span><br><span class="line"><span class="comment"># è·å–å±æ€§</span></span><br><span class="line">value = driver.find_element(By.XPATH,<span class="string">&quot;//span[text()=&#x27;æŒ‰å›¾ç‰‡æœç´¢&#x27;]&quot;</span>).get_attribute(<span class="string">&quot;class&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(value)</span><br></pre></td></tr></table></figure></li><li><p><strong>è¶…é“¾æ¥åŒ¹é…</strong></p><p>3.1</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¿é—®è¶…é“¾æ¥é¡µé¢ï¼ˆLINK_TEXTï¼šç²¾ç¡®åŒ¹é…ï¼‰</span></span><br><span class="line">driver.find_element(By.LINK_TEXT,<span class="string">&quot;æ–°é—»&quot;</span>).click()</span><br><span class="line"><span class="comment"># ---------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å½“æ‰“å¼€æ–°çš„æ ‡ç­¾é¡µæ—¶ï¼Œéœ€è¦å°†å½“å‰é¡µé¢çš„å¥æŸ„å®šä½åˆ°æ–°æ‰“å¼€çš„é¡µé¢å¥æŸ„ï¼Œæ‰èƒ½æ“ä½œæ–°çš„å½“å‰é¡µé¢</span></span><br><span class="line"><span class="comment"># è·å–å…¨éƒ¨é¡µé¢å¥æŸ„</span></span><br><span class="line">all_handles = driver.window_handles</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å…¨éƒ¨é¡µé¢: &quot;</span>,all_handles)</span><br><span class="line"><span class="comment"># å°†å½“å‰å¥æŸ„å®šä½åˆ°æ–°æ‰“å¼€çš„é¡µé¢</span></span><br><span class="line">driver.switch_to.window(all_handles[-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># # ä¹Ÿå¯ä»¥å®šä½åˆ°æ–°æ‰“å¼€çš„é¡µé¢åè¿›è¡Œå…³é—­</span></span><br><span class="line"><span class="comment"># driver.close()</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p>3.2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›ç™¾åº¦çš„é¦–é¡µé‡æ–°æµ‹è¯•åŒ¹é…</span></span><br><span class="line">driver.find_element(By.LINK_TEXT,<span class="string">&quot;ç™¾åº¦é¦–é¡µ&quot;</span>).click()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¿é—®è¶…é“¾æ¥é¡µé¢ï¼ˆPARTIAL_LINK_TEXTï¼šæ¨¡ç³ŠåŒ¹é…ï¼‰</span></span><br><span class="line">driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;é—»&quot;</span>).click()</span><br><span class="line"><span class="comment"># --------------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å…¨éƒ¨é¡µé¢å¥æŸ„</span></span><br><span class="line">all_handles = driver.window_handles</span><br><span class="line"><span class="comment"># å°†å½“å‰å¥æŸ„å®šä½åˆ°æ–°æ‰“å¼€çš„é¡µé¢</span></span><br><span class="line">driver.switch_to.window(all_handles[-<span class="number">1</span>])</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;ç™¾åº¦é¦–é¡µ&quot;</span>).click()</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br></pre></td></tr></table></figure></li><li><p><strong>CLASS_NAMEåŒ¹é…</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">driver.find_element(By.CLASS_NAME,<span class="string">&quot;s_ipt&quot;</span>).send_keys(<span class="string">&quot;æ—¥æœ¬æ ¸åºŸæ°´&quot;</span>)</span><br><span class="line">driver.find_element(By.ID, <span class="string">&#x27;su&#x27;</span>).click()</span><br></pre></td></tr></table></figure></li></ol><h2 id="äº”ã€å…³é—­æµè§ˆå™¨"><a href="#äº”ã€å…³é—­æµè§ˆå™¨" class="headerlink" title="äº”ã€å…³é—­æµè§ˆå™¨"></a>äº”ã€å…³é—­æµè§ˆå™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹è½½Googleé©±åŠ¨æ–‡ä»¶</title>
      <link href="/2022/10/17/Python/%E6%A8%A1%E5%9D%97/selenium/%E4%B8%8B%E8%BD%BDGoogle%E9%A9%B1%E5%8A%A8%E6%96%87%E4%BB%B6/"/>
      <url>/2022/10/17/Python/%E6%A8%A1%E5%9D%97/selenium/%E4%B8%8B%E8%BD%BDGoogle%E9%A9%B1%E5%8A%A8%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="ä¸€ã€é€šè¿‡è®¾ç½®ç¡®è®¤Googleæµè§ˆå™¨çš„ç‰ˆæœ¬å·"><a href="#ä¸€ã€é€šè¿‡è®¾ç½®ç¡®è®¤Googleæµè§ˆå™¨çš„ç‰ˆæœ¬å·" class="headerlink" title="ä¸€ã€é€šè¿‡è®¾ç½®ç¡®è®¤Googleæµè§ˆå™¨çš„ç‰ˆæœ¬å·"></a>ä¸€ã€é€šè¿‡è®¾ç½®ç¡®è®¤Googleæµè§ˆå™¨çš„ç‰ˆæœ¬å·</h3><p><img src="https://s1.ax1x.com/2022/10/17/xBzaJ1.png" alt="xBzaJ1.png"></p><h3 id="äºŒã€ä¸‹è½½é©±åŠ¨æ–‡ä»¶ï¼šhttps-registry-npmmirror-com-binary-html-path-chromedriver"><a href="#äºŒã€ä¸‹è½½é©±åŠ¨æ–‡ä»¶ï¼šhttps-registry-npmmirror-com-binary-html-path-chromedriver" class="headerlink" title="äºŒã€ä¸‹è½½é©±åŠ¨æ–‡ä»¶ï¼šhttps://registry.npmmirror.com/binary.html?path=chromedriver/"></a>äºŒã€ä¸‹è½½é©±åŠ¨æ–‡ä»¶ï¼š<a href="https://registry.npmmirror.com/binary.html?path=chromedriver/">https://registry.npmmirror.com/binary.html?path=chromedriver/</a></h3><p><img src="https://s1.ax1x.com/2022/10/17/xBzBQK.png" alt="xBzBQK.png"></p><h3 id="ä¸‰ã€ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥-amp-x20"><a href="#ä¸‰ã€ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥-amp-x20" class="headerlink" title="ä¸‰ã€ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥&amp;#x20;"></a>ä¸‰ã€ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥&amp;#x20;</h3><p>æœ€ç»ˆæ–‡ä»¶åœ°å€ï¼š&#x2F;Users&#x2F;wanghan&#x2F;Downloads&#x2F;chromedriver<img src="https://s1.ax1x.com/2022/10/17/xDSVl6.png" alt="xDSVl6.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‹è½½Edgeé©±åŠ¨æ–‡ä»¶</title>
      <link href="/2022/10/10/Python/%E6%A8%A1%E5%9D%97/selenium/%E4%B8%8B%E8%BD%BDEdge%E9%A9%B1%E5%8A%A8%E6%96%87%E4%BB%B6/"/>
      <url>/2022/10/10/Python/%E6%A8%A1%E5%9D%97/selenium/%E4%B8%8B%E8%BD%BDEdge%E9%A9%B1%E5%8A%A8%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="1-æŸ¥æ‰¾Edgeæµè§ˆå™¨å½“å‰ç‰ˆæœ¬"><a href="#1-æŸ¥æ‰¾Edgeæµè§ˆå™¨å½“å‰ç‰ˆæœ¬" class="headerlink" title="1. æŸ¥æ‰¾Edgeæµè§ˆå™¨å½“å‰ç‰ˆæœ¬"></a>1. æŸ¥æ‰¾Edgeæµè§ˆå™¨å½“å‰ç‰ˆæœ¬</h2><blockquote><p>ä¸€å®šæ³¨æ„ï¼šä¸‹è½½çš„Edgeæµè§ˆå™¨é©±åŠ¨éœ€è¦å’Œå½“å‰çš„æµè§ˆå™¨ç‰ˆæœ¬åŒ¹é…ã€‚</p></blockquote><h3 id="é€šè¿‡å‘½ä»¤edge-x2F-x2F-settings-x2F-helpæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°Edgeå½“å‰ç‰ˆæœ¬-ç‰ˆæœ¬-106-0-1370-37-æ­£å¼ç‰ˆæœ¬-arm64-ã€‚"><a href="#é€šè¿‡å‘½ä»¤edge-x2F-x2F-settings-x2F-helpæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°Edgeå½“å‰ç‰ˆæœ¬-ç‰ˆæœ¬-106-0-1370-37-æ­£å¼ç‰ˆæœ¬-arm64-ã€‚" class="headerlink" title="é€šè¿‡å‘½ä»¤edge:&#x2F;&#x2F;settings&#x2F;helpæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°Edgeå½“å‰ç‰ˆæœ¬(ç‰ˆæœ¬ 106.0.1370.37 (æ­£å¼ç‰ˆæœ¬) (arm64)) ã€‚"></a><strong>é€šè¿‡å‘½ä»¤edge:&#x2F;&#x2F;settings&#x2F;helpæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°Edgeå½“å‰ç‰ˆæœ¬(ç‰ˆæœ¬ 106.0.1370.37 (æ­£å¼ç‰ˆæœ¬) (arm64)) ã€‚</strong></h3><p><img src="https://s1.ax1x.com/2022/10/10/xYzKDx.png" alt="xYzKDx.png"></p><h2 id="2-ä¸‹è½½Edgeæµè§ˆå™¨é©±åŠ¨ç¨‹åº"><a href="#2-ä¸‹è½½Edgeæµè§ˆå™¨é©±åŠ¨ç¨‹åº" class="headerlink" title="2.ä¸‹è½½Edgeæµè§ˆå™¨é©±åŠ¨ç¨‹åº"></a>2.ä¸‹è½½Edgeæµè§ˆå™¨é©±åŠ¨ç¨‹åº</h2><p><a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/">https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/</a></p><h3 id="æ‰“å¼€Edgeæµè§ˆå™¨seleniumé©±åŠ¨ç¨‹åºä¸‹è½½é¡µé¢ï¼šæ‰¾åˆ°ä¸æµè§ˆå™¨å½“å‰ç‰ˆæœ¬å·å¯¹åº”çš„é©±åŠ¨ç¨‹åºè¿›è¡Œä¸‹è½½ï¼š"><a href="#æ‰“å¼€Edgeæµè§ˆå™¨seleniumé©±åŠ¨ç¨‹åºä¸‹è½½é¡µé¢ï¼šæ‰¾åˆ°ä¸æµè§ˆå™¨å½“å‰ç‰ˆæœ¬å·å¯¹åº”çš„é©±åŠ¨ç¨‹åºè¿›è¡Œä¸‹è½½ï¼š" class="headerlink" title="æ‰“å¼€Edgeæµè§ˆå™¨seleniumé©±åŠ¨ç¨‹åºä¸‹è½½é¡µé¢ï¼šæ‰¾åˆ°ä¸æµè§ˆå™¨å½“å‰ç‰ˆæœ¬å·å¯¹åº”çš„é©±åŠ¨ç¨‹åºè¿›è¡Œä¸‹è½½ï¼š"></a>æ‰“å¼€Edgeæµè§ˆå™¨seleniumé©±åŠ¨ç¨‹åºä¸‹è½½é¡µé¢ï¼šæ‰¾åˆ°ä¸æµè§ˆå™¨å½“å‰ç‰ˆæœ¬å·å¯¹åº”çš„é©±åŠ¨ç¨‹åºè¿›è¡Œä¸‹è½½ï¼š</h3><p><img src="https://s1.ax1x.com/2022/10/10/xYzJ8H.png" alt="xYzJ8H.png"></p><h2 id="3-ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥"><a href="#3-ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥" class="headerlink" title="3.ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥"></a>3.ä¸‹è½½å®Œæˆå¹¶è§£å‹ç¼©åï¼Œå¤åˆ¶å…¶ä¸­çš„msedgedriverçš„ç»å¯¹è·¯å¾„å°±å¯ä»¥</h2><p>æœ¬ä¾‹å­ä¸­çš„æœ€ç»ˆè·¯å¾„ä¸ºï¼š&#x2F;Users&#x2F;wanghan&#x2F;Downloads&#x2F;edgedriver_mac64_m1&#x2F;msedgedriver</p><p><img src="https://s1.ax1x.com/2022/10/10/xYzTG4.png" alt="xYzTG4.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-selenium </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pycharm</title>
      <link href="/2022/09/23/%E5%BF%AB%E6%8D%B7%E9%94%AE/Pycharm/"/>
      <url>/2022/09/23/%E5%BF%AB%E6%8D%B7%E9%94%AE/Pycharm/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><h4 id="æ ¼å¼åŒ–ä»£ç ï¼š"><a href="#æ ¼å¼åŒ–ä»£ç ï¼š" class="headerlink" title="æ ¼å¼åŒ–ä»£ç ï¼š"></a>æ ¼å¼åŒ–ä»£ç ï¼š</h4><p>option + command + l</p><h4 id="æŠ˜å æ‰€æœ‰ä»£ç å—"><a href="#æŠ˜å æ‰€æœ‰ä»£ç å—" class="headerlink" title="æŠ˜å æ‰€æœ‰ä»£ç å—"></a>æŠ˜å æ‰€æœ‰ä»£ç å—</h4><p>command + shift + â€œ-â€</p><h4 id="æŠ˜å å•ä¸ªä»£ç å—"><a href="#æŠ˜å å•ä¸ªä»£ç å—" class="headerlink" title="æŠ˜å å•ä¸ªä»£ç å—"></a>æŠ˜å å•ä¸ªä»£ç å—</h4><p>command + â€œâ€</p>]]></content>
      
      
      <categories>
          
          <category> å¿«æ·é”® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¿«æ·é”® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vim</title>
      <link href="/2022/09/23/%E5%BF%AB%E6%8D%B7%E9%94%AE/Vim/"/>
      <url>/2022/09/23/%E5%BF%AB%E6%8D%B7%E9%94%AE/Vim/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="å¤åˆ¶ä¸€è¡Œ"><a href="#å¤åˆ¶ä¸€è¡Œ" class="headerlink" title="å¤åˆ¶ä¸€è¡Œ"></a>å¤åˆ¶ä¸€è¡Œ</h4><p>yy</p><h4 id="åˆ°è¡Œé¦–"><a href="#åˆ°è¡Œé¦–" class="headerlink" title="åˆ°è¡Œé¦–"></a>åˆ°è¡Œé¦–</h4><p>0</p><h4 id="åˆ°æ–‡ä»¶å°¾éƒ¨"><a href="#åˆ°æ–‡ä»¶å°¾éƒ¨" class="headerlink" title="åˆ°æ–‡ä»¶å°¾éƒ¨"></a>åˆ°æ–‡ä»¶å°¾éƒ¨</h4><p>shift + g</p><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><p>dd</p><h4 id="åˆ é™¤åˆ°è¡Œé¦–"><a href="#åˆ é™¤åˆ°è¡Œé¦–" class="headerlink" title="åˆ é™¤åˆ°è¡Œé¦–"></a>åˆ é™¤åˆ°è¡Œé¦–</h4><p>d^</p><h4 id="ç²˜è´´"><a href="#ç²˜è´´" class="headerlink" title="ç²˜è´´"></a>ç²˜è´´</h4><p>p</p><h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><p>åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼šâ€œ&#x2F;â€å¼€å§‹æŸ¥æ‰¾<br>nï¼šæŸ¥æ‰¾ä¸‹ä¸€ä¸ª<br>Nï¼šæŸ¥æ‰¾ä¸Šä¸€ä¸ª</p><h4 id="å…¨éƒ¨åˆ é™¤"><a href="#å…¨éƒ¨åˆ é™¤" class="headerlink" title="å…¨éƒ¨åˆ é™¤"></a>å…¨éƒ¨åˆ é™¤</h4><p>æŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼ˆåˆ°è¾¾é¡¶éƒ¨ï¼‰ï¼Œç„¶ådG</p><h4 id="å…¨éƒ¨å¤åˆ¶ï¼š"><a href="#å…¨éƒ¨å¤åˆ¶ï¼š" class="headerlink" title="å…¨éƒ¨å¤åˆ¶ï¼š"></a>å…¨éƒ¨å¤åˆ¶ï¼š</h4><p>æŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼Œç„¶åggyG</p><h4 id="å…¨é€‰é«˜äº®æ˜¾ç¤ºï¼š"><a href="#å…¨é€‰é«˜äº®æ˜¾ç¤ºï¼š" class="headerlink" title="å…¨é€‰é«˜äº®æ˜¾ç¤ºï¼š"></a>å…¨é€‰é«˜äº®æ˜¾ç¤ºï¼š</h4><p>æŒ‰escé”®åï¼Œå…ˆæŒ‰ggï¼Œç„¶åggvGæˆ–è€…ggVG</p>]]></content>
      
      
      <categories>
          
          <category> å¿«æ·é”® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¿«æ·é”® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>AESåŠ å¯†ã€è§£å¯†</title>
      <link href="/2022/09/14/Python/%E6%A8%A1%E5%9D%97/AES/AES%E5%8A%A0%E5%AF%86%E3%80%81%E8%A7%A3%E5%AF%86/"/>
      <url>/2022/09/14/Python/%E6%A8%A1%E5%9D%97/AES/AES%E5%8A%A0%E5%AF%86%E3%80%81%E8%A7%A3%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç®€ä»‹ï¼š"><a href="#ç®€ä»‹ï¼š" class="headerlink" title="ç®€ä»‹ï¼š"></a>ç®€ä»‹ï¼š</h1><p>  AESæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•ã€‚å¯¹ç§°åŠ å¯†ç®—æ³•ä¹Ÿå°±æ˜¯åŠ å¯†å’Œè§£å¯†ç”¨ç›¸åŒçš„å¯†é’¥ã€‚å…¶ä¸­AESåªæ˜¯ä¸€ä¸ªåŸºæœ¬çš„ç®—æ³•ï¼Œå®ç°AESæœ‰å‡ ç§æ¨¡å¼ï¼Œä¸»è¦æœ‰ECBã€CBCã€CFBã€å’ŒOFBã€CTRè¿™å‡ ç§ã€‚æœ¬ç« ä¸»è¦è®²çš„æ˜¯ECBå’ŒCSCæ¨¡å¼ã€‚</p><h2 id="1-ECBæ¨¡å¼"><a href="#1-ECBæ¨¡å¼" class="headerlink" title="1. ECBæ¨¡å¼"></a>1. ECBæ¨¡å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BLOCK_SIZE = <span class="number">16</span> <span class="comment"># Bytes</span></span><br><span class="line"><span class="comment"># å¡«å……å‡½æ•°</span></span><br><span class="line">pad  = <span class="keyword">lambda</span> s:s + (BLOCK_SIZE -<span class="built_in">len</span>(s) % BLOCK_SIZE) * \</span><br><span class="line">                <span class="built_in">chr</span>(BLOCK_SIZE - <span class="built_in">len</span>(s) % BLOCK_SIZE)</span><br><span class="line"><span class="comment"># é€†å¡«å……å‡½æ•°</span></span><br><span class="line">unpad = <span class="keyword">lambda</span> s:s [:-<span class="built_in">ord</span>(s[<span class="built_in">len</span>(s) - <span class="number">1</span>:])]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ECBæ¨¡å¼ åŠ å¯†</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aes_encrypt</span>(<span class="params">key,data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    AESåŠ å¯†</span></span><br><span class="line"><span class="string">    :param key:å¯†é’¥</span></span><br><span class="line"><span class="string">    :param data:è¢«åŠ å¯†çš„å­—ç¬¦ä¸²ï¼ˆæ˜æ–‡ï¼‰</span></span><br><span class="line"><span class="string">    :return :å¯†æ–‡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># å°†å¯†é’¥strè½¬ä¸ºbytesç±»å‹</span></span><br><span class="line">    key = key.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="comment"># åˆ©ç”¨å¡«å……å‡½æ•°å°†è¢«åŠ å¯†çš„å­—ç¬¦ä¸²å¡«å……åˆ°16ä½</span></span><br><span class="line">    data = pad(data)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨AESçš„ECBåŠ å¯†æ¨¡å¼å¯¹å¯†é’¥åŠ å¯†æˆä¸€ä¸ªæ–°çš„å¯†é’¥</span></span><br><span class="line">    cipher = AES.new(key, AES.MODE_ECB)</span><br><span class="line">    <span class="comment"># ä½¿ç”¨æ–°ç”Ÿæˆçš„å¯†é’¥å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼ŒåŠ å¯†åå¾—åˆ°çš„æ˜¯bytesç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨base64è¿›è¡Œç¼–ç ï¼Œè¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">    result = cipher.encrypt(data.encode())</span><br><span class="line">    encodestrs = base64.b64encode(result)</span><br><span class="line">    enctext = encodestrs.decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(enctext)</span><br><span class="line">    <span class="keyword">return</span> enctext</span><br><span class="line"></span><br><span class="line"><span class="comment"># ECBæ¨¡å¼ è§£å¯†</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aes_decrypt</span>(<span class="params">key,data</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    :param key:å¯†é’¥</span></span><br><span class="line"><span class="string">    :param data:åŠ å¯†åçš„æ•°æ®</span></span><br><span class="line"><span class="string">    :return :æ˜æ–‡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    key = key.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    data = base64.b64decode(data)</span><br><span class="line">    cipher = AES.new(key,AES.MODE_ECB)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å»è¡¥ä½</span></span><br><span class="line">    text_decrypted = unpad(cipher.decrypt(data))</span><br><span class="line">    text_decrypted = text_decrypted.decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(text_decrypted)</span><br><span class="line">    <span class="keyword">return</span> text_decrypted</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    key = <span class="string">&#x27;adadqerfaa123456&#x27;</span></span><br><span class="line">    data = <span class="string">&quot;amdin&quot;</span></span><br><span class="line"></span><br><span class="line">    ecdata = aes_encrypt(key,data)</span><br><span class="line"></span><br><span class="line">    aes_decrypt(key,ecdata)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mIkUwZee5+wAoITm3/X/Bg==</span><br><span class="line">amdin</span><br></pre></td></tr></table></figure><p>ECB æ˜¯æœ€ç®€å•çš„å—å¯†ç åŠ å¯†æ¨¡å¼ï¼ŒåŠ å¯†å‰æ ¹æ®åŠ å¯†å—å¤§å°ï¼ˆå¦‚ AES ä¸º128ä½ï¼‰åˆ†æˆè‹¥å¹²å—ï¼Œä¹‹åå°†æ¯å—ä½¿ç”¨ç›¸åŒçš„å¯†é’¥å•ç‹¬åŠ å¯†ï¼Œè§£å¯†åŒç†ã€‚ç›¸å¯¹å…¶ä»–æ¨¡å¼æ²¡æœ‰åç§»é‡çš„è®¾ç½®ï¼Œç®€å•ç‚¹ï¼Œå®‰å…¨æ€§å·®ç‚¹ã€‚</p><p>AES åŠ å¯†æœ‰ AES-128ã€AES-192ã€AES-256 ä¸‰ç§ï¼Œåˆ†åˆ«å¯¹åº”ä¸‰ç§å¯†é’¥é•¿åº¦ 128bitsï¼ˆ16å­—èŠ‚ï¼‰ã€192bitsï¼ˆ24å­—èŠ‚ï¼‰ã€256bitsï¼ˆ32å­—èŠ‚ï¼‰ã€‚å½“ç„¶ï¼Œå¯†é’¥è¶Šé•¿ï¼Œå®‰å…¨æ€§è¶Šé«˜ï¼ŒåŠ è§£å¯†èŠ±è´¹æ—¶é—´ä¹Ÿè¶Šé•¿ã€‚é»˜è®¤çš„æ˜¯AES-128ï¼Œå…¶å®‰å…¨æ€§å®Œå…¨å¤Ÿç”¨ã€‚</p><p>pad å’Œ unpad åˆ†åˆ«æ˜¯å¡«å……å‡½æ•°å’Œé€†å¡«å……å‡½æ•°ã€‚å› ä¸º AES åŠ å¯†å¯¹åŠ å¯†æ–‡æœ¬æœ‰é•¿åº¦è¦æ±‚ï¼Œå¿…é¡»æ˜¯å¯†é’¥å­—èŠ‚æ•°çš„å€æ•°ã€‚è¿™é‡Œçš„ key çš„é•¿åº¦æ˜¯ 16 ä¸ªå­—èŠ‚ã€‚</p><p>å…³äºå¡«å……ç®—æ³•ï¼Œç®€å•è§£é‡Šå°±æ˜¯ç¼ºå‡ ä½å°±è¡¥å‡ ï¼šå¡«å……å­—ç¬¦ä¸²ç”±ä¸€ä¸ªå­—èŠ‚åºåˆ—ç»„æˆï¼Œæ¯ä¸ªå­—èŠ‚å¡«å……è¯¥å¡«å……å­—èŠ‚åºåˆ—çš„é•¿åº¦ã€‚Python ä»£ç ä¸­ ECB æ¨¡å¼è¿›è¡Œ AES åŠ å¯†é»˜è®¤å°±æ˜¯ pkcs7padding å¡«å……ã€‚</p><p>ç›¸æ¯” ECB æ¨¡å¼ï¼ŒCBC æ¨¡å¼ä¸»è¦æ˜¯å¤šäº†åç§»é‡è¿™ä¸€è¦ç´ ï¼Œåç§»é‡çš„å–å€¼ï¼Œè‡³å°‘ 16 ä½ï¼Œæˆ–è€…ä¸º 16 çš„å€æ•°ã€‚</p><h2 id="CBCæ¨¡å¼"><a href="#CBCæ¨¡å¼" class="headerlink" title="CBCæ¨¡å¼"></a>CBCæ¨¡å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Crypto.Cipher <span class="keyword">import</span> AES</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">BLOCK_SIZE = <span class="number">16</span> <span class="comment"># Bytes</span></span><br><span class="line"><span class="comment"># å¡«å……å‡½æ•°</span></span><br><span class="line">pad  = <span class="keyword">lambda</span> s:s + (BLOCK_SIZE -<span class="built_in">len</span>(s) % BLOCK_SIZE) * \</span><br><span class="line">                <span class="built_in">chr</span>(BLOCK_SIZE - <span class="built_in">len</span>(s) % BLOCK_SIZE)</span><br><span class="line"><span class="comment"># é€†å¡«å……å‡½æ•°</span></span><br><span class="line">unpad = <span class="keyword">lambda</span> s:s [:-<span class="built_in">ord</span>(s[<span class="built_in">len</span>(s) - <span class="number">1</span>:])]</span><br><span class="line"><span class="comment"># åç§»é‡</span></span><br><span class="line">vi = <span class="string">&#x27;0102030405060708&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">AES_Encrty</span>(<span class="params">key,data</span>):</span><br><span class="line">    <span class="comment"># åˆ©ç”¨å¡«å……å‡½æ•°å°†è¢«åŠ å¯†çš„å­—ç¬¦ä¸²å¡«å……åˆ°16ä½</span></span><br><span class="line">    data = pad(data)</span><br><span class="line">    <span class="comment"># å­—ç¬¦ä¸²è¡¥ä½</span></span><br><span class="line">    cipher = AES.new(key.encode(<span class="string">&quot;utf8&quot;</span>),AES.MODE_CBC,vi.encode(<span class="string">&quot;utf8&quot;</span>))</span><br><span class="line">    encrypterbytes = cipher.encrypt(data.encode(<span class="string">&quot;utf8&quot;</span>))</span><br><span class="line">    <span class="comment"># åŠ å¯†åå¾—åˆ°çš„æ˜¯bytesç±»å‹çš„æ•°æ®ï¼Œä½¿ç”¨Base64è¿›è¡Œç¼–ç ï¼Œç„¶åè¿”å›å­—ç¬¦ä¸²</span></span><br><span class="line">    encodestrs = base64.b64encode(encrypterbytes)</span><br><span class="line">    enctext = encodestrs.decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> enctext</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">AES_Decrypt</span>(<span class="params">key,data</span>):</span><br><span class="line">    data = data.encode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    encodebytes = base64.decodebytes(data)</span><br><span class="line">    <span class="comment"># å°†åŠ å¯†æ•°æ®è½¬æ¢ä¸ºbytesç±»å‹æ•°æ®</span></span><br><span class="line">    cipher= AES.new(key.encode(<span class="string">&#x27;utf8&#x27;</span>),AES.MODE_CBC,vi.encode(<span class="string">&#x27;utf8&#x27;</span>))</span><br><span class="line">    text_decrypted = cipher.decrypt(encodebytes)</span><br><span class="line">    <span class="comment"># å»è¡¥ä½</span></span><br><span class="line">    text_decrypted = unpad(text_decrypted)</span><br><span class="line">    text_decrypted = text_decrypted.decode(<span class="string">&#x27;utf8&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(text_decrypted)</span><br><span class="line">    <span class="keyword">return</span> text_decrypted</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    key = <span class="string">&#x27;adadqerfaa123456&#x27;</span></span><br><span class="line">    data = <span class="string">&quot;amdin&quot;</span></span><br><span class="line"></span><br><span class="line">    enctext = AES_Encrty(key,data)</span><br><span class="line">    <span class="built_in">print</span>(enctext)</span><br><span class="line">    AES_Decrypt(key,enctext)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-AES </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ä¾‹æ¨¡å¼</title>
      <link href="/2022/08/15/Python/%E6%A8%A1%E5%9D%97/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"/>
      <url>/2022/08/15/Python/%E6%A8%A1%E5%9D%97/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å•ä¾‹æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntuæŒ‚èµ·å”¤é†’åæ–­ç½‘</title>
      <link href="/2022/08/11/Ubuntu/ubuntu%E6%8C%82%E8%B5%B7%E5%94%A4%E9%86%92%E5%90%8E%E6%96%AD%E7%BD%91/"/>
      <url>/2022/08/11/Ubuntu/ubuntu%E6%8C%82%E8%B5%B7%E5%94%A4%E9%86%92%E5%90%8E%E6%96%AD%E7%BD%91/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¸€ã€ubuntuæŒ‚èµ·å”¤é†’åæ–­ç½‘ï¼š"><a href="#ä¸€ã€ubuntuæŒ‚èµ·å”¤é†’åæ–­ç½‘ï¼š" class="headerlink" title="ä¸€ã€ubuntuæŒ‚èµ·å”¤é†’åæ–­ç½‘ï¼š"></a>ä¸€ã€ubuntuæŒ‚èµ·å”¤é†’åæ–­ç½‘ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sudo service network-manager stop</span><br><span class="line">sudo rm /var/lib/NetworkManager/NetworkManager.state</span><br><span class="line"></span><br><span class="line">sudo service network-manager start</span><br><span class="line"></span><br><span class="line">#æŠŠç¬¬å››è¡Œçš„falseæ”¹æˆtrueï¼ˆmanaged=falseæ”¹ä¸ºï¼šmanaged=trueï¼‰æ³¨:ä¹Ÿæœ‰å¯èƒ½åœ¨ç¬¬äº”è¡Œ</span><br><span class="line">sudo vim /etc/NetworkManager/NetworkManager.conf</span><br><span class="line"></span><br><span class="line">sudo service network-manager restert</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>lambdaè¡¨è¾¾å¼</title>
      <link href="/2022/08/11/Python/%E6%A8%A1%E5%9D%97/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2022/08/11/Python/%E6%A8%A1%E5%9D%97/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="1-åŸºç¡€ç”¨æ³•ï¼š"><a href="#1-åŸºç¡€ç”¨æ³•ï¼š" class="headerlink" title="1. åŸºç¡€ç”¨æ³•ï¼š"></a>1. åŸºç¡€ç”¨æ³•ï¼š</h2><p>è¯­æ³•ï¼šlambda å‚æ•°ï¼šè¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="keyword">lambda</span> x,y:x+y</span><br><span class="line"><span class="built_in">print</span>(data(<span class="number">1</span>,<span class="number">2</span>)) <span class="comment"># 3</span></span><br></pre></td></tr></table></figure><h2 id="2-åˆ—è¡¨æ¨å¯¼å¼-lambdaè¡¨è¾¾å¼"><a href="#2-åˆ—è¡¨æ¨å¯¼å¼-lambdaè¡¨è¾¾å¼" class="headerlink" title="2. åˆ—è¡¨æ¨å¯¼å¼ + lambdaè¡¨è¾¾å¼"></a>2. åˆ—è¡¨æ¨å¯¼å¼ + lambdaè¡¨è¾¾å¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="keyword">lambda</span> :x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>]())  <span class="comment"># 9</span></span><br><span class="line"><span class="comment"># å› ä¸ºä½¿ç”¨çš„æ˜¯åˆ—è¡¨æ¨å¯¼å¼ï¼Œæ‰€ä»¥å…ˆå–åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ—è¡¨é‡Œé¢çš„å…ƒç´ éƒ½æ˜¯è¡¨è¾¾å¼ã€‚</span></span><br><span class="line"><span class="comment"># å› ä¸ºlambdaè¡¨è¾¾å¼ä¸ä¼šå½¢æˆå¯¹å‡½æ•°ä½“å†…å˜é‡çš„è®°å¿†ï¼Œåªè®°å½•æœ€åä¸€ä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥åˆ—è¡¨é‡Œé¢çš„ç»“æœå…¨éƒ½æ˜¯æœ€åä¸€ä¸ªå€¼ã€‚</span></span><br><span class="line"><span class="comment"># åé¢çš„()ä»£è¡¨è°ƒç”¨lambdaè¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure><h4 id="2-2-è§£å†³lambdaè¡¨è¾¾å¼åªè®°å½•æœ€åä¸€ä¸ªçŠ¶æ€çš„é—®é¢˜"><a href="#2-2-è§£å†³lambdaè¡¨è¾¾å¼åªè®°å½•æœ€åä¸€ä¸ªçŠ¶æ€çš„é—®é¢˜" class="headerlink" title="2.2 è§£å†³lambdaè¡¨è¾¾å¼åªè®°å½•æœ€åä¸€ä¸ªçŠ¶æ€çš„é—®é¢˜"></a>2.2 è§£å†³lambdaè¡¨è¾¾å¼åªè®°å½•æœ€åä¸€ä¸ªçŠ¶æ€çš„é—®é¢˜</h4><p>æ³¨ï¼šåªéœ€è¦åœ¨lambdaè¡¨è¾¾å¼ä¼ é€’å‚æ•°çš„éƒ¨åˆ†ï¼Œå°†è¡¨è¾¾å¼éƒ¨åˆ†çš„å˜é‡ä½œä¸ºå‚æ•°ä¼ å…¥å³å¯ã€‚å³ï¼šx&#x3D;x</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="keyword">lambda</span> x=x:x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>]())  <span class="comment"># 0</span></span><br></pre></td></tr></table></figure><h2 id="3-çœç•¥å‚æ•°ç”¨æ³•"><a href="#3-çœç•¥å‚æ•°ç”¨æ³•" class="headerlink" title="3. çœç•¥å‚æ•°ç”¨æ³•"></a>3. çœç•¥å‚æ•°ç”¨æ³•</h2><p>è¯­æ³•ï¼šlambda :è¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># lambdaè¡¨è¾¾å¼å†’å·å‰é¢çš„å‚æ•°å¯ä»¥çœç•¥ï¼Œé€‚ç”¨äºä¸éœ€è¦ä¼ é€’å‚æ•°çš„è¡¨è¾¾å¼</span></span><br><span class="line">data = <span class="keyword">lambda</span> :<span class="number">1</span>+<span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(data()) <span class="comment"># 2</span></span><br></pre></td></tr></table></figure><h2 id="4-ç»¼åˆ2ã€3ä½¿ç”¨"><a href="#4-ç»¼åˆ2ã€3ä½¿ç”¨" class="headerlink" title="4. ç»¼åˆ2ã€3ä½¿ç”¨"></a>4. ç»¼åˆ2ã€3ä½¿ç”¨</h2><p>ç¬¬ä¸€ç§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="keyword">lambda</span> x:x+i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>](<span class="number">1</span>)) <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>](<span class="number">2</span>)) <span class="comment"># 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ©ç”¨()è°ƒç”¨lambdaè¡¨è¾¾å¼ï¼Œå¹¶ç»™å‚æ•°xä¼ é€’æ•°å€¼2</span></span><br><span class="line"><span class="built_in">print</span>([m(<span class="number">2</span>) <span class="keyword">for</span> m <span class="keyword">in</span> data]) <span class="comment"># [11, 11, 11, 11, 11, 11, 11, 11, 11, 11]</span></span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿™é‡Œä¸ºäº†ä½¿æœ€ç»ˆçš„ç»“æœè¾¾åˆ°é¢„æœŸï¼Œæ·»åŠ äº†j=j</span></span><br><span class="line">data = [<span class="keyword">lambda</span> x,j=j:x+j <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>](<span class="number">1</span>)) <span class="comment"># 1</span></span><br><span class="line"><span class="built_in">print</span>(data[<span class="number">0</span>](<span class="number">2</span>)) <span class="comment"># 2</span></span><br><span class="line"><span class="comment"># åˆ©ç”¨()è°ƒç”¨lambdaè¡¨è¾¾å¼å¹¶ç»™å‚æ•°xä¼ é€’æ•°å€¼2</span></span><br><span class="line"><span class="built_in">print</span>([m(<span class="number">2</span>) <span class="keyword">for</span> m <span class="keyword">in</span> data]) <span class="comment"># [2, 3, 4, 5, 6, 7, 8, 9, 10, 11]</span></span><br></pre></td></tr></table></figure><h2 id="5-ç¼©å‡if-else"><a href="#5-ç¼©å‡if-else" class="headerlink" title="5. ç¼©å‡if else"></a>5. ç¼©å‡if else</h2><p>è¯­æ³•ï¼šlambda å‚æ•°ï¼šç»“æœ1 if åˆ¤æ–­æ¡ä»¶ else ç»“æœ2</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="keyword">lambda</span> x:<span class="string">&quot;yes&quot;</span> <span class="keyword">if</span> x&gt;<span class="number">1</span> <span class="keyword">else</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="built_in">print</span>(data(<span class="number">2</span>)) <span class="comment"># yes</span></span><br></pre></td></tr></table></figure><h2 id="6-é«˜é˜¶å‡½æ•°"><a href="#6-é«˜é˜¶å‡½æ•°" class="headerlink" title="6. é«˜é˜¶å‡½æ•°"></a>6. é«˜é˜¶å‡½æ•°</h2><h4 id="map-å‡½æ•°"><a href="#map-å‡½æ•°" class="headerlink" title="map() å‡½æ•°"></a>map() å‡½æ•°</h4><p>è¿­ä»£æ‰€æœ‰å…ƒç´ åˆ°lambdaè¡¨è¾¾å¼</p><ul><li>Python 2.x ç‰ˆæœ¬è¿”å›çš„æ˜¯åˆ—è¡¨</li><li>Python 3.x ç‰ˆæœ¬è¿”å›çš„æ˜¯è¿­ä»£å™¨</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="built_in">map</span>(<span class="keyword">lambda</span> x:x+<span class="number">1</span>,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(data)) <span class="comment"># [2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure><h4 id="reduce-å‡½æ•°"><a href="#reduce-å‡½æ•°" class="headerlink" title="reduce()å‡½æ•°"></a>reduce()å‡½æ•°</h4><p>å…ˆå¯¹æ•°æ®ä¸­çš„ç¬¬ 1ã€2 ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œï¼Œå°†å¾—åˆ°çš„ç»“æœå†ä¸ç¬¬ä¸‰ä¸ªæ•°æ®ç”¨ function å‡½æ•°è¿ç®—ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">data = reduce(<span class="keyword">lambda</span> x,y:x+y,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(data) <span class="comment"># 15</span></span><br></pre></td></tr></table></figure><h4 id="filter-å‡½æ•°"><a href="#filter-å‡½æ•°" class="headerlink" title="filter()å‡½æ•°"></a>filter()å‡½æ•°</h4><p>å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="built_in">filter</span>(<span class="keyword">lambda</span> x:x%<span class="number">2</span>==<span class="number">0</span>,[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(data)) <span class="comment"># [0, 2, 4]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-åŒ¿åå‡½æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ºä»€ä¹ˆä¼šæœ‰ GILï¼Ÿå¦‚ä½•é‡Šæ”¾ GIL å®ç°å¹¶è¡Œï¼Ÿ</title>
      <link href="/2022/08/10/Python/%E6%A8%A1%E5%9D%97/GIL/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89%20GIL%EF%BC%9F%E5%A6%82%E4%BD%95%E9%87%8A%E6%94%BE%20GIL%20%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C%EF%BC%9F/"/>
      <url>/2022/08/10/Python/%E6%A8%A1%E5%9D%97/GIL/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E6%9C%89%20GIL%EF%BC%9F%E5%A6%82%E4%BD%95%E9%87%8A%E6%94%BE%20GIL%20%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>é¦–å…ˆæˆ‘ä»¬åº”è¯¥çŸ¥é“GILæ˜¯ä¸€ä¸ªæ–½åŠ åœ¨è§£é‡Šå™¨ä¹‹ä¸Šçš„äº’æ–¥é”ï¼Œç”¨äºé˜²æ­¢æœ¬æœºå¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå­—èŠ‚ç ã€‚é‚£ä¹ˆå¯¹äºçº¿ç¨‹çš„å¹¶è¡Œæ¥è¯´ï¼Œå…¨å±€è§£é‡Šå™¨é”ï¼ˆGILï¼‰æ˜¯ä¸€ä¸ªç»•ä¸å¼€çš„è¯é¢˜ã€‚</p><p>æ¢å¥è¯è¯´ ï¼ŒGIL ç¡®ä¿è§£é‡Šå™¨åœ¨ç¨‹åºæ‰§è¡ŒæœŸé—´ï¼ŒåŒä¸€æ—¶åˆ»åªä¼šä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªçº¿ç¨‹ã€‚ä¸ç®¡ä½ çš„ CPU æ˜¯å¤šå°‘æ ¸ï¼Œä»¥åŠä½ å¼€äº†å¤šå°‘ä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯åŒä¸€æ—¶åˆ»åªä¼šä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ªçº¿ç¨‹ã€å»è°ƒåº¦ä¸€ä¸ª CPUã€‚è€Œä¸” GIL ä¸ä»…å½±å“ Python ä»£ç ï¼Œä¹Ÿä¼šå½±å“ Python&#x2F;C APIã€‚</p><p>GIL å¹¶ä¸æ˜¯ Python è¯­è¨€çš„ç‰¹æ€§ï¼Œå®ƒæ˜¯ CPython å¼€å‘äººå‘˜ä¸ºäº†æ–¹ä¾¿å†…å­˜ç®¡ç†æ‰åŠ ä¸Šå»çš„ã€‚åªä¸è¿‡è§£é‡Šå™¨æˆ‘ä»¬å¤§éƒ¨åˆ†ç”¨çš„éƒ½æ˜¯ CPythonï¼Œæ‰€ä»¥å¾ˆå¤šäººè®¤ä¸º GIL æ˜¯ Python è¯­è¨€æœ¬èº«çš„ä¸€ä¸ªç‰¹æ€§ï¼Œä½†å…¶å®ä¸æ˜¯çš„ã€‚</p><p>Python æ˜¯ä¸€é—¨è¯­è¨€ï¼Œè€Œ CPython æ˜¯å¯¹ä½¿ç”¨ Python è¯­è¨€ç¼–å†™çš„æºä»£ç è¿›è¡Œè§£é‡Šæ‰§è¡Œçš„ä¸€ä¸ªè§£é‡Šå™¨ã€‚è€Œè§£é‡Šå™¨ä¸æ­¢ CPython ä¸€ç§ï¼Œè¿˜æœ‰ JPythonï¼ŒJPython å°±æ²¡æœ‰GILã€‚å› æ­¤ Python è¯­è¨€æœ¬èº«æ˜¯å’Œ GIL æ— å…³çš„ï¼Œåªä¸è¿‡æˆ‘ä»¬å¹³æ—¶åœ¨è¯´ Python çš„ GIL çš„æ—¶å€™ï¼ŒæŒ‡çš„éƒ½æ˜¯ CPython é‡Œé¢çš„ GILï¼Œè¿™ä¸€ç‚¹è¦æ³¨æ„ã€‚</p><h4 id="ä¸€ã€é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹GILä¸ºä»€ä¹ˆå­˜åœ¨ï¼Ÿï¼ˆé‡ç‚¹ï¼‰"><a href="#ä¸€ã€é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹GILä¸ºä»€ä¹ˆå­˜åœ¨ï¼Ÿï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="ä¸€ã€é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹GILä¸ºä»€ä¹ˆå­˜åœ¨ï¼Ÿï¼ˆé‡ç‚¹ï¼‰"></a><font color="blue">ä¸€ã€é¦–å…ˆæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹GILä¸ºä»€ä¹ˆå­˜åœ¨ï¼Ÿ</font>ï¼ˆé‡ç‚¹ï¼‰</h4><p>å½“åˆ é™¤ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œä»–ä¼šæ‰§è¡Œå¯¹åº”çš„æŒ‡ä»¤ï¼Œå…¶ä¸­ç¬¬ä¸€æ­¥å°±æ˜¯å…ˆå°†å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡1ï¼›ç¬¬äºŒæ­¥åˆ¤æ–­å¼•ç”¨è®¡æ•°æ˜¯å¦ä¸º0ï¼Œä¸º0åˆ™è¿›è¡Œé”€æ¯ã€‚</p><p>é‚£ä¹ˆé—®é¢˜æ¥äº†ã€‚ã€‚ã€‚<br>å‡è®¾æœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBï¼Œå†…éƒ¨éƒ½å¼•ç”¨äº†æŸä¸ªå˜é‡ objï¼Œæ­¤æ—¶ obj æŒ‡å‘çš„å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º 2ï¼Œç„¶åè®©ä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œ åˆ é™¤è¿™ä¸ªå˜é‡ã€‚</p><ol><li><p><font color="#A9248C"> å…¶ä¸­Açº¿ç¨‹å…ˆæ‰§è¡Œï¼ŒAçº¿ç¨‹åœ¨æ‰§è¡Œå®Œä¹‹åï¼Œä¼šå°†å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å‡ä¸€ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸ªæ—¶å€™è°ƒåº¦æœºåˆ¶å°† A æŒ‚èµ·äº†ï¼Œå”¤é†’äº† Bã€‚è€Œ B ä¹Ÿæ‰§è¡Œ del objï¼Œä½†å®ƒæ¯”è¾ƒå¹¸è¿ï¼Œå°†ä¸¤æ­¥ä¸€å—æ‰§è¡Œå®Œäº†ã€‚</p></li><li><p>è€Œç”±äºä¹‹å‰ A å·²ç»å°†å¼•ç”¨è®¡æ•°å‡ 1ï¼Œæ‰€ä»¥ B å†å‡ 1 ä¹‹åä¼šå‘ç°å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ä¸º 0ï¼Œä»è€Œæ‰§è¡Œäº†å¯¹è±¡çš„é”€æ¯åŠ¨ä½œï¼ˆtp_deallocï¼‰ï¼Œå†…å­˜è¢«é‡Šæ”¾ã€‚</p></li><li><p>ç„¶å A åˆè¢«å”¤é†’äº†ï¼Œæ­¤æ—¶å¼€å§‹æ‰§è¡Œç¬¬äºŒä¸ªæ­¥éª¤ï¼Œä½†ç”±äº obj-&gt;ob_refcnt å·²ç»è¢«å‡å°‘åˆ° 0ï¼Œæ‰€ä»¥æ¡ä»¶æ»¡è¶³ï¼Œé‚£ä¹ˆ A ä¾æ—§ä¼šå¯¹ obj æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œé‡Šæ”¾ã€‚ä½†é—®é¢˜æ˜¯è¿™ä¸ªå¯¹è±¡æ‰€å çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾äº†ï¼Œæ‰€ä»¥ obj æ­¤æ—¶å°±æˆäº†æ‚¬ç©ºæŒ‡é’ˆã€‚å¦‚æœå†å¯¹ obj æŒ‡å‘çš„å¯¹è±¡è¿›è¡Œé‡Šæ”¾ï¼Œæœ€ç»ˆä¼šå¼•å‘ä»€ä¹ˆç»“æœï¼Œåªæœ‰å¤©çŸ¥é“ï¼Œè¿™ä¹Ÿæ˜¯è‡­åæ˜­è‘—çš„äºŒæ¬¡é‡Šæ”¾ã€‚</font></p></li></ol><p><font color="blue">æ‰€ä»¥ CPython å¼•å…¥äº† GILï¼ŒGIL æ˜¯è§£é‡Šå™¨å±‚é¢ä¸Šçš„ä¸€æŠŠè¶…çº§å¤§é”ï¼Œå®ƒæ˜¯å­—èŠ‚ç çº§åˆ«çš„äº’æ–¥é”ã€‚ä½œç”¨å°±æ˜¯ï¼šåœ¨åŒæ—¶ä¸€åˆ»ï¼Œåªè®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå­—èŠ‚ç ï¼Œå¹¶ä¸”ä¿è¯æ¯ä¸€æ¡å­—èŠ‚ç åœ¨æ‰§è¡Œçš„æ—¶å€™éƒ½ä¸ä¼šè¢«æ‰“æ–­ã€‚</font></p><p>å› æ­¤ç”±äº GIL çš„å­˜åœ¨ï¼Œä¼šä½¿å¾—çº¿ç¨‹åªæœ‰æŠŠå½“å‰çš„æŸæ¡å­—èŠ‚ç æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰æœ‰å¯èƒ½å‘ç”Ÿè°ƒåº¦ã€‚æ‰€ä»¥æ— è®ºæ˜¯ A è¿˜æ˜¯ Bï¼Œçº¿ç¨‹è°ƒåº¦æ—¶ï¼Œè¦ä¹ˆå‘ç”Ÿåœ¨ åˆ é™¤æŒ‡ä»¤æ‰§è¡Œä¹‹å‰ï¼Œè¦ä¹ˆå‘ç”Ÿåœ¨ åˆ é™¤æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä½†æ˜¯ä¸å­˜åœ¨æŒ‡ä»¤æ‰§è¡Œåˆ°ä¸€åŠçš„æ—¶å€™å‘ç”Ÿè°ƒåº¦ã€‚</p><p>æ‰€ä»¥ GIL æ‰è¢«ç§°ä¹‹ä¸ºæ˜¯å­—èŠ‚ç çº§åˆ«çš„äº’æ–¥é”ï¼Œå®ƒä¿æŠ¤æ¯æ¡å­—èŠ‚ç æŒ‡ä»¤åªæœ‰åœ¨æ‰§è¡Œå®Œæ¯•ä¹‹åæ‰ä¼šå‘ç”Ÿçº¿ç¨‹è°ƒåº¦ã€‚</p><p>å›åˆ°ä¸Šé¢é‚£ä¸ª del obj ä¾‹å­å½“ä¸­ï¼Œç”±äºå¼•å…¥äº† GILï¼Œæ‰€ä»¥å°±ä¸å­˜åœ¨æˆ‘ä»¬ä¹‹å‰è¯´çš„ï¼šåœ¨ A å°†å¼•ç”¨è®¡æ•°å‡ä¸€ä¹‹åï¼ŒæŒ‚èµ· Aã€å”¤é†’ Bè¿™ä¸€è¿‡ç¨‹ã€‚å› ä¸ºAå·²ç»å¼€å§‹äº†åˆ é™¤å˜é‡ è¿™æ¡æŒ‡ä»¤çš„æ‰§è¡Œï¼Œè€Œåœ¨æ²¡æ‰§è¡Œå®Œä¹‹å‰æ˜¯ä¸ä¼šå‘ç”Ÿçº¿ç¨‹è°ƒåº¦çš„ï¼Œæ‰€ä»¥æ­¤æ—¶ä¸ä¼šå‡ºç°æ‚¬ç©ºæŒ‡é’ˆçš„é—®é¢˜ã€‚</p><p>è€Œå¦‚æœæ²¡æœ‰ GILï¼Œé‚£ä¹ˆå³ä½¿æ˜¯ç®€å•çš„å¼•ç”¨è®¡æ•°ï¼Œåœ¨è®¡ç®—ä¸Šéƒ½æœ‰å¯èƒ½å‡ºé—®é¢˜ã€‚äº‹å®ä¸Šï¼ŒGIL æœ€åˆçš„ç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³å¼•ç”¨è®¡æ•°çš„å®‰å…¨æ€§é—®é¢˜ã€‚</p><p>å› æ­¤ GIL å¯¹äº Python å¯¹è±¡çš„å†…å­˜ç®¡ç†æ¥è¯´æ˜¯ä¸å¯æˆ–ç¼ºçš„ï¼›ä½†æ˜¯è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼ŒGIL å’Œ Python è¯­è¨€æœ¬èº«æ²¡æœ‰ä»€ä¹ˆå…³ç³»ï¼Œå®ƒåªæ˜¯å®˜æ–¹åœ¨å®ç° CPython æ—¶ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†å†…å­˜æ‰€å¼•å…¥çš„ä¸€ä¸ªå®ç°ã€‚ä½†æ˜¯å¯¹äºå…¶å®ƒç§ç±»çš„ Python è§£é‡Šå™¨åˆ™ä¸ä¸€å®šéœ€è¦ GILï¼Œæ¯”å¦‚ JPythonã€‚</p><h4 id="äºŒã€GIL-æœ‰æ²¡æœ‰å¯èƒ½è¢«ç§»é™¤ï¼ˆäº†è§£ï¼‰"><a href="#äºŒã€GIL-æœ‰æ²¡æœ‰å¯èƒ½è¢«ç§»é™¤ï¼ˆäº†è§£ï¼‰" class="headerlink" title="äºŒã€GIL æœ‰æ²¡æœ‰å¯èƒ½è¢«ç§»é™¤ï¼ˆäº†è§£ï¼‰"></a><font color="blue">äºŒã€GIL æœ‰æ²¡æœ‰å¯èƒ½è¢«ç§»é™¤</font>ï¼ˆäº†è§£ï¼‰</h4><p>å› ä¸ºå¯¹äºç°åœ¨çš„å¤šæ ¸ CPU æ¥è¯´ï¼ŒGIL æ— ç–‘æ˜¯è¿›è¡Œäº†é™åˆ¶ã€‚æ­¤æ—¶ç«™åœ¨ä¸Šå¸è§†è§’çš„æˆ‘ä»¬çŸ¥é“ï¼Œå› ä¸º GIL çš„å­˜åœ¨ä½¿å¾—åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªæ ¸è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥å¯¹äºçº¯è®¡ç®—çš„ä»£ç æ¥è¯´ï¼Œç†è®ºä¸Šå¤šçº¿ç¨‹å’Œå•çº¿ç¨‹æ˜¯æ²¡æœ‰åŒºåˆ«çš„ã€‚ä½†ç”±äºå¤šçº¿ç¨‹æ¶‰åŠä¸Šä¸‹æ–‡çš„åˆ‡æ¢ï¼Œä¼šé¢å¤–æœ‰ä¸€äº›å¼€é”€ï¼Œåè€Œè¿˜æ…¢ä¸€äº›ã€‚</p><p>ä½†æ˜¯å½“å»æ‰ GIL çš„æ—¶å€™ï¼Œå‘ç°å¤šçº¿ç¨‹çš„æ•ˆç‡ç›¸æ¯”ä¹‹å‰ç¡®å®æå‡äº†ï¼Œä½†æ˜¯å•çº¿ç¨‹çš„æ•ˆç‡åªæœ‰åŸæ¥çš„ä¸€åŠï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸èƒ½æ¥å—çš„ã€‚å› ä¸ºæŠŠ GIL å»æ‰äº†ï¼Œå°±æ„å‘³ç€éœ€è¦æ›´ç»†ç²’åº¦çš„é”æ¥è§£å†³å…±äº«æ•°æ®çš„å®‰å…¨é—®é¢˜ï¼Œè¿™å°±ä¼šå¯¼è‡´å¤§é‡çš„åŠ é”ã€è§£é”ã€‚è€ŒåŠ é”ã€è§£é”å¯¹äºæ“ä½œç³»ç»Ÿæ¥è¯´æ˜¯ä¸€ä¸ªæ¯”è¾ƒé‡é‡çº§çš„æ“ä½œï¼Œæ‰€ä»¥ GIL çš„ç§»é™¤æ˜¯æå…¶å›°éš¾çš„ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªå…³é”®ï¼Œå°±æ˜¯å½“ GIL è¢«ç§»é™¤ä¹‹åï¼Œä¼šä½¿å¾—æ‰©å±•æ¨¡å—çš„ç¼–å†™éš¾åº¦å¤§å¤§å¢åŠ ã€‚å› ä¸º GIL ä¿æŠ¤çš„ä¸ä»…ä»…æ˜¯ Python è§£é‡Šå™¨ï¼Œè¿˜æœ‰ Python&#x2F;C APIã€‚åƒå¾ˆå¤šç°æœ‰çš„ C æ‰©å±•ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šéƒ½ä¾èµ– GIL æä¾›çš„è§£å†³æ–¹æ¡ˆï¼Œ<font color="blue">å¦‚æœè¦ç§»é™¤ GILï¼Œå°±éœ€è¦é‡æ–°è§£å†³è¿™äº›åº“çš„çº¿ç¨‹å®‰å…¨æ€§é—®é¢˜ã€‚</font>å› æ­¤åœ¨ 2022 å¹´çš„ä»Šå¤©ï¼Œç”Ÿæ€å¦‚æ­¤æˆç†Ÿçš„ Pythonï¼Œå‡ ä¹æ˜¯ä¸å¯èƒ½æ‘†è„± GIL äº†ã€‚</p><h4 id="ä¸‰ã€æœ‰äº†-GILï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ä¸éœ€è¦åŠ é”äº†å‘¢ï¼Ÿï¼ˆé‡ç‚¹ï¼‰"><a href="#ä¸‰ã€æœ‰äº†-GILï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ä¸éœ€è¦åŠ é”äº†å‘¢ï¼Ÿï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="ä¸‰ã€æœ‰äº† GILï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ä¸éœ€è¦åŠ é”äº†å‘¢ï¼Ÿï¼ˆé‡ç‚¹ï¼‰"></a><font color="blue">ä¸‰ã€æœ‰äº† GILï¼Œåœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç çš„æ—¶å€™æ˜¯ä¸æ˜¯å°±æ„å‘³ç€ä¸éœ€è¦åŠ é”äº†å‘¢ï¼Ÿ</font>ï¼ˆé‡ç‚¹ï¼‰</h4><p>ç­”æ¡ˆæ˜¾ç„¶ä¸æ˜¯çš„ï¼Œå› ä¸º GIL ä¿æŠ¤çš„æ˜¯æ¯æ¡å­—èŠ‚ç ä¸ä¼šè¢«æ‰“æ–­ï¼Œè€Œå¾ˆå¤šä»£ç éƒ½æ˜¯ä¸€è¡Œå¯¹åº”å¤šæ¡å­—èŠ‚ç ï¼Œæ‰€ä»¥æ¯è¡Œä»£ç æ˜¯å¯ä»¥è¢«æ‰“æ–­çš„ã€‚æ¯”å¦‚ï¼ša &#x3D; a + 1 è¿™æ ·ä¸€æ¡è¯­å¥ï¼Œå®ƒå¯¹åº”4æ¡å­—èŠ‚ç ï¼šLOAD_NAME, LOAD_CONST, BINARY_ADD, STORE_NAMEã€‚</p><p>å‡è®¾æ­¤æ—¶ a &#x3D; 8ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ a &#x3D; a + 1ï¼Œçº¿ç¨‹ A æ‰§è¡Œçš„æ—¶å€™å·²ç»å°† a å’Œ 1 å‹å…¥è¿è¡Œæ—¶æ ˆï¼Œæ ˆé‡Œé¢çš„ a æŒ‡å‘çš„æ˜¯ 8ã€‚ä½†è¿˜æ²¡æœ‰æ‰§è¡Œ BINARY_ADD çš„æ—¶å€™ï¼Œå‘ç”Ÿçº¿ç¨‹åˆ‡æ¢ï¼Œè½®åˆ°çº¿ç¨‹ B æ‰§è¡Œï¼Œæ­¤æ—¶ B å¾—åˆ°çš„ a æ˜¾ç„¶è¿˜æ˜¯æŒ‡å‘ 8ï¼Œå› ä¸ºçº¿ç¨‹ A è¿˜æ²¡æœ‰å¯¹å˜é‡ a åšåŠ æ³•æ“ä½œã€‚ç„¶å B æ¯”è¾ƒå¹¸è¿ï¼Œå®ƒä¸€æ¬¡æ€§å°†è¿™ 4 æ¡å­—èŠ‚ç å…¨éƒ¨æ‰§è¡Œå®Œäº†ï¼Œæ‰€ä»¥ a åº”è¯¥æŒ‡å‘ 9ã€‚</p><p>ç„¶åçº¿ç¨‹è°ƒåº¦å†åˆ‡æ¢å› Aï¼Œæ­¤æ—¶ä¼šæ‰§è¡Œ BINARY_ADDï¼Œä¸è¿‡æ³¨æ„ï¼šæ ˆé‡Œé¢çš„ a ç›®å‰æŒ‡å‘çš„è¿˜æ˜¯ 8ï¼Œæ‰€ä»¥åŠ å®Œä¹‹åè¿˜æ˜¯ 9ã€‚</p><p>å› æ­¤æœ¬æ¥ a åº”è¯¥æŒ‡å‘10ï¼Œä½†æ˜¯å´æŒ‡å‘ 9ï¼Œå°±æ˜¯å› ä¸ºåœ¨æ‰§è¡Œçš„æ—¶å€™å‘ç”Ÿäº†çº¿ç¨‹è°ƒåº¦ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨ç¼–å†™å¤šçº¿ç¨‹ä»£ç çš„æ—¶å€™è¿˜æ˜¯éœ€è¦åŠ é”çš„ï¼ŒGIL åªæ˜¯ä¿è¯æ¯æ¡å­—èŠ‚ç æ‰§è¡Œçš„æ—¶å€™ä¸ä¼šè¢«æ‰“æ–­ï¼Œä½†æ˜¯ä¸€è¡Œä»£ç å¾€å¾€å¯¹åº”å¤šæ¡å­—èŠ‚ç ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šé€šè¿‡ threading.Lock() å†åŠ ä¸Šä¸€æŠŠé”ã€‚è¿™æ ·å³ä¾¿å‘ç”Ÿäº†çº¿ç¨‹è°ƒåº¦ï¼Œä½†ç”±äºæˆ‘ä»¬åœ¨ Python çš„å±‚é¢ä¸ŠåˆåŠ äº†ä¸€æŠŠé”ï¼Œåˆ«çš„çº¿ç¨‹ä¾æ—§æ— æ³•æ‰§è¡Œï¼Œè¿™æ ·å°±ä¿è¯äº†æ•°æ®çš„å®‰å…¨ã€‚</p><h4 id="å››ã€GIL-å•¥æ—¶å€™ä¼šè¢«é‡Šæ”¾å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰"><a href="#å››ã€GIL-å•¥æ—¶å€™ä¼šè¢«é‡Šæ”¾å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰" class="headerlink" title="å››ã€GIL å•¥æ—¶å€™ä¼šè¢«é‡Šæ”¾å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰"></a><font color="blue">å››ã€GIL å•¥æ—¶å€™ä¼šè¢«é‡Šæ”¾å‘¢ï¼Ÿ</font>ï¼ˆäº†è§£ï¼‰</h4><ul><li><p>1ï¼‰å½“é‡è§ io é˜»å¡çš„æ—¶å€™ä¼šé‡Šæ”¾ï¼Œå› ä¸º io é˜»å¡æ˜¯ä¸è€—è´¹ CPU çš„ï¼Œæ‰€ä»¥æ­¤æ—¶è™šæ‹Ÿæœºä¼šæŠŠè¯¥çº¿ç¨‹çš„é”é‡Šæ”¾ï¼›</p></li><li><p>2ï¼‰å³ä¾¿æ˜¯è€—è´¹ CPU çš„è¿ç®—ï¼Œä¹Ÿä¸ä¼šä¸€ç›´æ‰§è¡Œï¼Œä¼šåœ¨æ‰§è¡Œä¸€å°æ®µæ—¶é—´ä¹‹åé‡Šæ”¾é”ï¼Œä¸ºäº†ä¿è¯å…¶ä»–çº¿ç¨‹éƒ½æœ‰æœºä¼šæ‰§è¡Œï¼Œå°±ç±»ä¼¼äº CPU æ—¶é—´ç‰‡è½®è½¬çš„æ–¹å¼ï¼›</p></li></ul><h4 id="äº”ã€æˆ‘ä»¬èƒ½ä¸èƒ½æ‰‹åŠ¨é‡Šæ”¾-GIL-å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰"><a href="#äº”ã€æˆ‘ä»¬èƒ½ä¸èƒ½æ‰‹åŠ¨é‡Šæ”¾-GIL-å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰" class="headerlink" title="äº”ã€æˆ‘ä»¬èƒ½ä¸èƒ½æ‰‹åŠ¨é‡Šæ”¾ GIL å‘¢ï¼Ÿï¼ˆäº†è§£ï¼‰"></a><font color="blue">äº”ã€æˆ‘ä»¬èƒ½ä¸èƒ½æ‰‹åŠ¨é‡Šæ”¾ GIL å‘¢ï¼Ÿ</font>ï¼ˆäº†è§£ï¼‰</h4><p>åœ¨ Python é‡Œé¢ä¸å¯ä»¥ï¼Œä½†åœ¨ Cython é‡Œé¢æ˜¯å¯ä»¥çš„ã€‚å› ä¸º GIL æ˜¯ä¸ºäº†è§£å†³ Python çš„å†…å­˜ç®¡ç†è€Œå¼•å…¥çš„ï¼Œä½†å¦‚æœæ˜¯é‚£äº›ä¸éœ€è¦å’Œ Python ä»£ç ä¸€èµ·å·¥ä½œçš„çº¯ C ä»£ç ï¼Œé‚£ä¹ˆæ˜¯å¯ä»¥åœ¨æ²¡æœ‰ GIL çš„æƒ…å†µä¸‹è¿è¡Œçš„ã€‚</p><p>å› ä¸º GIL æ˜¯å­—èŠ‚ç çº§åˆ«çš„äº’æ–¥é”ï¼Œæ˜¾ç„¶è¿™æ˜¯åœ¨è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œå­—èŠ‚ç çš„æ—¶å€™æ‰€æ–½åŠ çš„ã€‚è€Œä¸”ä¸ä»…æ˜¯ GILï¼Œè¿˜æœ‰ Python çš„åŠ¨æ€æ€§ï¼Œéƒ½æ˜¯åœ¨è§£é‡Šå­—èŠ‚ç çš„æ—¶å€™ç”±è§£é‡Šå™¨æ‰€èµäºˆçš„ã€‚è€Œ  Cython ä»£ç ç»è¿‡ç¼–è¯‘ä¹‹åç›´æ¥æŒ‡å‘äº† C ä¸€çº§çš„ç»“æ„ï¼Œæ‰€ä»¥å®ƒç›¸å½“äºç»•è¿‡äº†è§£é‡Šæ‰§è¡Œè¿™ä¸€æ­¥ï¼Œå› æ­¤ä¹Ÿå°±æ˜¯å¤±å»äº†ç›¸åº”åŠ¨æ€ç‰¹æ€§ï¼ˆæ¢æ¥çš„æ˜¯é€Ÿåº¦çš„æå‡ï¼‰ã€‚é‚£ä¹ˆåŒç†ï¼Œæ—¢ç„¶èƒ½ç»•è¿‡è§£é‡Šæ‰§è¡Œè¿™ä¸€æ­¥ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€ä¹Ÿèƒ½ç»•è¿‡ GIL çš„é™åˆ¶ï¼Œå› ä¸º GIL ä¹Ÿæ˜¯åœ¨è§£é‡Šæ‰§è¡Œå­—èŠ‚ç çš„æ—¶å€™æ–½åŠ çš„ã€‚</p><p>å› æ­¤å½“æˆ‘ä»¬åœ¨ Cython ä¸­åˆ›å»ºäº†ä¸ç»‘å®šä»»ä½• Python å¯¹è±¡çš„ C çº§ç»“æ„æ—¶ï¼Œä¹Ÿå°±æ˜¯åœ¨å¤„ç† Cython çš„ C-Only éƒ¨åˆ†æ—¶ï¼Œå¯ä»¥å°†å…¨å±€è§£é‡Šå™¨é”ç»™é‡Šæ”¾æ‰ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Cython ç»•è¿‡ GILï¼Œå®ç°åŸºäºçº¿ç¨‹çš„å¹¶è¡Œã€‚</p><p>æ³¨æ„ï¼šGIL æ˜¯ä¸ºäº†ä¿æŠ¤ Python å¯¹è±¡çš„å†…å­˜ç®¡ç†è€Œè®¾ç½®çš„ï¼Œå¦‚æœæˆ‘ä»¬å°è¯•é‡Šæ”¾ GILï¼Œé‚£ä¹ˆä¸€å®šä¸€å®šä¸€å®šä¸èƒ½å’Œ Python å¯¹è±¡å‘ç”Ÿä»»ä½•çš„äº¤äº’ï¼Œå¿…é¡»æ˜¯çº¯ C çš„æ•°æ®ç»“æ„ã€‚</p><p>è€Œä¸ºäº†èƒ½å¤Ÿé‡Šæ”¾ GILï¼ŒCython æä¾›äº†ä¸¤ç§æœºåˆ¶ï¼šnogil å‡½æ•°å±æ€§å’Œ with nogil ä¸Šä¸‹æ–‡ç®¡ç†å™¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-GIL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šè¿›ç¨‹</title>
      <link href="/2022/08/09/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E8%BF%9B%E7%A8%8B/%E5%A4%9A%E8%BF%9B%E7%A8%8B/"/>
      <url>/2022/08/09/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E8%BF%9B%E7%A8%8B/%E5%A4%9A%E8%BF%9B%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p><strong><font size=5>åŒºåˆ«</font></strong></p><ul><li>å¤šçº¿ç¨‹ï¼šä¸€ä¸ªäººåƒé¥­ã€çœ‹ç”µå½±ã€ç©æ‰‹æœº</li><li>å¤šè¿›ç¨‹ï¼šä¸€ä¸ªäººè¦æ¬å¾ˆå¤šç –ï¼Œå¤šæ¥å‡ ä¸ªäººå¸®ä»–æ¬ï¼Œå°±å¯ä»¥è®©ä»–å°‘æ¬ç‚¹</li></ul><p>è¿›ç¨‹æ˜¯èµ„æºçš„åŸºæœ¬æœ€å°å•ä½ã€‚çº¿ç¨‹æ˜¯cpuè°ƒåº¦çš„åŸºæœ¬æœ€å°å•ä½ã€‚<br>è¿›ç¨‹æ˜¯ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦æ ¸åˆ†é…ç³»ç»Ÿèµ„æºï¼ˆCPUã€å†…å­˜ï¼‰çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹ç›¸å½“äºæŠŠæ•°æ®è¿›è¡Œäº†ä¸€æ¬¡å…‹éš†ï¼Œå­è¿›ç¨‹é‡Œçš„æ•°æ®ä¿®æ”¹æ— æ³•å½±å“åˆ°ä¸»è¿›ç¨‹ä¸­çš„æ•°æ®ï¼Œä¸åŒå­è¿›ç¨‹ä¹‹é—´çš„æ•°æ®ä¹Ÿä¸èƒ½å…±äº«ï¼Œè¿™æ˜¯å¤šè¿›ç¨‹åœ¨ä½¿ç”¨ä¸­ä¸å¤šçº¿ç¨‹æœ€æ˜æ˜¾çš„åŒºåˆ«ã€‚</p><p><strong><font size=5>ä¸ºä½•åœ¨Pythoné‡Œç”¨å¤šè¿›ç¨‹è¿™ä¹ˆéº»çƒ¦ï¼Ÿ</font></strong></p><p>å› ä¸ºPythonçš„çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼Œå› æ­¤è¦æœ‰Pythonå…¨å±€è§£é‡Šå™¨é”ã€‚ä¸€ä¸ªpythonè§£é‡Šå™¨è¿›ç¨‹å†…æœ‰ä¸€æ¡ä¸»çº¿ç¨‹ï¼Œä»¥åŠå¤šæ¡ç”¨æˆ·ç¨‹åºçš„æ‰§è¡Œçº¿ç¨‹ã€‚å³ä½¿åœ¨å¤šæ ¸CPUå¹³å°ä¸Šï¼Œç”±äºGILçš„å­˜åœ¨ï¼Œæ‰€ä»¥ç¦æ­¢å¤šçº¿ç¨‹çš„å¹¶è¡Œæ‰§è¡Œã€‚</p><h1 id="å¯¼å…¥æ¨¡å—ï¼š"><a href="#å¯¼å…¥æ¨¡å—ï¼š" class="headerlink" title="å¯¼å…¥æ¨¡å—ï¼š"></a>å¯¼å…¥æ¨¡å—ï¼š</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process,Pipe</span><br><span class="line"><span class="keyword">import</span> queue</span><br></pre></td></tr></table></figure><h1 id="å®ç°ï¼š"><a href="#å®ç°ï¼š" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h1><h3 id="å®ç°æ–¹æ³•ä¸€ï¼š"><a href="#å®ç°æ–¹æ³•ä¸€ï¼š" class="headerlink" title="å®ç°æ–¹æ³•ä¸€ï¼š"></a>å®ç°æ–¹æ³•ä¸€ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;æµ‹è¯•<span class="subst">&#123;name&#125;</span>å¤šè¿›ç¨‹&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    process_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        t1 = Process(target=func,args=(<span class="string">&#x27;Python&#x27;</span>,))</span><br><span class="line">        process_list.append(t1)</span><br><span class="line">        t1.start()</span><br><span class="line">    <span class="keyword">for</span> t1 <span class="keyword">in</span> process_list:</span><br><span class="line">        t1.join()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç»“æŸæµ‹è¯•&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">ç»“æŸæµ‹è¯•</span><br></pre></td></tr></table></figure><h3 id="å®ç°æ–¹æ³•äºŒï¼ˆç±»ç»§æ‰¿ï¼‰ï¼š"><a href="#å®ç°æ–¹æ³•äºŒï¼ˆç±»ç»§æ‰¿ï¼‰ï¼š" class="headerlink" title="å®ç°æ–¹æ³•äºŒï¼ˆç±»ç»§æ‰¿ï¼‰ï¼š"></a>å®ç°æ–¹æ³•äºŒï¼ˆç±»ç»§æ‰¿ï¼‰ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyProcess</span>(<span class="title class_ inherited__">Process</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="built_in">super</span>(MyProcess,self).__init__()</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;æµ‹è¯•<span class="subst">&#123;self.name&#125;</span>å¤šè¿›ç¨‹&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    process_list = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        t1 = MyProcess(<span class="string">&#x27;Python&#x27;</span>)</span><br><span class="line">        t1.start()</span><br><span class="line">        process_list.append(t1)</span><br><span class="line">    <span class="keyword">for</span> t1 <span class="keyword">in</span> process_list:</span><br><span class="line">        t1.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ç»“æŸæµ‹è¯•&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">æµ‹è¯•Pythonå¤šè¿›ç¨‹</span><br><span class="line">ç»“æŸæµ‹è¯•</span><br></pre></td></tr></table></figure><h1 id="å¤šè¿›ç¨‹é€šä¿¡"><a href="#å¤šè¿›ç¨‹é€šä¿¡" class="headerlink" title="å¤šè¿›ç¨‹é€šä¿¡"></a>å¤šè¿›ç¨‹é€šä¿¡</h1><p>ç®€ä»‹ï¼šè¿›ç¨‹æ˜¯ç³»ç»Ÿç‹¬ç«‹è°ƒåº¦æ ¸åˆ†é…ç³»ç»Ÿèµ„æºï¼ˆCPUã€å†…å­˜ï¼‰çš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼Œæ¯å¯åŠ¨ä¸€ä¸ªæ–°çš„è¿›ç¨‹ç›¸å½“äºæŠŠæ•°æ®è¿›è¡Œäº†ä¸€æ¬¡å…‹éš†ï¼Œå­è¿›ç¨‹é‡Œçš„æ•°æ®ä¿®æ”¹æ— æ³•å½±å“åˆ°ä¸»è¿›ç¨‹ä¸­çš„æ•°æ®ï¼Œä¸åŒå­è¿›ç¨‹ä¹‹é—´çš„æ•°æ®ä¹Ÿä¸èƒ½å…±äº«ï¼Œè¿™æ˜¯å¤šè¿›ç¨‹åœ¨ä½¿ç”¨ä¸­ä¸å¤šçº¿ç¨‹æœ€æ˜æ˜¾çš„åŒºåˆ«ã€‚å½“ç„¶pythonä¹Ÿæä¾›äº†å¤šç§æ–¹æ³•å®ç°äº†å¤šè¿›ç¨‹ä¸­é—´çš„é€šä¿¡å’Œæ•°æ®å…±äº«ï¼ˆå¯ä»¥ä¿®æ”¹ä¸€ä»½æ•°æ®ï¼‰</p><h3 id="ç®¡é“é€šä¿¡ï¼ˆé»˜è®¤åŒå‘é€šä¿¡ï¼‰ï¼š"><a href="#ç®¡é“é€šä¿¡ï¼ˆé»˜è®¤åŒå‘é€šä¿¡ï¼‰ï¼š" class="headerlink" title="ç®¡é“é€šä¿¡ï¼ˆé»˜è®¤åŒå‘é€šä¿¡ï¼‰ï¼š"></a>ç®¡é“é€šä¿¡ï¼ˆé»˜è®¤åŒå‘é€šä¿¡ï¼‰ï¼š</h3><p>ç®€ä»‹ï¼šé¡¾åæ€ä¹‰ï¼Œç®¡é“Pipe æœ‰ä¸¤ç«¯ï¼Œå› è€Œ <font color=red>main_conn, child_conn &#x3D; Pipe()</font> ï¼Œç®¡é“çš„ä¸¤ç«¯å¯ä»¥æ”¾åœ¨ä¸»è¿›ç¨‹æˆ–å­è¿›ç¨‹å†…ï¼Œæˆ‘åœ¨å®éªŒä¸­æ²¡å‘ç°ä¸»ç®¡é“å£main_conn å’Œå­ç®¡é“å£child_conn çš„åŒºåˆ«ã€‚ä¸¤ç«¯å¯ä»¥åŒæ—¶æ”¾è¿›å»ä¸œè¥¿ï¼Œæ”¾è¿›å»çš„å¯¹è±¡éƒ½ç»è¿‡äº†æ·±æ‹·è´ï¼šç”¨ <font color=red>conn.send()</font>åœ¨ä¸€ç«¯æ”¾å…¥ï¼Œç”¨ <font color=red>conn.recv()</font> å¦ä¸€ç«¯å–å‡ºï¼Œç®¡é“çš„ä¸¤ç«¯å¯ä»¥åŒæ—¶ç»™å¤šä¸ªè¿›ç¨‹ã€‚connæ˜¯ connectçš„ç¼©å†™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func1</span>(<span class="params">conn,p_id</span>):</span><br><span class="line">    <span class="built_in">print</span>(p_id)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    <span class="comment"># ä»ç®¡é“ä¸€ç«¯æ”¾å…¥</span></span><br><span class="line">    conn.send(<span class="string">f&#x27;<span class="subst">&#123;p_id&#125;</span>_send1&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(p_id, <span class="string">&#x27;send1&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    conn.send(<span class="string">f&#x27;<span class="subst">&#123;p_id&#125;</span>_send2&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(p_id, <span class="string">&#x27;send2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    <span class="comment"># ä»ç®¡é“å¦ä¸€ç«¯å–å‡º</span></span><br><span class="line">    rec = conn.recv()</span><br><span class="line">    <span class="built_in">print</span>(p_id, <span class="string">&#x27;recv&#x27;</span>,rec)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    rec = conn.recv()</span><br><span class="line">    <span class="built_in">print</span>(p_id, <span class="string">&#x27;recv&#x27;</span>,rec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func2</span>(<span class="params">conn,p_id</span>):</span><br><span class="line">    <span class="built_in">print</span>(p_id)</span><br><span class="line"></span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    conn.send(p_id)</span><br><span class="line">    <span class="built_in">print</span>(p_id,<span class="string">&quot;send&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    rec = conn.recv()</span><br><span class="line">    <span class="built_in">print</span>(p_id,<span class="string">&#x27;recv&#x27;</span>,rec)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_pipe</span>():</span><br><span class="line">    conn1,conn2 = Pipe()</span><br><span class="line">    process_list = []</span><br><span class="line">    t1 = Process(target=func1,args=(conn1,<span class="string">&#x27;T1&#x27;</span>))</span><br><span class="line">    process_list.append(t1)</span><br><span class="line">    t2 = Process(target=func2,args=(conn2,<span class="string">&#x27;T2&#x27;</span>))</span><br><span class="line">    process_list.append(t2)</span><br><span class="line">    t3 = Process(target=func2,args=(conn2,<span class="string">&#x27;T3&#x27;</span>))</span><br><span class="line">    process_list.append(t3)</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> process_list:</span><br><span class="line">        t.start()</span><br><span class="line">    conn1.send(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> process_list:</span><br><span class="line">        t.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    run_pipe()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">T1</span><br><span class="line">T2</span><br><span class="line">T3</span><br><span class="line">T1 send1</span><br><span class="line">T2 send</span><br><span class="line">T3 send</span><br><span class="line">T1 send2</span><br><span class="line">T2 recv <span class="number">1</span></span><br><span class="line">T3 recv T1_send1</span><br><span class="line">T1 recv T2</span><br><span class="line">T1 recv T3</span><br></pre></td></tr></table></figure><h3 id="ç®¡é“é€šä¿¡ï¼ˆå•å‘é€šä¿¡ï¼‰"><a href="#ç®¡é“é€šä¿¡ï¼ˆå•å‘é€šä¿¡ï¼‰" class="headerlink" title="ç®¡é“é€šä¿¡ï¼ˆå•å‘é€šä¿¡ï¼‰"></a>ç®¡é“é€šä¿¡ï¼ˆå•å‘é€šä¿¡ï¼‰</h3><p>ç®€ä»‹ï¼šPipeè¿˜æœ‰ <font color=red>duplex</font>å‚æ•° å’Œ <font color=red>poll() </font>æ–¹æ³• éœ€è¦äº†è§£ã€‚é»˜è®¤æƒ…å†µä¸‹ duplex&#x3D;Trueï¼Œè‹¥ä¸å¼€å¯åŒå‘ç®¡é“ï¼Œéœ€è¦æŒ‡å®šduplex&#x3D;Falseï¼Œé‚£ä¹ˆä¼ æ•°æ®çš„æ–¹å‘åªèƒ½ conn1 â† conn2 ã€‚conn2.poll()&#x3D;&#x3D;True æ„å‘³ç€å¯ä»¥é©¬ä¸Šä½¿ç”¨ conn2.recv() æ‹¿åˆ°ä¼ è¿‡æ¥çš„æ•°æ®ã€‚conn2.poll(n) ä¼šè®©å®ƒç­‰å¾…nç§’é’Ÿå†è¿›è¡ŒæŸ¥è¯¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç®¡é“çš„åŒå‘é€šä¿¡</span></span><br><span class="line">conn1,conn2 = Pipe()</span><br><span class="line">conn1.send(<span class="string">&#x27;Hello&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(conn1.poll())</span><br><span class="line"><span class="built_in">print</span>(conn2.poll())</span><br><span class="line"><span class="built_in">print</span>(conn2.recv(),conn2.poll(<span class="number">2</span>))</span><br><span class="line">conn2.send(<span class="string">&#x27;ä½ å¥½&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(conn1.poll())</span><br><span class="line"><span class="built_in">print</span>(conn2.poll())</span><br><span class="line"><span class="built_in">print</span>(conn1.recv(),conn1.poll(<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœä¸å¼€é€šï¼Œåªèƒ½ä»conn2(åªèƒ½å†™å…¥) --&gt; conn1(åªèƒ½è¯»å–)</span></span><br><span class="line">conn3,conn4 = Pipe(duplex=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># conn3.send(&quot;Hello&quot;) # æ— æ³•å†™å…¥æ•°æ®</span></span><br><span class="line"><span class="comment"># print(conn3.poll())</span></span><br><span class="line"><span class="comment"># print(conn4.poll())</span></span><br><span class="line"><span class="comment"># print(conn4.recv(),conn4.poll(2))</span></span><br><span class="line">conn4.send(<span class="string">&quot;ä½ å¥½&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(conn3.poll())</span><br><span class="line"><span class="comment"># print(conn4.poll()) # æ— æ³•è¯»å–æ•°æ®</span></span><br><span class="line"><span class="built_in">print</span>(conn3.recv(),conn3.poll(<span class="number">2</span>))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line">Hello <span class="literal">False</span></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">ä½ å¥½ <span class="literal">False</span></span><br><span class="line">****************************************************************************************************</span><br><span class="line"><span class="literal">True</span></span><br><span class="line">ä½ å¥½ <span class="literal">False</span></span><br></pre></td></tr></table></figure><h3 id="é˜Ÿåˆ—é€šä¿¡"><a href="#é˜Ÿåˆ—é€šä¿¡" class="headerlink" title="é˜Ÿåˆ—é€šä¿¡"></a>é˜Ÿåˆ—é€šä¿¡</h3><p>ç®€ä»‹ï¼šé˜Ÿåˆ—Queue çš„åŠŸèƒ½ä¸å‰é¢çš„ç®¡é“Pipeéå¸¸ç›¸ä¼¼ï¼šæ— è®ºä¸»è¿›ç¨‹æˆ–å­è¿›ç¨‹ï¼Œéƒ½èƒ½è®¿é—®åˆ°é˜Ÿåˆ—ï¼Œæ”¾è¿›å»çš„å¯¹è±¡éƒ½ç»è¿‡äº†æ·±æ‹·è´ã€‚ä¸åŒçš„æ˜¯ï¼šç®¡é“Pipeåªæœ‰ä¸¤ä¸ªæ–­å¼€ï¼Œè€Œé˜Ÿåˆ—Queue æœ‰åŸºæœ¬çš„é˜Ÿåˆ—å±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">q</span>):</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;q.get()&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">run_queue</span>():</span><br><span class="line">    q.put(<span class="string">&#x27;æ¶ˆæ¯ 1&#x27;</span>)</span><br><span class="line">    q.put(<span class="string">&#x27;æ¶ˆæ¯ 2&#x27;</span>)</span><br><span class="line">    q.put(<span class="string">&#x27;æ¶ˆæ¯ 3&#x27;</span>)</span><br><span class="line">    q.put(<span class="string">&#x27;æ¶ˆæ¯ 4&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(q.empty())</span><br><span class="line">    <span class="built_in">print</span>(q.qsize())</span><br><span class="line">    <span class="built_in">print</span>(q.get())</span><br><span class="line">    <span class="built_in">print</span>(q.get())</span><br><span class="line">    <span class="built_in">print</span>(q.qsize())</span><br><span class="line"></span><br><span class="line">    process = [Process(target=func,args=(q,)),</span><br><span class="line">               Process(target=func,args=(q,)),]</span><br><span class="line">    [p.start() <span class="keyword">for</span> p <span class="keyword">in</span> process]</span><br><span class="line">    [p.join() <span class="keyword">for</span> p <span class="keyword">in</span> process]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    q = queue.Queue(maxsize=<span class="number">4</span>)</span><br><span class="line">    run_queue()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">False</span><br><span class="line">4</span><br><span class="line">æ¶ˆæ¯ 1</span><br><span class="line">æ¶ˆæ¯ 2</span><br><span class="line">2</span><br><span class="line">æ¶ˆæ¯ 3</span><br><span class="line">æ¶ˆæ¯ 3</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šè¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›ç¨‹æ± </title>
      <link href="/2022/08/09/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E8%BF%9B%E7%A8%8B/%E8%BF%9B%E7%A8%8B%E6%B1%A0/"/>
      <url>/2022/08/09/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E8%BF%9B%E7%A8%8B/%E8%BF%9B%E7%A8%8B%E6%B1%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;1111111111111111111<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;22222222222222222<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># åˆ›å»ºè¿›ç¨‹æ± </span></span><br><span class="line">    pool = multiprocessing.Pool(<span class="number">2</span>)</span><br><span class="line">    pool.apply_async(fun1,(<span class="string">&#x27;Python&#x27;</span>,))</span><br><span class="line">    pool.apply_async(fun2,(<span class="string">&#x27;JAVA&#x27;</span>,))</span><br><span class="line">    pool.apply_async(fun2,(<span class="string">&#x27;JAVA&#x27;</span>,))</span><br><span class="line">    <span class="comment"># pool.apply_async(fun2,args=&#x27;JAVA&#x27;,)</span></span><br><span class="line">    pool.close()</span><br><span class="line">    pool.join()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1111111111111111111Python</span><br><span class="line">22222222222222222JAVA</span><br><span class="line">22222222222222222JAVA</span><br><span class="line">1111111111111111111Python</span><br><span class="line">22222222222222222JAVA</span><br><span class="line">22222222222222222JAVA</span><br><span class="line">1111111111111111111Python</span><br><span class="line">22222222222222222JAVA</span><br><span class="line">ã€‚ã€‚ã€‚ä¸€ç›´å¾ªç¯</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šè¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2022/07/28/Python/%E6%A8%A1%E5%9D%97/re/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
      <url>/2022/07/28/Python/%E6%A8%A1%E5%9D%97/re/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åŒ¹é…ç¬¦"><a href="#åŒ¹é…ç¬¦" class="headerlink" title="åŒ¹é…ç¬¦"></a>åŒ¹é…ç¬¦</h1><p>è¿™é‡Œæˆ‘ä»¬å…ˆæ¥è®¤è¯†ä¸€ä¸‹åŒ¹é…ç¬¦</p><table><thead><tr><th>å­—ç¬¦</th><th>åŠŸèƒ½</th><th>ä½ç½®</th></tr></thead><tbody><tr><td>.</td><td>åŒ¹é…ä»»æ„1ä¸ªå­—ç¬¦ï¼ˆé™¤äº†\nï¼‰</td><td></td></tr><tr><td>[ ]</td><td>åŒ¹é…[ ]ä¸­åˆ—ä¸¾çš„å­—ç¬¦</td><td></td></tr><tr><td>\d</td><td>åŒ¹é…æ•°å­—ï¼Œå³0-9</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>\D</td><td>åŒ¹é…â¾®æ•°å­—ï¼Œå³ä¸æ˜¯æ•°å­—</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>\s</td><td>åŒ¹é…ç©ºâ½©ï¼Œå³ç©ºæ ¼ï¼Œtabé”®</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>\S</td><td>åŒ¹é…â¾®ç©ºâ½©å­—ç¬¦</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>\w</td><td>åŒ¹é…å•è¯å­—ç¬¦ï¼Œå³a-zã€A-Zã€0-9ã€_</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>\W</td><td>åŒ¹é…â¾®å•è¯å­—ç¬¦</td><td>å¯ä»¥å†™åœ¨å­—ç¬¦é›†[â€¦]ä¸­</td></tr><tr><td>[â€¦]</td><td>åŒ¹é…â€¦ä»¥å†…çš„æ‰€æœ‰å­—ç¬¦ï¼Œå³[abc]ã€[a-c]</td><td></td></tr><tr><td>[^â€¦]</td><td>åŒ¹é…â€¦ä»¥å†…çš„ç›¸åçš„å­—ç¬¦ã€‚[^abc]ï¼šåŒ¹é…é™¤abcä»¥å¤–çš„å­—ç¬¦</td><td></td></tr><tr><td>*</td><td>åŒ¹é…å‰â¼€ä¸ªå­—ç¬¦å‡ºç°0æ¬¡æˆ–è€…â½†é™æ¬¡ï¼Œå³å¯æœ‰å¯â½†ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹åabc*abccc</td><td>ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹å</td></tr><tr><td>+</td><td>åŒ¹é…å‰â¼€ä¸ªå­—ç¬¦å‡ºç°1æ¬¡æˆ–è€…â½†é™æ¬¡ï¼Œå³â¾„å°‘æœ‰1æ¬¡ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹åabc+abccc</td><td>ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹å</td></tr><tr><td>?</td><td>åŒ¹é…å‰â¼€ä¸ªå­—ç¬¦å‡ºç°1æ¬¡æˆ–è€…0æ¬¡ï¼Œå³è¦ä¹ˆæœ‰1æ¬¡ï¼Œè¦ä¹ˆæ²¡æœ‰ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹åabc?ab,abc</td><td>ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹å</td></tr><tr><td>{m}</td><td>åŒ¹é…å‰â¼€ä¸ªå­—ç¬¦å‡ºç°mæ¬¡ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹åab{2}cabbc</td><td>ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹å</td></tr><tr><td>{m,n}</td><td>åŒ¹é…å‰â¼€ä¸ªå­—ç¬¦å‡ºç°ä»måˆ°næ¬¡ï¼Œè‹¥çœç•¥mï¼Œåˆ™åŒ¹é…0åˆ°næ¬¡ï¼Œè‹¥çœç•¥nï¼Œåˆ™åŒ¹é…måˆ°æ— é™æ¬¡ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹åab{1,2}cabc,abbc</td><td>ç”¨åœ¨å­—ç¬¦æˆ–(â€¦)ä¹‹å</td></tr><tr><td>^</td><td>åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´</td><td></td></tr><tr><td>$</td><td>åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾</td><td></td></tr><tr><td>|</td><td>åŒ¹é…å·¦å³ä»»æ„â¼€ä¸ªè¡¨è¾¾å¼</td><td></td></tr><tr><td>(ab)</td><td>å°†æ‹¬å·ä¸­å­—ç¬¦ä½œä¸ºâ¼€ä¸ªåˆ†ç»„</td><td></td></tr><tr><td>\num</td><td>å¼•â½¤åˆ†ç»„numåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</td><td></td></tr><tr><td>(?P<name>)</td><td>åˆ†ç»„èµ·åˆ«åï¼ŒåŒ¹é…åˆ°çš„å­ä¸²ç»„åœ¨å¤–éƒ¨æ˜¯é€šè¿‡å®šä¹‰çš„ name æ¥è·å–çš„</td><td></td></tr><tr><td>(?P&#x3D;name)</td><td>å¼•â½¤åˆ«åä¸ºnameåˆ†ç»„åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²</td><td></td></tr></tbody></table><h1 id="re-matchå‡½æ•°"><a href="#re-matchå‡½æ•°" class="headerlink" title="re.matchå‡½æ•°"></a>re.matchå‡½æ•°</h1><p>è¯­æ³•ï¼šre.match(æ­£åˆ™è¡¨è¾¾å¼, å­—ç¬¦ä¸²)</p><p>ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœä¸æ˜¯èµ·å§‹ä½ç½®åŒ¹é…æˆåŠŸçš„è¯ï¼Œmatchå°±ç›´æ¥è¿”å›None</p><h1 id="re-compile-å‡½æ•°"><a href="#re-compile-å‡½æ•°" class="headerlink" title="re.compile å‡½æ•°"></a>re.compile å‡½æ•°</h1><p>è¯­æ³•ï¼šprog &#x3D; re.compile(pattern)<br>      result &#x3D; prog.match(string)</p><p>compile å‡½æ•°ç”¨äºç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”Ÿæˆä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼ˆ Pattern ï¼‰å¯¹è±¡ï¼Œä¾› match() å’Œ search() è¿™ä¸¤ä¸ªå‡½æ•°ä½¿ç”¨ã€‚</p><h1 id="re-searchå‡½æ•°"><a href="#re-searchå‡½æ•°" class="headerlink" title="re.searchå‡½æ•°"></a>re.searchå‡½æ•°</h1><p>è¯­æ³•ï¼šret &#x3D; re.search(æ­£åˆ™è¡¨è¾¾å¼, å­—ç¬¦ä¸²)</p><p>re.search æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œå°±è¿”å›ä¸€ä¸ª Noneã€‚</p><p>re.matchä¸re.searchçš„åŒºåˆ«ï¼šre.matchåªåŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹ï¼Œå¦‚æœå­—ç¬¦ä¸²å¼€å§‹ä¸ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™åŒ¹é…å¤±è´¥ï¼Œå‡½æ•°è¿”å›Noneï¼›è€Œre.searchåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåŒ¹é…</p><h1 id="re-findallå‡½æ•°"><a href="#re-findallå‡½æ•°" class="headerlink" title="re.findallå‡½æ•°"></a>re.findallå‡½æ•°</h1><p>è¯­æ³•ï¼š re.findall(æ­£åˆ™è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²)</p><p>åœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„ï¼Œåˆ™è¿”å›ç©ºåˆ—è¡¨ã€‚æ³¨æ„ï¼š match å’Œ search æ˜¯åŒ¹é…ä¸€æ¬¡ findall åŒ¹é…æ‰€æœ‰ã€‚</p><h1 id="re-finditerå‡½æ•°"><a href="#re-finditerå‡½æ•°" class="headerlink" title="re.finditerå‡½æ•°"></a>re.finditerå‡½æ•°</h1><p>è¯­æ³•ï¼šre.finditer(æ­£åˆ™è¡¨è¾¾å¼ï¼Œå­—ç¬¦ä¸²)</p><p>å’Œ findall ç±»ä¼¼ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ­£åˆ™è¡¨è¾¾å¼æ‰€åŒ¹é…çš„æ‰€æœ‰å­ä¸²ï¼Œå¹¶æŠŠå®ƒä»¬ä½œä¸ºä¸€ä¸ªè¿­ä»£å™¨è¿”å›ã€‚</p><h1 id="re-subå‡½æ•°"><a href="#re-subå‡½æ•°" class="headerlink" title="re.subå‡½æ•°"></a>re.subå‡½æ•°</h1><p>è¯­æ³•ï¼šre.sub(æ­£åˆ™è¡¨è¾¾å¼, æ›¿æ¢å†…å®¹, å­—ç¬¦ä¸²)</p><p>subæ˜¯substituteçš„æ‰€å†™ï¼Œè¡¨ç¤ºæ›¿æ¢ï¼Œå°†åŒ¹é…åˆ°çš„æ•°æ®è¿›â¾æ›¿æ¢ã€‚</p><h1 id="re-subnå‡½æ•°"><a href="#re-subnå‡½æ•°" class="headerlink" title="re.subnå‡½æ•°"></a>re.subnå‡½æ•°</h1><p>è¯­æ³•ï¼špattern &#x3D; re.compile(æ­£åˆ™è¡¨è¾¾å¼)<br>re.subn(pattern, râ€™\2ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ä¸­å…¶ä¸­ä¸€ç»„ï¼‰ \1â€™, å­—ç¬¦ä¸²)</p><p>è¡Œä¸ºä¸sub()ç›¸åŒï¼Œä½†æ˜¯è¿”å›ä¸€ä¸ªå…ƒç»„ (å­—ç¬¦ä¸², æ›¿æ¢æ¬¡æ•°)ã€‚</p><h1 id="re-splitå‡½æ•°"><a href="#re-splitå‡½æ•°" class="headerlink" title="re.splitå‡½æ•°"></a>re.splitå‡½æ•°</h1><p>è¯­æ³•ï¼šre.split(æ­£åˆ™è¡¨è¾¾å¼,å­—ç¬¦ä¸²)</p><p>æ ¹æ®åŒ¹é…è¿›â¾åˆ‡å‰²å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›â¼€ä¸ªåˆ—è¡¨ã€‚</p><h1 id="è´ªå©ªå’Œâ¾®è´ªå©ª"><a href="#è´ªå©ªå’Œâ¾®è´ªå©ª" class="headerlink" title="è´ªå©ªå’Œâ¾®è´ªå©ª"></a>è´ªå©ªå’Œâ¾®è´ªå©ª</h1><p>æ­£åˆ™è¡¨è¾¾å¼â€ab<em>â€å¦‚æœç”¨äºæŸ¥æ‰¾â€abbbcâ€ï¼Œå°†æ‰¾åˆ°â€abbbâ€ã€‚è€Œå¦‚æœä½¿ç”¨éè´ªå©ªçš„æ•°é‡è¯â€ab</em>?â€ï¼Œå°†æ‰¾åˆ°â€aâ€ã€‚</p><p>åœ¨â€*â€,â€?â€,â€+â€,â€{m,n}â€åâ¾¯åŠ ä¸Šï¼Ÿï¼Œä½¿è´ªå©ªå˜æˆâ¾®è´ªå©ªã€‚</p><h1 id="rçš„ä½œâ½¤"><a href="#rçš„ä½œâ½¤" class="headerlink" title="rçš„ä½œâ½¤"></a>rçš„ä½œâ½¤</h1><p>ä¸å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€ç›¸åŒï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œä½¿ç”¨â€\â€ä½œä¸ºè½¬ä¹‰å­—ç¬¦ï¼Œè¿™å°±å¯èƒ½é€ æˆåæ–œæ å›°æ‰°ã€‚å‡å¦‚ä½ éœ€è¦åŒ¹é…æ–‡æœ¬ä¸­çš„å­—ç¬¦â€\â€ï¼Œé‚£ä¹ˆä½¿ç”¨ç¼–ç¨‹è¯­è¨€è¡¨ç¤ºçš„æ­£åˆ™è¡¨è¾¾å¼é‡Œå°†éœ€è¦4ä¸ªåæ–œæ â€\\â€ï¼šå‰ä¸¤ä¸ªå’Œåä¸¤ä¸ªåˆ†åˆ«ç”¨äºåœ¨ç¼–ç¨‹è¯­è¨€é‡Œè½¬ä¹‰æˆåæ–œæ ï¼Œè½¬æ¢æˆä¸¤ä¸ªåæ–œæ åå†åœ¨æ­£åˆ™è¡¨è¾¾å¼é‡Œè½¬ä¹‰æˆä¸€ä¸ªåæ–œæ ã€‚Pythoné‡Œçš„åŸç”Ÿå­—ç¬¦ä¸²å¾ˆå¥½åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ŒPythonä¸­å­—ç¬¦ä¸²å‰â¾¯åŠ ä¸Š r è¡¨ç¤ºåŸâ½£å­—ç¬¦ä¸²ã€‚</p><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">data = <span class="string">&quot;itcast.cn&quot;</span></span><br><span class="line">result = re.match(<span class="string">&quot;itcast&quot;</span>,data)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># &lt;re.Match object; span=(0, 6), match=&#x27;itcast&#x27;&gt;</span></span><br><span class="line">result = result.group()</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># itcast</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># . ä»£è¡¨ä»»æ„å­—ç¬¦</span></span><br><span class="line">result = re.match(<span class="string">&quot;.&quot;</span>,<span class="string">&quot;M&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># M</span></span><br><span class="line">result = re.match(<span class="string">&quot;t.o&quot;</span>,<span class="string">&quot;too&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># too</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ˜¯å¦æœ‰åŒæ ·çš„å­—ç¬¦å¼€å¤´</span></span><br><span class="line">result = re.match(<span class="string">&quot;h&quot;</span>,<span class="string">&quot;hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># h</span></span><br><span class="line">result = re.match(<span class="string">&quot;H&quot;</span>,<span class="string">&quot;Hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># H</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [] åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²å¼€å¤´æ˜¯å¦æœ‰[]ä¸­åŒ…å«çš„å­—ç¬¦</span></span><br><span class="line">result = re.match(<span class="string">&quot;[hH]ello Python&quot;</span>,<span class="string">&quot;Hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># Hello Python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…0-9çš„å¤šç§å†™æ³•</span></span><br><span class="line">result = re.match(<span class="string">&quot;[0123456789]Hello Python&quot;</span>,<span class="string">&quot;7Hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 7Hello Python</span></span><br><span class="line">result = re.match(<span class="string">&quot;[0-9]Hello Python&quot;</span>,<span class="string">&quot;8Hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 8Hello Python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…0-3å’Œ5-9</span></span><br><span class="line">result = re.match(<span class="string">&quot;[0-35-9]Hello Python&quot;</span>,<span class="string">&quot;9Hello Python&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 9Hello Python</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># \d åŒ¹é…æ•°å­—</span></span><br><span class="line">result = re.match(<span class="string">&quot;å«¦å¨¥\då·&quot;</span>,<span class="string">&quot;å«¦å¨¥2å·&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># å«¦å¨¥2å·</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ï¼Œå…¶ä»–ä¸ºå°äº›ä¸”å¯æœ‰å¯æ— </span></span><br><span class="line">result = re.match(<span class="string">&quot;[A-Z][a-z]*&quot;</span>,<span class="string">&quot;M&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># M</span></span><br><span class="line">result = re.match(<span class="string">&quot;[A-Z][a-z]*&quot;</span>,<span class="string">&quot;MnnM&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># Mnn</span></span><br><span class="line">result = re.match(<span class="string">&quot;[A-Z][a-z]*&quot;</span>,<span class="string">&quot;Anconda&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># Anconda</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…å˜é‡åæ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">names = [<span class="string">&quot;name1&quot;</span>,<span class="string">&quot;_name&quot;</span>,<span class="string">&quot;2_name&quot;</span>,<span class="string">&quot;__name__&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    result = re.match(<span class="string">&quot;[a-zA-Z_]+\w*&quot;</span>,name)</span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å˜é‡å %s ç¬¦åˆè¦æ±‚&quot;</span>%result.group())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å˜é‡å %s éæ³•&quot;</span>%name)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">å˜é‡å name1 ç¬¦åˆè¦æ±‚</span></span><br><span class="line"><span class="string">å˜é‡å _name ç¬¦åˆè¦æ±‚</span></span><br><span class="line"><span class="string">å˜é‡å 2_name éæ³•</span></span><br><span class="line"><span class="string">å˜é‡å __name__ ç¬¦åˆè¦æ±‚</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…å‡º0-99ä¸ªæ•°å­—</span></span><br><span class="line">result = re.match(<span class="string">&quot;[1-9]?[0-9]&quot;</span>,<span class="string">&quot;7&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 7</span></span><br><span class="line">result = re.match(<span class="string">&quot;[1-9]?\d&quot;</span>,<span class="string">&quot;77&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 77</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…0-9å¼€å¤´ æ•°å­—ç»“å°¾çš„å­—ç¬¦ä¸²</span></span><br><span class="line">result = re.match(<span class="string">&quot;[0-9]\d$&quot;</span>,<span class="string">&quot;09&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 09</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…6ä¸ªå•è¯å­—æ¯</span></span><br><span class="line">result = re.match(<span class="string">&quot;\w&#123;6&#125;&quot;</span>,<span class="string">&quot;1sqd12_qwe&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 1sqd12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…163.comé‚®ç®±</span></span><br><span class="line">email_list = [<span class="string">&quot;xiaoWang@163.com&quot;</span>, <span class="string">&quot;xiaoWang@163.comheihei&quot;</span>, <span class="string">&quot;.com.xiaowang@qq.com&quot;</span>]</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">xiaoWang@163.com æ˜¯ç¬¦åˆè§„å®šçš„é‚®ç®±æ ¼å¼ï¼ŒåŒ¹é…åçš„ç»“æœæ˜¯ï¼šxiaoWang@163.com</span></span><br><span class="line"><span class="string">xiaoWang@163.comheihei ä¸ç¬¦åˆè¦æ±‚</span></span><br><span class="line"><span class="string">.com.xiaowang@qq.com ä¸ç¬¦åˆè¦æ±‚</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> email <span class="keyword">in</span> email_list:</span><br><span class="line">    ret = re.match(<span class="string">&quot;\w&#123;4,20&#125;@163.com$&quot;</span>,email)</span><br><span class="line">    <span class="keyword">if</span> ret:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s æ˜¯ç¬¦åˆè§„å®šçš„é‚®ç®±æ ¼å¼ï¼ŒåŒ¹é…åçš„ç»“æœæ˜¯ï¼š%s&quot;</span>%(email,ret.group()))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s ä¸ç¬¦åˆè¦æ±‚&quot;</span>%email)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…å·¦å³ä»»æ„ä¸€ä¸ªè¡¨è¾¾å¼</span></span><br><span class="line">result = re.match(<span class="string">&quot;[1-9]?\d$|100&quot;</span>,<span class="string">&quot;78&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 78</span></span><br><span class="line">result = re.match(<span class="string">&quot;[2-9]?\d$|100&quot;</span>,<span class="string">&quot;100&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†()æ‹¬å·ä¸­å­—ç¬¦ä½œä¸ºä¸€ä¸ªåˆ†ç»„</span></span><br><span class="line">result = re.match(<span class="string">&quot;\w&#123;4,20&#125;@163.com$&quot;</span>,<span class="string">&quot;test@163.com&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># test@163.com</span></span><br><span class="line">result = re.match(<span class="string">&quot;\w&#123;4,20&#125;@(163|126|qq).com&quot;</span>,<span class="string">&quot;test@126.com&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># test@126.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸æ˜¯ä»¥4ã€7ç»“å°¾çš„æ‰‹æœºå·ç </span></span><br><span class="line">tels = [<span class="string">&quot;13100001234&quot;</span>, <span class="string">&quot;18912344321&quot;</span>, <span class="string">&quot;10086&quot;</span>, <span class="string">&quot;18800007777&quot;</span>]</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">13100001234 ä¸æ˜¯æƒ³è¦çš„æ‰‹æœºå·</span></span><br><span class="line"><span class="string">18912344321</span></span><br><span class="line"><span class="string">10086 ä¸æ˜¯æƒ³è¦çš„æ‰‹æœºå·</span></span><br><span class="line"><span class="string">18800007777 ä¸æ˜¯æƒ³è¦çš„æ‰‹æœºå·</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> tel <span class="keyword">in</span> tels:</span><br><span class="line">    result = re.match(<span class="string">&quot;1\d&#123;9&#125;[0-35-68-9]&quot;</span>,tel)</span><br><span class="line">    <span class="keyword">if</span> result:</span><br><span class="line">        <span class="built_in">print</span>(result.group())</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%s ä¸æ˜¯æƒ³è¦çš„æ‰‹æœºå·&quot;</span> % tel)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æå–åŒºå·å’Œç”µè¯å·ç </span></span><br><span class="line"><span class="comment"># [^...] é™¤äº†...ä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ä¸²</span></span><br><span class="line">result = re.match(<span class="string">&quot;([^-]*)-(\d+)&quot;</span>,<span class="string">&quot;010-12345678&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 010-12345678</span></span><br><span class="line"><span class="built_in">print</span>(result.group(<span class="number">1</span>)) <span class="comment"># 010</span></span><br><span class="line"><span class="built_in">print</span>(result.group(<span class="number">2</span>)) <span class="comment"># 12345678</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result = re.match(<span class="string">r&quot;&lt;([a-zA-Z]*)&gt;\w*&lt;/\1&gt;&quot;</span>,<span class="string">&quot;&lt;html&gt;hh&lt;/html&gt;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># &lt;html&gt;hh&lt;/html&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŒ¹é…å‡º &lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;</span></span><br><span class="line">result = re.match(<span class="string">r&quot;&lt;(\w+)&gt;&lt;(\w*)&gt;.*&lt;/\2&gt;&lt;/\1&gt;&quot;</span>,<span class="string">&quot;&lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># &lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;</span></span><br><span class="line">result = re.match(<span class="string">r&quot;&lt;(?P&lt;name1&gt;\w*)&gt;&lt;(?P&lt;name2&gt;\w*)&gt;.*&lt;/(?P=name2)&gt;&lt;/(?P=name1)&gt;&quot;</span>,<span class="string">&quot;&lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># &lt;html&gt;&lt;h1&gt;www.itcast.cn&lt;/h1&gt;&lt;/html&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">parttern = re.<span class="built_in">compile</span>(<span class="string">r&quot;\d+&quot;</span>)</span><br><span class="line">m = parttern.match(<span class="string">&quot;one12twothree34four&quot;</span>, <span class="number">3</span>, <span class="number">5</span>) <span class="comment"># å­—ç¬¦ä¸² æŸ¥æ‰¾èµ·å§‹ä½ï¼ˆæŒ‰å­—ç¬¦ä¸²ä¸‹æ ‡è®¡ç®—ï¼‰  æŸ¥æ‰¾ç»“æŸä½</span></span><br><span class="line"><span class="built_in">print</span>(m.group(<span class="number">0</span>)) <span class="comment"># åŒ¹é…åˆ°çš„æ•°å€¼ # 12</span></span><br><span class="line"><span class="built_in">print</span>(m.start()) <span class="comment"># æŸ¥æ‰¾èµ·å§‹ä½ # 3</span></span><br><span class="line"><span class="built_in">print</span>(m.end()) <span class="comment"># æŸ¥æ‰¾ç»“æŸä½ # 5</span></span><br><span class="line"><span class="built_in">print</span>(m.span()) <span class="comment"># èµ·å§‹ æœ«å°¾ä¸‹æ ‡çš„é›†åˆ # (3, 5)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># search æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²å¹¶è¿”å›ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œåˆ™è¿”å›None</span></span><br><span class="line">result = re.search(<span class="string">r&quot;\d+&quot;</span>,<span class="string">&quot;é˜…è¯»æ¬¡æ•°ä¸ºï¼š9999&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result.group()) <span class="comment"># 9999</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># findall æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²ï¼Œæ²¡åŒ¹é…åˆ°ä¸€ä¸ªç¬¦åˆçš„éƒ½å°†ä¼šæ·»åŠ ä¸€æ¬¡åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼Œå†æ‰«æå®Œä¹‹åè¿”å›ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…æˆåŠŸçš„è¿”å›ç©ºåˆ—è¡¨</span></span><br><span class="line">result = re.findall(<span class="string">r&quot;\d+&quot;</span>,<span class="string">&quot;python = 3.7.11&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># [&#x27;3&#x27;, &#x27;7&#x27;, &#x27;11&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># finditer å’Œfindallç›¸ä¼¼ï¼Œä¸è¿‡finditeræ‰«æå®Œæˆåè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨</span></span><br><span class="line">result = re.finditer(<span class="string">r&quot;\d+&quot;</span>,<span class="string">&quot;123aeg34tsdf23&quot;</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">123</span></span><br><span class="line"><span class="string">34</span></span><br><span class="line"><span class="string">23</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">    <span class="built_in">print</span>(i.group())</span><br><span class="line"></span><br><span class="line"><span class="comment"># subæ˜¯substituteçš„ç¼©å†™ï¼Œè¡¨ç¤ºæ›¿æ¢ï¼Œå°†åŒ¹é…åˆ°çš„æ•°æ®è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">result = re.sub(<span class="string">r&quot;\d+&quot;</span>,<span class="string">&quot;998&quot;</span>,<span class="string">&quot;python=997&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># python=998</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># sub ç¬¬äºŒç§ç”¨æ³•</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">temp</span>):</span><br><span class="line">    strNum = temp.group()</span><br><span class="line">    num = <span class="built_in">int</span>(strNum) + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">str</span>(num)</span><br><span class="line"></span><br><span class="line">result = re.sub(<span class="string">r&quot;\d+&quot;</span>,add,<span class="string">&quot;python=999&quot;</span>) <span class="comment"># sub ä¼šå°†åŒ¹é…åˆ°çš„æ•°æ®ä¼ å…¥addå‡½æ•°ï¼Œæ‰§è¡Œåè¿”å›</span></span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># python=1000</span></span><br><span class="line">result = re.sub(<span class="string">r&quot;\d+&quot;</span>,add,<span class="string">&quot;python=99&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># python=100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># subn ä¸subç›¸ä¼¼ï¼Œä¸è¿‡è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç¥–ï¼ˆå­—ç¬¦ä¸²ï¼Œæ›¿æ¢æ¬¡æ•°ï¼‰</span></span><br><span class="line">pattern = re.<span class="built_in">compile</span>(<span class="string">r&quot;(\w+) (\w+)&quot;</span>)</span><br><span class="line">s = <span class="string">&quot;I say, hello world!&quot;</span></span><br><span class="line">result = re.subn(pattern,<span class="string">r&#x27;\2 \1&#x27;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># (&#x27;say I, world hello!&#x27;, 2)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">m</span>):</span><br><span class="line">    <span class="keyword">return</span> m.group(<span class="number">1</span>).title() + <span class="string">&quot; &quot;</span> + m.group(<span class="number">2</span>).title()</span><br><span class="line">res = re.subn(pattern,func,s)</span><br><span class="line"><span class="built_in">print</span>(res) <span class="comment"># (&#x27;I Say, Hello World!&#x27;, 2)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># splitï¼šæ ¹æ®åŒ¹é…è¿›è¡Œåˆ‡å‰²å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªåˆ—è¡¨</span></span><br><span class="line">result = re.split(<span class="string">r&quot;:| &quot;</span>,<span class="string">&quot;info:xiaoZhang 33 shandong&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># [&#x27;info&#x27;, &#x27;xiaoZhang&#x27;, &#x27;33&#x27;, &#x27;shandong&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è´ªå©ªéè´ªå©ª</span></span><br><span class="line">s=<span class="string">&quot;This is a number 234-235-22-423&quot;</span></span><br><span class="line">r = re.match(<span class="string">&quot;.+(\d+-\d+-\d+-\d+)&quot;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(r.group(<span class="number">1</span>)) <span class="comment"># 4-235-22-423</span></span><br><span class="line">r = re.match(<span class="string">&quot;.+?(\d+-\d+-\d+-\d+)&quot;</span>,s)</span><br><span class="line"><span class="built_in">print</span>(r.group()) <span class="comment"># This is a number 234-235-22-423</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-re </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿›åˆ¶è½¬æ¢</title>
      <link href="/2022/07/27/Python/%E6%A8%A1%E5%9D%97/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/"/>
      <url>/2022/07/27/Python/%E6%A8%A1%E5%9D%97/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¿›åˆ¶"><a href="#è¿›åˆ¶" class="headerlink" title="è¿›åˆ¶"></a>è¿›åˆ¶</h1><p>è¿›åˆ¶å°±æ˜¯è¿›ä½åˆ¶ã€‚è¿›è¡ŒåŠ æ³•è¿ç®—æ—¶é€¢Xè¿›ä¸€ï¼Œè¿›è¡Œå‡æ³•è¿ç®—æ—¶å€Ÿä¸€å½“Xï¼Œè¿™å°±æ˜¯Xè¿›åˆ¶ï¼Œè¿™ç§è¿›åˆ¶ä¹Ÿå°±åŒ…å«Xä¸ªæ•°å­—ï¼ŒåŸºæ•°ä¸ºXã€‚ä¾‹å¦‚ï¼šåè¿›åˆ¶æœ‰0ï½9å…±æ˜¯10ä¸ªæ•°å­—ï¼ŒåŸºæ•°ä¸º10ï¼Œåœ¨åŠ å‡æ³•è¿ç®—ä¸­ï¼Œé€¢åè¿›ä¸€ï¼Œå€Ÿä¸€å½“åã€‚</p><h1 id="äºŒè¿›åˆ¶"><a href="#äºŒè¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶"></a>äºŒè¿›åˆ¶</h1><p>äºŒè¿›åˆ¶æ˜¯è®¡ç®—æŠ€æœ¯ä¸­å¹¿æ³›é‡‡ç”¨çš„ä¸€ç§æ•°åˆ¶ã€‚äºŒè¿›åˆ¶æ•°æ®ä½¿ç”¨0å’Œ1ä¸¤ä¸ªæ•°ç æ¥è¡¨ç¤ºçš„æ•°ã€‚å®ƒçš„åŸºæ•°ä½2ï¼Œè¿›è¡ŒåŠ æ³•è¿ç®—æ—¶æ˜¯â€œé€¢äºŒè¿›ä¸€â€ï¼Œè¿›è¡Œå‡æ³•è¿ç®—æ—¶æ˜¯â€œå€Ÿä¸€å½“äºŒâ€ã€‚å½“å‰è®¡ç®—æœºç³»ç»Ÿä½¿ç”¨çš„åŸºæœ¬ä¸Šæ˜¯äºŒè¿›åˆ¶ç³»ç»Ÿï¼Œæ•°æ®åœ¨è®¡ç®—æœºä¸­ä¸»è¦æ˜¯ä»¥è¡¥ç çš„å½¢å¼å­˜å‚¨çš„ã€‚è®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶åˆ™æ˜¯ä¸€ä¸ªéå¸¸å¾®å°çš„å¼€å…³ï¼Œç”¨â€œå¼€â€æ¥è¡¨ç¤º1ï¼Œâ€œå…³â€æ¥è¡¨ç¤º0ã€‚</p><table><thead><tr><th>å®šä¹‰</th><th>ç»„æˆ</th><th>è§„åˆ™</th><th>è¡¨ç°å½¢å¼</th></tr></thead><tbody><tr><td>è®¡ç®—æœºä¸­æ•°æ®çš„ä¸€ç§è¡¨ç¤ºæ–¹æ³•</td><td>0ï¼Œ1</td><td>é€¢äºŒè¿›ä¸€ã€å€Ÿä¸€å½“äºŒ</td><td>0001</td></tr></tbody></table><h1 id="åè¿›åˆ¶"><a href="#åè¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶"></a>åè¿›åˆ¶</h1><p>åè¿›åˆ¶æ˜¯æˆ‘ä»¬ç”Ÿæ´»ä¸­ï¼Œä½¿ç”¨æœ€é¢‘ç¹çš„ä¸€ç§è¿›åˆ¶ï¼Œæˆ‘ä»¬ä»å¹¼å„¿å›­å°±å¼€å§‹å­¦åè¿›åˆ¶ã€‚</p><table><thead><tr><th>å®šä¹‰</th><th>ç»„æˆ</th><th>è§„åˆ™</th><th>è¡¨ç°å½¢å¼</th></tr></thead><tbody><tr><td>è®¡ç®—æœºä¸­æ•°æ®çš„ä¸€ç§è¡¨ç¤ºæ–¹æ³•</td><td>0-9</td><td>é€¢åè¿›ä¸€ã€å€Ÿä¸€å½“å</td><td>1ï¼ˆä¸èƒ½ä»¥0å¼€å¤´ï¼‰</td></tr></tbody></table><p>è½¬åå…­è¿›åˆ¶ï¼šåè¿›åˆ¶çš„æ•´æ•°éƒ¨åˆ†â€œé™¤ä»¥16å–ä½™â€ï¼Œåè¿›åˆ¶æ•°çš„å°æ•°éƒ¨åˆ†â€œä¹˜16å–æ•´â€ï¼Œè¿›è¡Œè½¬æ¢</p><h1 id="åå…­è¿›åˆ¶"><a href="#åå…­è¿›åˆ¶" class="headerlink" title="åå…­è¿›åˆ¶"></a>åå…­è¿›åˆ¶</h1><p>åå…­è¿›åˆ¶æ˜¯ç”±0-9ï¼ŒA-Få…±16ä¸ªæ•°å­—ç»„æˆï¼Œå­—æ¯ä¸åŒºåˆ†å¤§å°å†™ã€‚ç”¨Aæ¥è¡¨ç¤º10ï¼ŒBè¡¨ç¤º11ï¼ŒCè¡¨ç¤º12ï¼ŒDè¡¨ç¤º13ï¼ŒEè¡¨ç¤º14ï¼ŒFè¡¨ç¤º15ï¼Œå› æ­¤æœ‰ 0~F ã€‚åŸºæ•°ä¸º16ï¼ŒåŠ æ³•è¿ç®—æ—¶é€¢åå…­è¿›ä¸€ï¼Œå‡æ³•è¿ç®—æ—¶å€Ÿä¸€å½“åå…­ã€‚</p><table><thead><tr><th>å®šä¹‰</th><th>ç»„æˆ</th><th>è§„åˆ™</th><th>è¡¨ç°å½¢å¼</th></tr></thead><tbody><tr><td>è®¡ç®—æœºä¸­æ•°æ®çš„ä¸€ç§è¡¨ç¤ºæ–¹æ³•</td><td>0-9ï¼ŒA-F</td><td>é€¢åå…­è¿›ä¸€ï¼Œå€Ÿä¸€å½“åå…­</td><td>0ï¼ˆå¼€å¤´ä»¥0xå¼€å§‹ï¼‰</td></tr></tbody></table><h1 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h1><p>ä¸‹é¢ä¸ºpythonè¿›åˆ¶è½¬æ¢çš„å…¶ä¸­ä¸€ç§æ–¹æ³•ï¼š</p><table><thead><tr><th align="center">â¬‡</th><th align="center">2è¿›åˆ¶</th><th align="center">8è¿›åˆ¶</th><th align="center">10è¿›åˆ¶</th><th align="center">16è¿›åˆ¶</th></tr></thead><tbody><tr><td align="center">2è¿›åˆ¶</td><td align="center">â€”â€”</td><td align="center">bin(int(x,8))</td><td align="center">bin(x)</td><td align="center">bin(int(x,16))</td></tr><tr><td align="center">8è¿›åˆ¶</td><td align="center">oct(int(x,2))</td><td align="center">â€”â€”</td><td align="center">oct(x)</td><td align="center">oct(int(x,16))</td></tr><tr><td align="center">10è¿›åˆ¶</td><td align="center">int(x,2)</td><td align="center">int(x,8)</td><td align="center">â€”â€”</td><td align="center">int(x,16)</td></tr><tr><td align="center">16è¿›åˆ¶</td><td align="center">hex(int(x,2))</td><td align="center">hex(int(x,8))</td><td align="center">hex(x)</td><td align="center">â€”â€”</td></tr></tbody></table><p><img src="https://s1.ax1x.com/2022/07/27/vpKLdI.png" alt="vpKLdI.png"></p><p><font size=3><strong>åŸç†ï¼š</strong></font>å…ˆå°†è¯»å…¥çš„å­—ç¬¦ä¸²è½¬ä¸ºåè¿›åˆ¶ï¼Œå†ç”±åè¿›åˆ¶è¿›è¡Œç›¸å…³çš„è½¬æ¢ã€‚</p><p><font size=3><strong>æ³¨æ„ï¼š</strong></font>bin()ã€oct()ã€hex()çš„è¿”å›å€¼å‡ä¸ºå­—ç¬¦ä¸²ï¼Œä¸”åˆ†åˆ«å¸¦æœ‰0bï¼ˆ2è¿›åˆ¶ï¼‰ã€0oï¼ˆ8è¿›åˆ¶ï¼‰ã€0xï¼ˆ16è¿›åˆ¶ï¼‰å‰ç¼€ã€‚&#x3D;&#x3D;æ•…åé¢åœ¨è¯»å–çš„æ—¶å€™éœ€è¦èˆå»å‰ç¼€&#x3D;&#x3D;ã€‚</p><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h3 id="äºŒè¿›åˆ¶è½¬æ¢ï¼š"><a href="#äºŒè¿›åˆ¶è½¬æ¢ï¼š" class="headerlink" title="äºŒè¿›åˆ¶è½¬æ¢ï¼š"></a>äºŒè¿›åˆ¶è½¬æ¢ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;1011100&quot;</span></span><br><span class="line"><span class="comment"># äºŒè¿›åˆ¶è½¬å…«è¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">oct</span>(<span class="built_in">int</span>(a,<span class="number">2</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="comment"># [2:]ä»ç¬¬äºŒä½æ•°å¼€å§‹è¯»èµ·</span></span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 134</span></span><br><span class="line"><span class="comment"># äºŒè¿›åˆ¶è½¬åè¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">int</span>(a,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 92</span></span><br><span class="line"><span class="comment"># äºŒè¿›åˆ¶è½¬åå…­è¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">hex</span>(<span class="built_in">int</span>(a,<span class="number">2</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 5c</span></span><br></pre></td></tr></table></figure><h3 id="åè¿›åˆ¶è½¬æ¢ï¼š"><a href="#åè¿›åˆ¶è½¬æ¢ï¼š" class="headerlink" title="åè¿›åˆ¶è½¬æ¢ï¼š"></a>åè¿›åˆ¶è½¬æ¢ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;92&quot;</span></span><br><span class="line"><span class="comment"># åè¿›åˆ¶è½¬äºŒè¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">bin</span>(<span class="built_in">int</span>(a,<span class="number">10</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="comment"># åŠ ä¸Š[2:]ä»ç¬¬äºŒä½æ•°å¼€å§‹è¯»èµ·</span></span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 1011100</span></span><br><span class="line"><span class="comment"># åè¿›åˆ¶è½¬å…«è¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">oct</span>(<span class="built_in">int</span>(a,<span class="number">10</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 134</span></span><br><span class="line"><span class="comment"># åè¿›åˆ¶è½¬åå…­è¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">hex</span>(<span class="built_in">int</span>(a,<span class="number">10</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 5c</span></span><br></pre></td></tr></table></figure><h3 id="åå…­è¿›åˆ¶è½¬æ¢ï¼š"><a href="#åå…­è¿›åˆ¶è½¬æ¢ï¼š" class="headerlink" title="åå…­è¿›åˆ¶è½¬æ¢ï¼š"></a>åå…­è¿›åˆ¶è½¬æ¢ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;FF&quot;</span></span><br><span class="line"><span class="comment"># åå…­è¿›åˆ¶è½¬äºŒè¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">bin</span>(<span class="built_in">int</span>(a,<span class="number">16</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="comment"># å› ä¸ºä¸Šæ–‡æè¿‡binå‡½æ•°å¸¦æœ‰ä¸¤ä½æ•°çš„å‰ç¼€ï¼Œæ•…åŠ ä¸Š[2:]èˆå»å‰ç¼€</span></span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 11111111</span></span><br><span class="line"><span class="comment"># åå…­è¿›åˆ¶è½¬å…«è¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">oct</span>(<span class="built_in">int</span>(a,<span class="number">16</span>))[<span class="number">2</span>:]</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 377</span></span><br><span class="line"><span class="comment"># åå…­è¿›åˆ¶è½¬åè¿›åˆ¶</span></span><br><span class="line">b = <span class="built_in">int</span>(a,<span class="number">16</span>)</span><br><span class="line"><span class="built_in">print</span>(b)      <span class="comment"># 255</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-è¿›åˆ¶è½¬æ¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»ƒä¹ --å°†åå…­è¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶åç»Ÿè®¡æ•°æ®</title>
      <link href="/2022/07/27/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E7%BB%83%E4%B9%A0/%E5%B0%86%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E5%90%8E%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%EF%BC%88%E9%99%84%E4%BB%B6%F0%9F%93%8E%EF%BC%89/%E7%BB%83%E4%B9%A0--%E5%B0%86%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E5%90%8E%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE/"/>
      <url>/2022/07/27/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E7%BB%83%E4%B9%A0/%E5%B0%86%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E5%90%8E%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE%EF%BC%88%E9%99%84%E4%BB%B6%F0%9F%93%8E%EF%BC%89/%E7%BB%83%E4%B9%A0--%E5%B0%86%E5%8D%81%E5%85%AD%E8%BF%9B%E5%88%B6%E8%BD%AC%E4%B8%BA%E5%8D%81%E8%BF%9B%E5%88%B6%E5%90%8E%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="éœ€æ±‚ï¼šéœ€æ±‚æ–‡æ¡£é“¾æ¥ğŸ”—"><a href="#éœ€æ±‚ï¼šéœ€æ±‚æ–‡æ¡£é“¾æ¥ğŸ”—" class="headerlink" title="éœ€æ±‚ï¼šéœ€æ±‚æ–‡æ¡£é“¾æ¥ğŸ”—"></a>éœ€æ±‚ï¼š<a href="https://www.aliyundrive.com/s/zD8LLHzRNrz">éœ€æ±‚æ–‡æ¡£é“¾æ¥ğŸ”—</a></h3><p><font size=4>å¤§æ¦‚å°±æ˜¯å°†åè¿›åˆ¶æ–‡ä»¶å†…çš„ä¿¡æ¯ï¼Œæ ¹æ®å¤´éƒ¨æ‹†åˆ†æˆå¤šæ¡æ•°æ®ï¼Œæ¯æ¡æ•°æ®çš„ æŸå‡ ä½å­—èŠ‚ åˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ•°æ®ä¿¡æ¯ï¼Œéœ€è¦æˆ‘ä»¬æŠŠè¿™ä¸€éƒ¨åˆ†æ•°æ®ä¿¡æ¯è½¬ä¸ºåè¿›åˆ¶ï¼Œè¿›è¡Œç»Ÿè®¡</font></p><h3 id="æ•°æ®ï¼š"><a href="#æ•°æ®ï¼š" class="headerlink" title="æ•°æ®ï¼š"></a>æ•°æ®ï¼š</h3><p>ä½¿ç”¨çš„éœ€æ±‚æ–‡æ¡£çš„æ•°æ®</p><h3 id="å®ç°ï¼š"><a href="#å®ç°ï¼š" class="headerlink" title="å®ç°ï¼š"></a>å®ç°ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>(<span class="params">file_path</span>):</span><br><span class="line">    f = <span class="built_in">open</span>(file_path)</span><br><span class="line">    num_dict = &#123;&#125;</span><br><span class="line">    displacement_dict = &#123;&#125;</span><br><span class="line">    c_date_dict = &#123;&#125;</span><br><span class="line">    speed_dict = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        head = f.read(<span class="number">8</span>)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> head == <span class="string">&quot;FF FF FE&quot;</span>:</span><br><span class="line">            <span class="comment"># æå–æ•°æ®åŒ…çš„é•¿åº¦</span></span><br><span class="line">            length = <span class="built_in">int</span>(f.read(<span class="number">4</span>),<span class="number">16</span>)</span><br><span class="line">            f.read(<span class="number">9</span>)</span><br><span class="line">            g_data = f.read((length-<span class="number">4</span>)*<span class="number">3</span>)</span><br><span class="line">            <span class="comment"># å°†g_dataæ•°æ®åŒ…å†…çš„æ‰€æœ‰æ•°æ®åˆ†å¼€</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="built_in">len</span>(g_data)//<span class="number">21</span>):</span><br><span class="line">                data = g_data[<span class="number">21</span>*j:<span class="number">21</span>*(j+<span class="number">1</span>)]</span><br><span class="line">                <span class="comment"># èˆªæœºå·</span></span><br><span class="line">                <span class="built_in">id</span> = <span class="built_in">int</span>(data[:<span class="number">3</span>],<span class="number">16</span>)</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">id</span> <span class="keyword">not</span> <span class="keyword">in</span> num_dict.keys():</span><br><span class="line">                    num_dict[<span class="built_in">id</span>] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    num_dict[<span class="built_in">id</span>] += <span class="number">1</span></span><br><span class="line">                <span class="comment"># ä½ç§»å€¼</span></span><br><span class="line">                sub_displacement = data[<span class="number">6</span>:<span class="number">8</span>] + data[<span class="number">3</span>:<span class="number">5</span>]</span><br><span class="line">                displacement = <span class="built_in">int</span>(sub_displacement, <span class="number">16</span>)</span><br><span class="line">                <span class="comment"># ç»Ÿè®¡æ¯ä¸ªèˆªæœºå·ä½ç§»ç±»å‹åŠæ¬¡æ•°</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">id</span> <span class="keyword">not</span> <span class="keyword">in</span> displacement_dict.keys():</span><br><span class="line">                    displacement_dict[<span class="built_in">id</span>] = &#123;&#125;</span><br><span class="line">                    <span class="keyword">if</span> displacement <span class="keyword">not</span> <span class="keyword">in</span> displacement_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        displacement_dict[<span class="built_in">id</span>][displacement] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> displacement <span class="keyword">not</span> <span class="keyword">in</span> displacement_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        displacement_dict[<span class="built_in">id</span>][displacement] = <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        displacement_dict[<span class="built_in">id</span>][displacement] += <span class="number">1</span></span><br><span class="line">                <span class="comment"># print(displacement)</span></span><br><span class="line">                <span class="comment"># æ—¶é—´</span></span><br><span class="line">                sub_date = data[<span class="number">12</span>:<span class="number">14</span>] + data[<span class="number">9</span>:<span class="number">11</span>]</span><br><span class="line">                c_date = <span class="built_in">int</span>(sub_date,<span class="number">16</span>)</span><br><span class="line">                <span class="comment"># print(c_date)</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">id</span> <span class="keyword">not</span> <span class="keyword">in</span> c_date_dict.keys():</span><br><span class="line">                    c_date_dict[<span class="built_in">id</span>] = &#123;&#125;</span><br><span class="line">                    <span class="keyword">if</span> c_date <span class="keyword">not</span> <span class="keyword">in</span> c_date_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        c_date_dict[<span class="built_in">id</span>][c_date] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> c_date <span class="keyword">not</span> <span class="keyword">in</span> c_date_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        c_date_dict[<span class="built_in">id</span>][c_date] = <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        c_date_dict[<span class="built_in">id</span>][c_date] += <span class="number">1</span></span><br><span class="line">                <span class="comment"># é€Ÿåº¦</span></span><br><span class="line">                sub_speed = data[<span class="number">18</span>:<span class="number">20</span>]+data[<span class="number">15</span>:<span class="number">17</span>]</span><br><span class="line">                speed = <span class="built_in">int</span>(sub_speed,<span class="number">16</span>)</span><br><span class="line">                <span class="comment"># print(speed)</span></span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">id</span> <span class="keyword">not</span> <span class="keyword">in</span> speed_dict.keys():</span><br><span class="line">                    speed_dict[<span class="built_in">id</span>] = &#123;&#125;</span><br><span class="line">                    <span class="keyword">if</span> speed <span class="keyword">not</span> <span class="keyword">in</span> speed_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        speed_dict[<span class="built_in">id</span>][speed] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> speed <span class="keyword">not</span> <span class="keyword">in</span> speed_dict[<span class="built_in">id</span>].keys():</span><br><span class="line">                        speed_dict[<span class="built_in">id</span>][speed] = <span class="number">1</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        speed_dict[<span class="built_in">id</span>][speed] += <span class="number">1</span></span><br><span class="line">            <span class="comment"># CRC æœ€åä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">            CRC = f.read(<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            length = <span class="built_in">int</span>(f.read(<span class="number">4</span>), <span class="number">16</span>)</span><br><span class="line">            f.read(<span class="number">9</span>)</span><br><span class="line">            f.read((length - <span class="number">4</span>) * <span class="number">3</span>)</span><br><span class="line">            f.read(<span class="number">3</span>)</span><br><span class="line">    <span class="comment"># å…³é—­æ–‡ä»¶</span></span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å°†ç»Ÿè®¡æ•°æ®æ›¿æ¢ä¸ºæ¬¡æ•°</span></span><br><span class="line">    displacement_msg = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> dis <span class="keyword">in</span> displacement_dict.items():</span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> dis[<span class="number">1</span>].items():</span><br><span class="line">            <span class="keyword">if</span> dis[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> displacement_msg.keys():</span><br><span class="line">                displacement_msg[dis[<span class="number">0</span>]] = <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(d[<span class="number">0</span>],d[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                displacement_msg[dis[<span class="number">0</span>]] += <span class="string">&quot;,&quot;</span> + <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(d[<span class="number">0</span>],d[<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># print(displacement_msg)</span></span><br><span class="line"></span><br><span class="line">    c_date_msg = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> c_date <span class="keyword">in</span> c_date_dict.items():</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> c_date[<span class="number">1</span>].items():</span><br><span class="line">            <span class="keyword">if</span> c_date[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> c_date_msg.keys():</span><br><span class="line">                c_date_msg[c_date[<span class="number">0</span>]] = <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(c[<span class="number">0</span>],c[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                c_date_msg[c_date[<span class="number">0</span>]] += <span class="string">&quot;,&quot;</span> + <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(c[<span class="number">0</span>],c[<span class="number">1</span>])</span><br><span class="line">    <span class="comment"># print(c_date_msg)</span></span><br><span class="line"></span><br><span class="line">    speed_msg = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> speed <span class="keyword">in</span> speed_dict.items():</span><br><span class="line">        <span class="keyword">for</span> s <span class="keyword">in</span> speed[<span class="number">1</span>].items():</span><br><span class="line">            <span class="keyword">if</span> speed[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> speed_msg.keys():</span><br><span class="line">                speed_msg[speed[<span class="number">0</span>]] = <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(s[<span class="number">0</span>],s[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                speed_msg[speed[<span class="number">0</span>]] += <span class="string">&quot; &quot;</span> + <span class="built_in">str</span>(<span class="string">&quot;%s %dæ¬¡&quot;</span>)%(s[<span class="number">0</span>],s[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    df = pd.DataFrame()</span><br><span class="line">    df[<span class="string">&quot;æ¬¡æ•°&quot;</span>] = pd.Series(<span class="built_in">list</span>(num_dict.values()),index=<span class="built_in">list</span>(num_dict.keys()))</span><br><span class="line">    df[<span class="string">&quot;ä½ç§»&quot;</span>] = pd.Series(<span class="built_in">list</span>(displacement_msg.values()),index=<span class="built_in">list</span>(displacement_msg.keys()))</span><br><span class="line">    df[<span class="string">&quot;æ—¶é—´&quot;</span>] = pd.Series(<span class="built_in">list</span>(c_date_msg.values()),index=<span class="built_in">list</span>(c_date_msg.keys()))</span><br><span class="line">    df[<span class="string">&quot;é€Ÿåº¦&quot;</span>] = pd.Series(<span class="built_in">list</span>(speed_msg.values()),index=<span class="built_in">list</span>(speed_msg.keys()))</span><br><span class="line">    <span class="comment"># æ ¹æ®indexè¿›è¡Œå‡åºæ’åº</span></span><br><span class="line">    df = df.sort_index()</span><br><span class="line">    <span class="comment"># é‡ç½®indexï¼Œå¹¶å°†åŸæ¥çš„indexä½œä¸ºcolumnsä¸­çš„ä¸€åˆ—</span></span><br><span class="line">    df = df.reset_index()</span><br><span class="line">    <span class="comment"># ç»™æ–°æ–°æ·»åŠ åˆ°columnsçš„é‚£ä¸€åˆ—é‡å‘½å</span></span><br><span class="line">    df = df.rename(columns=&#123;<span class="string">&quot;index&quot;</span>:<span class="string">&quot;èˆµæœºå·&quot;</span>&#125;)</span><br><span class="line">    <span class="comment"># è®¾ç½®indexçš„èµ·å§‹å€¼ä¸º1</span></span><br><span class="line">    df.index = df.index+<span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(df)</span><br><span class="line">    <span class="comment"># å†™å…¥xlsxæ–‡ä»¶</span></span><br><span class="line">    df.to_excel(<span class="string">&#x27;/Users/wanghan/Desktop/code/project_test/parse/excel1.xlsx&#x27;</span>, sheet_name=<span class="string">&#x27;Sheet1&#x27;</span>,index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    file_path = <span class="string">&quot;/Users/wanghan/Desktop/code/project_test/parse/2022-7-22 è®°å½•2.txt&quot;</span></span><br><span class="line">    main(file_path)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è¾“å‡ºç»“æœï¼š"><a href="#è¾“å‡ºç»“æœï¼š" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><p><img src="https://s1.ax1x.com/2022/07/27/vSzJRf.png" alt="vSzJRf.png"></p><h3 id="ç”Ÿæˆæ–‡ä»¶é“¾æ¥ï¼šexcel1-xlsx"><a href="#ç”Ÿæˆæ–‡ä»¶é“¾æ¥ï¼šexcel1-xlsx" class="headerlink" title="ç”Ÿæˆæ–‡ä»¶é“¾æ¥ï¼šexcel1.xlsx"></a>ç”Ÿæˆæ–‡ä»¶é“¾æ¥ï¼š<a href="https://www.aliyundrive.com/s/NGPqC2u72ih">excel1.xlsx</a></h3><h3 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h3><p><font size=3>æœ€åç”Ÿæˆçš„æœ€åä¸€ä½èˆµæœºå·ï¼š20 å¯èƒ½ä¸æ–‡æ¡£å†…è§£æçš„ï¼š14 ä¸ä¸€æ ·ï¼Œç»æµ‹è¯•ï¼Œæ–‡æ¡£è§£æçš„æœ‰åå·®ï¼Œä»¥ä»£ç è§£æä¸ºä¸»</font></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas-ç»ƒä¹ -å°†åå…­è¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶åç»Ÿè®¡æ•°æ®ï¼ˆé™„ä»¶ğŸ“ï¼‰ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pycharmæ“ä½œDockerfile</title>
      <link href="/2022/07/25/Docker/Pycharm%E6%93%8D%E4%BD%9CDockerfile/"/>
      <url>/2022/07/25/Docker/Pycharm%E6%93%8D%E4%BD%9CDockerfile/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p><img src="https://s1.ax1x.com/2022/07/25/jxA0u8.png" alt="jxA0u8.png"></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­å»ºHarborç§æœ‰ä»“åº“</title>
      <link href="/2022/07/22/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E6%90%AD%E5%BB%BAHarbor%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/"/>
      <url>/2022/07/22/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E6%90%AD%E5%BB%BAHarbor%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>æ³¨æ„ï¼šæ­å»ºå‰è¦æœ‰dockerç¯å¢ƒçš„</p></blockquote><h1 id="ä¸‹è½½Harbor"><a href="#ä¸‹è½½Harbor" class="headerlink" title="ä¸‹è½½Harbor"></a>ä¸‹è½½Harbor</h1><p>å»githubä¸‹è½½HarboråŒ…åˆ°æœ¬åœ°ï¼š<a href="https://github.com/goharbor/harbor/releases">https://github.com/goharbor/harbor/releases</a></p><p><img src="https://s1.ax1x.com/2022/07/22/jOMgED.png" alt="jOMgED.png"></p><h1 id="å®‰è£…docker-composeæœåŠ¡"><a href="#å®‰è£…docker-composeæœåŠ¡" class="headerlink" title="å®‰è£…docker-composeæœåŠ¡"></a>å®‰è£…docker-composeæœåŠ¡</h1><blockquote><p>å®‰è£…Harboræ˜¯éœ€è¦ä¾èµ–docker-composeçš„</p></blockquote><p>æœ€æ–°ç‰ˆæœ¬å¯åœ¨å®˜ç½‘æŸ¥çœ‹ï¼š<a href="https://github.com/docker/compose/releases">https://github.com/docker/compose/releases</a></p><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><ul><li><p>githubä¸‹è½½ï¼ˆæ–¹å¼ä¸€ï¼‰ï¼š</p><p>curl -L â€œ<a href="https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$">https://github.com/docker/compose/releases/download/v2.2.2/docker-compose-$</a>(uname -s)-$(uname -m)â€ -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</p></li><li><p>é«˜é€Ÿä¸‹è½½é€šé“ï¼ˆæ–¹å¼äºŒï¼‰ï¼š</p><p>curl -L <a href="https://get.daocloud.io/docker/compose/releases/download/v2.4.1/docker-compose-%60uname">https://get.daocloud.io/docker/compose/releases/download/v2.4.1/docker-compose-`uname</a> -s<code>-</code>uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</p></li></ul><h3 id="ä¸‹è½½å®Œä¹‹åèµ‹å€¼å¯æ‰§è¡Œæƒé™ï¼š"><a href="#ä¸‹è½½å®Œä¹‹åèµ‹å€¼å¯æ‰§è¡Œæƒé™ï¼š" class="headerlink" title="ä¸‹è½½å®Œä¹‹åèµ‹å€¼å¯æ‰§è¡Œæƒé™ï¼š"></a>ä¸‹è½½å®Œä¹‹åèµ‹å€¼å¯æ‰§è¡Œæƒé™ï¼š</h3><pre><code>sudo chmod +x /usr/local/bin/docker-compose</code></pre><h3 id="æŸ¥çœ‹ç‰ˆæœ¬ï¼š"><a href="#æŸ¥çœ‹ç‰ˆæœ¬ï¼š" class="headerlink" title="æŸ¥çœ‹ç‰ˆæœ¬ï¼š"></a>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</h3><pre><code>docker-compose -version</code></pre><h1 id="è§£å‹HarboråŒ…"><a href="#è§£å‹HarboråŒ…" class="headerlink" title="è§£å‹HarboråŒ…"></a>è§£å‹HarboråŒ…</h1><blockquote><p>ä¸‹è½½å®Œæˆåï¼Œå°†åŒ…ä¸Šä¼ åˆ°ä½ è¦éƒ¨ç½²Harborçš„æœåŠ¡å™¨ï¼Œä¸Šä¼ è·¯å¾„è‡ªå®šä¹‰ï¼Œç„¶åè§£å‹</p></blockquote><pre><code>tar xvf harbor-offline-installer-v2.5.3.tgz -C /home/ &amp;&amp; cd /home/harbor</code></pre><h1 id="ä¿®æ”¹harbor-ymlé…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹harbor-ymlé…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹harbor.ymlé…ç½®æ–‡ä»¶"></a>ä¿®æ”¹harbor.ymlé…ç½®æ–‡ä»¶</h1><h3 id="å…ˆæŠŠharbor-yml-tmpl-å¤åˆ¶æˆharbor-yml"><a href="#å…ˆæŠŠharbor-yml-tmpl-å¤åˆ¶æˆharbor-yml" class="headerlink" title="å…ˆæŠŠharbor.yml.tmpl å¤åˆ¶æˆharbor.yml"></a>å…ˆæŠŠharbor.yml.tmpl å¤åˆ¶æˆharbor.yml</h3><pre><code>cp harbor.yml.tmpl harbor.yml</code></pre><h3 id="ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š</h3><pre><code>vim harbor.yml</code></pre><h4 id="1-å…¶ä¸­çš„hostnameéœ€è¦æ”¹ä¸ºæœ¬æœºçš„IPåœ°å€-1-117-142-4"><a href="#1-å…¶ä¸­çš„hostnameéœ€è¦æ”¹ä¸ºæœ¬æœºçš„IPåœ°å€-1-117-142-4" class="headerlink" title="1. å…¶ä¸­çš„hostnameéœ€è¦æ”¹ä¸ºæœ¬æœºçš„IPåœ°å€ 1.117.142.4"></a>1. å…¶ä¸­çš„hostnameéœ€è¦æ”¹ä¸ºæœ¬æœºçš„IPåœ°å€ 1.117.142.4</h4><blockquote><p>harborä½¿ç”¨çš„ç«¯å£æ˜¯80ï¼Œè‹¥ä½¿ç”¨è‡ªå®šä¹‰çš„ç«¯å£ï¼Œé™¤äº†è¦æ”¹docker-compose.ymlæ–‡ä»¶ä¸­çš„é…ç½®å¤–ï¼Œè¿™é‡Œçš„hostnameä¹Ÿè¦åŠ ä¸Šè‡ªå®šä¹‰çš„ç«¯å£ï¼Œå¦åˆ™åœ¨docker loginã€pushæ—¶ä¼šæŠ¥é”™ã€‚æ”¹çš„è¯ä¸ºï¼šhostname: ip:ç«¯å£</p></blockquote><p>æ–‡ç« ä½¿ç”¨80é»˜è®¤ç«¯å£ï¼š</p><pre><code>hostname: 1.117.142.4</code></pre><h4 id="2-é€‰æ‹©httpè®¿é—®è¿˜æ˜¯httpsè®¿é—®ï¼ˆåªèƒ½äºŒé€‰ä¸€ï¼Œä¸ç”¨çš„åˆ™å…¨éƒ¨æ³¨é‡Šæ‰ï¼‰"><a href="#2-é€‰æ‹©httpè®¿é—®è¿˜æ˜¯httpsè®¿é—®ï¼ˆåªèƒ½äºŒé€‰ä¸€ï¼Œä¸ç”¨çš„åˆ™å…¨éƒ¨æ³¨é‡Šæ‰ï¼‰" class="headerlink" title="2. é€‰æ‹©httpè®¿é—®è¿˜æ˜¯httpsè®¿é—®ï¼ˆåªèƒ½äºŒé€‰ä¸€ï¼Œä¸ç”¨çš„åˆ™å…¨éƒ¨æ³¨é‡Šæ‰ï¼‰"></a>2. é€‰æ‹©httpè®¿é—®è¿˜æ˜¯httpsè®¿é—®ï¼ˆåªèƒ½äºŒé€‰ä¸€ï¼Œä¸ç”¨çš„åˆ™å…¨éƒ¨æ³¨é‡Šæ‰ï¼‰</h4><ul><li><p>httpé…ç½®ï¼ˆå½“å‰æ–‡æ¡£é€‰æ‹©çš„httpï¼‰ï¼š<br>hostname: 1.117.142.4</p><pre><code>http:  port: 80  data_volume: /home/harbor/data</code></pre></li><li><p>httpsé…ç½®ï¼ˆæ¯”httpå¤šé…ç½®ä¸€ä¸ªsslé’¥åŒ™ï¼‰ï¼š<br>hostname: harbor.hwang.com # ï¼ˆè‡ªå®šä¹‰åŸŸåï¼‰</p><pre><code>https:  # https port for harbor, default is 443  port: 443  # The path of cert and key files for nginx  certificate: /home/harbor/certs/harbor.crt  private_key: /home/harbor/certs/harbor.key  data_volume: /home/harbor/data</code></pre></li></ul><h4 id="3-åˆ›å»ºé…ç½®æ–‡ä»¶å¯¹åº”ç›®å½•"><a href="#3-åˆ›å»ºé…ç½®æ–‡ä»¶å¯¹åº”ç›®å½•" class="headerlink" title="3. åˆ›å»ºé…ç½®æ–‡ä»¶å¯¹åº”ç›®å½•"></a>3. åˆ›å»ºé…ç½®æ–‡ä»¶å¯¹åº”ç›®å½•</h4><p>å¦‚æœé€‰æ‹©çš„ï¼š</p><ul><li><p>httpï¼š</p><p>mkdir &#x2F;home&#x2F;harbor&#x2F;data</p></li><li><p>httpsï¼š</p><p>mkdir -p &#x2F;home&#x2F;harbor&#x2F;certs &#x2F;home&#x2F;harbor&#x2F;data</p><h4 id="OpenSSLç”Ÿæˆè‡ªç­¾è¯ä¹¦ï¼ˆæ³¨æ„ï¼šæœ€åè¦æ”¹æˆè‡ªå·±çš„åŸŸåï¼‰"><a href="#OpenSSLç”Ÿæˆè‡ªç­¾è¯ä¹¦ï¼ˆæ³¨æ„ï¼šæœ€åè¦æ”¹æˆè‡ªå·±çš„åŸŸåï¼‰" class="headerlink" title="OpenSSLç”Ÿæˆè‡ªç­¾è¯ä¹¦ï¼ˆæ³¨æ„ï¼šæœ€åè¦æ”¹æˆè‡ªå·±çš„åŸŸåï¼‰"></a>OpenSSLç”Ÿæˆè‡ªç­¾è¯ä¹¦ï¼ˆæ³¨æ„ï¼šæœ€åè¦æ”¹æˆè‡ªå·±çš„åŸŸåï¼‰</h4><p>openssl req -newkey rsa:4096 -nodes -sha256 -keyout &#x2F;home&#x2F;harbor&#x2F;certs&#x2F;harbor.key -x509 -out &#x2F;home&#x2F;harbor&#x2F;certs&#x2F;harbor.crt -subj &#x2F;C&#x3D;CN&#x2F;ST&#x3D;BJ&#x2F;L&#x3D;BJ&#x2F;O&#x3D;DEVOPS&#x2F;CN&#x3D;harbor.hwang.com -days 3650</p></li></ul><h1 id="å®‰è£…HarboræœåŠ¡"><a href="#å®‰è£…HarboræœåŠ¡" class="headerlink" title="å®‰è£…HarboræœåŠ¡"></a>å®‰è£…HarboræœåŠ¡</h1><pre><code>./install.sh</code></pre><p>ä¸Šè¿°ï¼Œå‡ºç°âœ” â€”-Harbor has been installed and started successfully.â€”-å°±è¡¨ç¤ºå®‰è£…HarboræˆåŠŸäº†ã€‚</p><h1 id="éªŒè¯å¯åŠ¨æƒ…å†µ"><a href="#éªŒè¯å¯åŠ¨æƒ…å†µ" class="headerlink" title="éªŒè¯å¯åŠ¨æƒ…å†µ"></a>éªŒè¯å¯åŠ¨æƒ…å†µ</h1><pre><code>docker-compose ps</code></pre><p><img src="https://s1.ax1x.com/2022/07/22/jO8Bmq.png" alt="jO8Bmq.png"></p><h1 id="ç™»å½•Harbor-WebUI"><a href="#ç™»å½•Harbor-WebUI" class="headerlink" title="ç™»å½•Harbor WebUI"></a>ç™»å½•Harbor WebUI</h1><table><thead><tr><th>ç”¨æˆ·å</th><th>å¯†ç </th></tr></thead><tbody><tr><td>admin</td><td>Harbor12345</td></tr></tbody></table><h3 id="httpè®¿é—®ï¼šhttp-1-117-142-4"><a href="#httpè®¿é—®ï¼šhttp-1-117-142-4" class="headerlink" title="httpè®¿é—®ï¼šhttp://1.117.142.4"></a>httpè®¿é—®ï¼š<a href="http://1.117.142.4/">http://1.117.142.4</a></h3><p><img src="https://s1.ax1x.com/2022/07/22/jO82p4.png" alt="jO82p4.png"></p><h3 id="httpsè®¿é—®ï¼šhttps-harbor-hwang-com"><a href="#httpsè®¿é—®ï¼šhttps-harbor-hwang-com" class="headerlink" title="httpsè®¿é—®ï¼šhttps://harbor.hwang.com"></a>httpsè®¿é—®ï¼š<a href="https://harbor.hwang.com/">https://harbor.hwang.com</a></h3><pre><code>vim /etc/hosts</code></pre><p>æ·»åŠ å†…å®¹ï¼š</p><pre><code>1.117.142.4 https://harbor.hwang.com</code></pre><p>è®¿é—®é¡µé¢</p><pre><code>https://harbor.wangzy.com</code></pre><p>å¦‚æœå‡ºç°å¦‚ä¸‹æ— æ³•è®¿é—®çš„æƒ…å†µï¼šç›²æ•²ï¼šthisisunsafe<br><img src="https://s1.ax1x.com/2022/07/22/jOGDvd.jpg" alt="jOGDvd.jpg"></p><h1 id="åˆ›å»ºHarborä»“åº“çš„é¡¹ç›®"><a href="#åˆ›å»ºHarborä»“åº“çš„é¡¹ç›®" class="headerlink" title="åˆ›å»ºHarborä»“åº“çš„é¡¹ç›®"></a>åˆ›å»ºHarborä»“åº“çš„é¡¹ç›®</h1><p><font size="4">é¡¹ç›®ã€‹æ–°å»ºé¡¹ç›®ã€‹è¾“å…¥ï¼štestï¼Œé€‰æ‹©ï¼šæ˜¯å¦å…¬å¼€</font><br><img src="https://s1.ax1x.com/2022/07/22/jOt9N6.png" alt="jOt9N6.png"></p><h1 id="docker-ç™»å½•Harbor"><a href="#docker-ç™»å½•Harbor" class="headerlink" title="docker ç™»å½•Harbor"></a>docker ç™»å½•Harbor</h1><p>å¦‚æœæ˜¯httpï¼š</p><pre><code>docker login -u admin -p Harbor12345 http://1.117.142.4</code></pre><p>å¦‚æœæ˜¯httpsï¼š</p><pre><code>docker login -u admin -p Harbor12345 https://harbor.hwang.com</code></pre><p><img src="https://s1.ax1x.com/2022/10/31/xozW3n.png" alt="xozW3n.png"></p><h1 id="è§£å†³è®¿é—®è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ˆæ— ï¼Œåˆ™è·³è¿‡ï¼‰ï¼š"><a href="#è§£å†³è®¿é—®è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ˆæ— ï¼Œåˆ™è·³è¿‡ï¼‰ï¼š" class="headerlink" title="è§£å†³è®¿é—®è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ˆæ— ï¼Œåˆ™è·³è¿‡ï¼‰ï¼š"></a>è§£å†³è®¿é—®è¿‡ç¨‹ä¸­çš„é—®é¢˜ï¼ˆæ— ï¼Œåˆ™è·³è¿‡ï¼‰ï¼š</h1><h4 id="é—®é¢˜1ï¼šå‡ºç°æ‹’ç»è®¿é—®çš„é—®é¢˜ï¼š"><a href="#é—®é¢˜1ï¼šå‡ºç°æ‹’ç»è®¿é—®çš„é—®é¢˜ï¼š" class="headerlink" title="é—®é¢˜1ï¼šå‡ºç°æ‹’ç»è®¿é—®çš„é—®é¢˜ï¼š"></a>é—®é¢˜1ï¼šå‡ºç°æ‹’ç»è®¿é—®çš„é—®é¢˜ï¼š</h4><pre><code>[root@nb1 harbor]# docker login -u admin -p Harbor12345 http://192.168.1.127WARNING! Using --password via the CLI is insecure. Use --password-stdin.Error response from daemon: Get &quot;https://192.168.1.127/v2/&quot;: dial tcp 192.168.1.127:443: connect: connection refused</code></pre><h4 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a>è§£å†³åŠæ³•ï¼š</h4><ul><li><p>åŠæ³•ä¸€</p><p>vim &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;docker.service</p></li></ul><p>ä¿®æ”¹å†…å®¹ï¼š</p><pre><code>ExecStart=/usr/bin/dockerd -H fd:// --insecure-registry 1.117.142.4 --containerd=/run/containerd/containerd.sock</code></pre><p>å°†éœ€è¦ç™»é™†çš„æœåŠ¡å™¨éƒ½åŠ ä¸Šï¼šâ€“insecure-registry â€œipâ€</p><ul><li><p>åŠæ³•äºŒ</p><p>vim &#x2F;etc&#x2F;docker&#x2F;daemon.json</p></li></ul><p>æ·»åŠ å†…å®¹ï¼š</p><ol><li><p>å¦‚æœæ˜¯httpï¼š</p><p>â€œinsecure-registriesâ€: [â€œ<a href="http://1.117.142.4&quot;]">http://1.117.142.4&quot;]</a></p></li><li><p>å¦‚æœæ˜¯httpsï¼š</p><p>â€œinsecure-registriesâ€: [â€œ<a href="https://harbor.hwang.com&quot;]">https://harbor.hwang.com&quot;]</a></p></li></ol><p><img src="https://s1.ax1x.com/2022/07/22/jOtoKH.png" alt="jOtoKH.png"></p><ol><li>å¦‚æœæ˜¯macçš„docker-desktopï¼š<br><img src="https://s1.ax1x.com/2022/07/22/jOJHQH.png" alt="jOJHQH.png"></li></ol><p>æœ€åéƒ½éœ€è¦é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶å¹¶é‡å¯dockerï¼š</p><pre><code>systemctl daemon-reload systemctl restart docker</code></pre><h4 id="é—®é¢˜2ï¼šå¦‚æœå‘ç°harboræ²¡æœ‰å¯åŠ¨"><a href="#é—®é¢˜2ï¼šå¦‚æœå‘ç°harboræ²¡æœ‰å¯åŠ¨" class="headerlink" title="é—®é¢˜2ï¼šå¦‚æœå‘ç°harboræ²¡æœ‰å¯åŠ¨"></a>é—®é¢˜2ï¼šå¦‚æœå‘ç°harboræ²¡æœ‰å¯åŠ¨</h4><p>å¦‚æœharboræ²¡å¯åŠ¨éœ€è¦ï¼Œè¿›å…¥harborç›®å½•ä¸‹ï¼š&#x2F;home&#x2F;harbor&#x2F;ï¼ˆçœ‹ä¸ªäººå®‰è£…è·¯å¾„å†³å®šï¼‰ï¼Œæ‰§è¡Œå¦‚ä¸‹</p><pre><code>docker-compose up -d</code></pre><h1 id="ä¸Šä¼ æœ¬åœ°é•œåƒåˆ°Harborä»“åº“"><a href="#ä¸Šä¼ æœ¬åœ°é•œåƒåˆ°Harborä»“åº“" class="headerlink" title="ä¸Šä¼ æœ¬åœ°é•œåƒåˆ°Harborä»“åº“"></a>ä¸Šä¼ æœ¬åœ°é•œåƒåˆ°Harborä»“åº“</h1><p>ã€ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œï¼Œéƒ½éœ€è¦å…ˆç™»å½•harborï¼šdocker login -u admin -p Harbor12345 <a href="http://1.117.142.4ã€‘å…·ä½“ipæ ¹æ®æƒ…å†µå®š/">http://1.117.142.4ã€‘å…·ä½“ipæ ¹æ®æƒ…å†µå®š</a></p><h3 id="å°†æœ¬åœ°é•œåƒæ‰“ä¸Šç§æœ‰ä»“åº“"><a href="#å°†æœ¬åœ°é•œåƒæ‰“ä¸Šç§æœ‰ä»“åº“" class="headerlink" title="å°†æœ¬åœ°é•œåƒæ‰“ä¸Šç§æœ‰ä»“åº“"></a>å°†æœ¬åœ°é•œåƒæ‰“ä¸Šç§æœ‰ä»“åº“</h3><p>æ ¼å¼ï¼šdocker tag æœ¬åœ°é•œåƒå:ç‰ˆæœ¬ HarboræœåŠ¡å™¨è®¿é—®ip+ç«¯å£&#x2F;Harborä»“åº“é¡¹ç›®å&#x2F;ä»“åº“é•œåƒå:ç‰ˆæœ¬</p><pre><code>docker tag nginx:1.7.9 1.117.142.4/test/nginx:test</code></pre><p><img src="https://s1.ax1x.com/2022/07/22/jOtNEq.png" alt="jOtNEq.png"></p><h3 id="ä¸Šä¼ é•œåƒ"><a href="#ä¸Šä¼ é•œåƒ" class="headerlink" title="ä¸Šä¼ é•œåƒ"></a>ä¸Šä¼ é•œåƒ</h3><pre><code>docker push 1.117.142.4/test/nginx:test</code></pre><p><img src="https://s1.ax1x.com/2022/07/22/jOtGuj.png" alt="jOtGuj.png"></p><h3 id="æ‹‰å–é•œåƒ"><a href="#æ‹‰å–é•œåƒ" class="headerlink" title="æ‹‰å–é•œåƒ"></a>æ‹‰å–é•œåƒ</h3><pre><code>docker pull 1.117.142.4/test/nginx:test</code></pre><p><img src="https://s1.ax1x.com/2022/07/22/jOta5V.png" alt="jOta5V.png"></p><h1 id="å¸è½½Harbor"><a href="#å¸è½½Harbor" class="headerlink" title="å¸è½½Harbor"></a>å¸è½½Harbor</h1><h3 id="1-åˆ é™¤harborç›¸å…³çš„ç›®å½•åŠæ–‡ä»¶ï¼š"><a href="#1-åˆ é™¤harborç›¸å…³çš„ç›®å½•åŠæ–‡ä»¶ï¼š" class="headerlink" title="1. åˆ é™¤harborç›¸å…³çš„ç›®å½•åŠæ–‡ä»¶ï¼š"></a>1. åˆ é™¤harborç›¸å…³çš„ç›®å½•åŠæ–‡ä»¶ï¼š</h3><pre><code>rm -rf `find / -name harbor`</code></pre><h3 id="2-æ‰¹é‡åœæ­¢å¹¶åˆ é™¤dockerä¸­æœ‰å…³harborçš„é•œåƒåŠå®¹å™¨"><a href="#2-æ‰¹é‡åœæ­¢å¹¶åˆ é™¤dockerä¸­æœ‰å…³harborçš„é•œåƒåŠå®¹å™¨" class="headerlink" title="2. æ‰¹é‡åœæ­¢å¹¶åˆ é™¤dockerä¸­æœ‰å…³harborçš„é•œåƒåŠå®¹å™¨"></a>2. æ‰¹é‡åœæ­¢å¹¶åˆ é™¤dockerä¸­æœ‰å…³harborçš„é•œåƒåŠå®¹å™¨</h3><pre><code>docker stop `sudo docker ps | grep &#39;harbor&#39; | awk &#39;&#123;print $1&#125;&#39;`docker rm $(docker ps -a | awk &#39;/harbor/ &#123;print $1&#125;&#39;)docker rmi $(sudo docker images | grep harbor | awk &#39;&#123;print $1&quot;:&quot;$2&#125;&#39;)</code></pre><h3 id="3-å®‰è£…"><a href="#3-å®‰è£…" class="headerlink" title="3. å®‰è£…"></a>3. å®‰è£…</h3><pre><code>cd /home/harbor/./install.sh</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker-kubernetesæ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kuboardæ­å»ºã€éƒ¨ç½²æ–‡æ¡£</title>
      <link href="/2022/07/20/Docker/kubernetes%E6%90%AD%E5%BB%BA/Kuboard%E6%90%AD%E5%BB%BA%E3%80%81%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/"/>
      <url>/2022/07/20/Docker/kubernetes%E6%90%AD%E5%BB%BA/Kuboard%E6%90%AD%E5%BB%BA%E3%80%81%E9%83%A8%E7%BD%B2%E6%96%87%E6%A1%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="å®˜æ–¹ï¼š"><a href="#å®˜æ–¹ï¼š" class="headerlink" title="å®˜æ–¹ï¼š"></a>å®˜æ–¹ï¼š</h1><h4 id="æ­å»ºæ–‡æ¡£ï¼šhttps-kuboard-cn-install-v3-install-in-k8s-html-E6-96-B9-E6-B3-95-E4-B8-80-E4-BD-BF-E7-94-A8-hostpath-E6-8F-90-E4-BE-9B-E6-8C-81-E4-B9-85-E5-8C-96"><a href="#æ­å»ºæ–‡æ¡£ï¼šhttps-kuboard-cn-install-v3-install-in-k8s-html-E6-96-B9-E6-B3-95-E4-B8-80-E4-BD-BF-E7-94-A8-hostpath-E6-8F-90-E4-BE-9B-E6-8C-81-E4-B9-85-E5-8C-96" class="headerlink" title="æ­å»ºæ–‡æ¡£ï¼šhttps://kuboard.cn/install/v3/install-in-k8s.html#%E6%96%B9%E6%B3%95%E4%B8%80-%E4%BD%BF%E7%94%A8-hostpath-%E6%8F%90%E4%BE%9B%E6%8C%81%E4%B9%85%E5%8C%96"></a>æ­å»ºæ–‡æ¡£ï¼š<a href="https://kuboard.cn/install/v3/install-in-k8s.html#%E6%96%B9%E6%B3%95%E4%B8%80-%E4%BD%BF%E7%94%A8-hostpath-%E6%8F%90%E4%BE%9B%E6%8C%81%E4%B9%85%E5%8C%96">https://kuboard.cn/install/v3/install-in-k8s.html#%E6%96%B9%E6%B3%95%E4%B8%80-%E4%BD%BF%E7%94%A8-hostpath-%E6%8F%90%E4%BE%9B%E6%8C%81%E4%B9%85%E5%8C%96</a></h4><h4 id="éƒ¨ç½²æ–‡æ¡£ï¼šhttps-kuboard-cn-learning-k8s-basics-deploy-app-html-E5-AE-9E-E6-88-98-E9-83-A8-E7-BD-B2-nginx-deployment"><a href="#éƒ¨ç½²æ–‡æ¡£ï¼šhttps-kuboard-cn-learning-k8s-basics-deploy-app-html-E5-AE-9E-E6-88-98-E9-83-A8-E7-BD-B2-nginx-deployment" class="headerlink" title="éƒ¨ç½²æ–‡æ¡£ï¼šhttps://kuboard.cn/learning/k8s-basics/deploy-app.html#%E5%AE%9E%E6%88%98-%E9%83%A8%E7%BD%B2-nginx-deployment"></a>éƒ¨ç½²æ–‡æ¡£ï¼š<a href="https://kuboard.cn/learning/k8s-basics/deploy-app.html#%E5%AE%9E%E6%88%98-%E9%83%A8%E7%BD%B2-nginx-deployment">https://kuboard.cn/learning/k8s-basics/deploy-app.html#%E5%AE%9E%E6%88%98-%E9%83%A8%E7%BD%B2-nginx-deployment</a></h4>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker-kubernetesæ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚åœ°äº‘æœåŠ¡å™¨æ­å»ºk8sé›†ç¾¤æŠ¥é”™æ€»ç»“</title>
      <link href="/2022/07/19/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E5%BC%82%E5%9C%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAk8s%E9%9B%86%E7%BE%A4%E6%8A%A5%E9%94%99%E6%80%BB%E7%BB%93/"/>
      <url>/2022/07/19/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E5%BC%82%E5%9C%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%90%AD%E5%BB%BAk8s%E9%9B%86%E7%BE%A4%E6%8A%A5%E9%94%99%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p><font color=red>1. kubectlå‘½ä»¤å‡ºç°é”™è¯¯â€œThe connection to the server localhost:8080 was refusedâ€</font><br>è§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/lisongyue123/article/details/109643218">ç¼ºå°‘æ–‡ä»¶ã€‚å°†ä¸»èŠ‚ç‚¹ï¼ˆmasterï¼‰ä¸­çš„â€œ&#x2F;etc&#x2F;kubernetes&#x2F;admin.confâ€æ–‡ä»¶æ‹·è´åˆ°ä»èŠ‚ç‚¹ç›¸åŒç›®å½•ä¸‹</a><br>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/lisongyue123/article/details/109643218">https://blog.csdn.net/lisongyue123/article/details/109643218</a></p><p><font color=red>2. Port 10250 is in use</font><br>è§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/weixin_42214548/article/details/109151572">ç«¯å£è¢«å ç”¨ã€‚æ‰§è¡Œä»¥ä¸‹kubeadm reset é‡ç½®é…ç½®</a><br>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/weixin_42214548/article/details/109151572">https://blog.csdn.net/weixin_42214548/article/details/109151572</a></p><p><font color=red>3. this Docker version is not on the list of validated versions: 20.10.17. Latest validated version: 19</font><br>è§£å†³æ–¹æ¡ˆï¼š<a href="https://blog.csdn.net/amber_1/article/details/125169854">é™ä½Dockerç‰ˆæœ¬ä¸º19.xxæˆ–18.xxã€‚</a><br>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/amber_1/article/details/125169854">https://blog.csdn.net/amber_1/article/details/125169854</a></p><p><font color=red>4. Unable to connect to the server: x509: certificate signed by unknown authority</font><br>è§£å†³æ–¹æ¡ˆï¼š<a href="https://note.youdao.com/">æ‰§è¡Œ kubeadm resetå‘½ä»¤åï¼Œå…ˆrm -rf $HOME&#x2F;.kube</a><br>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://blog.csdn.net/woay2008/article/details/93250137">https://blog.csdn.net/woay2008/article/details/93250137</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker-kubernetesæ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>k8sæ­å»ºDashboard</title>
      <link href="/2022/07/19/Docker/kubernetes%E6%90%AD%E5%BB%BA/k8s%E6%90%AD%E5%BB%BADashboard/"/>
      <url>/2022/07/19/Docker/kubernetes%E6%90%AD%E5%BB%BA/k8s%E6%90%AD%E5%BB%BADashboard/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å€Ÿé‰´æ–‡æ¡£ï¼š<a href="https://cloud.tencent.com/developer/article/1919416">https://cloud.tencent.com/developer/article/1919416</a></p><blockquote><p>æ­å»ºDashboardï¼Œé¦–å…ˆè¦å…ˆç¡®è®¤kubernetesçš„ç‰ˆæœ¬ï¼Œåœ¨å®˜ç½‘æ‰¾åˆ°å¯¹åº”çš„dashboardç‰ˆæœ¬ï¼š<a href="https://github.com/kubernetes/dashboard/releases?page=1%E3%80%82">https://github.com/kubernetes/dashboard/releases?page=1ã€‚</a></p></blockquote><h1 id="ä¸‹è½½é…ç½®æ–‡ä»¶"><a href="#ä¸‹è½½é…ç½®æ–‡ä»¶" class="headerlink" title="ä¸‹è½½é…ç½®æ–‡ä»¶"></a>ä¸‹è½½é…ç½®æ–‡ä»¶</h1><p>å› ä¸ºæˆ‘çš„é›†ç¾¤æ˜¯1.18.20ã€‚æ‰€ä»¥æˆ‘é€‰æ‹©çš„æ˜¯dashboard2.0.3çš„ç‰ˆæœ¬ã€‚</p><pre><code>wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.3/aio/deploy/recommended.yaml</code></pre><h1 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h1><p>ä¿®æ”¹serviceéƒ¨åˆ†ï¼Œé»˜è®¤serviceçš„typeæ˜¯ClusterIPç±»å‹ï¼Œè¿™é‡Œæ”¹æˆNodePortç±»å‹ï¼Œæ˜¯é›†ç¾¤å¤–éƒ¨èƒ½å¦è®¿é—®</p><pre><code>kind: ServiceapiVersion: v1metadata:  labels:    k8s-app: kubernetes-dashboard  name: kubernetes-dashboard  namespace: kubernetes-dashboardspec:  type: NodePort  ports:    - port: 443      targetPort: 8443      nodePort: 30012  selector:    k8s-app: kubernetes-dashboard</code></pre><h1 id="æ‰§è¡Œyamlæ–‡ä»¶"><a href="#æ‰§è¡Œyamlæ–‡ä»¶" class="headerlink" title="æ‰§è¡Œyamlæ–‡ä»¶"></a>æ‰§è¡Œyamlæ–‡ä»¶</h1><pre><code>kubectl apply -f recommended.yaml </code></pre><h1 id="æŸ¥çœ‹æœåŠ¡çŠ¶æ€"><a href="#æŸ¥çœ‹æœåŠ¡çŠ¶æ€" class="headerlink" title="æŸ¥çœ‹æœåŠ¡çŠ¶æ€"></a>æŸ¥çœ‹æœåŠ¡çŠ¶æ€</h1><pre><code>kubectl get all -n kubernetes-dashboard</code></pre><p><img src="https://s1.ax1x.com/2022/07/19/j7YbVO.png" alt="j7YbVO.png"></p><p>å¯ä»¥çœ‹åˆ°pod æœåŠ¡å·²ç»æ˜¯runningçŠ¶æ€</p><p>è®¿é—®é›†ç¾¤IP:30647ç«¯å£å¯ä»¥è®¿é—®webç®¡ç†ç•Œé¢</p><p>è®¿é—®ç½‘ç«™æ—¶ï¼Œå¯èƒ½å‡ºç°ä¸è®©è®¿é—®çš„é—®é¢˜ï¼Œæç¤ºä½ çš„è¿æ¥ä¸æ˜¯ç§å¯†è¿æ¥</p><ul><li>é¦–å…ˆå°†æµè§ˆå™¨åœç•™åœ¨å½“å‰é¡µé¢ï¼ˆç‚¹å‡»é¼ æ ‡ï¼‰</li><li>åœ¨é”®ç›˜ç›´æ¥æ•²å‡»â€œthisisunsafeâ€ï¼ˆç›²æ•²ï¼‰ï¼Œé¡µé¢å³å¯åˆ·æ–°ç›´æ¥è¿›å…¥å½“å‰é¡µé¢ã€‚</li></ul><h1 id="åˆ›å»ºè¶…çº§ç®¡ç†å‘˜"><a href="#åˆ›å»ºè¶…çº§ç®¡ç†å‘˜" class="headerlink" title="åˆ›å»ºè¶…çº§ç®¡ç†å‘˜"></a>åˆ›å»ºè¶…çº§ç®¡ç†å‘˜</h1><h3 id="åˆ›å»ºserviceaccount"><a href="#åˆ›å»ºserviceaccount" class="headerlink" title="åˆ›å»ºserviceaccount"></a>åˆ›å»ºserviceaccount</h3><pre><code>kubectl create serviceaccount dashboard-admin -n kube-system</code></pre><h3 id="æŠŠserviceaccountç»‘å®šåœ¨clusteradminï¼Œæˆæƒserviceaccountç”¨æˆ·å…·æœ‰æ•´ä¸ªé›†ç¾¤çš„è®¿é—®ç®¡ç†æƒé™"><a href="#æŠŠserviceaccountç»‘å®šåœ¨clusteradminï¼Œæˆæƒserviceaccountç”¨æˆ·å…·æœ‰æ•´ä¸ªé›†ç¾¤çš„è®¿é—®ç®¡ç†æƒé™" class="headerlink" title="æŠŠserviceaccountç»‘å®šåœ¨clusteradminï¼Œæˆæƒserviceaccountç”¨æˆ·å…·æœ‰æ•´ä¸ªé›†ç¾¤çš„è®¿é—®ç®¡ç†æƒé™"></a>æŠŠserviceaccountç»‘å®šåœ¨clusteradminï¼Œæˆæƒserviceaccountç”¨æˆ·å…·æœ‰æ•´ä¸ªé›†ç¾¤çš„è®¿é—®ç®¡ç†æƒé™</h3><pre><code>kubectl create clusterrolebinding dashboard-cluster-admin --clusterrole=cluster-admin --serviceaccount=kube-system:dashboard-admin</code></pre><h3 id="è·å–serviceaccountçš„secretä¿¡æ¯ï¼Œå¯å¾—åˆ°tokenï¼ˆä»¤ç‰Œï¼‰çš„ä¿¡æ¯"><a href="#è·å–serviceaccountçš„secretä¿¡æ¯ï¼Œå¯å¾—åˆ°tokenï¼ˆä»¤ç‰Œï¼‰çš„ä¿¡æ¯" class="headerlink" title="è·å–serviceaccountçš„secretä¿¡æ¯ï¼Œå¯å¾—åˆ°tokenï¼ˆä»¤ç‰Œï¼‰çš„ä¿¡æ¯"></a>è·å–serviceaccountçš„secretä¿¡æ¯ï¼Œå¯å¾—åˆ°tokenï¼ˆä»¤ç‰Œï¼‰çš„ä¿¡æ¯</h3><pre><code>kubectl get secret -n kube-system|grep dash</code></pre><p>è¾“å‡ºå†…å®¹ï¼š</p><pre><code>dashboard-admin-token-n748c                      kubernetes.io/service-account-token   3      28h</code></pre><h3 id="è·å–token"><a href="#è·å–token" class="headerlink" title="è·å–token"></a>è·å–token</h3><pre><code>kubectl describe secret dashboard-admin-token-n748c -n kube-system</code></pre><p>è¾“å‡ºå†…å®¹ï¼š</p><pre><code>Name:         dashboard-admin-token-n748cNamespace:    kube-systemLabels:       &lt;none&gt;Annotations:  kubernetes.io/service-account.name: dashboard-admin              kubernetes.io/service-account.uid: 0a33113c-f24f-43b8-9a01-3f3a9e6e0c5aType:  kubernetes.io/service-account-tokenData====ca.crt:     1025 bytesnamespace:  11 bytestoken:      eyJhbGciOiJSUzI1NiIsImtpZCI6IlZPNnZjX0M1akYxR2I4YkpyRTc3UWhsbWVSWFJSa2k1ZUozTmVHMXJKRVEifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlLXN5c3RlbSIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJkYXNoYm9hcmQtYWRtaW4tdG9rZW4tbjc0OGMiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC5uYW1lIjoiZGFzaGJvYXJkLWFkbWluIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQudWlkIjoiMGEzMzExM2MtZjI0Zi00M2I4LTlhMDEtM2YzYTllNmUwYzVhIiwic3ViIjoic3lzdGVtOnNlcnZpY2VhY2NvdW50Omt1YmUtc3lzdGVtOmRhc2hib2FyZC1hZG1pbiJ9.v4PnP1Fc67aC80_a6St5EIjUbkzDNGNBw7DpQ-ERqlwnbGkRzeDB4QWLPk34Jo5hzB2flIBJ2Oqpb6M58eRASSWWjhYj-kAax9YRAahzikbd69fgA65xsrflMN1ZI6FVy2OYj8n6SbVR6s-jEDLQCvMP5iZN1cuCihW9hrjV8EraQSQQJPkW5XGy0Rjq4QwzbL3mDO-aKiCN3gdduyxXO21icyOZG18swpWZkYw_3U9PQf2h1wpg7DSXll-x6fNMgTwkcXrLFYt3BZLkCrS69PgYalFB6vc_EVrPvONWcR8XshIOgPoPh1HjW1i1JPUs4SGbtD6RZ_27Rsk44lWIbw</code></pre><p>æŠŠä¸‹é¢çš„tokenè¾“å…¥åˆ°é¡µé¢å°±å¯ä»¥ç™»é™†è¿›æ¥äº†ï¼š<br><img src="https://s1.ax1x.com/2022/07/19/j7txkF.png" alt="j7txkF.png"></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker-kubernetesæ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¼‚åœ°äº‘æœåŠ¡å™¨ï¼ˆå…¬ç½‘ï¼‰æ­å»ºk8sé›†ç¾¤</title>
      <link href="/2022/07/18/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E5%BC%82%E5%9C%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E5%85%AC%E7%BD%91%EF%BC%89%E6%90%AD%E5%BB%BAk8s%E9%9B%86%E7%BE%A4/"/>
      <url>/2022/07/18/Docker/kubernetes%E6%90%AD%E5%BB%BA/%E5%BC%82%E5%9C%B0%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%88%E5%85%AC%E7%BD%91%EF%BC%89%E6%90%AD%E5%BB%BAk8s%E9%9B%86%E7%BE%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>æœ¬æ–‡é€‚ç”¨äºè‡ªå·±æ²¡æœ‰è¶³å¤Ÿçš„å±€åŸŸç½‘æœåŠ¡å™¨ï¼Œæƒ³åˆ©ç”¨å¤šä¸ªå¼‚åœ°äº‘æœåŠ¡å™¨æ­å»ºk8sï¼ï¼ï¼</p></blockquote><hr><h1 id="æœºå™¨é…ç½®"><a href="#æœºå™¨é…ç½®" class="headerlink" title="æœºå™¨é…ç½®"></a>æœºå™¨é…ç½®</h1><ul><li>ä¸»èŠ‚ç‚¹centos8.5ï¼ˆé˜¿é‡Œäº‘ECSï¼‰<br>æœºå™¨åï¼šmaster<br>å…¬ç½‘ipï¼š47.100.238.0</li><li>ä»èŠ‚ç‚¹centos8.2ï¼ˆè…¾è®¯äº‘EVMï¼‰<br>æœºå™¨åï¼šnode1<br>å…¬ç½‘ipï¼š1.117.142.4</li><li>ä»èŠ‚ç‚¹centos8.5ï¼ˆé˜¿é‡Œäº‘ECSï¼‰<br>æœºå™¨åï¼šnode2<br>å…¬ç½‘ipï¼š47.95.8.94</li></ul><h1 id="è®¾ç½®hostname"><a href="#è®¾ç½®hostname" class="headerlink" title="è®¾ç½®hostname"></a>è®¾ç½®hostname</h1><ul><li>masterèŠ‚ç‚¹è®¾ç½®ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname master</span><br></pre></td></tr></table></figure><ul><li>node1èŠ‚ç‚¹è®¾ç½®ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname node1</span><br></pre></td></tr></table></figure><ul><li><p>node1èŠ‚ç‚¹è®¾ç½®ï¼š</p><p>hostnamectl set-hostname node2</p></li></ul><h1 id="ä¿®æ”¹-x2F-etc-x2F-hostsæ–‡ä»¶"><a href="#ä¿®æ”¹-x2F-etc-x2F-hostsæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹&#x2F;etc&#x2F;hostsæ–‡ä»¶"></a>ä¿®æ”¹&#x2F;etc&#x2F;hostsæ–‡ä»¶</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><p><strong>å°†127.0.0.1 å’Œhostnameç»‘å®š</strong></p><p><img src="https://s1.ax1x.com/2022/07/18/jo31Og.png" alt="jo31Og.png"></p><h1 id="é…ç½®èŠ‚ç‚¹é—´sshäº’ä¿¡"><a href="#é…ç½®èŠ‚ç‚¹é—´sshäº’ä¿¡" class="headerlink" title="é…ç½®èŠ‚ç‚¹é—´sshäº’ä¿¡"></a>é…ç½®èŠ‚ç‚¹é—´sshäº’ä¿¡</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-1"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-1" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><p><strong>é…ç½®sshäº’ä¿¡ï¼Œé‚£ä¹ˆèŠ‚ç‚¹ä¹‹é—´å°±èƒ½æ— å¯†è®¿é—®ï¼Œæ–¹ä¾¿æ—¥åæ‰§è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²</strong></p><pre><code>ssh-keygen     # ä¸€è·¯å›è½¦å³å¯</code></pre><p><strong>æ‹·è´masterå…¬é’¥åˆ°å…¶ä»–èŠ‚ç‚¹ï¼ˆé»˜è®¤çš„æ–‡ä»¶åä¸º.ssh&#x2F;id_rsa.pubï¼‰</strong></p><pre><code>ssh-copy-id -i .ssh/id_rsa.pub  ç”¨æˆ·åå­—@1.117.142.4ï¼ˆèŠ‚ç‚¹node1çš„ipï¼‰</code></pre><blockquote><p>æ‰§è¡Œä¹‹åä¼šè®©ä½ è¾“å…¥æœåŠ¡å™¨çš„å¯†ç ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦æŠŠnode2çš„ipæ‰§è¡Œä¸€æ¬¡ï¼ï¼ï¼è¿™é‡Œæˆ‘æ‰§è¡Œå®Œä¹‹åï¼Œåˆåœ¨node1æœåŠ¡å™¨ä¸ŠæŠŠå‘½ä»¤é‡Œçš„ipæ›¿æ¢æˆmasterå’Œnode2çš„ipå„æ‰§è¡Œäº†ä¸€æ¬¡ï¼Œnode2ä¸Šæ˜¯masterå’Œnode1çš„ipï¼ï¼ï¼</p></blockquote><h1 id="ç³»ç»Ÿå‚æ•°é…ç½®"><a href="#ç³»ç»Ÿå‚æ•°é…ç½®" class="headerlink" title="ç³»ç»Ÿå‚æ•°é…ç½®"></a>ç³»ç»Ÿå‚æ•°é…ç½®</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-2"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-2" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><h3 id="1-å…³é—­Selinux"><a href="#1-å…³é—­Selinux" class="headerlink" title="1. å…³é—­Selinux"></a>1. å…³é—­Selinux</h3><pre><code>sed -i &#39;s/SELINUX=.*/SELINUX=disabled/g&#39; /etc/selinux/config</code></pre><h3 id="2-æ°¸ä¹…å…³é—­swapåŒº"><a href="#2-æ°¸ä¹…å…³é—­swapåŒº" class="headerlink" title="2. æ°¸ä¹…å…³é—­swapåŒº"></a>2. æ°¸ä¹…å…³é—­swapåŒº</h3><pre><code>swapoff -ased -ri &#39;s/.*swap.*/#&amp;/&#39; /etc/fstabecho &quot;vm.swappiness = 0&quot;&gt;&gt; /etc/sysctl.conf  </code></pre><h3 id="3-ä¿®æ”¹å†…æ ¸å‚æ•°"><a href="#3-ä¿®æ”¹å†…æ ¸å‚æ•°" class="headerlink" title="3. ä¿®æ”¹å†…æ ¸å‚æ•°"></a>3. ä¿®æ”¹å†…æ ¸å‚æ•°</h3><pre><code>cat &lt;&lt;EOF &gt; /etc/sysctl.d/k8s.confnet.ipv4.ip_forward = 1net.bridge.bridge-nf-call-ip6tables = 1net.bridge.bridge-nf-call-iptables = 1vm.swappiness=0EOF</code></pre><h3 id="4-æ›´æ–°å†…æ ¸å‚æ•°"><a href="#4-æ›´æ–°å†…æ ¸å‚æ•°" class="headerlink" title="4. æ›´æ–°å†…æ ¸å‚æ•°"></a>4. æ›´æ–°å†…æ ¸å‚æ•°</h3><blockquote><p>-p ä»æŒ‡å®šçš„æ–‡ä»¶åŠ è½½ç³»ç»Ÿå‚æ•°ï¼Œå¦‚ä¸æŒ‡å®šå³ä»&#x2F;etc&#x2F;sysctl.confä¸­åŠ è½½</p></blockquote><pre><code>sysctl -p /etc/sysctl.d/k8s.conf</code></pre><h3 id="5-å®Œæ•´-x2F-etc-x2F-sysctl-conf-é…ç½®"><a href="#5-å®Œæ•´-x2F-etc-x2F-sysctl-conf-é…ç½®" class="headerlink" title="5. å®Œæ•´&#x2F;etc&#x2F;sysctl.conf  é…ç½®"></a>5. å®Œæ•´&#x2F;etc&#x2F;sysctl.conf  é…ç½®</h3><blockquote><p>å½“ç„¶è¿™é‡Œé˜¿é‡Œäº‘å’Œè…¾è®¯äº‘çš„è¿™ä¸ªæ–‡ä»¶å†…å®¹å¯èƒ½ä¼šæœ‰ç‚¹åŒºåˆ«ï¼Œä½†æ˜¯æ²¡å…³ç³»</p></blockquote><pre><code>vm.swappiness = 0kernel.sysrq = 1net.ipv4.ip_forward = 1net.bridge.bridge-nf-call-iptables = 1net.bridge.bridge-nf-call-ip6tables = 1net.ipv4.neigh.default.gc_stale_time = 120# see details in https://help.aliyun.com/knowledge_detail/39428.htmlnet.ipv4.conf.all.rp_filter = 0net.ipv4.conf.default.rp_filter = 0net.ipv4.conf.default.arp_announce = 2net.ipv4.conf.lo.arp_announce = 2net.ipv4.conf.all.arp_announce = 2# see details in https://help.aliyun.com/knowledge_detail/41334.htmlnet.ipv4.tcp_max_tw_buckets = 5000net.ipv4.tcp_syncookies = 1net.ipv4.tcp_max_syn_backlog = 1024net.ipv4.tcp_synack_retries = 2</code></pre><h3 id="6-ç”Ÿæ•ˆ-x2F-etc-x2F-sysctl-confæ–‡ä»¶è®¾ç½®"><a href="#6-ç”Ÿæ•ˆ-x2F-etc-x2F-sysctl-confæ–‡ä»¶è®¾ç½®" class="headerlink" title="6. ç”Ÿæ•ˆ&#x2F;etc&#x2F;sysctl.confæ–‡ä»¶è®¾ç½®"></a>6. ç”Ÿæ•ˆ&#x2F;etc&#x2F;sysctl.confæ–‡ä»¶è®¾ç½®</h3><pre><code>sysctl -p</code></pre><h1 id="å»ºç«‹è™šæ‹Ÿç½‘å¡"><a href="#å»ºç«‹è™šæ‹Ÿç½‘å¡" class="headerlink" title="å»ºç«‹è™šæ‹Ÿç½‘å¡"></a>å»ºç«‹è™šæ‹Ÿç½‘å¡</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-3"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-3" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><h3 id="1-è®¾ç½®è™šæ‹Ÿç½‘å¡"><a href="#1-è®¾ç½®è™šæ‹Ÿç½‘å¡" class="headerlink" title="1. è®¾ç½®è™šæ‹Ÿç½‘å¡"></a>1. è®¾ç½®è™šæ‹Ÿç½‘å¡</h3><blockquote><p>å°†å½“å‰æ‰€åœ¨æœåŠ¡å™¨çš„å…¬ç½‘ipå½“åšè™šæ‹Ÿç½‘å¡æ¥å¯¹å¾…ï¼Œä»¥ä¾¿åç»­çš„k8sé›†ç¾¤çš„pod ipé‡‡ç”¨å…¬ç½‘ipæ¥åŠ å…¥é›†ç¾¤</p></blockquote><p><font color="red">æ³¨æ„ï¼šè¿™é‡Œçš„å‘½ä»¤éœ€è¦æ›¿æ¢ä½ çš„å…¬ç½‘IPè¿›å»ï¼ï¼ï¼</font></p><pre><code>cat &gt; /etc/sysconfig/network-scripts/ifcfg-eth0:1 &lt;&lt;EOFBOOTPROTO=staticDEVICE=eth0:1IPADDR=ä½ çš„å…¬ç½‘IPPREFIX=32TYPE=EthernetUSERCTL=noONBOOT=yesEOF</code></pre><h3 id="2-å¦‚æœæ˜¯centos8ï¼Œéœ€è¦é‡å¯"><a href="#2-å¦‚æœæ˜¯centos8ï¼Œéœ€è¦é‡å¯" class="headerlink" title="2. å¦‚æœæ˜¯centos8ï¼Œéœ€è¦é‡å¯"></a>2. å¦‚æœæ˜¯centos8ï¼Œéœ€è¦é‡å¯</h3><p><font color="red">æ³¨æ„ï¼šç¬¬äºŒæ­¥çš„å‘½ä»¤ä¸€å®šè¦ä¸€æ¬¡æ€§æ‰§è¡Œï¼Œä¸è¦æ‹†å¼€ï¼ï¼ï¼</font></p><pre><code>nmcli c reload                   #é‡æ–°è½½å…¥ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œä¸ç„¶ä¸èƒ½ç«‹å³ç”Ÿæ•ˆnmcli n off &amp;&amp; nmcli n on        #é‡å¯æ‰€æœ‰ç½‘ç»œ</code></pre><h3 id="3-æŸ¥çœ‹æ–°å»ºçš„IPæ˜¯å¦è¿›å»"><a href="#3-æŸ¥çœ‹æ–°å»ºçš„IPæ˜¯å¦è¿›å»" class="headerlink" title="3. æŸ¥çœ‹æ–°å»ºçš„IPæ˜¯å¦è¿›å»"></a>3. æŸ¥çœ‹æ–°å»ºçš„IPæ˜¯å¦è¿›å»</h3><pre><code>ifconfig</code></pre><p>æˆåŠŸç¤ºä¾‹ï¼š<br><img src="https://s1.ax1x.com/2022/07/18/joN4jP.png" alt="joN4jP.png"></p><h1 id="ä¸»æœºç«¯å£è®¾ç½®"><a href="#ä¸»æœºç«¯å£è®¾ç½®" class="headerlink" title="ä¸»æœºç«¯å£è®¾ç½®"></a>ä¸»æœºç«¯å£è®¾ç½®</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-4"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-4" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><h3 id="1-å¼€æ”¾æœåŠ¡å™¨ç«¯å£"><a href="#1-å¼€æ”¾æœåŠ¡å™¨ç«¯å£" class="headerlink" title="1. å¼€æ”¾æœåŠ¡å™¨ç«¯å£"></a>1. å¼€æ”¾æœåŠ¡å™¨ç«¯å£</h3><blockquote><p>é˜¿é‡Œäº‘ECSå’Œè…¾è®¯äº‘EVMæ‰€æœ‰å…¥ç½‘æ–¹å‘ç«¯å£éƒ½éœ€è¦è‡ªå·±æ‰‹åŠ¨å¼€å¯ã€‚</p></blockquote><p>&#x3D;&#x3D;master&#x3D;&#x3D;éœ€è¦å¼€æ”¾çš„ç«¯å£æœ‰ï¼š</p><table><thead><tr><th>åè®®</th><th>æ–¹å‘</th><th>ç«¯å£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>TCP</td><td>å…¥ç«™</td><td>6443</td><td>Kubernetes API server</td></tr><tr><td>TCP</td><td>å…¥ç«™</td><td>2379-2380</td><td>etcd server client API</td></tr><tr><td>TCP</td><td>å…¥ç«™</td><td>10250</td><td>Kubelet API</td></tr><tr><td>TCP</td><td>å…¥ç«™</td><td>10251</td><td>kube-scheduler</td></tr><tr><td>TCP</td><td>å…¥ç«™</td><td>10252</td><td>kube-controller-manager</td></tr><tr><td>UDP</td><td>å…¥ç«™</td><td>8472</td><td>k8s fannel vxlan</td></tr></tbody></table><p>&#x3D;&#x3D;node1ã€node2&#x3D;&#x3D;éœ€è¦å¼€æ”¾çš„ç«¯å£æœ‰ï¼š</p><table><thead><tr><th>åè®®</th><th>æ–¹å‘</th><th>ç«¯å£</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>TCP</td><td>å…¥ç«™</td><td>10250</td><td>Kubernetes API server</td></tr><tr><td>TCP</td><td>å…¥ç«™</td><td>30000-32767</td><td>k8s NodePort ServicesI</td></tr></tbody></table><p>å»é˜¿é‡Œäº‘å’Œè…¾è®¯äº‘æŠŠä¸Šé¢è¿™å‡ ä¸ªç«¯å£æŒ‰å¯¹åº”èŠ‚ç‚¹å¼€æ”¾å‡ºæ¥å°±å¯ä»¥äº†ï¼Œæ“ä½œç±»ä¼¼ï¼š<a href="https://developer.aliyun.com/article/793961">é˜¿é‡Œäº‘æœåŠ¡å™¨å¼€æ”¾ç«¯å£æ•™ç¨‹</a><br><img src="https://s1.ax1x.com/2022/07/19/jTArfH.png" alt="jTArfH.png"></p><h1 id="Dockerå®‰è£…"><a href="#Dockerå®‰è£…" class="headerlink" title="Dockerå®‰è£…"></a>Dockerå®‰è£…</h1><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-5"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-5" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><p><font color="red">æ³¨æ„ï¼šåœ¨å®‰è£…dockerå’Œkuberneteså‰ä¸€å®šè¦ç¡®å®šå¥½å„è‡ªçš„ç‰ˆæœ¬</font></p><h3 id="1-é¦–å…ˆæŸ¥è¯¢æ˜¯å¦å­˜åœ¨dockeræœåŠ¡"><a href="#1-é¦–å…ˆæŸ¥è¯¢æ˜¯å¦å­˜åœ¨dockeræœåŠ¡" class="headerlink" title="1. é¦–å…ˆæŸ¥è¯¢æ˜¯å¦å­˜åœ¨dockeræœåŠ¡"></a>1. é¦–å…ˆæŸ¥è¯¢æ˜¯å¦å­˜åœ¨dockeræœåŠ¡</h3><pre><code>docker version</code></pre><h3 id="2-å¸è½½dockeræœåŠ¡ï¼ˆå¯é€‰ï¼‰"><a href="#2-å¸è½½dockeræœåŠ¡ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="2. å¸è½½dockeræœåŠ¡ï¼ˆå¯é€‰ï¼‰"></a>2. å¸è½½dockeræœåŠ¡ï¼ˆå¯é€‰ï¼‰</h3><p><font color="red">å¦‚æœä½ å½“å‰å­˜åœ¨çš„dockerç‰ˆæœ¬ç¬¦åˆä½ çš„éœ€æ±‚ï¼Œå¯ä»¥å¿½ç•¥ä»¥ä¸‹å¸è½½å’Œå®‰è£…æ­¥éª¤</font></p><pre><code>systemctl stop dockeryum remove docker-ce docker-ce-cli containerd.iorm -rf /var/lib/dockerrm -rf /var/lib/containerd</code></pre><h3 id="1-æŸ¥çœ‹å½“å‰å¯ç”¨ç‰ˆæœ¬"><a href="#1-æŸ¥çœ‹å½“å‰å¯ç”¨ç‰ˆæœ¬" class="headerlink" title="1. æŸ¥çœ‹å½“å‰å¯ç”¨ç‰ˆæœ¬"></a>1. æŸ¥çœ‹å½“å‰å¯ç”¨ç‰ˆæœ¬</h3><pre><code>yum list docker-ce --showduplicates | sort -r</code></pre><p><img src="https://s1.ax1x.com/2022/07/19/jTnT9U.png" alt="jTnT9U.png"></p><h3 id="2-å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰"><a href="#2-å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰" class="headerlink" title="2. å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰"></a>2. å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰</h3><p>å°†çº¢æ¡†éƒ¨åˆ†çš„ç‰ˆæœ¬å·æ›¿æ¢åˆ°ä¸‹é¢çš„å‘½ä»¤ä¸­å³å¯â€”-<strong>è¿™é‡Œæˆ‘å®‰è£…çš„æ˜¯19.03çš„ç‰ˆæœ¬</strong></p><pre><code>yum install docker-ce-3:19.03.13 docker-ce-cli-1:19.03.13 containerd.io </code></pre><h3 id="2-å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰"><a href="#2-å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰" class="headerlink" title="2. å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰"></a>2. å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„dockerï¼ˆäºŒé€‰ä¸€ï¼‰</h3><pre><code>curl -fsSL https://get.docker.com/ | sh</code></pre><h3 id="3-å¯åŠ¨docker"><a href="#3-å¯åŠ¨docker" class="headerlink" title="3. å¯åŠ¨docker"></a>3. å¯åŠ¨docker</h3><pre><code>systemctl start docker</code></pre><h3 id="4-å°†dockeråŠ å…¥å¼€å¯è‡ªå¯æœåŠ¡ä¸­"><a href="#4-å°†dockeråŠ å…¥å¼€å¯è‡ªå¯æœåŠ¡ä¸­" class="headerlink" title="4. å°†dockeråŠ å…¥å¼€å¯è‡ªå¯æœåŠ¡ä¸­"></a>4. å°†dockeråŠ å…¥å¼€å¯è‡ªå¯æœåŠ¡ä¸­</h3><pre><code>systemctl enable docker</code></pre><h3 id="5-dockerå®‰è£…å®Œæˆå"><a href="#5-dockerå®‰è£…å®Œæˆå" class="headerlink" title="5. dockerå®‰è£…å®Œæˆå"></a>5. dockerå®‰è£…å®Œæˆå</h3><p>æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼š</p><pre><code># è®¾ç½®å®ˆæŠ¤ç¨‹åºcat &gt; /etc/docker/daemon.json &lt;&lt;EOF&#123;   &quot;exec-opts&quot;: [&quot;native.cgroupdriver=systemd&quot;],   &quot;log-driver&quot;: &quot;json-file&quot;,   &quot;log-opts&quot;: &#123;      &quot;max-size&quot;: &quot;100m&quot;    &#125;,    &quot;storage-driver&quot;: &quot;overlay2&quot;,    &quot;storage-opts&quot;: [      &quot;overlay2.override_kernel_check=true&quot;    ] ,    &quot;registry-mirrors&quot;: [&quot;https://xxxxxx.mirror.aliyuncs.com&quot;]&#125;EOF</code></pre><p>ç™»å½•è¿›å…¥é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸­å¿ƒï¼Œè·å–é•œåƒåœ°å€ï¼šâ€registry-mirrorsâ€:<br><a href="https://cr.console.aliyun.com/cn-beijing/instances/mirrors">é˜¿é‡Œäº‘é•œåƒæœåŠ¡ä¸­å¿ƒåœ°å€</a><br><img src="https://s1.ax1x.com/2022/07/19/jTuhKH.png" alt="jTuhKH.png"></p><pre><code>mkdir -p /etc/systemd/system/docker.service.d</code></pre><h3 id="6-é‡å¯DockeræœåŠ¡"><a href="#6-é‡å¯DockeræœåŠ¡" class="headerlink" title="6. é‡å¯DockeræœåŠ¡"></a>6. é‡å¯DockeræœåŠ¡</h3><pre><code>systemctl daemon-reloadsystemctl enable dockersystemctl restart docker</code></pre><h1 id="å®‰è£…kubernetes"><a href="#å®‰è£…kubernetes" class="headerlink" title="å®‰è£…kubernetes"></a>å®‰è£…kubernetes</h1><h3 id="1-é…ç½®æºï¼š"><a href="#1-é…ç½®æºï¼š" class="headerlink" title="1. é…ç½®æºï¼š"></a>1. é…ç½®æºï¼š</h3><pre><code>echo &#39;#k8s[kubernetes]name=Kubernetesbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64enabled=1gpgcheck=0&#39;&gt;/etc/yum.repos.d/kubernetes.repo</code></pre><h3 id="2-å®‰è£…ä¾èµ–"><a href="#2-å®‰è£…ä¾èµ–" class="headerlink" title="2. å®‰è£…ä¾èµ–"></a>2. å®‰è£…ä¾èµ–</h3><p>è¿™é‡Œæˆ‘å®‰è£…çš„æ˜¯1.18.20ç‰ˆæœ¬ï¼š</p><pre><code>yum -y install kubelet-1.18.20 kubeadm-1.18.20 kubectl-1.18.20</code></pre><h3 id="3-æŸ¥çœ‹å®‰è£…åçš„k8sç‰ˆæœ¬"><a href="#3-æŸ¥çœ‹å®‰è£…åçš„k8sç‰ˆæœ¬" class="headerlink" title="3. æŸ¥çœ‹å®‰è£…åçš„k8sç‰ˆæœ¬"></a>3. æŸ¥çœ‹å®‰è£…åçš„k8sç‰ˆæœ¬</h3><pre><code>kubeadm config images list</code></pre><p><img src="https://s1.ax1x.com/2022/07/19/jT5SgI.png" alt="jT5SgI.png"></p><h3 id="4-é‡å¯kubelet"><a href="#4-é‡å¯kubelet" class="headerlink" title="4. é‡å¯kubelet"></a>4. é‡å¯kubelet</h3><pre><code>     systemctl daemon-reload     systemctl enable kubelet</code></pre><h3 id="5-æ‰¹é‡æ‹‰å–k8sé•œåƒ"><a href="#5-æ‰¹é‡æ‹‰å–k8sé•œåƒ" class="headerlink" title="5. æ‰¹é‡æ‹‰å–k8sé•œåƒ"></a>5. æ‰¹é‡æ‹‰å–k8sé•œåƒ</h3><h4 id="ç¼–å†™è„šæœ¬æ–‡ä»¶"><a href="#ç¼–å†™è„šæœ¬æ–‡ä»¶" class="headerlink" title="ç¼–å†™è„šæœ¬æ–‡ä»¶"></a>ç¼–å†™è„šæœ¬æ–‡ä»¶</h4><pre><code>vim docker.sh</code></pre><h4 id="å†…å®¹ï¼š"><a href="#å†…å®¹ï¼š" class="headerlink" title="å†…å®¹ï¼š"></a>å†…å®¹ï¼š</h4><p>è¿™é‡Œåªéœ€è¦ä¿®æ”¹<font color="red">å››ä¸ª</font>ç‰ˆæœ¬å·ï¼Œå…¶ä»–çš„ä¸ç”¨åŠ¨</p><pre><code>set -o errexitset -o nounsetset -o pipefail##è¿™é‡Œå®šä¹‰ç‰ˆæœ¬ï¼ŒæŒ‰ç…§ä¸Šé¢å¾—åˆ°çš„åˆ—è¡¨è‡ªå·±æ”¹ä¸€ä¸‹ç‰ˆæœ¬å·KUBE_VERSION=v1.18.20KUBE_PAUSE_VERSION=3.2ETCD_VERSION=3.4.3-0DNS_VERSION=1.6.7##è¿™æ˜¯åŸå§‹ä»“åº“åï¼Œæœ€åéœ€è¦æ”¹åæˆè¿™ä¸ªGCR_URL=k8s.gcr.io##è¿™é‡Œå°±æ˜¯å†™ä½ è¦ä½¿ç”¨çš„ä»“åº“DOCKERHUB_URL=registry.aliyuncs.com/google_containers##è¿™é‡Œæ˜¯é•œåƒåˆ—è¡¨ï¼Œæ–°ç‰ˆæœ¬è¦æŠŠcorednsæ”¹æˆcoredns/corednsimages=(kube-proxy:$&#123;KUBE_VERSION&#125;kube-scheduler:$&#123;KUBE_VERSION&#125;kube-controller-manager:$&#123;KUBE_VERSION&#125;kube-apiserver:$&#123;KUBE_VERSION&#125;pause:$&#123;KUBE_PAUSE_VERSION&#125;etcd:$&#123;ETCD_VERSION&#125;coredns:$&#123;DNS_VERSION&#125;)##è¿™é‡Œæ˜¯æ‹‰å–å’Œæ”¹åçš„å¾ªç¯è¯­å¥for imageName in $&#123;images[@]&#125; ; do  docker pull $DOCKERHUB_URL/$imageName  docker tag $DOCKERHUB_URL/$imageName $GCR_URL/$imageName  docker rmi $DOCKERHUB_URL/$imageNamedone</code></pre><h4 id="æ‰§è¡Œè„šæœ¬ï¼š"><a href="#æ‰§è¡Œè„šæœ¬ï¼š" class="headerlink" title="æ‰§è¡Œè„šæœ¬ï¼š"></a>æ‰§è¡Œè„šæœ¬ï¼š</h4><pre><code>chmod u+x docker.shï¼ˆå…ˆèµ‹äºˆæ‰§è¡Œæƒé™ï¼‰./docker.sh        ï¼ˆæ‰§è¡Œï¼‰</code></pre><h4 id="æ‰€æœ‰ç»„ä»¶pullæˆåŠŸåã€‚æŸ¥çœ‹"><a href="#æ‰€æœ‰ç»„ä»¶pullæˆåŠŸåã€‚æŸ¥çœ‹" class="headerlink" title="æ‰€æœ‰ç»„ä»¶pullæˆåŠŸåã€‚æŸ¥çœ‹"></a>æ‰€æœ‰ç»„ä»¶pullæˆåŠŸåã€‚æŸ¥çœ‹</h4><pre><code>docker images</code></pre><p><img src="https://s1.ax1x.com/2022/07/19/jTIuJH.png" alt="jTIuJH.png"></p><h1 id="åˆå§‹åŒ–ä¸»èŠ‚ç‚¹"><a href="#åˆå§‹åŒ–ä¸»èŠ‚ç‚¹" class="headerlink" title="åˆå§‹åŒ–ä¸»èŠ‚ç‚¹"></a>åˆå§‹åŒ–ä¸»èŠ‚ç‚¹</h1><h3 id="åªæ“ä½œmasterï¼ï¼ï¼"><a href="#åªæ“ä½œmasterï¼ï¼ï¼" class="headerlink" title="åªæ“ä½œmasterï¼ï¼ï¼"></a><strong>åªæ“ä½œmasterï¼ï¼ï¼</strong></h3><h3 id="1-é…ç½®"><a href="#1-é…ç½®" class="headerlink" title="1. é…ç½®"></a>1. é…ç½®</h3><p>æŠŠä¸‹é¢å†…å®¹ä¸­éœ€è¦æ›¿æ¢çš„ï¼Œæ”¹ä¸ºè‡ªå·±masterèŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œç„¶åæ•´ä¸ªå¤åˆ¶æ‰§è¡Œ</p><pre><code>cat &gt; kubeadm-config.yml &lt;&lt;EOFapiVersion: kubeadm.k8s.io/v1beta2bootstrapTokens:  - groups:      - system:bootstrappers:kubeadm:default-node-token    token: abcdef.0123456789abcdef    ttl: 24h0m0s    usages:      - signing      - authenticationkind: InitConfigurationlocalAPIEndpoint:  advertiseAddress: xx.xxx.xxx.xx   #masterå…¬ç½‘ip   bindPort: 6443nodeRegistration:  criSocket: /var/run/dockershim.sock  name: master  #è‡ªå·±çš„hostname  taints:    - effect: NoSchedule      key: node-role.kubernetes.io/master---apiServer:  timeoutForControlPlane: 4m0sapiVersion: kubeadm.k8s.io/v1beta2certificatesDir: /etc/kubernetes/pkiclusterName: kubernetescontrollerManager: &#123;&#125;dns:  type: CoreDNSetcd:  local:    dataDir: /var/lib/etcdimageRepository: registry.aliyuncs.com/google_containerskind: ClusterConfigurationkubernetesVersion: v1.20.0apiServer:  certSANs:      - master    #è¯·æ›¿æ¢ä¸ºmasterçš„hostname  - masterèŠ‚ç‚¹çš„å†…ç½‘IPåœ°å€   #è¯·æ›¿æ¢ä¸ºmasterå†…ç½‘ip  - xx.xxx.xxx.xx  #è¯·æ›¿æ¢ä¸ºmasterå…¬ç½‘ipåœ°å€  - 10.1.0.1   #ä¸è¦æ›¿æ¢ï¼Œæ­¤IPæ˜¯serviceSubneté…ç½®çš„ipåœ°å€ç½‘æ®µçš„ç¬¬ä¸€ä¸ªåœ°å€ï¼ŒAPIçš„é›†ç¾¤åœ°å€ï¼Œéƒ¨åˆ†æœåŠ¡ä¼šç”¨åˆ°networking:  dnsDomain: cluster.local  podSubnet: 10.244.0.0/16 #podçš„ç½‘æ®µåœ°å€é…ç½®  serviceSubnet: 10.1.0.0/16 #serviceçš„ç½‘æ®µåœ°å€é…ç½®scheduler: &#123;&#125;EOF</code></pre><h3 id="2-åˆå§‹åŒ–"><a href="#2-åˆå§‹åŒ–" class="headerlink" title="2. åˆå§‹åŒ–"></a>2. åˆå§‹åŒ–</h3><h4 id="å¼€å§‹åˆå§‹åŒ–"><a href="#å¼€å§‹åˆå§‹åŒ–" class="headerlink" title="å¼€å§‹åˆå§‹åŒ–"></a>å¼€å§‹åˆå§‹åŒ–</h4><p>å¦‚æœæ˜¯1æ ¸å¿ƒæˆ–è€…1Gå†…å­˜çš„è¯·åœ¨æœ«å°¾æ·»åŠ å‚æ•°ï¼ˆâ€“ignore-preflight-errors&#x3D;allï¼‰ï¼Œå¦åˆ™ä¼šåˆå§‹åŒ–å¤±è´¥</p><pre><code>kubeadm init --config=kubeadm-config.yml</code></pre><h4 id="åŒæ—¶æ³¨æ„ï¼Œæ­¤æ­¥éª¤æˆåŠŸåï¼Œä¼šæ‰“å°ï¼Œä¸¤ä¸ªé‡è¦ä¿¡æ¯"><a href="#åŒæ—¶æ³¨æ„ï¼Œæ­¤æ­¥éª¤æˆåŠŸåï¼Œä¼šæ‰“å°ï¼Œä¸¤ä¸ªé‡è¦ä¿¡æ¯" class="headerlink" title="åŒæ—¶æ³¨æ„ï¼Œæ­¤æ­¥éª¤æˆåŠŸåï¼Œä¼šæ‰“å°ï¼Œä¸¤ä¸ªé‡è¦ä¿¡æ¯"></a>åŒæ—¶æ³¨æ„ï¼Œæ­¤æ­¥éª¤æˆåŠŸåï¼Œä¼šæ‰“å°ï¼Œä¸¤ä¸ªé‡è¦ä¿¡æ¯</h4><p>&#x3D;&#x3D;ä¿¡æ¯1&#x3D;&#x3D;ï¼šä¸Šé¢åˆå§‹åŒ–æˆåŠŸåï¼Œå°†ä¼šç”Ÿæˆkubeconfigæ–‡ä»¶ï¼Œç”¨äºè¯·æ±‚apiæœåŠ¡å™¨ï¼Œå¦‚æœæƒ³ä¸ä½¿ç”¨rootç”¨æˆ·è¿›è¡Œåç»­çš„k8sé›†ç¾¤ç®¡ç†çš„è¯ï¼Œè¯·æ‰§è¡Œä¸‹é¢æ“ä½œ<font color="red">ï¼ˆè¿™ä¸€æ­¥æˆ‘æ²¡æ‰§è¡Œï¼Œå˜»å˜»ï¼‰</font></p><pre><code>mkdir -p $HOME/.kubesudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/configsudo chown $(id -u):$(id -g) $HOME/.kube/config</code></pre><p>&#x3D;&#x3D;ä¿¡æ¯2&#x3D;&#x3D;ï¼šæ­¤ä¿¡æ¯ç”¨äºåé¢å·¥ä½œèŠ‚ç‚¹åŠ å…¥ä¸»èŠ‚ç‚¹ä½¿ç”¨,è¿™é‡Œçš„ä¿¡æ¯éœ€è¦<font color="red">ä¿å­˜èµ·æ¥</font>ï¼Œä»¥ä¾¿æ¥ä¸‹æ¥çš„nodeèŠ‚ç‚¹èƒ½åŠ å…¥é›†ç¾¤ï¼Œæ­¤å¤„çš„tokenæ˜¯åªèƒ½24å°æ—¶æœ‰æ•ˆæœŸ<font color="red">ï¼ˆä¸‹é¢è¿™å†…å®¹æ˜¯åˆå§‹åŒ–ç”Ÿæˆçš„ï¼Œç°åœ¨ä¸éœ€è¦æ‰§è¡Œï¼Œåªè¦ä¿å­˜èµ·æ¥ï¼‰</font>ã€‚</p><pre><code>kubeadm join 47.100.238.0:6443 --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:a255ee4b0eefa44a6b23580bbbfbcd7234903d6d33c4efb5d85d7c8f57311f18</code></pre><h4 id="å¦‚æœåˆå§‹åŒ–å¤±è´¥"><a href="#å¦‚æœåˆå§‹åŒ–å¤±è´¥" class="headerlink" title="å¦‚æœåˆå§‹åŒ–å¤±è´¥"></a>å¦‚æœåˆå§‹åŒ–å¤±è´¥</h4><p>å¯ä»¥æ‰§è¡Œå®Œä¸‹é¢å‘½ä»¤ï¼Œä¹‹åè¿›è¡Œé‡æ–°åˆå§‹åŒ–</p><pre><code>kubeadm reset -frm -rf /etc/cni /etc/kubernetes /var/lib/dockershim /var/lib/etcd /var/lib/kubelet /var/run/kubernetes ~/.kube/* </code></pre><p>å½“ç„¶ï¼Œä¹Ÿå¯èƒ½åˆ é™¤ä¸å¹²å‡€ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ä½ æ ¹æ®æŠ¥é”™æ‰‹åŠ¨åˆ é™¤ä¸€äº›æ–‡ä»¶ï¼ˆå¤§éƒ¨åˆ†æƒ…å†µä¸‹ä¸ä¼šçš„ï¼‰,ç„¶åé‡æ–°åˆå§‹åŒ–æˆåŠŸã€‚</p><p>å¦‚æœé›†ç¾¤å¼€å¯ipvsçš„è¯ï¼Œä¹Ÿéœ€è¦å°†ipvsé‡ç½®ï¼Œä»¥ç¡®ä¿ä¸å—ä¹‹å‰çš„é”™è¯¯é…ç½®å½±å“</p><pre><code>ipvsadm -C</code></pre><h1 id="éƒ¨ç½²masterèŠ‚ç‚¹"><a href="#éƒ¨ç½²masterèŠ‚ç‚¹" class="headerlink" title="éƒ¨ç½²masterèŠ‚ç‚¹"></a>éƒ¨ç½²masterèŠ‚ç‚¹</h1><h3 id="åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼"><a href="#åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼" class="headerlink" title="åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼"></a><strong>åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼</strong></h3><h3 id="1-æŸ¥çœ‹tokenåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰"><a href="#1-æŸ¥çœ‹tokenåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="1. æŸ¥çœ‹tokenåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰"></a>1. æŸ¥çœ‹tokenåˆ—è¡¨ï¼ˆå¯é€‰ï¼‰</h3><pre><code>kubeadm token list</code></pre><p>è¾“å‡ºç»“æœï¼š</p><pre><code>TOKEN                     TTL         EXPIRES                     USAGES                   DESCRIPTION                                                EXTRA GROUPSabcdef.0123456789abcdef   23h         xxxxx  authentication,signing   The default bootstrap token generated by &#39;kubeadm init&#39;.   system:bootstrappers:kubeadm:default-node-token</code></pre><h3 id="2-é‡æ–°ç”Ÿæˆtokenï¼ˆå¯é€‰ï¼‰"><a href="#2-é‡æ–°ç”Ÿæˆtokenï¼ˆå¯é€‰ï¼‰" class="headerlink" title="2. é‡æ–°ç”Ÿæˆtokenï¼ˆå¯é€‰ï¼‰"></a>2. é‡æ–°ç”Ÿæˆtokenï¼ˆå¯é€‰ï¼‰</h3><p><font color="red">ï¼ˆæ­¤æ­¥éª¤æˆ‘æ²¡ç”¨ï¼Œæ‰€ä»¥æˆ‘çš„tokenå€¼ä¸å˜ï¼‰</font></p><pre><code>kubeadm token create</code></pre><h3 id="3-è·å–caè¯ä¹¦sha256ç¼–ç hashå€¼ï¼ˆå¯é€‰ï¼‰"><a href="#3-è·å–caè¯ä¹¦sha256ç¼–ç hashå€¼ï¼ˆå¯é€‰ï¼‰" class="headerlink" title="3. è·å–caè¯ä¹¦sha256ç¼–ç hashå€¼ï¼ˆå¯é€‰ï¼‰"></a>3. è·å–caè¯ä¹¦sha256ç¼–ç hashå€¼ï¼ˆå¯é€‰ï¼‰</h3><pre><code>openssl x509 -pubkey -in /etc/kubernetes/pki/ca.crt | openssl rsa -pubin -outform der 2&gt;/dev/null | openssl dgst -sha256 -hex | sed &#39;s/^.* //&#39;</code></pre><p>è¾“å‡ºç»“æœï¼š<br><code>a255ee4b0eefa44a6b23580bbbfbcd7234903d6d33c4efb5d85d7c8f57311f18</code></p><h3 id="4-masterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤"><a href="#4-masterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤" class="headerlink" title="4. masterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤"></a>4. masterèŠ‚ç‚¹åŠ å…¥é›†ç¾¤</h3><p><strong>1. å¦‚æœä½ æ²¡æœ‰é‡æ–°ç”Ÿæˆtokenï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œä¸Šé¢åˆå§‹åŒ–ä¸»èŠ‚ç‚¹æœ€åç”Ÿæˆçš„â€œkubeadm joinâ€ä¿¡æ¯ã€‚</strong></p><p><strong>2. å¦‚æœä½ é‡æ–°åœ¨masterèŠ‚ç‚¹ä¸Šç”Ÿæˆäº†tokenï¼Œé‚£ä¹ˆä¹Ÿåœ¨masterèŠ‚ç‚¹ä¸Šé‡æ–°æŸ¥çœ‹tokenå’Œè¯ä¹¦ä¿¡æ¯ï¼Œç„¶åæŠŠå¯¹åº”çš„å€¼æ›¿æ¢ä¸‹æ¥ã€‚</strong></p><pre><code>kubeadm join --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:a255ee4b0eefa44a6b23580bbbfbcd7234903d6d33c4efb5d85d7c8f57311f18 47.100.238.0:6443</code></pre><p>å¦‚æœæ‰§è¡Œå®Œï¼ŒæŠ¥é”™ç›®å½•ä¸ä¸ºç©ºï¼Œæˆ–è€…æ–‡ä»¶å·²å­˜åœ¨ï¼Œæˆ–è€…ç«¯å£å ç”¨è¿™äº›æƒ…å†µï¼Œå¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼ˆè§†æƒ…å†µè€Œå®šï¼‰</p><pre><code>kubeadm join --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:a255ee4b0eefa44a6b23580bbbfbcd7234903d6d33c4efb5d85d7c8f57311f18 47.100.238.0:6443 --ignore-preflight-errors=all</code></pre><p><strong>è‡³æ­¤ï¼ŒmasterèŠ‚ç‚¹éƒ¨ç½²å®Œæ¯•ï¼Œç°åœ¨æ¥æŸ¥çœ‹ä¸‹podè¿è¡Œæƒ…å†µ</strong><br><img src="https://s1.ax1x.com/2022/07/19/j79yxP.png" alt="j79yxP.png"> <font color="red">æ³¨æ„ï¼šç”±äºæ­¤æ—¶k8sçš„cniç»„ä»¶è¿˜æ²¡éƒ¨ç½²ï¼Œæ­¤æ—¶çš„dnsæ—¥å¿—é‡Œé¢åº”è¯¥ä¼šæŠ¥é”™ï¼Œç­‰å¾…cniç»„ä»¶ä¸­ï¼Œæ‰€ä»¥ coredns æš‚æ—¶è¿˜æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚</font>æ”¾åˆ°ä¸‹é¢è§£å†³äº†ã€‚</p><h1 id="kube-proxyä»£ç†æ–¹æ¡ˆç”±iptablesæ”¹ä¸ºipvs"><a href="#kube-proxyä»£ç†æ–¹æ¡ˆç”±iptablesæ”¹ä¸ºipvs" class="headerlink" title="kube-proxyä»£ç†æ–¹æ¡ˆç”±iptablesæ”¹ä¸ºipvs"></a>kube-proxyä»£ç†æ–¹æ¡ˆç”±iptablesæ”¹ä¸ºipvs</h1><blockquote><p>éƒ¨ç½²node1ã€node2èŠ‚ç‚¹å‰çš„å‡†å¤‡å·¥ä½œ</p></blockquote><h3 id="ç¬¬ä¸€æ­¥æ“ä½œæ‰€æœ‰èŠ‚ç‚¹ï¼Œå…¶ä»–çš„åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼"><a href="#ç¬¬ä¸€æ­¥æ“ä½œæ‰€æœ‰èŠ‚ç‚¹ï¼Œå…¶ä»–çš„åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼" class="headerlink" title="ç¬¬ä¸€æ­¥æ“ä½œæ‰€æœ‰èŠ‚ç‚¹ï¼Œå…¶ä»–çš„åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼"></a><strong>ç¬¬ä¸€æ­¥æ“ä½œæ‰€æœ‰èŠ‚ç‚¹ï¼Œå…¶ä»–çš„åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼</strong></h3><p>è¿™é‡Œçš„kube-proxyç»„ä»¶é»˜è®¤æ˜¯ä½¿ç”¨iptablesæ–¹æ¡ˆè¿›è¡Œå¯åŠ¨çš„ï¼Œæˆ‘ä»¬æ¥å°†å®ƒæ”¹æˆç”±ipvsæ–¹å¼å¯åŠ¨</p><h3 id="1-åŠ è½½å†…æ ¸æ¨¡å¿«"><a href="#1-åŠ è½½å†…æ ¸æ¨¡å¿«" class="headerlink" title="1.åŠ è½½å†…æ ¸æ¨¡å¿«"></a>1.åŠ è½½å†…æ ¸æ¨¡å¿«</h3><h4 id="ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><pre><code>cat &gt;&gt; /etc/sysctl.conf &lt;&lt; EOFnet.ipv4.ip_forward = 1net.bridge.bridge-nf-call-iptables = 1net.bridge.bridge-nf-call-ip6tables = 1EOF</code></pre><h4 id="åŠ è½½ç³»ç»Ÿå‚æ•°"><a href="#åŠ è½½ç³»ç»Ÿå‚æ•°" class="headerlink" title="åŠ è½½ç³»ç»Ÿå‚æ•°"></a>åŠ è½½ç³»ç»Ÿå‚æ•°</h4><p>-pï¼šä»æŒ‡å®šçš„æ–‡ä»¶åŠ è½½ç³»ç»Ÿå‚æ•°ï¼Œå¦‚ä¸æŒ‡å®šå³ä»&#x2F;etc&#x2F;sysctl.confä¸­åŠ è½½</p><pre><code>sysctl -p</code></pre><h4 id="æ˜¾ç¤ºå·²è½½å…¥ç³»ç»Ÿçš„æ¨¡å—"><a href="#æ˜¾ç¤ºå·²è½½å…¥ç³»ç»Ÿçš„æ¨¡å—" class="headerlink" title="æ˜¾ç¤ºå·²è½½å…¥ç³»ç»Ÿçš„æ¨¡å—"></a>æ˜¾ç¤ºå·²è½½å…¥ç³»ç»Ÿçš„æ¨¡å—</h4><pre><code>lsmod|grep ip_vs</code></pre><h4 id="è½½å…¥æŒ‡å®šçš„æ¨¡å—"><a href="#è½½å…¥æŒ‡å®šçš„æ¨¡å—" class="headerlink" title="è½½å…¥æŒ‡å®šçš„æ¨¡å—"></a>è½½å…¥æŒ‡å®šçš„æ¨¡å—</h4><pre><code>modprobe -- ip_vsmodprobe -- ip_vs_rrmodprobe -- ip_vs_wrrmodprobe -- ip_vs_shmodprobe -- nf_conntrack</code></pre><h4 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h4><pre><code>yum install ipvsadm ipset -y</code></pre><h3 id="2-ä¿®æ”¹kube-proxyé…ç½®"><a href="#2-ä¿®æ”¹kube-proxyé…ç½®" class="headerlink" title="2.ä¿®æ”¹kube-proxyé…ç½®"></a>2.ä¿®æ”¹kube-proxyé…ç½®</h3><pre><code>kubectl edit configmap kube-proxy -n kube-system</code></pre><h4 id="ä¿®æ”¹å†…å®¹"><a href="#ä¿®æ”¹å†…å®¹" class="headerlink" title="ä¿®æ”¹å†…å®¹"></a>ä¿®æ”¹å†…å®¹</h4><pre><code>   minSyncPeriod: 0s      scheduler: &quot;&quot;      syncPeriod: 30s    kind: KubeProxyConfiguration    metricsBindAddress: 127.0.0.1:10249    mode: &quot;ipvs&quot;                          # ä¿®æ”¹æ­¤å¤„    nodePortAddresses: null</code></pre><h3 id="3-æŸ¥çœ‹æ‰€æœ‰kube-proxyçš„pod"><a href="#3-æŸ¥çœ‹æ‰€æœ‰kube-proxyçš„pod" class="headerlink" title="3. æŸ¥çœ‹æ‰€æœ‰kube-proxyçš„pod"></a>3. æŸ¥çœ‹æ‰€æœ‰kube-proxyçš„pod</h3><pre><code>kubectl get pod -n kube-system</code></pre><h3 id="4-åˆ é™¤æ‰€æœ‰kube-proxyçš„pod"><a href="#4-åˆ é™¤æ‰€æœ‰kube-proxyçš„pod" class="headerlink" title="4.åˆ é™¤æ‰€æœ‰kube-proxyçš„pod"></a>4.åˆ é™¤æ‰€æœ‰kube-proxyçš„pod</h3><pre><code>kubectl delete pod xxx -n kube-system</code></pre><h3 id="5-æ ¡éªŒ"><a href="#5-æ ¡éªŒ" class="headerlink" title="5.æ ¡éªŒ"></a>5.æ ¡éªŒ</h3><p>æ—¥å¿—å‡ºç°Using ipvs Proxierå³å¯</p><pre><code>kubectl logs kube-proxy-xxx -n kube-system </code></pre><h1 id="ç»™é›†ç¾¤éƒ¨ç½²flannel-ç½‘ç»œç»„ä»¶"><a href="#ç»™é›†ç¾¤éƒ¨ç½²flannel-ç½‘ç»œç»„ä»¶" class="headerlink" title="ç»™é›†ç¾¤éƒ¨ç½²flannel ç½‘ç»œç»„ä»¶"></a>ç»™é›†ç¾¤éƒ¨ç½²flannel ç½‘ç»œç»„ä»¶</h1><blockquote><p>éƒ¨ç½²node1ã€node2èŠ‚ç‚¹å‰çš„å‡†å¤‡å·¥ä½œ</p></blockquote><h3 id="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-6"><a href="#æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼-6" class="headerlink" title="æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼"></a><strong>æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦ï¼ï¼ï¼</strong></h3><h3 id="1-ä¸‹è½½flannelæ–‡ä»¶"><a href="#1-ä¸‹è½½flannelæ–‡ä»¶" class="headerlink" title="1. ä¸‹è½½flannelæ–‡ä»¶"></a>1. ä¸‹è½½flannelæ–‡ä»¶</h3><p>æ–‡ä»¶åœ°å€ï¼š<a href="https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml">https://github.com/coreos/flannel/blob/master/Documentation/kube-flannel.yml</a><br>copyä¸‹æ¥ï¼Œæ”¾æ–‡ä»¶é‡Œ</p><h3 id="2-ä¿®æ”¹flannelæ–‡ä»¶"><a href="#2-ä¿®æ”¹flannelæ–‡ä»¶" class="headerlink" title="2. ä¿®æ”¹flannelæ–‡ä»¶"></a>2. ä¿®æ”¹flannelæ–‡ä»¶</h3><h4 id="å…±ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯argsä¸‹ï¼Œæ·»åŠ "><a href="#å…±ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯argsä¸‹ï¼Œæ·»åŠ " class="headerlink" title="å…±ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯argsä¸‹ï¼Œæ·»åŠ "></a>å…±ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯argsä¸‹ï¼Œæ·»åŠ </h4><pre><code>args:- --public-ip=$(PUBLIC_IP) # æ·»åŠ æ­¤å‚æ•°ï¼Œç”³æ˜å…¬ç½‘IP- --iface=eth0 # æ·»åŠ æ­¤å‚æ•°ï¼Œç»‘å®šç½‘å¡</code></pre><h4 id="ç„¶åæ˜¯envä¸‹"><a href="#ç„¶åæ˜¯envä¸‹" class="headerlink" title="ç„¶åæ˜¯envä¸‹"></a>ç„¶åæ˜¯envä¸‹</h4><pre><code>env:- name: PUBLIC_IP #æ·»åŠ ç¯å¢ƒå˜é‡valueFrom:fieldRef:fieldPath: status.podIP</code></pre><h4 id="å®Œæ•´æ–‡ä»¶å†…å®¹"><a href="#å®Œæ•´æ–‡ä»¶å†…å®¹" class="headerlink" title="å®Œæ•´æ–‡ä»¶å†…å®¹"></a>å®Œæ•´æ–‡ä»¶å†…å®¹</h4><pre><code>---kind: NamespaceapiVersion: v1metadata:  name: kube-flannel  labels:    pod-security.kubernetes.io/enforce: privileged---kind: ClusterRoleapiVersion: rbac.authorization.k8s.io/v1metadata:  name: flannelrules:- apiGroups:  - &quot;&quot;  resources:  - pods  verbs:  - get- apiGroups:  - &quot;&quot;  resources:  - nodes  verbs:  - list  - watch- apiGroups:  - &quot;&quot;  resources:  - nodes/status  verbs:  - patch---kind: ClusterRoleBindingapiVersion: rbac.authorization.k8s.io/v1metadata:  name: flannelroleRef:  apiGroup: rbac.authorization.k8s.io  kind: ClusterRole  name: flannelsubjects:- kind: ServiceAccount  name: flannel  namespace: kube-flannel---apiVersion: v1kind: ServiceAccountmetadata:  name: flannel  namespace: kube-flannel---kind: ConfigMapapiVersion: v1metadata:  name: kube-flannel-cfg  namespace: kube-flannel  labels:    tier: node    app: flanneldata:  cni-conf.json: |    &#123;      &quot;name&quot;: &quot;cbr0&quot;,      &quot;cniVersion&quot;: &quot;0.3.1&quot;,      &quot;plugins&quot;: [        &#123;          &quot;type&quot;: &quot;flannel&quot;,          &quot;delegate&quot;: &#123;            &quot;hairpinMode&quot;: true,            &quot;isDefaultGateway&quot;: true          &#125;        &#125;,        &#123;          &quot;type&quot;: &quot;portmap&quot;,          &quot;capabilities&quot;: &#123;            &quot;portMappings&quot;: true          &#125;        &#125;      ]    &#125;  net-conf.json: |    &#123;      &quot;Network&quot;: &quot;10.244.0.0/16&quot;,      &quot;Backend&quot;: &#123;        &quot;Type&quot;: &quot;vxlan&quot;      &#125;    &#125;---apiVersion: apps/v1kind: DaemonSetmetadata:  name: kube-flannel-ds  namespace: kube-flannel  labels:    tier: node    app: flannelspec:  selector:    matchLabels:      app: flannel  template:    metadata:      labels:        tier: node        app: flannel    spec:      affinity:        nodeAffinity:          requiredDuringSchedulingIgnoredDuringExecution:            nodeSelectorTerms:            - matchExpressions:              - key: kubernetes.io/os                operator: In                values:                - linux      hostNetwork: true      priorityClassName: system-node-critical      tolerations:      - operator: Exists        effect: NoSchedule      serviceAccountName: flannel      initContainers:      - name: install-cni-plugin       #image: flannelcni/flannel-cni-plugin:v1.1.0 for ppc64le and mips64le (dockerhub limitations may apply)        image: rancher/mirrored-flannelcni-flannel-cni-plugin:v1.1.0        command:        - cp        args:        - -f        - /flannel        - /opt/cni/bin/flannel        volumeMounts:        - name: cni-plugin          mountPath: /opt/cni/bin      - name: install-cni       #image: flannelcni/flannel:v0.18.1 for ppc64le and mips64le (dockerhub limitations may apply)        image: rancher/mirrored-flannelcni-flannel:v0.18.1        command:        - cp        args:        - -f        - /etc/kube-flannel/cni-conf.json        - /etc/cni/net.d/10-flannel.conflist        volumeMounts:        - name: cni          mountPath: /etc/cni/net.d        - name: flannel-cfg          mountPath: /etc/kube-flannel/      containers:      - name: kube-flannel       #image: flannelcni/flannel:v0.18.1 for ppc64le and mips64le (dockerhub limitations may apply)        image: rancher/mirrored-flannelcni-flannel:v0.18.1        command:        - /opt/bin/flanneld        args:        - --ip-masq        - --kube-subnet-mgr        - --public-ip=$(PUBLIC_IP) # æ·»åŠ æ­¤å‚æ•°ï¼Œç”³æ˜å…¬ç½‘IP        - --iface=eth0 # æ·»åŠ æ­¤å‚æ•°ï¼Œç»‘å®šç½‘å¡        resources:          requests:            cpu: &quot;100m&quot;            memory: &quot;50Mi&quot;          limits:            cpu: &quot;100m&quot;            memory: &quot;50Mi&quot;        securityContext:          privileged: false          capabilities:            add: [&quot;NET_ADMIN&quot;, &quot;NET_RAW&quot;]        env:        - name: POD_NAME          valueFrom:            fieldRef:              fieldPath: metadata.name        - name: POD_NAMESPACE          valueFrom:            fieldRef:              fieldPath: metadata.namespace        - name: EVENT_QUEUE_DEPTH          value: &quot;5000&quot;        - name: PUBLIC_IP #æ·»åŠ ç¯å¢ƒå˜é‡          valueFrom:            fieldRef:              fieldPath: status.podIP        volumeMounts:        - name: run          mountPath: /run/flannel        - name: flannel-cfg          mountPath: /etc/kube-flannel/        - name: xtables-lock          mountPath: /run/xtables.lock      volumes:      - name: run        hostPath:          path: /run/flannel      - name: cni-plugin        hostPath:          path: /opt/cni/bin      - name: cni        hostPath:          path: /etc/cni/net.d      - name: flannel-cfg        configMap:          name: kube-flannel-cfg      - name: xtables-lock        hostPath:          path: /run/xtables.lock          type: FileOrCreate</code></pre><h3 id="3-æ‰§è¡Œflannelæ–‡ä»¶ï¼š"><a href="#3-æ‰§è¡Œflannelæ–‡ä»¶ï¼š" class="headerlink" title="3. æ‰§è¡Œflannelæ–‡ä»¶ï¼š"></a>3. æ‰§è¡Œflannelæ–‡ä»¶ï¼š</h3><pre><code>  kubectl apply -f kube-flannel.yml</code></pre><h3 id="4-æ‰§è¡Œå®Œåå¯ä»¥åœ¨æŸ¥çœ‹k8sé›†ç¾¤çš„podèŠ‚ç‚¹ï¼š"><a href="#4-æ‰§è¡Œå®Œåå¯ä»¥åœ¨æŸ¥çœ‹k8sé›†ç¾¤çš„podèŠ‚ç‚¹ï¼š" class="headerlink" title="4. æ‰§è¡Œå®Œåå¯ä»¥åœ¨æŸ¥çœ‹k8sé›†ç¾¤çš„podèŠ‚ç‚¹ï¼š"></a>4. æ‰§è¡Œå®Œåå¯ä»¥åœ¨æŸ¥çœ‹k8sé›†ç¾¤çš„podèŠ‚ç‚¹ï¼š</h3><pre><code>  kubectl get pod -n kube-system -o wide</code></pre><p>å¯ä»¥å‘ç°æ­¤æ—¶corednséƒ½å¯åŠ¨æˆåŠŸã€‚</p><pre><code>kubectl get pod -n kube-flannel -o wide</code></pre><p>å¯ä»¥å‘ç°æ­¤æ—¶flannelä¹Ÿå¯åŠ¨æˆåŠŸã€‚</p><h1 id="æ£€æŸ¥é›†ç¾¤çŠ¶æ€"><a href="#æ£€æŸ¥é›†ç¾¤çŠ¶æ€" class="headerlink" title="æ£€æŸ¥é›†ç¾¤çŠ¶æ€"></a>æ£€æŸ¥é›†ç¾¤çŠ¶æ€</h1><pre><code>  kubectl get cs</code></pre><p>ä¼šå‘ç°æ­¤æ—¶å…¶å® scheduler å’Œcontroller manager å¥åº·æ£€æŸ¥æ˜¯å¤±è´¥çš„ï¼ŒçŠ¶æ€éƒ½æ˜¯ï¼š<font color="red">Unhealthy</font></p><h3 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h3><h4 id="1-å»æ‰é…ç½®æ–‡ä»¶é‡Œâ€œ-â€“port-x3D-0-â€è¿™ä¸ªè®¾ç½®"><a href="#1-å»æ‰é…ç½®æ–‡ä»¶é‡Œâ€œ-â€“port-x3D-0-â€è¿™ä¸ªè®¾ç½®" class="headerlink" title="1. å»æ‰é…ç½®æ–‡ä»¶é‡Œâ€œ â€“port&#x3D;0 â€è¿™ä¸ªè®¾ç½®"></a>1. å»æ‰é…ç½®æ–‡ä»¶é‡Œâ€œ â€“port&#x3D;0 â€è¿™ä¸ªè®¾ç½®</h4><p><strong>é…ç½®æ–‡ä»¶è·¯å¾„ï¼š</strong></p><pre><code>/etc/kubernetes/manifests/kube-scheduler.yaml/etc/kubernetes/manifests/kube-controller-manager.yaml</code></pre><h4 id="2-é‡å¯-sudo-systemctl-restart-kubelet"><a href="#2-é‡å¯-sudo-systemctl-restart-kubelet" class="headerlink" title="2. é‡å¯ sudo systemctl restart kubelet"></a>2. é‡å¯ sudo systemctl restart kubelet</h4><h4 id="3-é‡æ–°æŸ¥çœ‹-kubectl-get-cs-åº”è¯¥å°±è§£å†³é—®é¢˜äº†ã€‚"><a href="#3-é‡æ–°æŸ¥çœ‹-kubectl-get-cs-åº”è¯¥å°±è§£å†³é—®é¢˜äº†ã€‚" class="headerlink" title="3. é‡æ–°æŸ¥çœ‹ kubectl get cs åº”è¯¥å°±è§£å†³é—®é¢˜äº†ã€‚"></a>3. é‡æ–°æŸ¥çœ‹ kubectl get cs åº”è¯¥å°±è§£å†³é—®é¢˜äº†ã€‚</h4><h1 id="é…ç½®k8sé›†ç¾¤-å‘½ä»¤è¡¥å…¨"><a href="#é…ç½®k8sé›†ç¾¤-å‘½ä»¤è¡¥å…¨" class="headerlink" title="é…ç½®k8sé›†ç¾¤ å‘½ä»¤è¡¥å…¨"></a>é…ç½®k8sé›†ç¾¤ å‘½ä»¤è¡¥å…¨</h1><h3 id="åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼-1"><a href="#åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼-1" class="headerlink" title="åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼"></a><strong>åªæ“ä½œmasterèŠ‚ç‚¹ï¼ï¼ï¼</strong></h3><pre><code>yum install -y bash-completionsource &lt;(kubectl completion bash)echo &quot;source &lt;(kubectl completion bash)&quot; &gt;&gt; ~/.bashrcsource ~/.bashrc</code></pre><h1 id="éƒ¨ç½²nodeèŠ‚ç‚¹"><a href="#éƒ¨ç½²nodeèŠ‚ç‚¹" class="headerlink" title="éƒ¨ç½²nodeèŠ‚ç‚¹"></a>éƒ¨ç½²nodeèŠ‚ç‚¹</h1><p>æ‰§è¡Œjoinå‘½ä»¤å‰éœ€è¦åšè°ƒæ•´ã€‚</p><h3 id="1-ä¿®æ”¹kubeletå¯åŠ¨å‚æ•°ï¼ˆé‡ç‚¹ï¼Œæ‰€æœ‰nodeèŠ‚ç‚¹éƒ½è¦æ“ä½œï¼‰"><a href="#1-ä¿®æ”¹kubeletå¯åŠ¨å‚æ•°ï¼ˆé‡ç‚¹ï¼Œæ‰€æœ‰nodeèŠ‚ç‚¹éƒ½è¦æ“ä½œï¼‰" class="headerlink" title="1. ä¿®æ”¹kubeletå¯åŠ¨å‚æ•°ï¼ˆé‡ç‚¹ï¼Œæ‰€æœ‰nodeèŠ‚ç‚¹éƒ½è¦æ“ä½œï¼‰"></a>1. ä¿®æ”¹kubeletå¯åŠ¨å‚æ•°ï¼ˆé‡ç‚¹ï¼Œæ‰€æœ‰nodeèŠ‚ç‚¹éƒ½è¦æ“ä½œï¼‰</h3><h4 id="åœ¨æœ«å°¾æ·»åŠ å‚æ•°-â€“node-ip-x3D-nodeèŠ‚ç‚¹çš„å…¬ç½‘IP"><a href="#åœ¨æœ«å°¾æ·»åŠ å‚æ•°-â€“node-ip-x3D-nodeèŠ‚ç‚¹çš„å…¬ç½‘IP" class="headerlink" title="åœ¨æœ«å°¾æ·»åŠ å‚æ•° â€“node-ip&#x3D;nodeèŠ‚ç‚¹çš„å…¬ç½‘IP"></a>åœ¨æœ«å°¾æ·»åŠ å‚æ•° â€“node-ip&#x3D;nodeèŠ‚ç‚¹çš„å…¬ç½‘IP</h4><pre><code>vim /usr/lib/systemd/system/kubelet.service.d/10-kubeadm.conf</code></pre><p><font color="red">æ³¨æ„ï¼Œè¿™æ­¥å¾ˆé‡è¦ï¼Œå¦‚æœä¸åšï¼ŒèŠ‚ç‚¹ä»ç„¶ä¼šä½¿ç”¨å†…ç½‘IPæ³¨å†Œè¿›é›†ç¾¤</font></p><h4 id="æ–‡ä»¶å†…å®¹ï¼š"><a href="#æ–‡ä»¶å†…å®¹ï¼š" class="headerlink" title="æ–‡ä»¶å†…å®¹ï¼š"></a>æ–‡ä»¶å†…å®¹ï¼š</h4><pre><code># Note: This dropin only works with kubeadm and kubelet v1.11+[Service]Environment=&quot;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf&quot;Environment=&quot;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml&quot;# This is a file that &quot;kubeadm init&quot; and &quot;kubeadm join&quot; generates at runtime, populating the KUBELET_KUBEADM_ARGS variable dynamicallyEnvironmentFile=-/var/lib/kubelet/kubeadm-flags.env# This is a file that the user can use for overrides of the kubelet args as a last resort. Preferably, the user should use# the .NodeRegistration.KubeletExtraArgs object in the configuration files instead. KUBELET_EXTRA_ARGS should be sourced from this file.EnvironmentFile=-/etc/sysconfig/kubeletExecStart=ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS --node-ip=1.117.142.4</code></pre><h3 id="2-å°†node1ã€node2åŠ å…¥é›†ç¾¤"><a href="#2-å°†node1ã€node2åŠ å…¥é›†ç¾¤" class="headerlink" title="2. å°†node1ã€node2åŠ å…¥é›†ç¾¤"></a>2. å°†node1ã€node2åŠ å…¥é›†ç¾¤</h3><p>node1ã€node2å„æ‰§è¡Œä¸€æ¬¡åˆšæ‰masteræç¤ºçš„joinå‘½ä»¤</p><pre><code>kubeadm join 47.100.238.0:6443 --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:a255ee4b0eefa44a6b23580bbbfbcd7234903d6d33c4efb5d85d7c8f57311f18</code></pre><h3 id="3-æŸ¥çœ‹æ˜¯å¦æ·»åŠ è¿›é›†ç¾¤"><a href="#3-æŸ¥çœ‹æ˜¯å¦æ·»åŠ è¿›é›†ç¾¤" class="headerlink" title="3. æŸ¥çœ‹æ˜¯å¦æ·»åŠ è¿›é›†ç¾¤"></a>3. æŸ¥çœ‹æ˜¯å¦æ·»åŠ è¿›é›†ç¾¤</h3><pre><code>kubectl get pod -n kube-system -o wide</code></pre><h1 id="é‡ç½®é›†ç¾¤"><a href="#é‡ç½®é›†ç¾¤" class="headerlink" title="é‡ç½®é›†ç¾¤"></a>é‡ç½®é›†ç¾¤</h1><p>åœ¨æ­å»ºé›†ç¾¤æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°èŠ‚ç‚¹é…ç½®å¤±è´¥çš„æƒ…å†µï¼Œæ­¤æ—¶å¯ä»¥å°†è¯¥èŠ‚ç‚¹ç§»å‡ºé›†ç¾¤ï¼Œåœ¨å°†èŠ‚ç‚¹ç§»å‡ºé›†ç¾¤æ—¶ï¼Œåº”è¯¥å°†è¯¥èŠ‚ç‚¹ä¸Šæ­£åœ¨è¿è¡Œçš„Podè¿›è¡Œé©±ç¦»ã€‚</p><pre><code>ä¾‹å¦‚ï¼šé©±ç¦»åä¸º&quot;k8s-node-1&quot;çš„èŠ‚ç‚¹ä¸Šçš„podï¼ˆmasterä¸Šæ“ä½œï¼‰[root@master ~]# kubectl drain k8s-node-1 --delete-local-data --force --ignore-daemonsetsåˆ é™¤èŠ‚ç‚¹ï¼ˆmasterä¸Šï¼‰[root@master ~]# kubectl delete node k8s-node-1é‡ç½®èŠ‚ç‚¹(nodeä¸Š-ä¹Ÿå°±æ˜¯åœ¨è¢«åˆ é™¤çš„èŠ‚ç‚¹ä¸Š)[root@node1 ~]# kubeadm resetéœ€è¦æ³¨æ„ï¼šæ³¨1ï¼šéœ€è¦æŠŠmasterä¹Ÿé©±ç¦»ã€åˆ é™¤ã€é‡ç½®ï¼Œè¿™é‡Œç»™æˆ‘å‘æ­»äº†ï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰é©±ç¦»å’Œåˆ é™¤masterï¼Œæœ€åçš„ç»“æœæ˜¯æŸ¥çœ‹ç»“æœä¸€åˆ‡æ­£å¸¸ï¼Œä½†corednsæ­»æ´»ä¸èƒ½ç”¨ï¼Œåˆ‡å‹¿å°è¯•</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker-kubernetesæ­å»º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSHè¿æ¥</title>
      <link href="/2022/07/14/Linux/SSH%E8%BF%9E%E6%8E%A5/"/>
      <url>/2022/07/14/Linux/SSH%E8%BF%9E%E6%8E%A5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä½¿ç”¨å¯†ç è¿æ¥ssh"><a href="#ä½¿ç”¨å¯†ç è¿æ¥ssh" class="headerlink" title="ä½¿ç”¨å¯†ç è¿æ¥ssh"></a>ä½¿ç”¨å¯†ç è¿æ¥ssh</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># è¿æ¥sshé»˜è®¤22ç«¯å£</span><br><span class="line">ssh root@ipåœ°å€</span><br><span class="line"></span><br><span class="line"># å¦‚æœsshä¸æ˜¯é»˜è®¤çš„22ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨ -p æŒ‡å®šç«¯å£ ä¾‹å¦‚ä¸‹é¢sshè¿æ¥2222ç«¯å£</span><br><span class="line">ssh root@ipåœ°å€ -p 2222</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨å¯†é’¥è¿æ¥SSH"><a href="#ä½¿ç”¨å¯†é’¥è¿æ¥SSH" class="headerlink" title="ä½¿ç”¨å¯†é’¥è¿æ¥SSH"></a>ä½¿ç”¨å¯†é’¥è¿æ¥SSH</h2><p>å½“ç»å¸¸éœ€è¦è¿æ¥ä¸€ä¸ªæœåŠ¡å™¨çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ¯æ¬¡è¿æ¥éƒ½è¦è¾“å…¥å¯†ç ï¼Œæ˜¯å¦å°±è§‰å¾—å¤ªè¿‡äºç¹çäº†ï¼Œè¿™é‡Œå½“ç„¶å°±å¯ä»¥ä½¿ç”¨å¯†é’¥è¿›è¡Œç™»é™†</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># æ‰“å¼€macç»ˆç«¯</span><br><span class="line"># è¿›å…¥sshç›®å½•</span><br><span class="line">cd ~/.ssh/</span><br><span class="line"></span><br><span class="line"># ç”Ÿæˆå±äºè‡ªå·±çš„å¯†é’¥(è¿ç»­å›è½¦å°±å¯ä»¥äº†ï¼Œå¦‚æœä¸æƒ³è¿ç»­å›è½¦ï¼Œç¬¬ä¸€æ¬¡è¾“å…¥çš„æ˜¯æ–‡ä»¶åï¼Œç¬¬äºŒæ¬¡ç¬¬ä¸‰æ¬¡è¾“å…¥çš„æ˜¯å¯†ç ã€‚)</span><br><span class="line"># å…¶ä¸­å¯ä»¥ä½¿ç”¨å¸¸ç”¨å‚æ•°ï¼š-t æŒ‡å®šåŠ å¯†ç®—æ³•ï¼Œ-C æŒ‡å®šé‚®ç®±</span><br><span class="line">ssh-keygen</span><br><span class="line"></span><br><span class="line"># ç„¶åå°†è‡ªå·±çš„å¯†é’¥ï¼Œæ¨é€åˆ°æŒ‡å®šæœåŠ¡å™¨,ä¸‹é¢æ˜¯æ¨é€æŒ‡ä»¤ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨æ¨é€åˆ°æœåŠ¡å™¨å¯¹åº”ç›®å½•</span><br><span class="line">ssh-copy-id root@ipåœ°å€</span><br><span class="line"></span><br><span class="line"># æ¨é€æˆåŠŸä¹‹åï¼Œå°±å¯ä»¥é€šè¿‡sshç›´æ¥è¿æ¥äº†,å°±ä¸ä¼šå†æç¤ºä½ è¾“å…¥å¯†ç äº†</span><br><span class="line">ssh root@ipåœ°å€</span><br></pre></td></tr></table></figure><h2 id="ç®€åŒ–å¯†é’¥è¿æ¥SSH"><a href="#ç®€åŒ–å¯†é’¥è¿æ¥SSH" class="headerlink" title="ç®€åŒ–å¯†é’¥è¿æ¥SSH"></a>ç®€åŒ–å¯†é’¥è¿æ¥SSH</h2><p>ä¸Šè¿°çš„æ–¹æ³•ç›¸å¯¹è¾ƒæ–¹ä¾¿äº†ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½è¦è¾“å…¥ipåœ°å€ï¼Œè¿˜æ˜¯å¾ˆéº»çƒ¦ï¼Œè¿™ç§æ—¶å€™å°±å¯ä»¥ç»™ipé…ç½®ä¸€ä¸ªåˆ«å</p><p>åˆ›å»ºconfigæ–‡ä»¶ï¼Œç®€åŒ–è¿æ¥æ“ä½œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºconfigæ–‡ä»¶</span><br><span class="line">vim config</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå¥½äº†æ–‡ä»¶ä¹‹åï¼Œè¿›è¡Œç›¸å…³çš„é…ç½®ï¼Œæ¯”å¦‚æˆ‘ä»¬åˆšæ‰å°†æˆ‘ä»¬æœ¬åœ°çš„å¯†é’¥ï¼Œæ¨é€åˆ°äº†ipåœ°å€ï¼Œè¿™ä¸ªipåœ°å€ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è¿›è¡Œå¦‚ä¸‹çš„é…ç½®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Host master</span><br><span class="line">Hostname 47.100.238.0</span><br><span class="line">Port 22</span><br><span class="line">User root</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><p>è¿›è¡Œäº†ä¸Šè¿°é…ç½®ä¹‹åï¼Œå°±å¯ä»¥ä½¿ç”¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># åªéœ€è¦ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å°±å¯ä»¥è¿æ¥åˆ°æŒ‡å®šæœåŠ¡å™¨</span><br><span class="line">ssh master</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--inner joinã€left joinã€right join</title>
      <link href="/2022/07/13/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--inner%20join%E3%80%81left%20join%E3%80%81right%20join/"/>
      <url>/2022/07/13/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--inner%20join%E3%80%81left%20join%E3%80%81right%20join/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><blockquote><p>å–ä¸¤ä¸ªè¡¨çš„äº¤é›†</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå <span class="keyword">FROM</span> table_name1 <span class="keyword">inner</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.å­—æ®µå<span class="operator">=</span>table_name2.å­—æ®µå;</span><br></pre></td></tr></table></figure><blockquote><p>å–å‡ºå·¦è¡¨ï¼ˆtable1ï¼‰æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿å³è¡¨ï¼ˆtable2ï¼‰ä¸­æ²¡æœ‰åŒ¹é…ã€‚å¦‚æœå³è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œåˆ™å–å‡ºç»“æœé›†ä¸­æ¶‰åŠåˆ°å³è¡¨çš„å­—æ®µä¼šç”¨ Noneå¡«å……ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå <span class="keyword">FROM</span> table_name1 <span class="keyword">left</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.å­—æ®µå<span class="operator">=</span>table_name2.å­—æ®µå;</span><br></pre></td></tr></table></figure><blockquote><p>å–å‡ºå³è¡¨ï¼ˆtable2ï¼‰è¿”å›æ‰€æœ‰çš„è¡Œï¼Œå³ä½¿å·¦è¡¨ï¼ˆtable1ï¼‰ä¸­æ²¡æœ‰åŒ¹é…ã€‚å¦‚æœå·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…ï¼Œåˆ™å–å‡ºç»“æœé›†ä¸­æ¶‰åŠåˆ°å·¦è¡¨çš„å­—æ®µä¼šç”¨ Noneå¡«å……ã€‚</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå <span class="keyword">FROM</span> table_name1 <span class="keyword">right</span> <span class="keyword">join</span> table_name2 <span class="keyword">on</span> table_name1.å­—æ®µå<span class="operator">=</span>table_name2.å­—æ®µå;</span><br></pre></td></tr></table></figure><h1 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)()</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®åº“ä¿¡æ¯"><a href="#æ•°æ®åº“ä¿¡æ¯" class="headerlink" title="æ•°æ®åº“ä¿¡æ¯"></a>æ•°æ®åº“ä¿¡æ¯</h4><p><img src="https://s1.ax1x.com/2022/07/13/jRYYi8.png" alt="jRYYi8.png"><br><img src="https://s1.ax1x.com/2022/07/13/jRtlpF.png" alt="jRtlpF.png"></p><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h3 id="inner-join"><a href="#inner-join" class="headerlink" title="inner join"></a>inner join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># <span class="keyword">inner</span> <span class="keyword">join</span></span><br><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;select User.name,ach.chinese,ach.mathematics,ach.english from Achievement as ach inner join User on ach.user_id = User.id&#x27;</span></span><br><span class="line">data <span class="operator">=</span> session.execute(<span class="keyword">sql</span>)</span><br><span class="line">print(data.fetchall())</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(&#x27;hwang&#x27;, 99, 99, 99)]</span><br></pre></td></tr></table></figure><hr><h3 id="left-join"><a href="#left-join" class="headerlink" title="left join"></a>left join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># <span class="keyword">left</span> <span class="keyword">join</span></span><br><span class="line">sql2 <span class="operator">=</span> <span class="string">&#x27;select User.name,ach.chinese,ach.mathematics,ach.english from Achievement as ach left join User on ach.user_id = User.id&#x27;</span></span><br><span class="line">data <span class="operator">=</span> session.execute(sql2)</span><br><span class="line">print(data.fetchall())</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(&#x27;hwang&#x27;, 99, 99, 99), (None, 100, 100, 100)]</span><br></pre></td></tr></table></figure><hr><h3 id="right-join"><a href="#right-join" class="headerlink" title="right join"></a>right join</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># <span class="keyword">right</span> <span class="keyword">join</span></span><br><span class="line">sql3 <span class="operator">=</span> <span class="string">&#x27;select User.name,ach.chinese,ach.mathematics,ach.english from Achievement as ach right join User on ach.user_id = User.id&#x27;</span></span><br><span class="line">data <span class="operator">=</span> session.execute(sql3)</span><br><span class="line">print(data.fetchall())</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(&#x27;hwang&#x27;, 99, 99, 99), (&#x27;å°ç‹&#x27;, None, None, None), (&#x27;å°ç±³&#x27;, None, None, None)]</span><br></pre></td></tr></table></figure><hr><h1 id="å…³é—­æ•°æ®åº“é“¾æ¥"><a href="#å…³é—­æ•°æ®åº“é“¾æ¥" class="headerlink" title="å…³é—­æ•°æ®åº“é“¾æ¥"></a>å…³é—­æ•°æ®åº“é“¾æ¥</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--ä¿®æ”¹</title>
      <link href="/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E4%BF%AE%E6%94%B9/"/>
      <url>/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> table_name <span class="keyword">set</span> å­—æ®µå<span class="number">1</span><span class="operator">=</span>æ–°å€¼<span class="number">1</span>,å­—æ®µå<span class="number">2</span><span class="operator">=</span>æ–°å€¼<span class="number">2</span> <span class="keyword">WHERE</span> æ¡ä»¶_å­—æ®µå<span class="operator">=</span>æ¡ä»¶_å­—æ®µå€¼;</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)()</span><br></pre></td></tr></table></figure><h4 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;update User set age=21 where name=&quot;hwang&quot;&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="æäº¤å¹¶å…³é—­é“¾æ¥"><a href="#æäº¤å¹¶å…³é—­é“¾æ¥" class="headerlink" title="æäº¤å¹¶å…³é—­é“¾æ¥"></a>æäº¤å¹¶å…³é—­é“¾æ¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">session.execute(sql)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--åˆ é™¤</title>
      <link href="/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%88%A0%E9%99%A4/"/>
      <url>/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%88%A0%E9%99%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> table_name <span class="keyword">where</span> æ¡ä»¶_å­—æ®µå<span class="operator">=</span>æ¡ä»¶_å­—æ®µå€¼;</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)()</span><br></pre></td></tr></table></figure><h4 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;delete from User where name = &quot;hwang&quot;&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"><a href="#æäº¤å¹¶é“¾æ¥æ•°æ®åº“" class="headerlink" title="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"></a>æäº¤å¹¶é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">session.execute(sql)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--å¢åŠ </title>
      <link href="/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%A2%9E%E5%8A%A0/"/>
      <url>/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%A2%9E%E5%8A%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> table_name (å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>,å­—æ®µå<span class="number">3</span>) <span class="keyword">values</span> (value1,value2,value3);</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)()</span><br></pre></td></tr></table></figure><h4 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;insert into User (name,age) values (&quot;hwang&quot;,999)&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"><a href="#æäº¤å¹¶é“¾æ¥æ•°æ®åº“" class="headerlink" title="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"></a>æäº¤å¹¶é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">session.execute(sql)</span><br><span class="line">session.commit()</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--æŸ¥æ‰¾</title>
      <link href="/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E6%9F%A5%E6%89%BE/"/>
      <url>/2022/07/12/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E6%9F%A5%E6%89%BE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span> <span class="keyword">from</span> table_name;</span><br></pre></td></tr></table></figure><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)()</span><br></pre></td></tr></table></figure><h4 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;select name,age from User&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"><a href="#æäº¤å¹¶é“¾æ¥æ•°æ®åº“" class="headerlink" title="æäº¤å¹¶é“¾æ¥æ•°æ®åº“"></a>æäº¤å¹¶é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = session.execute(sql)</span><br><span class="line"><span class="built_in">print</span>(data.fetchall())</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--read_sqlä¸read_sql_tableã€read_sql_query çš„åŒºåˆ«</title>
      <link href="/2022/07/12/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--read_sql%E4%B8%8Eread_sql_table%E3%80%81read_sql_query%20%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
      <url>/2022/07/12/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--read_sql%E4%B8%8Eread_sql_table%E3%80%81read_sql_query%20%E7%9A%84%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h1><ul><li>read_sql_query &amp;nbsp; &amp;nbsp; è¯»å–sqlï¼Œè¿”å›DataFrameæ ¼å¼</li><li>read_sql_table&amp;nbsp; &amp;nbsp; &amp;nbsp; è¯»å–è¡¨åï¼Œè¿”å›DataFrameæ ¼å¼</li><li>read_sql &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; è¯»å–sqlæˆ–è¡¨åï¼Œè¿”å›DataFrameæ ¼å¼<h1 id="read-sql-query"><a href="#read-sql-query" class="headerlink" title="read_sql_query"></a>read_sql_query</h1><h4 id="è¯­æ³•ï¼š"><a href="#è¯­æ³•ï¼š" class="headerlink" title="è¯­æ³•ï¼š"></a>è¯­æ³•ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.read_sql_query(sqlï¼Œconï¼Œindex_col = <span class="literal">None</span>ï¼Œcoerce_float = <span class="literal">True</span>ï¼Œparams = <span class="literal">None</span>ï¼Œparse_dates = <span class="literal">None</span>ï¼Œchunksize = <span class="literal">None</span>)</span><br></pre></td></tr></table></figure><h4 id="å‚æ•°ï¼š"><a href="#å‚æ•°ï¼š" class="headerlink" title="å‚æ•°ï¼š"></a>å‚æ•°ï¼š</h4>sqlï¼šæ‰§è¡Œçš„sqlè¯­å¥<br>conï¼šæ•°æ®åº“é“¾æ¥æ–¹å¼<br>index_colï¼šå°†è®¾ç½®å€¼ä½œä¸ºè¿”å›ç»“æœé›†ä¸­çš„ç´¢å¼•åˆ—ã€‚é€šå¸¸ä¸ºï¼šindex_col&#x3D;â€™idâ€™<br>paramsï¼šå‘sqlä¼ é€’çš„å‚æ•°ï¼Œçœ‹æºç å¯ä»¥è®¾ç½®ä¸ºå­—å…¸ã€å…ƒç»„æˆ–åˆ—è¡¨ã€‚é€šå¸¸ä¸ºï¼šparams&#x3D;{â€˜keyâ€™:â€™valueâ€™}</li></ul><h4 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"></span><br><span class="line">db_config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">db_url = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**db_config)</span><br><span class="line">engine = create_engine(db_url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾</span></span><br><span class="line">names=[<span class="string">&#x27;hwang&#x27;</span>,<span class="string">&#x27;hwang1&#x27;</span>]</span><br><span class="line">sql1= <span class="string">&#x27;&#x27;&#x27;select id,name from User where name in %(names)s&#x27;&#x27;&#x27;</span></span><br><span class="line">df1 = pd.read_sql_query(sql1,engine,index_col=<span class="string">&#x27;id&#x27;</span>,params=&#123;<span class="string">&#x27;names&#x27;</span>:names&#125;)</span><br><span class="line"><span class="built_in">print</span>(df1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># --------------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾</span></span><br><span class="line">sql2= <span class="string">&#x27;&#x27;&#x27;select id,name from User where name in %(names)s&#x27;&#x27;&#x27;</span></span><br><span class="line">df = pd.DataFrame([<span class="string">&quot;hwang&quot;</span>,<span class="string">&quot;hwang1&quot;</span>],columns=[<span class="string">&quot;name&quot;</span>])</span><br><span class="line">df = df.astype(<span class="built_in">str</span>).values.tolist()</span><br><span class="line">df2 = pd.read_sql_query(sql2,engine,index_col=<span class="string">&#x27;id&#x27;</span>,params=&#123;<span class="string">&#x27;names&#x27;</span>:df&#125;)</span><br><span class="line"><span class="built_in">print</span>(df2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢åŠ </span></span><br><span class="line">sql3 = <span class="string">&#x27;&#x27;&#x27;insert into User (name,age) values (%(names)s,%(ages)s)&#x27;&#x27;&#x27;</span></span><br><span class="line">df3 = pd.read_sql_query(sql3,engine,params=&#123;<span class="string">&#x27;names&#x27;</span>:<span class="string">&#x27;test111&#x27;</span>,<span class="string">&#x27;ages&#x27;</span>:<span class="number">12</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹</span></span><br><span class="line">sql4 = <span class="string">&#x27;&#x27;&#x27;update User set name = %(names)s where name = %(names_old)s&#x27;&#x27;&#x27;</span></span><br><span class="line">df4 = pd.read_sql_query(sql4,engine,params=&#123;<span class="string">&#x27;names&#x27;</span>:<span class="string">&#x27;test1111&#x27;</span>,<span class="string">&#x27;names_old&#x27;</span>:<span class="string">&#x27;test111&#x27;</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤</span></span><br><span class="line">sql5 = <span class="string">&#x27;&#x27;&#x27;delete from User where name = %(names)s&#x27;&#x27;&#x27;</span></span><br><span class="line">df5 = pd.read_sql_query(sql4,engine,params=&#123;<span class="string">&#x27;names&#x27;</span>:<span class="string">&#x27;test1111&#x27;</span>&#125;)</span><br></pre></td></tr></table></figure><h3 id="è¿”å›ç»“æœ"><a href="#è¿”å›ç»“æœ" class="headerlink" title="è¿”å›ç»“æœ"></a>è¿”å›ç»“æœ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># df1</span></span><br><span class="line">      name</span><br><span class="line"><span class="built_in">id</span>        </span><br><span class="line"><span class="number">4</span>    hwang</span><br><span class="line"><span class="number">1</span>   hwang1</span><br><span class="line"></span><br><span class="line"><span class="comment"># df2</span></span><br><span class="line">      name</span><br><span class="line"><span class="built_in">id</span>        </span><br><span class="line"><span class="number">4</span>    hwang</span><br><span class="line"><span class="number">1</span>   hwang1</span><br></pre></td></tr></table></figure><p>åé¢çš„å¢åŠ ã€åˆ é™¤å’Œä¿®æ”¹æ²¡æœ‰è¿”å›å€¼ï¼Œä½†ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ResourceClosedErrorå¹¶ç»“æŸç¨‹åºç»§ç»­è¿è¡Œã€‚å¦‚æœæƒ³æ‰§è¡Œå®Œç»§ç»­å¾€ä¸‹è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨tryè¿›è¡Œæ•è·ã€‚</p><h1 id="read-sql-table"><a href="#read-sql-table" class="headerlink" title="read_sql_table"></a>read_sql_table</h1><p>è¯­æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.read_sql_table(table_name, con, schema=<span class="literal">None</span>, index_col=<span class="literal">None</span>, coerce_float=<span class="literal">True</span>, parse_dates=<span class="literal">None</span>, columns=<span class="literal">None</span>, chunksize=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure><h1 id="read-sql"><a href="#read-sql" class="headerlink" title="read_sql"></a>read_sql</h1><p>è¯­æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">pd.read_sql(sql, con, index_col=<span class="literal">None</span>, coerce_float=<span class="literal">True</span>, params=<span class="literal">None</span>, parse_dates=<span class="literal">None</span>, columns=<span class="literal">None</span>, chunksize=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--uniqueå‡½æ•°</title>
      <link href="/2022/07/11/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--unique%E5%87%BD%E6%95%B0/"/>
      <url>/2022/07/11/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--unique%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><h4 id="ä½œç”¨ï¼šunique-å‡½æ•°ç”¨äºè·å–Serieså¯¹è±¡çš„å”¯ä¸€å€¼ã€‚"><a href="#ä½œç”¨ï¼šunique-å‡½æ•°ç”¨äºè·å–Serieså¯¹è±¡çš„å”¯ä¸€å€¼ã€‚" class="headerlink" title="ä½œç”¨ï¼šunique()å‡½æ•°ç”¨äºè·å–Serieså¯¹è±¡çš„å”¯ä¸€å€¼ã€‚"></a>ä½œç”¨ï¼šunique()å‡½æ•°ç”¨äºè·å–Serieså¯¹è±¡çš„å”¯ä¸€å€¼ã€‚</h4></blockquote><ul><li>å”¯ä¸€æ€§æŒ‰å‡ºç°é¡ºåºè¿”å›ã€‚åŸºäºå“ˆå¸Œè¡¨çš„å”¯ä¸€ï¼Œå› æ­¤ä¸æ’åº</li><li>è¿”å›ï¼šndarray æˆ– ExtensionArrayä½œä¸º NumPy æ•°ç»„è¿”å›çš„å”¯ä¸€å€¼ã€‚</li><li>è¯­æ³•ï¼šSeries.unique(self)</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;name&#x27;</span>:[<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Helen&quot;</span>, <span class="string">&quot;Jack&quot;</span>],<span class="string">&#x27;age&#x27;</span>: [<span class="number">28</span>, <span class="number">39</span>, <span class="number">34</span>, <span class="number">36</span>],<span class="string">&#x27;score&#x27;</span>:[<span class="number">98</span>,<span class="number">92</span>,<span class="number">91</span>,<span class="number">89</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&quot;name&quot;</span>].unique()) <span class="comment"># [&#x27;Jack&#x27; &#x27;Tom&#x27; &#x27;Helen&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(df[<span class="string">&quot;name&quot;</span>].nunique()) <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df1 = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"><span class="comment"># æ ¹æ®å…ƒç´ å‡ºç°çš„é¡ºåºè¿”å›ï¼Œæ‰€æœ‰å…ƒç´ çš„å”¯ä¸€å€¼ï¼ˆndarrayï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(df1.unique()) <span class="comment"># [1 2 3 4 5]</span></span><br><span class="line"><span class="comment"># è¿”å›å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°</span></span><br><span class="line"><span class="built_in">print</span>(df1.nunique()) <span class="comment"># 5</span></span><br></pre></td></tr></table></figure><p>æ‰©å±•ï¼š<br>    nuniqueï¼šè¿”å›æ•´ä¸ªæ•°ç»„ä¸­æ•°å€¼ä¸åŒçš„ä¸ªæ•°ï¼Œå¯ä»¥é€šè¿‡å‚æ•°dropnaæ¥è‡ªå®šä¹‰è®¾ç½®åœ¨ç»Ÿè®¡ä¸åŒå€¼è¿‡ç¨‹ä¸­æ˜¯å¦éœ€è¦åŒ…å«Noneå€¼ï¼Œè€Œunique()æ–¹æ³•ä¸­æ²¡æœ‰å¯è®¾ç½®çš„å‚æ•°ï¼Œè¯¥æ–¹æ³•åœ¨ç»Ÿè®¡æ—¶æ— æ³•æ’é™¤Noneå€¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--iteritemsã€iterrowsã€itertuples</title>
      <link href="/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--iteritems%E3%80%81iterrows%E3%80%81itertuples/"/>
      <url>/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--iteritems%E3%80%81iterrows%E3%80%81itertuples/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h1><ul><li><p>é€è¡Œæ£€ç´¢ï¼š</p><ul><li>DataFrame.iterrows()</li><li>DataFrame.itertuples()</li></ul></li><li><p>é€åˆ—æ£€ç´¢:</p><ul><li>DataFrame.iteritems()</li></ul></li></ul><h1 id="é€è¡Œæ£€ç´¢"><a href="#é€è¡Œæ£€ç´¢" class="headerlink" title="é€è¡Œæ£€ç´¢"></a>é€è¡Œæ£€ç´¢</h1><h2 id="iterrows"><a href="#iterrows" class="headerlink" title="iterrows"></a>iterrows</h2><p>è¾“å‡ºï¼šindexï¼Œrow ï¼ˆ ç´¢å¼•ï¼Œæ¯ä¸€è¡Œçš„æ•°æ®ï¼ˆåˆ—åï¼Œè¡Œåˆ—å€¼ï¼‰ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;age&quot;</span>:[<span class="number">24</span>,<span class="number">32</span>], <span class="string">&quot;state&quot;</span>:[<span class="string">&quot;NY&quot;</span>,<span class="string">&quot;CA&quot;</span>], <span class="string">&quot;point&quot;</span>:[<span class="number">64</span>,<span class="number">92</span>]&#125;, index=[<span class="string">&quot;Alice&quot;</span>,<span class="string">&quot;Bob&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€è¡Œæ£€ç´¢</span></span><br><span class="line"><span class="keyword">for</span> index,row <span class="keyword">in</span> df.iterrows():</span><br><span class="line">    <span class="comment"># æ¯ä¸€è¡Œçš„indexåç§°</span></span><br><span class="line">    <span class="built_in">print</span>(index)</span><br><span class="line">    <span class="comment"># æ¯ä¸€è¡Œçš„æ•°æ® è¾“å‡ºï¼šï¼ˆåˆ—åï¼Œåˆ—åcolumnä¸å½“å‰è¡Œåindexè¡Œå¯¹åº”çš„æ•°æ®ï¼‰</span></span><br><span class="line">    <span class="built_in">print</span>(row)</span><br><span class="line">    <span class="comment"># é€šè¿‡columnï¼Œæ¥è¾“å‡ºä¸å½“å‰columnå¯¹åº”çš„é‚£ä¸€åˆ—çš„å€¼</span></span><br><span class="line">    <span class="built_in">print</span>(row[<span class="string">&quot;age&quot;</span>])</span><br></pre></td></tr></table></figure><h2 id="è¡¥å……ï¼š"><a href="#è¡¥å……ï¼š" class="headerlink" title="è¡¥å……ï¼š"></a>è¡¥å……ï¼š</h2><p>iterrowsè¿”å›çš„æ˜¯ä¸€ä¸ªå‰¯æœ¬ï¼Œå› æ­¤ä¸ä¼šä¿®æ”¹å€¼æ“ä½œæ—¶ä½¿ç”¨ï¼Œæ˜¯ä¸ä¼šä¿®æ”¹åŸå§‹æ•°æ®çš„ã€‚å¦‚æœæƒ³ä¿®æ”¹éœ€è¦å€ŸåŠ©atæ¥ä¿®æ”¹åŸå§‹æ•°æ®ã€‚</p><h3 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;age&quot;</span>:[<span class="number">24</span>,<span class="number">32</span>], <span class="string">&quot;state&quot;</span>:[<span class="string">&quot;NY&quot;</span>,<span class="string">&quot;CA&quot;</span>], <span class="string">&quot;point&quot;</span>:[<span class="number">64</span>,<span class="number">92</span>]&#125;, index=[<span class="string">&quot;Alice&quot;</span>,<span class="string">&quot;Bob&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> df.iterrows():</span><br><span class="line">    df.at[index, <span class="string">&#x27;point&#x27;</span>] += row[<span class="string">&#x27;age&#x27;</span>]</span><br></pre></td></tr></table></figure><h2 id="itertuples"><a href="#itertuples" class="headerlink" title="itertuples"></a>itertuples</h2><p>è¾“å‡ºï¼šrow ï¼ˆæ¯ä¸€è¡Œçš„æ•°æ®ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;age&quot;</span>:[<span class="number">24</span>,<span class="number">32</span>], <span class="string">&quot;state&quot;</span>:[<span class="string">&quot;NY&quot;</span>,<span class="string">&quot;CA&quot;</span>], <span class="string">&quot;point&quot;</span>:[<span class="number">64</span>,<span class="number">92</span>]&#125;, index=[<span class="string">&quot;Alice&quot;</span>,<span class="string">&quot;Bob&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> row <span class="keyword">in</span> df.itertuples():</span><br><span class="line">    <span class="comment"># æ¯ä¸€è¡Œçš„æ•°æ®</span></span><br><span class="line">    <span class="built_in">print</span>(row)</span><br><span class="line">    <span class="comment"># æ¯ä¸€è¡Œçš„æ•°æ®ä¸­çš„æŸä¸€åˆ—</span></span><br><span class="line">    <span class="built_in">print</span>(row.age)</span><br><span class="line">    <span class="comment"># å–rowä¸­çš„æŸä¸€ä¸ªé”®å€¼å¯¹</span></span><br><span class="line">    <span class="built_in">print</span>(row[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><h1 id="é€åˆ—æ£€ç´¢"><a href="#é€åˆ—æ£€ç´¢" class="headerlink" title="é€åˆ—æ£€ç´¢"></a>é€åˆ—æ£€ç´¢</h1><p>è¾“å‡ºï¼šcolumn_name,itemï¼ˆåˆ—åï¼Œæ¯ä¸€åˆ—çš„æ•°æ®ï¼ˆè¡Œåï¼Œè¡Œåˆ—å€¼ï¼‰ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;age&quot;</span>:[<span class="number">24</span>,<span class="number">32</span>], <span class="string">&quot;state&quot;</span>:[<span class="string">&quot;NY&quot;</span>,<span class="string">&quot;CA&quot;</span>], <span class="string">&quot;point&quot;</span>:[<span class="number">64</span>,<span class="number">92</span>]&#125;, index=[<span class="string">&quot;Alice&quot;</span>,<span class="string">&quot;Bob&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># é€åˆ—æ£€ç´¢</span></span><br><span class="line"><span class="keyword">for</span> column_name,item <span class="keyword">in</span> df.iteritems():</span><br><span class="line">    <span class="comment"># æ¯ä¸€åˆ—çš„columnåç§°</span></span><br><span class="line">    <span class="built_in">print</span>(column_name)</span><br><span class="line">    <span class="comment"># æ¯ä¸€åˆ—çš„æ•°æ®ï¼ˆindex,indexä¸å½“å‰columnåˆ—å¯¹åº”çš„æ•°æ®ï¼‰</span></span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line">    <span class="comment"># é€šè¿‡indexï¼Œæ¥è¾“å‡ºä¸å½“å‰indexå¯¹åº”çš„é‚£ä¸€è¡Œçš„å€¼</span></span><br><span class="line">    <span class="built_in">print</span>(item[<span class="string">&#x27;Alice&#x27;</span>])</span><br></pre></td></tr></table></figure><h1 id="å¸¸ç”¨å¾ªç¯æ£€ç´¢"><a href="#å¸¸ç”¨å¾ªç¯æ£€ç´¢" class="headerlink" title="å¸¸ç”¨å¾ªç¯æ£€ç´¢"></a>å¸¸ç”¨å¾ªç¯æ£€ç´¢</h1><p>å¹³æ—¶æˆ‘ä»¬éƒ½æ˜¯é€šè¿‡ï¼Œdf[â€œageâ€]è¿™ç§æ¥æ£€ç´¢æ•°æ®ï¼Œä¸è¿‡è¿™æ ·æ¯æ¬¡åªèƒ½æ£€ç´¢ä¸€åˆ—æˆ–è€…ä¸€è¡Œçš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©zipå‡½æ•°å®ç°ï¼Œä¸€æ¬¡æ£€ç´¢å¤šè¡Œæˆ–å¤šåˆ—çš„æ•°æ®</p><h4 id="æ™®é€šdf-â€œageâ€"><a href="#æ™®é€šdf-â€œageâ€" class="headerlink" title="æ™®é€šdf[â€œageâ€]"></a>æ™®é€šdf[â€œageâ€]</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> age <span class="keyword">in</span> df[<span class="string">&#x27;age&#x27;</span>]:</span><br><span class="line">    <span class="built_in">print</span>(age)</span><br></pre></td></tr></table></figure><h4 id="å€Ÿç”¨zipå‡½æ•°"><a href="#å€Ÿç”¨zipå‡½æ•°" class="headerlink" title="å€Ÿç”¨zipå‡½æ•°"></a>å€Ÿç”¨zipå‡½æ•°</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> age, point <span class="keyword">in</span> <span class="built_in">zip</span>(df[<span class="string">&#x27;age&#x27;</span>], df[<span class="string">&#x27;point&#x27;</span>]):</span><br><span class="line">    <span class="built_in">print</span>(age, point)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ¸…æ´—æ•°æ®</title>
      <link href="/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%B8%85%E6%B4%97%E6%95%B0%E6%8D%AE/"/>
      <url>/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%B8%85%E6%B4%97%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="å¸ƒå°”ç´¢å¼•"><a href="#å¸ƒå°”ç´¢å¼•" class="headerlink" title="å¸ƒå°”ç´¢å¼•"></a>å¸ƒå°”ç´¢å¼•</h1><p>è¿™é‡Œä½ éœ€è¦çŸ¥é“DateFrameä¸­å¸ƒå°”ç´¢å¼•è¿™ä¸ªä¸œè¥¿ï¼Œå¯ä»¥ç”¨æ»¡è¶³å¸ƒå°”æ¡ä»¶çš„åˆ—å€¼æ¥è¿‡æ»¤æ•°æ®ï¼Œå¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;name&#x27;</span>:[<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Helen&quot;</span>, <span class="string">&quot;John&quot;</span>],<span class="string">&#x27;age&#x27;</span>: [<span class="number">28</span>, <span class="number">39</span>, <span class="number">34</span>, <span class="number">36</span>],<span class="string">&#x27;score&#x27;</span>:[<span class="number">98</span>,<span class="number">92</span>,<span class="number">91</span>,<span class="number">89</span>]&#125;)</span><br><span class="line"></span><br><span class="line">info = df.age&gt;<span class="number">30</span></span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line">info = df[df.age&gt;<span class="number">30</span>]</span><br><span class="line"><span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">0    False</span><br><span class="line">1     True</span><br><span class="line">2     True</span><br><span class="line">3     True</span><br><span class="line">Name: age, dtype: bool</span><br><span class="line"></span><br><span class="line">    name  age  score</span><br><span class="line">1    Tom   39     92</span><br><span class="line">2  Helen   34     91</span><br><span class="line">3   John   36     89</span><br></pre></td></tr></table></figure><h1 id="isin"><a href="#isin" class="headerlink" title="isin()"></a>isin()</h1><h3 id="isinæ·»åŠ æ•°æ®"><a href="#isinæ·»åŠ æ•°æ®" class="headerlink" title="isinæ·»åŠ æ•°æ®"></a>isinæ·»åŠ æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;name&#x27;</span>:[<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Helen&quot;</span>, <span class="string">&quot;John&quot;</span>],<span class="string">&#x27;age&#x27;</span>: [<span class="number">28</span>, <span class="number">39</span>, <span class="number">34</span>, <span class="number">36</span>],<span class="string">&#x27;score&#x27;</span>:[<span class="number">98</span>,<span class="number">92</span>,<span class="number">91</span>,<span class="number">89</span>]&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ•°æ®</span></span><br><span class="line">df[<span class="string">&quot;Class&quot;</span>] = [<span class="string">&quot;ä¸€å¹´çº§&quot;</span>,<span class="string">&quot;äºŒå¹´çº§&quot;</span>,<span class="string">&quot;ä¸‰å¹´çº§&quot;</span>,<span class="string">&quot;å››å¹´çº§&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    name  age  score Class</span><br><span class="line">0   Jack   28     98   ä¸€å¹´çº§</span><br><span class="line">1    Tom   39     92   äºŒå¹´çº§</span><br><span class="line">2  Helen   34     91   ä¸‰å¹´çº§</span><br><span class="line">3   John   36     89   å››å¹´çº§</span><br></pre></td></tr></table></figure><h3 id="isinç­›é€‰æ•°æ®"><a href="#isinç­›é€‰æ•°æ®" class="headerlink" title="isinç­›é€‰æ•°æ®"></a>isinç­›é€‰æ•°æ®</h3><p>ç­›é€‰æŸä¸€åˆ—çš„æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">info = df.Class.isin([<span class="string">&quot;ä¸€å¹´çº§&quot;</span>,<span class="string">&quot;äºŒå¹´çº§&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line">info = df[df.Class.isin([<span class="string">&quot;ä¸€å¹´çº§&quot;</span>,<span class="string">&quot;äºŒå¹´çº§&quot;</span>])]</span><br><span class="line"><span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">0     True</span><br><span class="line">1     True</span><br><span class="line">2    False</span><br><span class="line">3    False</span><br><span class="line">Name: Class, dtype: bool</span><br><span class="line"></span><br><span class="line">   name  age  score Class</span><br><span class="line">0  Jack   28     98   ä¸€å¹´çº§</span><br><span class="line">1   Tom   39     92   äºŒå¹´çº§</span><br></pre></td></tr></table></figure><p>ç­›é€‰æ‰€æœ‰çš„æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">info = df.isin([<span class="string">&quot;ä¸€å¹´çº§&quot;</span>,<span class="string">&quot;äºŒå¹´çº§&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line">info = df[df.isin([<span class="string">&quot;ä¸€å¹´çº§&quot;</span>,<span class="string">&quot;äºŒå¹´çº§&quot;</span>])]</span><br><span class="line"><span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    name    age  score  Class</span><br><span class="line">0  False  False  False   True</span><br><span class="line">1  False  False  False   True</span><br><span class="line">2  False  False  False  False</span><br><span class="line">3  False  False  False  False</span><br><span class="line"></span><br><span class="line">  name  age  score Class</span><br><span class="line">0  NaN  NaN    NaN   ä¸€å¹´çº§</span><br><span class="line">1  NaN  NaN    NaN   äºŒå¹´çº§</span><br><span class="line">2  NaN  NaN    NaN   NaN</span><br><span class="line">3  NaN  NaN    NaN   NaN</span><br></pre></td></tr></table></figure><h1 id="isinåº”ç”¨"><a href="#isinåº”ç”¨" class="headerlink" title="isinåº”ç”¨"></a>isinåº”ç”¨</h1><blockquote><p>åœ¨å¤„ç†æ•°æ®é‡å¤§çš„éœ€æ±‚æ—¶ï¼Œå¯ä»¥é‡‡ç”¨åˆ†æ®µå¤„ç†ï¼Œè¿™é‡Œå€Ÿç”¨isinæ¥è¿›è¡Œåˆ†æ®µå¤„ç†</p></blockquote><p>å‡è®¾ä¸€ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬å·²çŸ¥ç”µè´¹çš„æ¶ˆè€—æ•°æ®å’Œç‚¹ç»™çš„ä»·æ ¼</p><p>ç¬¬ä¸€è¡Œä»£è¡¨2001å¹´1æœˆ13æ—¥é›¶ç‚¹æ¶ˆè€—äº†0.586kwhçš„ç”µ<br><img src="https://s1.ax1x.com/2022/07/08/jBgWH1.png" alt="jBgWH1.png"></p><p><img src="https://s1.ax1x.com/2022/07/08/jBg4N6.png" alt="jBg4N6.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é‡‡ç”¨isinç­›é€‰å‡ºå„æ—¶æ®µï¼Œåˆ†æ®µå¤„ç†</span></span><br><span class="line">df.set_index(<span class="string">&#x27;date_time&#x27;</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isin_method</span>(<span class="params">df</span>):</span><br><span class="line">    peak_hours = df.index.hour.isin(<span class="built_in">range</span>(<span class="number">17</span>, <span class="number">24</span>))</span><br><span class="line">    simple_hours = df.index.hour.isin(<span class="built_in">range</span>(<span class="number">7</span>, <span class="number">17</span>))</span><br><span class="line">    off_peak_hours = df.index.hour.isin(<span class="built_in">range</span>(<span class="number">0</span>, <span class="number">7</span>))</span><br><span class="line"></span><br><span class="line">    df.loc[peak_hours, <span class="string">&#x27;cost&#x27;</span>] = df.loc[peak_hours, <span class="string">&#x27;energy_kwh&#x27;</span>] * <span class="number">0.75</span></span><br><span class="line">    df.loc[simple_hours,<span class="string">&#x27;cost&#x27;</span>] = df.loc[simple_hours, <span class="string">&#x27;energy_kwh&#x27;</span>] * <span class="number">0.68</span></span><br><span class="line">    df.loc[off_peak_hours,<span class="string">&#x27;cost&#x27;</span>] = df.loc[off_peak_hours, <span class="string">&#x27;energy_kwh&#x27;</span>] * <span class="number">0.6</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--éšæœºæŠ½æ ·</title>
      <link href="/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E9%9A%8F%E6%9C%BA%E6%8A%BD%E6%A0%B7/"/>
      <url>/2022/07/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E9%9A%8F%E6%9C%BA%E6%8A%BD%E6%A0%B7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>éšæœºæŠ½æ ·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬ä»å¤§é‡çš„æ•°æ®ä¸­å¿«é€Ÿçš„æ„å»ºå‡ºä¸€ç»„æ•°æ®åˆ†ææ¨¡å‹ã€‚</p><p><strong>sample() å‡½æ•°çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</strong><br><code>DataFrame.sample(n=None, frac=None, replace=False, weights=None, random_state=None, axis=None)</code></p><p>å‚æ•°è¯´æ˜ï¼š</p><table><thead><tr><th>å‚æ•°åç§°</th><th>å‚æ•°è¯´æ˜</th></tr></thead><tbody><tr><td>n</td><td>è¡¨ç¤ºè¦æŠ½å–çš„è¡Œæ•°</td></tr><tr><td>frac</td><td>è¡¨ç¤ºè¦æŠ½å–çš„æ¯”ä¾‹ï¼Œæ¯”å¦‚frac&#x3D;0.5ï¼Œä»£è¡¨æŠ½å–æ€»ä½“æ•°æ®çš„50%</td></tr><tr><td>replace</td><td>å¸ƒå°”å€¼å‚æ•°ï¼Œè¡¨ç¤ºæ˜¯å¦ä»¥æœ‰æ”¾å›æŠ½æ ·çš„æ–¹å¼è¿›è¡Œé€‰æ‹©ï¼Œé»˜è®¤ä¸ºFalseï¼Œå–å‡ºæ•°æ®åä¸å†æ”¾å›ã€‚è¯´ç™½äº†é»˜è®¤çš„å°±æ˜¯ç¬¬ä¸€æ¬¡æŠ½åˆ°çš„ï¼Œç¬¬äºŒæ¬¡ä¸ä¼šå†æŠ½åˆ°äº†</td></tr><tr><td>random_state</td><td>å¯é€‰å‚æ•°ï¼Œæ§åˆ¶éšæœºçŠ¶æ€ï¼Œé»˜è®¤ä¸ºNoneï¼Œè¡¨ç¤ºéšæœºæ•°æ®ä¸ä¼šé‡å¤ï¼›è‹¥ä¸º1è¡¨ç¤ºä¼šå–å¾—é‡å¤æ•°æ®</td></tr><tr><td>axis</td><td>è¡¨ç¤ºåœ¨å“ªä¸ªæ–¹å‘æŠ½å–æ•°æ®ï¼ˆaxis&#x3D;1 è¡¨ç¤ºåˆ—ï¼Œaxis&#x3D;0 è¡¨ç¤ºè¡Œï¼‰</td></tr></tbody></table><h1 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h1><p>ä»¥ä¸‹æ˜¯å¯¹æ¯ä¸ªå‚æ•°çš„ç¤ºä¾‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;name&#x27;</span>:[<span class="string">&quot;Jack&quot;</span>, <span class="string">&quot;Tom&quot;</span>, <span class="string">&quot;Helen&quot;</span>, <span class="string">&quot;John&quot;</span>],<span class="string">&#x27;age&#x27;</span>: [<span class="number">28</span>, <span class="number">39</span>, <span class="number">34</span>, <span class="number">36</span>],<span class="string">&#x27;score&#x27;</span>:[<span class="number">98</span>,<span class="number">92</span>,<span class="number">91</span>,<span class="number">89</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºé€‰æ‹©ä¸€è¡Œ</span></span><br><span class="line">info = df.sample(n=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºé€‰æ‹©ä¸€åˆ—</span></span><br><span class="line">info = df.sample(n=<span class="number">1</span>,axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    name  age  score</span><br><span class="line">0   Jack   28     98</span><br><span class="line">1    Tom   39     92</span><br><span class="line">2  Helen   34     91</span><br><span class="line">3   John   36     89</span><br><span class="line"></span><br><span class="line">  name  age  score</span><br><span class="line">1  Tom   39     92</span><br><span class="line"></span><br><span class="line">   score</span><br><span class="line">0     98</span><br><span class="line">1     92</span><br><span class="line">2     91</span><br><span class="line">3     89</span><br></pre></td></tr></table></figure><p>å†çœ‹ä¸€ç»„ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;data1&#x27;</span>: [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>], <span class="string">&#x27;data2&#x27;</span>: [<span class="number">2</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">8</span>], <span class="string">&#x27;data3&#x27;</span>: [<span class="number">12</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>]&#125;, index=[<span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;Parker&#x27;</span>, <span class="string">&#x27;Smith&#x27;</span>, <span class="string">&#x27;William&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºä»&quot;data1&quot;åˆ—é€‰å–ä¸‰ä¸ªå€¼</span></span><br><span class="line">info = df[<span class="string">&#x27;data1&#x27;</span>].sample(n=<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæŠ½å–ç™¾åˆ†ä¹‹äº”åçš„æ¯”ä¾‹ï¼Œä¸”æ¯æ¬¡éƒ½æ˜¯æŠ½å–å®Œæ”¾å›ï¼Œç„¶åå†æ¬¡ä»å®Œæ•´çš„æ•°æ®ä¸­æŠ½å‡º</span></span><br><span class="line">info = df.sample(frac=<span class="number">0.5</span>,replace=<span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(info)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éšæœºæŠ½å–ä¸¤è¡Œæ•°æ®ï¼Œä¸”&#x27;data3&#x27;ä¸ºæƒé‡ï¼Œä¸”å…è®¸é‡å¤æ•°æ®å‡ºç°</span></span><br><span class="line">info = df.sample(n=<span class="number">2</span>,weights=<span class="string">&#x27;data3&#x27;</span>,random_state=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">         data1  data2  data3</span><br><span class="line">John         2      2     12</span><br><span class="line">Parker       6      5      2</span><br><span class="line">Smith        8      0      1</span><br><span class="line">William      0      8      8</span><br><span class="line"></span><br><span class="line">Smith      8</span><br><span class="line">William    0</span><br><span class="line">John       2</span><br><span class="line">Name: data1, dtype: int64</span><br><span class="line"></span><br><span class="line">        data1  data2  data3</span><br><span class="line">John        2      2     12</span><br><span class="line">Parker      6      5      2</span><br><span class="line"></span><br><span class="line">         data1  data2  data3</span><br><span class="line">John         2      2     12</span><br><span class="line">William      0      8      8</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--locï¼Œilocï¼Œatï¼Œiat</title>
      <link href="/2022/07/07/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--loc%EF%BC%8Ciloc%EF%BC%8Cat%EF%BC%8Ciat/"/>
      <url>/2022/07/07/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--loc%EF%BC%8Ciloc%EF%BC%8Cat%EF%BC%8Ciat/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h1><h4 id="èŒƒå›´ä¸Š"><a href="#èŒƒå›´ä¸Š" class="headerlink" title="èŒƒå›´ä¸Š"></a>èŒƒå›´ä¸Š</h4><ul><li>locå’Œilocé€šè¿‡æŒ‡å®šèŒƒå›´ä¸ä»…å¯ä»¥é€‰æ‹©å•ä¸ªå€¼ï¼Œè¿˜å¯ä»¥é€‰æ‹©å¤šä¸ªæ•°æ®ã€‚</li><li>atå’Œiatåªèƒ½é€‰æ‹©å•ä¸ªå€¼ã€‚</li></ul><h4 id="å¤„ç†é€Ÿåº¦ä¸Š"><a href="#å¤„ç†é€Ÿåº¦ä¸Š" class="headerlink" title="å¤„ç†é€Ÿåº¦ä¸Š"></a>å¤„ç†é€Ÿåº¦ä¸Š</h4><ul><li>atå’Œiatçš„å¤„ç†é€Ÿåº¦æ¯”locå’Œilocæ›´å¿«</li></ul><h4 id="ç´¢å¼•åˆ†ç±»ä¸Š"><a href="#ç´¢å¼•åˆ†ç±»ä¸Š" class="headerlink" title="ç´¢å¼•åˆ†ç±»ä¸Š"></a>ç´¢å¼•åˆ†ç±»ä¸Š</h4><ul><li><p>æ ‡ç­¾å‹ç´¢å¼•ï¼šlocã€at</p></li><li><p>ä½ç½®å‹ç´¢å¼•ï¼šilocã€iat</p><h5 id="ç´¢å¼•ä¸åŒä¹‹å¤„ï¼š"><a href="#ç´¢å¼•ä¸åŒä¹‹å¤„ï¼š" class="headerlink" title="ç´¢å¼•ä¸åŒä¹‹å¤„ï¼š"></a>ç´¢å¼•ä¸åŒä¹‹å¤„ï¼š</h5><ul><li>locã€atæ˜¯å¯ä»¥é€šè¿‡[index,column]æ¥è·å–å’Œä¿®æ”¹å…ƒç´ </li><li>ilocã€iatå¯ä»¥é€šè¿‡[è¡Œå·ï¼Œåˆ—å·]æ¥è·å–å’Œä¿®æ”¹å…ƒç´ </li></ul><p>  <strong>åŒºåˆ†</strong>ï¼šè¿™é‡Œæˆ‘ä»¬æ¥æµ…åŒºåˆ†ä¸€ä¸‹indexã€columnå’Œè¡Œå·å’Œåˆ—å·ã€‚</p><blockquote><p><img src="https://s1.ax1x.com/2022/07/07/jwLs4H.png" alt="jwLs4H.png"><br>  ç”±äºindexå’Œcolumnå¯ä»¥éƒ½è‡ªå®šä¹‰è®¾ç½®ä¸ºæ•´å‹ï¼Œæ‰€ä»¥indexå’Œcolumnçš„ç±»å‹ä¹Ÿæ˜¯å¯ä»¥ä¸ºæ•´å‹çš„ã€‚å½“ç„¶è¿™æ˜¯ä¸€å¥åºŸè¯ã€‚ä¸è¿‡ä¹Ÿæ˜¯ä¸ºäº†åŒºåˆ†å‡ºlocæ˜¯é€šè¿‡indexå’Œcolumnæ¥è·å–å…ƒç´ çš„ï¼Œè€Œilocæ˜¯é€šè¿‡indexå’Œcolumnæ‰€åœ¨ä½ç½®çš„ç´¢å¼•æ¥è·å–å…ƒç´ çš„ã€‚atå’ŒiatåŒç†ã€‚</p></blockquote></li></ul><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><p>ä¸Šé¢å±•ç¤ºäº†locå’Œilocçš„è·å–ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºäº†</p><h2 id="locã€ilcoä¿®æ”¹æ•°æ®"><a href="#locã€ilcoä¿®æ”¹æ•°æ®" class="headerlink" title="locã€ilcoä¿®æ”¹æ•°æ®"></a>locã€ilcoä¿®æ”¹æ•°æ®</h2><p><img src="https://s1.ax1x.com/2022/07/07/jwjFHK.png" alt="jwjFHK.png"></p><h1 id="locã€ilocå’Œatã€iatçš„åŒºåˆ«"><a href="#locã€ilocå’Œatã€iatçš„åŒºåˆ«" class="headerlink" title="locã€ilocå’Œatã€iatçš„åŒºåˆ«"></a>locã€ilocå’Œatã€iatçš„åŒºåˆ«</h1><blockquote><p>ä»¥ä¸‹å±•ç¤ºå‘ç°atå’Œiatè·å–å¤šä¸ªå…ƒç´ æ—¶ä¼šæŠ¥é”™ï¼Œè€Œlocå’Œilocå¯ä»¥è·å–å¤šä¸ªå…ƒç´ </p></blockquote><p><img src="https://s1.ax1x.com/2022/07/07/jwvvl9.png" alt="jwvvl9.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>zipå‡½æ•°</title>
      <link href="/2022/07/06/Python/%E6%A8%A1%E5%9D%97/zip/zip%E5%87%BD%E6%95%B0/"/>
      <url>/2022/07/06/Python/%E6%A8%A1%E5%9D%97/zip/zip%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><h4 id="ç¤ºä¾‹ï¼ˆå‹ç¼©æ“ä½œï¼‰"><a href="#ç¤ºä¾‹ï¼ˆå‹ç¼©æ“ä½œï¼‰" class="headerlink" title="ç¤ºä¾‹ï¼ˆå‹ç¼©æ“ä½œï¼‰"></a>ç¤ºä¾‹ï¼ˆå‹ç¼©æ“ä½œï¼‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">b = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>]</span><br><span class="line">result = <span class="built_in">list</span>(<span class="built_in">zip</span>(a, b))</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jatW9O.png" alt="jatW9O.png"></p><p>å¾ˆæ˜æ˜¾ï¼Œå¯¹äºæˆ‘ä»¬çš„ä¸¤ä¸ªlistï¼Œaå’Œbï¼Œlist(zip(a, b))ç”Ÿæˆäº†ä¸€ä¸ªåˆ—è¡¨ã€‚åœ¨è¿™ä¸ªåˆ—è¡¨ä¸­ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªtupleï¼›</p><p>äº‹å®ä¸Šï¼Œåœ¨ Python 3 ä¸­ï¼Œä¸ºäº†èŠ‚çœç©ºé—´ï¼Œzip()è¿”å›çš„æ˜¯ä¸€ä¸ªtupleçš„è¿­ä»£å™¨ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦è°ƒç”¨list()å°†å®ƒå¼ºåˆ¶è½¬æ¢æˆlistçš„åŸå› ã€‚ä¸è¿‡ï¼ŒPython 2ä¸­ï¼Œå®ƒç›´æ¥è¿”å›çš„å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨äº†ã€‚</p><p>å¦‚æœæˆ‘ä»¬ä¼ å…¥zip()ä¸­çš„å‡ ä¸ªå‚æ•°ä¸ç­‰é•¿ï¼Œä¼šæœ‰ä»€ä¹ˆç»“æœå‘¢ï¼Ÿzip()å¾ˆçµæ´»ï¼Œå¦‚æœå‡ ä¸ªå‚æ•°ä¸ç­‰é•¿ï¼Œé‚£ä¹ˆå®ƒä¼šå–æœ€çŸ­çš„é‚£ä¸ªå‚æ•°çš„é•¿åº¦ï¼Œç„¶åå†è¿›è¡Œå¤„ç†ã€‚è‡³äºé‚£äº›è¶…å‡ºæœ€çŸ­é•¿åº¦çš„æˆå‘˜ï¼Œå°±åªå¥½è¢«èˆå¼ƒæ‰äº†</p><p>å¯¹äºzip(args)è¿™ä¸ªå‡½æ•°ï¼ŒPythonè¿˜æä¾›äº†ä¸€ç§é€†æ“ä½œã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = <span class="built_in">zip</span>(a, b)</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œåªè¦è°ƒç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">origin = <span class="built_in">zip</span>(*result) <span class="comment"># #å‰é¢åŠ *å·ï¼Œäº‹å®ä¸Š*å·ä¹Ÿæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è¿ç®—ç¬¦ï¼Œå«è§£åŒ…è¿ç®—ç¬¦</span></span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥å¾—åˆ°åŸæ¥çš„aå’Œbäº†ã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå¯ä»¥ç”¨ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•å¤„ç†ä¸€äº›é—®é¢˜ï¼Œæˆ‘ä»¬å¾…ä¼šè¯´ã€‚</p><h4 id="ç¤ºä¾‹ï¼ˆè§£å‹æ“ä½œï¼‰ï¼š"><a href="#ç¤ºä¾‹ï¼ˆè§£å‹æ“ä½œï¼‰ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼ˆè§£å‹æ“ä½œï¼‰ï¼š"></a>ç¤ºä¾‹ï¼ˆè§£å‹æ“ä½œï¼‰ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]</span><br><span class="line">b = [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;4&#x27;</span>]</span><br><span class="line">result = <span class="built_in">zip</span>(a,b)</span><br><span class="line">origin = <span class="built_in">zip</span>(*result)</span><br><span class="line"><span class="comment"># æ‰“å°zip(*)çš„ç»“æœ</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> origin:</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">list</span>(i))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jahpqI.png" alt="jahpqI.png"></p><h1 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h1><h4 id="åŒæ—¶éå†å¤šä¸ªå­—å…¸"><a href="#åŒæ—¶éå†å¤šä¸ªå­—å…¸" class="headerlink" title="åŒæ—¶éå†å¤šä¸ªå­—å…¸"></a>åŒæ—¶éå†å¤šä¸ªå­—å…¸</h4><p>åœ¨ Python 3.6+ ä¸­ï¼Œå­—å…¸æˆä¸ºäº†ä¸€ç§æœ‰é¡ºåºçš„é›†åˆã€‚åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å’Œzipï¼Œæˆ‘ä»¬å¯ä»¥åŒæ—¶éå†å¤šä¸ªå­—å…¸ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dict_one = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;last_name&#x27;</span>: <span class="string">&#x27;Doe&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Python Consultant&#x27;</span>&#125;</span><br><span class="line">dict_two = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Jane&#x27;</span>, <span class="string">&#x27;last_name&#x27;</span>: <span class="string">&#x27;Doe&#x27;</span>, <span class="string">&#x27;job&#x27;</span>: <span class="string">&#x27;Community Manager&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>(<span class="built_in">zip</span>(dict_one.items(),dict_two.items())))</span><br><span class="line"><span class="keyword">for</span> (k1, v1), (k2, v2) <span class="keyword">in</span> <span class="built_in">zip</span>(dict_one.items(), dict_two.items()):</span><br><span class="line">    <span class="built_in">print</span>(k1, <span class="string">&#x27;-&gt;&#x27;</span>, v1)</span><br><span class="line">    <span class="built_in">print</span>(k2, <span class="string">&#x27;-&gt;&#x27;</span>, v2)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jaBdaj.png" alt="jaBdaj.png"></p><h4 id="å¯¹åˆ—è¡¨è¿›è¡Œæ’åº"><a href="#å¯¹åˆ—è¡¨è¿›è¡Œæ’åº" class="headerlink" title="å¯¹åˆ—è¡¨è¿›è¡Œæ’åº"></a>å¯¹åˆ—è¡¨è¿›è¡Œæ’åº</h4><p>è€ƒè™‘ä¸€ä¸ªåœºæ™¯ï¼šä½ æ­£åœ¨å¤„ç†ä¸€äº›å­¦ç”Ÿçš„æˆç»©ï¼Œæœ‰è¿™æ ·ä¸¤ä¸ªåˆ—è¡¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;Amy&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>]</span><br><span class="line">scores = [<span class="number">98</span>, <span class="number">100</span>, <span class="number">85</span>]  <span class="comment"># åˆ†æ•°å’Œåå­—æ˜¯ä¸€ä¸€å¯¹åº”çš„</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä½ æƒ³å¯¹å®ƒä»¬è¿›è¡Œæ’åºï¼Œåˆä¸æƒ³ç ´åå¯¹åº”å…³ç³»çš„è¯ï¼Œå°±å¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = <span class="built_in">list</span>(<span class="built_in">zip</span>(names, scores))</span><br><span class="line">data.sort()</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="string">&#x27;Amy&#x27;</span>, <span class="number">100</span>), (<span class="string">&#x27;Jack&#x27;</span>, <span class="number">85</span>), (<span class="string">&#x27;John&#x27;</span>, <span class="number">98</span>)]</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦å…ˆå¯¹åˆ†æ•°è¿›è¡Œæ’åºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data2 = <span class="built_in">list</span>(<span class="built_in">zip</span>(scores, names))</span><br><span class="line">data2.sort()</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[(<span class="number">85</span>, <span class="string">&#x27;Jack&#x27;</span>), (<span class="number">98</span>, <span class="string">&#x27;John&#x27;</span>), (<span class="number">100</span>, <span class="string">&#x27;Amy&#x27;</span>)]</span><br></pre></td></tr></table></figure><h4 id="è½¬åŒ–ä¸ºå­—å…¸"><a href="#è½¬åŒ–ä¸ºå­—å…¸" class="headerlink" title="è½¬åŒ–ä¸ºå­—å…¸"></a>è½¬åŒ–ä¸ºå­—å…¸</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;John&#x27;</span>, <span class="string">&#x27;Amy&#x27;</span>, <span class="string">&#x27;Jack&#x27;</span>]</span><br><span class="line">scores = [<span class="number">98</span>, <span class="number">100</span>, <span class="number">85</span>]  <span class="comment"># åˆ†æ•°å’Œåå­—æ˜¯ä¸€ä¸€å¯¹åº”çš„</span></span><br><span class="line">result = <span class="built_in">dict</span>(<span class="built_in">zip</span>(names,scores))</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jaDB0e.png" alt="jaDB0e.png"></p><h4 id="åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨"><a href="#åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨" class="headerlink" title="åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨"></a>åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">total_sales = [<span class="number">52000.00</span>, <span class="number">51000.00</span>, <span class="number">48000.00</span>]</span><br><span class="line">prod_cost = [<span class="number">46800.00</span>, <span class="number">45900.00</span>, <span class="number">43200.00</span>]</span><br><span class="line"><span class="keyword">for</span> sales, costs <span class="keyword">in</span> <span class="built_in">zip</span>(total_sales, prod_cost):</span><br><span class="line">profit = sales - costs</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Total profit: <span class="subst">&#123;profit&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jaDZYn.png" alt="jaDZYn.png"></p><h1 id="ç»ƒä¹ "><a href="#ç»ƒä¹ " class="headerlink" title="ç»ƒä¹ "></a>ç»ƒä¹ </h1><p>åˆ©ç”¨zip()è§£å‹çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒç§’æ€æŸäº›å­—ç¬¦ä¸²å¤„ç†çš„é¢˜ç›®ã€‚ä¾‹å¦‚ï¼ŒåŠ›æ‰£çš„æœ€é•¿å…¬å…±å‰ç¼€ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥æ‰¾å­—ç¬¦ä¸²æ•°ç»„ä¸­çš„æœ€é•¿å…¬å…±å‰ç¼€ã€‚</span><br><span class="line"></span><br><span class="line">å¦‚æœä¸å­˜åœ¨å…¬å…±å‰ç¼€ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸² â€œâ€ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: [â€œflowerâ€,â€œflowâ€,â€œflightâ€]</span><br><span class="line">è¾“å‡º: â€œflâ€</span><br><span class="line">ç¤ºä¾‹ 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: [â€œdogâ€,â€œracecarâ€,â€œcarâ€]</span><br><span class="line">è¾“å‡º: â€œâ€</span><br><span class="line">è§£é‡Š: è¾“å…¥ä¸å­˜åœ¨å…¬å…±å‰ç¼€ã€‚</span><br><span class="line">è¯´æ˜:</span><br><span class="line"></span><br><span class="line">æ‰€æœ‰è¾“å…¥åªåŒ…å«å°å†™å­—æ¯ a-z ã€‚</span><br><span class="line"></span><br><span class="line">æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰</span><br><span class="line">é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-common-prefix</span><br><span class="line">è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</span><br></pre></td></tr></table></figure><p>è§£ç­”ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="string">&quot;flower&quot;</span>,<span class="string">&quot;flow&quot;</span>,<span class="string">&quot;flight&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">data</span>):</span><br><span class="line">    result = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> temp <span class="keyword">in</span> <span class="built_in">zip</span>(*data):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">set</span>(temp)) == <span class="number">1</span>:</span><br><span class="line">            result += temp[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line">result = func(data)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># fl</span></span><br></pre></td></tr></table></figure><p>æ€è·¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="string">&quot;flower&quot;</span>,<span class="string">&quot;flow&quot;</span>,<span class="string">&quot;flight&quot;</span>]</span><br></pre></td></tr></table></figure><blockquote><ol><li>è¿™é‡Œç”¨åˆ°äº†ä¸Šé¢zipçš„è§£å‹æ“ä½œï¼Œæˆ‘ä»¬æŠŠdataçœ‹ä½œæ˜¯å‹ç¼©åçš„ç»“æœï¼Œä¹Ÿå°±æ˜¯:<br>(â€˜fâ€™,â€™lâ€™,â€™oâ€™,â€™wâ€™,â€™eâ€™,â€™râ€™),(â€˜fâ€™,â€™lâ€™,â€™oâ€™,â€™wâ€™),(â€˜fâ€™,â€™lâ€™,â€™iâ€™,â€™gâ€™,â€™hâ€™,â€™tâ€™)</li></ol></blockquote><blockquote><ol start="2"><li>ç„¶ååˆ©ç”¨zipçš„è§£å‹æ“ä½œå°†dataè§£å‹ï¼Œåˆå› ä¸ºå¥¹çš„é•¿åº¦æŒ‰ç…§é•¿åº¦æœ€çŸ­çš„iterableï¼Œæ‰€ä»¥è§£å‹æœ€åçš„ç»“æœæ˜¯ä¸€ä¸ªæœ‰åºçš„ä¸ºï¼š<br>(â€˜fâ€™, â€˜fâ€™, â€˜fâ€™)<br>(â€˜lâ€™, â€˜lâ€™, â€˜lâ€™)<br>(â€˜oâ€™, â€˜oâ€™, â€˜iâ€™)<br>(â€˜wâ€™, â€˜wâ€™, â€˜gâ€™)</li><li>æ‹¿åˆ°è§£å‹ç»“æœä»¥åé€šè¿‡éå†åˆ¤æ–­æ¯ä¸€ä¸ªå…ƒç»„é‡Œå»é‡å®Œä¹‹åçš„é•¿åº¦æ˜¯å¦ä¸º1ï¼Œä¸º1è¯´æ˜å…ƒç»„å†…çš„å…ƒç´ ä¸€è‡´ï¼Œå°†å…¶æ·»åŠ åˆ°strã€‚æ ¹æ®é¢˜æ„åªè¦ä¸€è‡´çš„å‰ç¼€ï¼Œæ‰€ä»¥å¾ªç¯åˆ°ä¸ä¸€è‡´æ—¶ç›´æ¥æ¨å‡ºå¾ªç¯ï¼Œ</li><li>è¿”å›ç»“æœ</li></ol></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-zip </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>âœ¨å’ŒğŸŒŸğŸŒŸè¿ç®—ç¬¦</title>
      <link href="/2022/07/06/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E2%9C%A8%E5%92%8C%F0%9F%8C%9F%F0%9F%8C%9F%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
      <url>/2022/07/06/Python/%E6%A8%A1%E5%9D%97/%E8%BF%90%E7%AE%97%E7%AC%A6/%E2%9C%A8%E5%92%8C%F0%9F%8C%9F%F0%9F%8C%9F%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>python3ä¸­ï¼Œ* å’Œ ** å…±æœ‰å››ç±»ç”¨æ³•ã€‚</p><h1 id="1-ç®—æ•°è¿ç®—"><a href="#1-ç®—æ•°è¿ç®—" class="headerlink" title="1. ç®—æ•°è¿ç®—"></a>1. ç®—æ•°è¿ç®—</h1><p><font size=3>* ä»£è¡¨ä¹˜æ³•</font><br><font size=3>** ä»£è¡¨ä¹˜æ–¹</font></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="number">2</span>*<span class="number">5</span>) <span class="comment"># 10</span></span><br><span class="line"><span class="built_in">print</span>(<span class="number">2</span>**<span class="number">5</span>) <span class="comment"># 32</span></span><br></pre></td></tr></table></figure><h1 id="2-å‡½æ•°å½¢å‚"><a href="#2-å‡½æ•°å½¢å‚" class="headerlink" title="2. å‡½æ•°å½¢å‚"></a>2. å‡½æ•°å½¢å‚</h1><h2 id="2-1-argså’Œ-kwargsåœºæ™¯ï¼š"><a href="#2-1-argså’Œ-kwargsåœºæ™¯ï¼š" class="headerlink" title="2.1 *argså’Œ**kwargsåœºæ™¯ï¼š"></a>2.1 *argså’Œ**kwargsåœºæ™¯ï¼š</h2><p>å¯ä»¥å°†ä¸å®šæ•°é‡çš„å‚æ•°ä¼ é€’ç»™ä¸€ä¸ªå‡½æ•°ã€‚ä¸å®šçš„æ„æ€æ˜¯ï¼šé¢„å…ˆä¸çŸ¥é“ä½¿ç”¨ç€ä¼šä¼ é€’å¤šå°‘ä¸ªå‚æ•°ç»™ä½ ï¼Œæ‰€ä»¥è¿™ä¸ªåœºæ™¯ä¸‹ä½¿ç”¨è¿™ä¸¤ä¸ªå…³é”®å­—å‚æ•°ã€‚å…¶å®å¹¶ä¸æ˜¯å¿…é¡»å†™æˆ*argså’Œ*<em>kwargsã€‚</em>æ‰æ˜¯å¿…é¡»å†™çš„ï¼Œä½ å¯ä»¥å†™æˆ*aå’Œ**kã€‚</p><h3 id="ï¼ˆæ’å…¥çŸ¥è¯†ç‚¹ï¼‰"><a href="#ï¼ˆæ’å…¥çŸ¥è¯†ç‚¹ï¼‰" class="headerlink" title="ï¼ˆæ’å…¥çŸ¥è¯†ç‚¹ï¼‰"></a>ï¼ˆæ’å…¥çŸ¥è¯†ç‚¹ï¼‰</h3><h4 id="é¦–å…ˆpythonå‡½æ•°ä¼ é€’å‚æ•°çš„æ–¹å¼æœ‰å››ç§ï¼š"><a href="#é¦–å…ˆpythonå‡½æ•°ä¼ é€’å‚æ•°çš„æ–¹å¼æœ‰å››ç§ï¼š" class="headerlink" title="é¦–å…ˆpythonå‡½æ•°ä¼ é€’å‚æ•°çš„æ–¹å¼æœ‰å››ç§ï¼š"></a>é¦–å…ˆpythonå‡½æ•°ä¼ é€’å‚æ•°çš„æ–¹å¼æœ‰å››ç§ï¼š</h4><ul><li>ä½ç½®å‚æ•°ï¼ˆä¹Ÿå°±æ˜¯å¿…ä¼ å‚æ•°ï¼‰</li><li>é»˜è®¤å‚æ•°</li><li>å¯å˜å‚æ•°ï¼ˆ*argsï¼Œè¯¥ç±»å‹å‚æ•°ä¸å®šé•¿ï¼Œå¯ä¼ å¯ä¸ä¼ ï¼‰</li><li>å…³é”®å­—å‚æ•°ï¼ˆ**kwargsï¼Œä¹Ÿæ˜¯ä¸€ç§å¯å˜å‚æ•°ï¼Œå¯ä¼ å¯ä¸ä¼ ï¼‰</li></ul><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>(<span class="params">a, b, c=<span class="number">0</span>, *args, **kw</span>):  <span class="comment"># ä½ç½®å‚æ•°aã€bï¼›é»˜è®¤å‚æ•°cï¼›å¯å˜å‚æ•°argsï¼›å…³é”®å­—å‚æ•°kw</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;a =&#x27;</span>, a, <span class="string">&#x27;b =&#x27;</span>, b, <span class="string">&#x27;c =&#x27;</span>, c, <span class="string">&#x27;args =&#x27;</span>, args, <span class="string">&#x27;kw =&#x27;</span>, kw)</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„</strong>ï¼š</p><ol><li>å¿…ä¼ å‚æ•°è¦åœ¨é»˜è®¤å‚æ•°å’Œå¯å˜å‚æ•°å‰é¢ï¼Œå¦åˆ™æŠ¥é”™ã€‚</li><li>å¯å˜å‚æ•°ä¹‹å‰ä¸èƒ½æŒ‡å®šå‚æ•°åï¼Œä¹‹åå¿…é¡»è¦æŒ‡å®šå‚æ•°åè¿›è¡Œä¼ é€’ï¼Œå¦åˆ™æŒ‰å¯å˜å‚æ•°ä¼ é€’ï¼ˆä¹Ÿæ˜¯æŒ‰å…³é”®å­—å‚æ•°ï¼‰</li><li>*argså¿…é¡»æ”¾åœ¨æ‰€æœ‰ä½ç½®å‚æ•°çš„åé¢ï¼Œ</li><li>*argså¿…é¡»æ”¾åœ¨ **kwargsçš„å‰é¢ï¼Œ</li><li>**kwargså¿…é¡»æ”¾åœ¨æ‰€æœ‰å…³é”®å­—å‚æ•°çš„åé¢</li></ol><h4 id="å…³äºå‡½æ•°è°ƒç”¨å‚æ•°çš„ä¼ é€’æ–¹å¼æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ"><a href="#å…³äºå‡½æ•°è°ƒç”¨å‚æ•°çš„ä¼ é€’æ–¹å¼æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ" class="headerlink" title="å…³äºå‡½æ•°è°ƒç”¨å‚æ•°çš„ä¼ é€’æ–¹å¼æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ"></a>å…³äºå‡½æ•°è°ƒç”¨å‚æ•°çš„ä¼ é€’æ–¹å¼æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ</h4><p>å¯å˜ç±»å‹æœ‰ï¼šåˆ—è¡¨ï¼Œå­—å…¸ï¼Œé›†åˆï¼Œä¸å¯å˜ç±»å‹æœ‰ï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå…ƒç»„ã€‚</p><p>å¯å˜ç±»å‹ä¼ é€’çš„çš„æ˜¯å†…å­˜ä¸­çš„åœ°å€ï¼Œä¸å¯å˜ç±»å‹æ˜¯å°†åŸåœ°å€ä¸­çš„å€¼å¤åˆ¶è¿‡å»ï¼Œå¯¹æ–°å¼€è¾Ÿçš„å†…å­˜ä¸­çš„å€¼è¿›è¡Œæ“ä½œã€‚<br>å› æ­¤ï¼š</p><ul><li>å¯å˜å¯¹è±¡æ˜¯å¼•ç”¨ä¼ é€’ï¼Œä¸å¯å˜å‚æ•°æ˜¯å€¼ä¼ é€’ã€‚</li></ul><hr><h2 id="2-2-args-å’Œ-kwargsåŒºåˆ«ï¼š"><a href="#2-2-args-å’Œ-kwargsåŒºåˆ«ï¼š" class="headerlink" title="2.2 *args å’Œ **kwargsåŒºåˆ«ï¼š"></a>2.2 *args å’Œ **kwargsåŒºåˆ«ï¼š</h2><ul><li>*argsè¡¨ç¤ºå¤šä¸ªæ— åå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªtupleå…ƒç»„ç±»å‹</li><li>**kwargsè¡¨ç¤ºå…³é”®å­—å‚æ•°ï¼Œæ˜¯ä¸€ä¸ªdictå­—å…¸ç±»å‹</li></ul><h2 id="3-ç¤ºä¾‹"><a href="#3-ç¤ºä¾‹" class="headerlink" title="3. ç¤ºä¾‹"></a>3. ç¤ºä¾‹</h2><h4 id="1-å¦‚æœåŒæ—¶ä½¿ç”¨-argså’Œ-kwargsæ—¶ï¼Œå¿…é¡»-argså‚æ•°åˆ—è¦åœ¨-kwargsä¹‹å‰"><a href="#1-å¦‚æœåŒæ—¶ä½¿ç”¨-argså’Œ-kwargsæ—¶ï¼Œå¿…é¡»-argså‚æ•°åˆ—è¦åœ¨-kwargsä¹‹å‰" class="headerlink" title="1. å¦‚æœåŒæ—¶ä½¿ç”¨*argså’Œ**kwargsæ—¶ï¼Œå¿…é¡»*argså‚æ•°åˆ—è¦åœ¨**kwargsä¹‹å‰"></a>1. å¦‚æœåŒæ—¶ä½¿ç”¨*argså’Œ**kwargsæ—¶ï¼Œå¿…é¡»*argså‚æ•°åˆ—è¦åœ¨**kwargsä¹‹å‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;args=&quot;</span>,args)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;kwargs=&quot;</span>,kwargs)</span><br><span class="line"></span><br><span class="line">fun(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,A=<span class="string">&quot;a&quot;</span>,B=<span class="string">&quot;b&quot;</span>,C=<span class="string">&quot;c&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jau33q.png" alt="jau33q.png"></p><h4 id="2-ä½¿ç”¨-args"><a href="#2-ä½¿ç”¨-args" class="headerlink" title="2. ä½¿ç”¨*args"></a>2. ä½¿ç”¨*args</h4><p>å½“ä½ç½®å‚æ•°ä¸ä¸å®šé•¿å‚æ•°ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå…ˆæŠŠå‚æ•°åˆ†é…ç»™ä½ç½®å‚æ•°å†å°†å¤šä½™çš„å‚æ•°ä»¥å…ƒç»„å½¢å¼åˆ†é…ç»™argsï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">name, *args</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;name=&quot;</span>,name)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> args:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line">fun(<span class="string">&quot;hwang&quot;</span>,<span class="string">&quot;xming&quot;</span>,<span class="string">&quot;xhong&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š<br><img src="https://s1.ax1x.com/2022/07/06/jaKasf.png" alt="jaKasf.png"></p><h4 id="3-ä½¿ç”¨-kwargs"><a href="#3-ä½¿ç”¨-kwargs" class="headerlink" title="3. ä½¿ç”¨**kwargs"></a>3. ä½¿ç”¨**kwargs</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">name, **kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;name =&quot;</span>,name)</span><br><span class="line">    <span class="keyword">for</span> key,value <span class="keyword">in</span> kwargs.items():</span><br><span class="line">        <span class="built_in">print</span>(key,value)</span><br><span class="line"></span><br><span class="line">fun(<span class="string">&quot;hwang&quot;</span>,gender=<span class="string">&quot;male&quot;</span>,age=<span class="string">&quot;16&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><img src="https://s1.ax1x.com/2022/07/06/jaMHAg.png" alt="jaMHAg.png"></p><h4 id="4-å‡½æ•°å®å‚"><a href="#4-å‡½æ•°å®å‚" class="headerlink" title="4. å‡½æ•°å®å‚"></a>4. å‡½æ•°å®å‚</h4><p>å¦‚æœå‡½æ•°çš„å½¢å‚æ—¶å®šé•¿å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨*argså’Œ**kwargsè°ƒç”¨å‡½æ•°ï¼Œç±»ä¼¼å¯¹å…ƒç»„å’Œå­—å…¸è¿›è¡Œè§£å¼•ç”¨ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">data1,data2,data3</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;data1: &quot;</span>,data1)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;data2: &quot;</span>,data2)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;data3: &quot;</span>,data3)</span><br><span class="line"></span><br><span class="line">args = (<span class="string">&quot;one&quot;</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">fun(*args)</span><br><span class="line"></span><br><span class="line">kwargs = &#123;<span class="string">&quot;data1&quot;</span>:<span class="string">&quot;hwang&quot;</span>,<span class="string">&quot;data2&quot;</span>:<span class="number">16</span>,<span class="string">&quot;data3&quot;</span>:<span class="string">&quot;male&quot;</span>&#125;</span><br><span class="line">fun(**kwargs)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/07/06/ja1ZTO.png" alt="ja1ZTO.png"></p><h4 id="5-åºåˆ—è§£åŒ…"><a href="#5-åºåˆ—è§£åŒ…" class="headerlink" title="5. åºåˆ—è§£åŒ…"></a>5. åºåˆ—è§£åŒ…</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a,b,*c = <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/07/06/ja8oFO.png" alt="ja8oFO.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-è¿ç®—ç¬¦ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å‘jsonæ–‡ä»¶æ·»åŠ æ³¨é‡Š</title>
      <link href="/2022/06/25/Python/%E6%A8%A1%E5%9D%97/json/%E5%A6%82%E4%BD%95%E5%90%91json%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A/"/>
      <url>/2022/06/25/Python/%E6%A8%A1%E5%9D%97/json/%E5%A6%82%E4%BD%95%E5%90%91json%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0%E6%B3%A8%E9%87%8A/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="å…³äºjsonæ–‡ä»¶æ·»åŠ â€œ-x2F-x2F-â€æ³¨é‡Šæ—¶æŠ¥é”™é—®é¢˜"><a href="#å…³äºjsonæ–‡ä»¶æ·»åŠ â€œ-x2F-x2F-â€æ³¨é‡Šæ—¶æŠ¥é”™é—®é¢˜" class="headerlink" title="å…³äºjsonæ–‡ä»¶æ·»åŠ â€œ&#x2F;&#x2F;â€æ³¨é‡Šæ—¶æŠ¥é”™é—®é¢˜"></a>å…³äºjsonæ–‡ä»¶æ·»åŠ â€œ&#x2F;&#x2F;â€æ³¨é‡Šæ—¶æŠ¥é”™é—®é¢˜</h4><p>jsonæ–‡ä»¶å†…å®¹å¦‚ä¸‹:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// æ•°æ®åº“å</span></span><br><span class="line">  <span class="attr">&quot;schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Taurus&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//ADæ–‡ä»¶å­˜æ”¾è·¯å¾„</span></span><br><span class="line">  <span class="attr">&quot;file_path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Product/Config&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="comment">//éœ€è¦ç”ŸæˆADçš„è¡¨</span></span><br><span class="line">  <span class="attr">&quot;tables_name&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;AccountCashFreeze&quot;</span><span class="punctuation">,</span><span class="string">&quot;BenchStrategy&quot;</span><span class="punctuation">,</span><span class="string">&quot;CTAAlphas&quot;</span><span class="punctuation">,</span><span class="string">&quot;OTCOptionContractBasicInfo&quot;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><pre><code>è¯»å–jsonæ–‡ä»¶çš„æ¯ä¸€è¡Œæ•°æ®å°†æ³¨é‡Šçš„æ¯ä¸€è¡Œè¿‡æ»¤æ‰å°†è¿‡æ»¤ä¹‹åçš„è¡Œæ·»åŠ è¿›åˆ—è¡¨æœ€åå°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥</code></pre><blockquote></blockquote><p>strip ç”¨äºåˆ é™¤å¼€å¤´å’Œç»“å°¾çš„ç©ºæ ¼<br>strip(æŒ‡å®šçš„å­—ç¬¦ä¸²) ç”¨äºåˆ é™¤å¼€å¤´å’Œç»“å°¾æŒ‡å®šçš„å­—ç¬¦ä¸²<br>startswith ç”¨äºæ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥æŒ‡å®šå­—ç¬¦ä¸²å¼€å¤´</p><h4 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_build_json</span>(<span class="params">build_path</span>):</span><br><span class="line">    lines = []</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(build_path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> f.readlines():</span><br><span class="line">            <span class="comment"># å¯¹æ¯ä¸€è¡Œè¿›è¡Œè¿‡æ»¤</span></span><br><span class="line">            <span class="keyword">if</span> row.strip().startswith(<span class="string">&quot;//&quot;</span>):</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="comment"># å°†è¿‡æ»¤åçš„è¡Œæ·»åŠ åˆ°åˆ—è¡¨</span></span><br><span class="line">            lines.append(row)</span><br><span class="line">    <span class="comment"># å°†æ¯ä¸€ä¸ªå­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥</span></span><br><span class="line">    conf_data = json.loads(<span class="string">&quot;\n&quot;</span>.join(lines))</span><br><span class="line">    <span class="keyword">return</span> conf_data</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹é”</title>
      <link href="/2022/06/25/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E9%94%81/"/>
      <url>/2022/06/25/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E9%94%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><blockquote><p>å½“ä¸€ä¸ªæ•°æ®æœ‰å¤šä¸ªçº¿ç¨‹éƒ½å¯ä»¥å¯¹å…¶è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹æ”¹å˜å®ƒéƒ½ä¼šå¯¹å…¶ä»–çº¿ç¨‹é€ æˆå½±å“ï¼Œå¦‚æœæˆ‘ä»¬æŸä¸€ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨å®Œä¹‹å‰ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å¯¹å…¶ä¿®æ”¹ï¼Œå°±éœ€è¦å¯¹è¿™ä¸ªçº¿ç¨‹å¢åŠ ä¸€ä¸ªçº¿ç¨‹é”ã€‚é¿å…å¤šä¸ªçº¿ç¨‹ä¿å«åŒä¸€å—æ•°æ®çš„æ—¶å€™ï¼Œäº§ç”Ÿé”™è¯¯ï¼Œæ‰€ä»¥åŠ é”æ¥é˜²æ­¢è¿™ç§é—®é¢˜</p></blockquote><p>ä¸‹é¢æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num -= <span class="number">1</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">add()å’Œsub()ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹numè¿›è¡Œæ“ä½œ</span></span><br><span class="line"><span class="string">çœ‹ç»“æœï¼Œå¯ä»¥æœ‰ä»¥ä¸‹æ¨è®ºï¼š</span></span><br><span class="line"><span class="string">1ã€åŒæ—¶æ“ä½œä¸ä¼šæ˜¯ç¨‹åºå´©æºƒï¼ˆnumæ˜¯intç±»å‹ï¼Œintç±»å‹æœ¬èº«æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼‰</span></span><br><span class="line"><span class="string">2ã€ä½†æ˜¯ä¼šæ“ä½œç»“æœå‘ˆç°æœªçŸ¥çŠ¶æ€ï¼Œè¯´æ˜è¿™ä¸ªæµç¨‹æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ã€‚å› ä¸ºçº¿ç¨‹è¿è¡Œçš„å…ˆåé¡ºåºæ˜¯æœªçŸ¥çš„ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœä¸‰æ¬¡é‡‡é›†</span></span><br><span class="line"><span class="comment"># num result : 669214</span></span><br><span class="line"><span class="comment"># num result : -1849179</span></span><br><span class="line"><span class="comment"># num result : -525674</span></span><br></pre></td></tr></table></figure><p>æƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¿…é¡»é€šè¿‡é”æ¥ä¿éšœçº¿ç¨‹åˆ‡æ¢çš„æ—¶æœºã€‚<br>éœ€è¦æˆ‘ä»¬å€¼å¾—ç•™æ„çš„æ˜¯ï¼Œåœ¨<strong>Python</strong>åŸºæœ¬æ•°æ®ç±»å‹ä¸­<strong>listã€tupleã€dict</strong>æœ¬èº«å°±æ˜¯å±äºçº¿ç¨‹å®‰å…¨çš„ï¼Œæ‰€ä»¥å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹å¯¹è¿™3ç§å®¹å™¨åšæ“ä½œæ—¶ï¼Œæˆ‘ä»¬ä¸å¿…è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚(éå¸¸å¥½çš„è®¾è®¡)</p><h1 id="é”çš„ä½œç”¨"><a href="#é”çš„ä½œç”¨" class="headerlink" title="é”çš„ä½œç”¨"></a>é”çš„ä½œç”¨</h1><p>é”æ˜¯Pythonæä¾›ç»™æˆ‘ä»¬èƒ½å¤Ÿè‡ªè¡Œæ“æ§çº¿ç¨‹åˆ‡æ¢çš„ä¸€ç§æ‰‹æ®µï¼Œä½¿ç”¨é”å¯ä»¥è®©çº¿ç¨‹çš„åˆ‡æ¢å˜çš„æœ‰åºã€‚</p><p>ä¸€æ—¦çº¿ç¨‹çš„åˆ‡æ¢å˜çš„æœ‰åºåï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å¯¹æ•°æ®çš„è®¿é—®ã€ä¿®æ”¹å°±å˜çš„å¯æ§ï¼Œæ‰€ä»¥è‹¥è¦ä¿è¯çº¿ç¨‹å®‰å…¨ï¼Œå°±å¿…é¡»ä½¿ç”¨é”ã€‚</p><p><strong>threadingæ¨¡å—</strong>ä¸­æä¾›äº†5ç§æœ€å¸¸è§çš„é”ï¼Œä¸‹é¢æ˜¯æŒ‰ç…§åŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼š</p><ul><li><p>åŒæ­¥é”ï¼šlockï¼ˆä¸€æ¬¡åªèƒ½æ”¾è¡Œä¸€ä¸ªï¼‰</p></li><li><p>é€’å½’é”ï¼šrlockï¼ˆä¸€æ¬¡åªèƒ½æ”¾è¡Œä¸€ä¸ªï¼‰</p></li><li><p>æ¡ä»¶é”ï¼šconditionï¼ˆä¸€æ¬¡å¯ä»¥æ”¾è¡Œä»»æ„ä¸ªï¼‰</p></li><li><p>äº‹ä»¶é”ï¼ševentï¼ˆä¸€æ¬¡å…¨éƒ¨æ”¾è¡Œï¼‰</p></li><li><p>ä¿¡å·é‡é”ï¼šsemaphoreï¼ˆä¸€æ¬¡å¯ä»¥æ”¾è¡Œç‰¹å®šä¸ªï¼‰</p></li></ul><h1 id="1ã€Lock-åŒæ­¥é”"><a href="#1ã€Lock-åŒæ­¥é”" class="headerlink" title="1ã€Lock() åŒæ­¥é”"></a>1ã€Lock() åŒæ­¥é”</h1><p>åŸºæœ¬ä»‹ç»<br>Locké”çš„ç§°å‘¼æœ‰å¾ˆå¤šï¼Œå¦‚ï¼šåŒæ­¥é”ã€äº’æ–¥é”</p><p>å®ƒä»¬æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå¦‚ä¸‹æ‰€ç¤ºï¼š</p><p><strong>äº’æ–¥</strong>æŒ‡çš„æ˜¯æŸä¸€èµ„æº<strong>åŒä¸€æ—¶åˆ»ä»…èƒ½æœ‰ä¸€ä¸ªè®¿é—®è€…</strong>å¯¹å…¶è¿›è¡Œè®¿é—®ï¼Œå…·æœ‰å”¯ä¸€æ€§å’Œæ’ä»–æ€§ï¼Œä½†æ˜¯äº’æ–¥æ— æ³•é™åˆ¶è®¿é—®è€…å¯¹èµ„æºçš„è®¿é—®é¡ºåºï¼Œå³è®¿é—®æ˜¯<strong>æ— åºçš„</strong></p><p>åŒæ­¥æ˜¯æŒ‡åœ¨äº’æ–¥çš„åŸºç¡€ä¸Šï¼ˆå¤§å¤šæ•°æƒ…å†µï¼‰ï¼Œé€šè¿‡å…¶ä»–æœºåˆ¶å®ç°è®¿é—®è€…å¯¹èµ„æºçš„æœ‰åºè®¿é—®</p><p>åŒæ­¥å…¶å®å·²ç»å®ç°äº†äº’æ–¥ï¼Œæ˜¯äº’æ–¥çš„ä¸€ç§æ›´ä¸ºå¤æ‚çš„å®ç°ï¼Œå› ä¸ºå®ƒåœ¨äº’æ–¥çš„åŸºç¡€ä¸Šå®ç°äº†æœ‰åºè®¿é—®çš„ç‰¹ç‚¹</p><p>ä¸‹é¢æ˜¯threadingæ¨¡å—ä¸åŒæ­¥é”æä¾›çš„ç›¸å…³æ–¹æ³•ï¼š</p><p><strong>ä½¿ç”¨æ–¹å¼</strong></p><p><strong>åŒæ­¥é”ä¸€æ¬¡åªèƒ½æ”¾è¡Œä¸€ä¸ªçº¿ç¨‹</strong>ï¼Œä¸€ä¸ªè¢«åŠ é”çš„çº¿ç¨‹åœ¨è¿è¡Œæ—¶ä¸ä¼šå°†æ‰§è¡Œæƒäº¤å‡ºå»ï¼Œåªæœ‰å½“è¯¥çº¿ç¨‹è¢«è§£é”æ—¶æ‰ä¼šå°†æ‰§è¡Œæƒé€šè¿‡ç³»ç»Ÿè°ƒåº¦äº¤ç”±å…¶ä»–çº¿ç¨‹ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œä½¿ç”¨åŒæ­¥é”è§£å†³æœ€ä¸Šé¢çš„é—®é¢˜ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    lock.acquire()<span class="comment"># åŒæ­¥é”</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    lock.acquire()<span class="comment"># åŒæ­¥é”  ä¸€æ¬¡åªèƒ½ä¸€ä¸ª</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num -= <span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock = threading.Lock()<span class="comment"># åˆ›å»ºåŒæ­¥é”</span></span><br><span class="line"></span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœä¸‰æ¬¡é‡‡é›†</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·è¿™ä¸ªä»£ç å°±å®Œå…¨å˜æˆäº†ä¸²è¡Œçš„çŠ¶æ€ï¼Œå¯¹äºè¿™ç§è®¡ç®—å¯†é›†å‹I&#x2F;Oä¸šåŠ¡æ¥è¯´ï¼Œè¿˜ä¸å¦‚ç›´æ¥ä½¿ç”¨ä¸²è¡ŒåŒ–å•çº¿ç¨‹æ‰§è¡Œæ¥å¾—å¿«ï¼Œæ‰€ä»¥è¿™ä¸ªä¾‹å­ä»…ä½œä¸ºä¸€ä¸ªç¤ºä¾‹ï¼Œä¸èƒ½æ¦‚è¿°é”çœŸæ­£çš„ç”¨é€”ã€‚</p><h1 id="æ­»é”ç°è±¡"><a href="#æ­»é”ç°è±¡" class="headerlink" title="æ­»é”ç°è±¡"></a>æ­»é”ç°è±¡</h1><p>å¯¹äºåŒæ­¥é”æ¥è¯´ï¼Œä¸€æ¬¡acquire()å¿…é¡»å¯¹åº”ä¸€æ¬¡release()ï¼Œä¸èƒ½å‡ºç°è¿ç»­é‡å¤ä½¿ç”¨å¤šæ¬¡acquire()åå†é‡å¤ä½¿ç”¨å¤šæ¬¡release()çš„æ“ä½œï¼Œè¿™æ ·ä¼šå¼•èµ·æ­»é”é€ æˆç¨‹åºçš„é˜»å¡ï¼Œå®Œå…¨ä¸åŠ¨äº†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    lock.acquire()  <span class="comment"># ä¸Šé”</span></span><br><span class="line">    lock.acquire()  <span class="comment"># æ­»é”</span></span><br><span class="line">    <span class="comment"># ä¸æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    lock.acquire()  <span class="comment"># ä¸Šé”</span></span><br><span class="line">    lock.acquire()  <span class="comment"># æ­»é”</span></span><br><span class="line">    <span class="comment"># ä¸æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num -= <span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock = threading.Lock() <span class="comment"># åˆ›å»ºlock</span></span><br><span class="line"></span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br></pre></td></tr></table></figure><p>withè¯­å¥ ï¼ˆè‡ªåŠ¨åŠ é”ã€è§£é”ï¼‰</p><p>ç”±äºthreading.Lock()å¯¹è±¡ä¸­å®ç°äº†enter__()ä¸__exit()æ–¹æ³•ï¼Œæ•…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨withè¯­å¥è¿›è¡Œ<strong>ä¸Šä¸‹æ–‡ç®¡ç†å½¢å¼</strong>çš„åŠ é”è§£é”æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    <span class="keyword">with</span> lock:<span class="comment"># withè¯­å¥lockçš„ç”¨æ³•ï¼Œè‡ªåŠ¨åŠ é”ã€è§£é”</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨åŠ é”</span></span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨è§£é”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    <span class="keyword">with</span> lock:</span><br><span class="line">        <span class="comment"># è‡ªåŠ¨åŠ é”</span></span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">            num -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨è§£é”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock = threading.Lock()</span><br><span class="line"></span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœä¸‰æ¬¡é‡‡é›†</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br></pre></td></tr></table></figure><h1 id="2ã€RLock-é€’å½’é”"><a href="#2ã€RLock-é€’å½’é”" class="headerlink" title="2ã€RLock() é€’å½’é”"></a>2ã€RLock() é€’å½’é”</h1><p>åŸºæœ¬ä»‹ç»</p><p>é€’å½’é”æ˜¯åŒæ­¥é”çš„ä¸€ä¸ªå‡çº§ç‰ˆæœ¬ï¼Œåœ¨åŒæ­¥é”çš„åŸºç¡€ä¸Šå¯ä»¥åšåˆ°è¿ç»­é‡å¤ä½¿ç”¨å¤šæ¬¡acquire()åå†é‡å¤ä½¿ç”¨å¤šæ¬¡release()çš„æ“ä½œï¼Œä½†æ˜¯ä¸€å®šè¦æ³¨æ„åŠ é”æ¬¡æ•°å’Œè§£é”æ¬¡æ•°å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™ä¹Ÿå°†å¼•å‘æ­»é”ç°è±¡ã€‚</p><p>ä¸‹é¢æ˜¯threadingæ¨¡å—ä¸é€’å½’é”æä¾›çš„ç›¸å…³æ–¹æ³•ï¼š<br><img src="https://s1.ax1x.com/2022/06/25/jkyD2Q.png" alt="jkyD2Q.png"></p><p>ä½¿ç”¨æ–¹å¼</p><p>ä»¥ä¸‹æ˜¯é€’å½’é”çš„ç®€å•ä½¿ç”¨ï¼Œä¸‹é¢è¿™æ®µæ“ä½œå¦‚æœä½¿ç”¨åŒæ­¥é”åˆ™ä¼šå‘ç”Ÿæ­»é”ç°è±¡ï¼Œä½†æ˜¯é€’å½’é”ä¸ä¼šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    lock.acquire()<span class="comment"># ç¬¬ä¸€æ¬¡ä¸Šé”</span></span><br><span class="line">    lock.acquire()<span class="comment"># ç¬¬äºŒæ¬¡ä¸Šé”ï¼Œè¿™ç§å†™æ³• é€’å½’é” èƒ½æ­£å¸¸è¿è¡Œï¼›åŒæ­¥é”ä¼šå‘ç”Ÿæ­»é”ï¼›</span></span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num += <span class="number">1</span></span><br><span class="line">    lock.release()<span class="comment"># ä¸ç†è§£ é€’å½’é”å­˜åœ¨çš„æ„ä¹‰ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    lock.acquire()</span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="keyword">global</span> num</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">        num -= <span class="number">1</span></span><br><span class="line">    lock.release()</span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock = threading.RLock()   <span class="comment"># åˆ›å»º é€’å½’é” å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœä¸‰æ¬¡é‡‡é›†</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br></pre></td></tr></table></figure><p>withè¯­å¥<br>ç”±äºthreading.RLock()å¯¹è±¡ä¸­å®ç°äº†enter__()ä¸__exit()æ–¹æ³•ï¼Œæ•…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨withè¯­å¥è¿›è¡Œä¸Šä¸‹æ–‡ç®¡ç†å½¢å¼çš„åŠ é”è§£é”æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>():</span><br><span class="line">    <span class="keyword">with</span> lock:<span class="comment"># é€’å½’é”å’ŒåŒæ­¥é” éƒ½å¯ä»¥ä½¿ç”¨ with è¯­å¥ï¼Œè¿›è¡Œè‡ªåŠ¨åŠ é”ã€è§£é”</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨åŠ é”</span></span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">            num += <span class="number">1</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨è§£é”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>():</span><br><span class="line">    <span class="keyword">with</span> lock:</span><br><span class="line">        <span class="comment"># è‡ªåŠ¨åŠ é”</span></span><br><span class="line">        <span class="keyword">global</span> num</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10_000_000</span>):</span><br><span class="line">            num -= <span class="number">1</span></span><br><span class="line">        <span class="comment"># è‡ªåŠ¨è§£é”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    lock = threading.RLock()</span><br><span class="line"></span><br><span class="line">    subThread01 = threading.Thread(target=add)</span><br><span class="line">    subThread02 = threading.Thread(target=sub)</span><br><span class="line"></span><br><span class="line">    subThread01.start()</span><br><span class="line">    subThread02.start()</span><br><span class="line"></span><br><span class="line">    subThread01.join()</span><br><span class="line">    subThread02.join()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;num result : %s&quot;</span> % num)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»“æœä¸‰æ¬¡é‡‡é›†</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br><span class="line"><span class="comment"># num result : 0</span></span><br></pre></td></tr></table></figure><h1 id="3ã€Condition-æ¡ä»¶é”"><a href="#3ã€Condition-æ¡ä»¶é”" class="headerlink" title="3ã€Condition() æ¡ä»¶é”"></a>3ã€Condition() æ¡ä»¶é”</h1><p>åŸºæœ¬ä»‹ç»</p><p>æ¡ä»¶é”æ˜¯åœ¨é€’å½’é”çš„åŸºç¡€ä¸Šå¢åŠ äº†èƒ½å¤Ÿæš‚åœçº¿ç¨‹è¿è¡Œçš„åŠŸèƒ½ã€‚å¹¶ä¸”æˆ‘ä»¬å¯ä»¥ä½¿ç”¨wait()ä¸notify()æ¥æ§åˆ¶çº¿ç¨‹æ‰§è¡Œçš„ä¸ªæ•°ã€‚</p><p>æ³¨æ„ï¼šæ¡ä»¶é”å¯ä»¥è‡ªç”±è®¾å®šä¸€æ¬¡æ”¾è¡Œå‡ ä¸ªçº¿ç¨‹ã€‚</p><p>ä¸‹é¢æ˜¯threadingæ¨¡å—ä¸æ¡ä»¶é”æä¾›çš„ç›¸å…³æ–¹æ³•ï¼š<br><img src="https://s1.ax1x.com/2022/06/25/jky524.png" alt="jky524.png"><br>ä½¿ç”¨æ–¹å¼<br>ä¸‹é¢è¿™ä¸ªæ¡ˆä¾‹ä¼šå¯åŠ¨10ä¸ªå­çº¿ç¨‹ï¼Œå¹¶ä¸”ä¼šç«‹å³å°†10ä¸ªå­çº¿ç¨‹è®¾ç½®ä¸ºç­‰å¾…çŠ¶æ€ã€‚</p><p>ç„¶åæˆ‘ä»¬å¯ä»¥å‘é€ä¸€ä¸ªæˆ–è€…å¤šä¸ªé€šçŸ¥ï¼Œæ¥æ¢å¤è¢«ç­‰å¾…çš„å­çº¿ç¨‹ç»§ç»­è¿è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">currentRunThreadNumber = <span class="number">0</span>    <span class="comment"># å½“å‰è¿è¡Œçº¿ç¨‹çš„æ•°é‡</span></span><br><span class="line">maxSubThreadNumber = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="keyword">global</span> currentRunThreadNumber</span><br><span class="line">    thName = threading.currentThread().name</span><br><span class="line"></span><br><span class="line">    condLock.acquire()  <span class="comment"># ä¸Šé”</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;start and wait run thread : %s&quot;</span> % thName)</span><br><span class="line"></span><br><span class="line">    condLock.wait()  <span class="comment"># æš‚åœçº¿ç¨‹è¿è¡Œã€ç­‰å¾…å”¤é†’</span></span><br><span class="line">    currentRunThreadNumber += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;carry on run thread : %s&quot;</span> % thName)</span><br><span class="line"></span><br><span class="line">    condLock.release()  <span class="comment"># è§£é”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    condLock = threading.Condition()   <span class="comment"># åˆ›å»ºæ¡ä»¶é”</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxSubThreadNumber):</span><br><span class="line">        subThreadIns = threading.Thread(target=task)</span><br><span class="line">        subThreadIns.start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> currentRunThreadNumber &lt; maxSubThreadNumber:</span><br><span class="line">        notifyNumber = <span class="built_in">int</span>(</span><br><span class="line">            <span class="built_in">input</span>(<span class="string">&quot;Please enter the number of threads that need to be notified to runï¼š&quot;</span>))  <span class="comment"># æ‰‹åŠ¨è¾“å…¥æ”¾è¡Œæ•°é‡</span></span><br><span class="line"><span class="comment"># å¾ªç¯æ”¾è¡Œ</span></span><br><span class="line">        condLock.acquire()</span><br><span class="line">        condLock.notify(notifyNumber)  <span class="comment"># æ”¾è¡Œ</span></span><br><span class="line">        condLock.release()</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main thread run end&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆå¯åŠ¨10ä¸ªå­çº¿ç¨‹ï¼Œç„¶åè¿™äº›å­çº¿ç¨‹ä¼šå…¨éƒ¨å˜ä¸ºç­‰å¾…çŠ¶æ€</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-1</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-2</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-3</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-4</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-5</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-6</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-7</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-8</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-9</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¹é‡å‘é€é€šçŸ¥ï¼Œæ”¾è¡Œç‰¹å®šæ•°é‡çš„å­çº¿ç¨‹ç»§ç»­è¿è¡Œ</span></span><br><span class="line"><span class="comment"># Please enter the number of threads that need to be notified to runï¼š5  # æ”¾è¡Œ5ä¸ª</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-4</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-3</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-1</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-2</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-5</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Please enter the number of threads that need to be notified to runï¼š5  # æ”¾è¡Œ5ä¸ª</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-8</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-10</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-6</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-9</span></span><br><span class="line"><span class="comment"># carry on run thread : Thread-7</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Please enter the number of threads that need to be notified to runï¼š1</span></span><br><span class="line"><span class="comment"># main thread run end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>withè¯­å¥<br>ç”±äºthreading.Condition()å¯¹è±¡ä¸­å®ç°äº†enter__()ä¸__exit()æ–¹æ³•ï¼Œæ•…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨withè¯­å¥è¿›è¡Œä¸Šä¸‹æ–‡ç®¡ç†å½¢å¼çš„åŠ é”è§£é”æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">currentRunThreadNumber = <span class="number">0</span></span><br><span class="line">maxSubThreadNumber = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    <span class="keyword">global</span> currentRunThreadNumber</span><br><span class="line">    thName = threading.currentThread().name    <span class="comment"># è¿”å›å½“å‰çº¿ç¨‹åç§°</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> condLock:    <span class="comment"># with ç”¨æ³•</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;start and wait run thread : %s&quot;</span> % thName)</span><br><span class="line">        condLock.wait()  <span class="comment"># æš‚åœçº¿ç¨‹è¿è¡Œã€ç­‰å¾…å”¤é†’</span></span><br><span class="line">        currentRunThreadNumber += <span class="number">1</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;carry on run thread : %s&quot;</span> % thName)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    condLock = threading.Condition()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxSubThreadNumber):</span><br><span class="line">        subThreadIns = threading.Thread(target=task)</span><br><span class="line">        subThreadIns.start()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> currentRunThreadNumber &lt; maxSubThreadNumber:</span><br><span class="line">        notifyNumber = <span class="built_in">int</span>(</span><br><span class="line">            <span class="built_in">input</span>(<span class="string">&quot;Please enter the number of threads that need to be notified to runï¼š&quot;</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">with</span> condLock:   <span class="comment"># with ç”¨æ³•</span></span><br><span class="line">            condLock.notify(notifyNumber)  <span class="comment"># æ”¾è¡Œ</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;main thread run end&quot;</span>)</span><br></pre></td></tr></table></figure><h1 id="4ã€Event-äº‹ä»¶é”"><a href="#4ã€Event-äº‹ä»¶é”" class="headerlink" title="4ã€Event() äº‹ä»¶é”"></a>4ã€Event() äº‹ä»¶é”</h1><p>åŸºæœ¬ä»‹ç»</p><p>äº‹ä»¶é”æ˜¯åŸºäºæ¡ä»¶é”æ¥åšçš„ï¼Œå®ƒä¸æ¡ä»¶é”çš„åŒºåˆ«åœ¨äºä¸€æ¬¡åªèƒ½æ”¾è¡Œå…¨éƒ¨ï¼Œä¸èƒ½æ”¾è¡Œä»»æ„ä¸ªæ•°é‡çš„å­çº¿ç¨‹ç»§ç»­è¿è¡Œã€‚</p><p>æˆ‘ä»¬å¯ä»¥å°†äº‹ä»¶é”çœ‹ä¸ºçº¢ç»¿ç¯ï¼Œå½“çº¢ç¯æ—¶æ‰€æœ‰å­çº¿ç¨‹éƒ½æš‚åœè¿è¡Œï¼Œå¹¶è¿›å…¥â€œç­‰å¾…â€çŠ¶æ€ï¼Œå½“ç»¿ç¯æ—¶æ‰€æœ‰å­çº¿ç¨‹éƒ½æ¢å¤â€œè¿è¡Œâ€ã€‚</p><p>ä¸‹é¢æ˜¯threadingæ¨¡å—ä¸äº‹ä»¶é”æä¾›çš„ç›¸å…³æ–¹æ³•ï¼š<br><img src="https://s1.ax1x.com/2022/06/25/jkyqVx.png" alt="jkyqVx.png"></p><p>ä½¿ç”¨æ–¹å¼<br>äº‹ä»¶é”ä¸èƒ½åˆ©ç”¨withè¯­å¥æ¥è¿›è¡Œä½¿ç”¨ï¼Œåªèƒ½æŒ‰ç…§å¸¸è§„æ–¹å¼ã€‚</p><p>å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿçº¿ç¨‹å’Œçº¢ç»¿ç¯çš„æ“ä½œï¼Œçº¢ç¯åœï¼Œç»¿ç¯è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">maxSubThreadNumber = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():    </span><br><span class="line">thName = threading.currentThread().name    </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;start and wait run thread : %s&quot;</span> % thName)    </span><br><span class="line"></span><br><span class="line">eventLock.wait()  <span class="comment"># æš‚åœè¿è¡Œï¼Œç­‰å¾…ç»¿ç¯    </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;green light, %s carry on run&quot;</span> % thName)    </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;red light, %s stop run&quot;</span> % thName)    </span><br><span class="line"></span><br><span class="line">eventLock.wait()  <span class="comment"># æš‚åœè¿è¡Œï¼Œç­‰å¾…ç»¿ç¯    </span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;green light, %s carry on run&quot;</span> % thName)    </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;sub thread %s run end&quot;</span> % thName)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:    </span><br><span class="line">eventLock = threading.Event()    <span class="comment"># äº‹ä»¶é”</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxSubThreadNumber):        </span><br><span class="line">subThreadIns = threading.Thread(target=task)     <span class="comment"># åˆ›å»ºçº¿ç¨‹   </span></span><br><span class="line">subThreadIns.start()    </span><br><span class="line"></span><br><span class="line"><span class="comment"># äº¤æ›¿ç»¿ã€çº¢ç¯</span></span><br><span class="line">eventLock.<span class="built_in">set</span>()  <span class="comment"># è®¾ç½®ä¸ºç»¿ç¯    </span></span><br><span class="line">eventLock.clear()  <span class="comment"># è®¾ç½®ä¸ºçº¢ç¯    </span></span><br><span class="line">eventLock.<span class="built_in">set</span>()  <span class="comment"># è®¾ç½®ä¸ºç»¿ç¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-1</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-2</span></span><br><span class="line"><span class="comment"># start and wait run thread : Thread-3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># green light, Thread-1 carry on run</span></span><br><span class="line"><span class="comment"># red light, Thread-1 stop run</span></span><br><span class="line"><span class="comment"># green light, Thread-1 carry on run</span></span><br><span class="line"><span class="comment"># sub thread Thread-1 run end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># green light, Thread-3 carry on run</span></span><br><span class="line"><span class="comment"># red light, Thread-3 stop run</span></span><br><span class="line"><span class="comment"># green light, Thread-3 carry on run</span></span><br><span class="line"><span class="comment"># sub thread Thread-3 run end</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># green light, Thread-2 carry on run</span></span><br><span class="line"><span class="comment"># red light, Thread-2 stop run</span></span><br><span class="line"><span class="comment"># green light, Thread-2 carry on run</span></span><br><span class="line"><span class="comment"># sub thread Thread-2 run end</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="5ã€Semaphore-ä¿¡å·é‡é”"><a href="#5ã€Semaphore-ä¿¡å·é‡é”" class="headerlink" title="5ã€Semaphore() ä¿¡å·é‡é”"></a>5ã€Semaphore() ä¿¡å·é‡é”</h1><p>åŸºæœ¬ä»‹ç»</p><p><strong>ä¿¡å·é‡é”</strong>ä¹Ÿæ˜¯æ ¹æ®æ¡ä»¶é”æ¥åšçš„ï¼Œå®ƒä¸æ¡ä»¶é”å’Œäº‹ä»¶é”çš„åŒºåˆ«å¦‚ä¸‹ï¼š</p><ul><li>æ¡ä»¶é”ï¼šä¸€æ¬¡å¯ä»¥æ”¾è¡Œä»»æ„ä¸ªå¤„äºâ€œç­‰å¾…â€çŠ¶æ€çš„çº¿ç¨‹</li><li>äº‹ä»¶é”ï¼šä¸€æ¬¡å¯ä»¥æ”¾è¡Œå…¨éƒ¨çš„å¤„äºâ€œç­‰å¾…â€çŠ¶æ€çš„çº¿ç¨‹</li><li>ä¿¡å·é‡é”ï¼šé€šè¿‡è§„å®šï¼Œæˆæ‰¹çš„æ”¾è¡Œç‰¹å®šä¸ªå¤„äºâ€œä¸Šé”â€çŠ¶æ€çš„çº¿ç¨‹</li></ul><p>ä¸‹é¢æ˜¯threadingæ¨¡å—ä¸ä¿¡å·é‡é”æä¾›çš„ç›¸å…³æ–¹æ³•ï¼š</p><p><img src="https://s1.ax1x.com/2022/06/25/jk69sA.png" alt="jk69sA.png"></p><p>ä½¿ç”¨æ–¹å¼<br>ä»¥ä¸‹æ˜¯ä½¿ç”¨ç¤ºä¾‹ï¼Œä½ å¯ä»¥å°†å®ƒå½“åšä¸€æ®µé™å®½çš„è·¯æ®µï¼Œæ¯æ¬¡åªèƒ½æ”¾è¡Œç›¸åŒæ•°é‡çš„çº¿ç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">maxSubThreadNumber = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    thName = threading.currentThread().name</span><br><span class="line">    </span><br><span class="line">    semaLock.acquire()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;run sub thread %s&quot;</span> % thName)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">    semaLock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># æ¯æ¬¡åªèƒ½æ”¾è¡Œ2ä¸ª</span></span><br><span class="line">    semaLock = threading.Semaphore(<span class="number">2</span>)   <span class="comment"># ä¿¡å·é‡é” å¯ä»¥é™åˆ¶æ¯æ¬¡æ”¾è¡Œçº¿ç¨‹çš„æ•°é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxSubThreadNumber):</span><br><span class="line">        subThreadIns = threading.Thread(target=task)</span><br><span class="line">        subThreadIns.start()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># run sub thread Thread-1</span></span><br><span class="line"><span class="comment"># run sub thread Thread-2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run sub thread Thread-3</span></span><br><span class="line"><span class="comment"># run sub thread Thread-4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># run sub thread Thread-6</span></span><br><span class="line"><span class="comment"># run sub thread Thread-5</span></span><br></pre></td></tr></table></figure><p>withè¯­å¥</p><p>ç”±äºthreading.Semaphore()å¯¹è±¡ä¸­å®ç°äº†enter__()ä¸__exit()æ–¹æ³•ï¼Œæ•…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨withè¯­å¥è¿›è¡Œä¸Šä¸‹æ–‡ç®¡ç†å½¢å¼çš„åŠ é”è§£é”æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">maxSubThreadNumber = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">task</span>():</span><br><span class="line">    thName = threading.currentThread().name</span><br><span class="line">    <span class="keyword">with</span> semaLock:<span class="comment"># with ä¿¡å·é‡é” semaphore</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;run sub thread %s&quot;</span> % thName)</span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line"></span><br><span class="line">    semaLock = threading.Semaphore(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(maxSubThreadNumber):</span><br><span class="line">        subThreadIns = threading.Thread(target=task)</span><br><span class="line">        subThreadIns.start()</span><br></pre></td></tr></table></figure><h1 id="é”å…³ç³»æµ…æ"><a href="#é”å…³ç³»æµ…æ" class="headerlink" title="é”å…³ç³»æµ…æ"></a>é”å…³ç³»æµ…æ</h1><p>ä¸Šé¢5ç§é”å¯ä»¥è¯´éƒ½æ˜¯<strong>åŸºäºåŒæ­¥é”</strong>æ¥åšçš„ï¼Œè¿™äº›ä½ éƒ½å¯ä»¥ä»æºç ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚</p><p>é¦–å…ˆæ¥çœ‹<strong>RLocké€’å½’é”</strong>ï¼Œé€’å½’é”çš„å®ç°éå¸¸ç®€å•ï¼Œå®ƒçš„å†…éƒ¨ä¼šç»´æŠ¤ç€ä¸€ä¸ªè®¡æ•°å™¨ï¼Œå½“è®¡æ•°å™¨ä¸ä¸º0çš„æ—¶å€™è¯¥çº¿ç¨‹ä¸èƒ½è¢«I&#x2F;Oæ“ä½œå’Œæ—¶é—´è½®è¯¢æœºåˆ¶åˆ‡æ¢ã€‚ä½†æ˜¯å½“è®¡æ•°å™¨ä¸º0çš„æ—¶å€™ä¾¿ä¸ä¼šå¦‚æ­¤äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    self._block = _allocate_lock()</span><br><span class="line">    self._owner = <span class="literal">None</span></span><br><span class="line">    self._count = <span class="number">0</span>  <span class="comment"># è®¡æ•°å™¨</span></span><br></pre></td></tr></table></figure><p>è€Œ<strong>Conditionæ¡ä»¶é”</strong>çš„å†…éƒ¨å…¶å®æ˜¯æœ‰<strong>ä¸¤æŠŠé”</strong>çš„ï¼Œä¸€æŠŠåº•å±‚é”ï¼ˆåŒæ­¥é”ï¼‰ä¸€æŠŠé«˜çº§é”(é€’å½’é”)ã€‚</p><p>ä½å±‚é”çš„è§£é”æ–¹å¼æœ‰ä¸¤ç§ï¼Œä½¿ç”¨wait()æ–¹æ³•ä¼šæš‚æ—¶è§£å¼€åº•å±‚é”åŒæ—¶åŠ ä¸Šä¸€æŠŠé«˜çº§é”ï¼Œåªæœ‰å½“æ¥æ”¶åˆ°åˆ«çš„çº¿ç¨‹é‡Œçš„**notfiy()**åæ‰ä¼šè§£å¼€é«˜çº§é”å’Œé‡æ–°ä¸Šé”ä½å±‚é”ï¼Œä¹Ÿå°±æ˜¯è¯´æ¡ä»¶é”åº•å±‚æ˜¯æ ¹æ®åŒæ­¥é”å’Œé€’å½’é”çš„ä¸æ–­åˆ‡æ¢æ¥è¿›è¡Œå®ç°çš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, lock=<span class="literal">None</span></span>):    </span><br><span class="line"><span class="keyword">if</span> lock <span class="keyword">is</span> <span class="literal">None</span>:        </span><br><span class="line">lock = RLock()  <span class="comment"># å¯ä»¥çœ‹åˆ°æ¡ä»¶é”çš„å†…éƒ¨æ˜¯åŸºäºé€’å½’é”ï¼Œè€Œé€’å½’é”åˆæ˜¯åŸºäºåŒæ­¥é”æ¥åšçš„    </span></span><br><span class="line">self._lock = lock    </span><br><span class="line">self.acquire = lock.acquire    </span><br><span class="line">self.release = lock.release    </span><br><span class="line"><span class="keyword">try</span>:        </span><br><span class="line">self._release_save = lock._release_save    </span><br><span class="line"><span class="keyword">except</span> AttributeError:        </span><br><span class="line"><span class="keyword">pass</span>    </span><br><span class="line"><span class="keyword">try</span>:        </span><br><span class="line">self._acquire_restore = lock._acquire_restore    </span><br><span class="line"><span class="keyword">except</span> AttributeError:        </span><br><span class="line"><span class="keyword">pass</span>    </span><br><span class="line"><span class="keyword">try</span>:        </span><br><span class="line">self._is_owned = lock._is_owned    </span><br><span class="line"><span class="keyword">except</span> AttributeError:        </span><br><span class="line"><span class="keyword">pass</span>    </span><br><span class="line">self._waiters = _deque()</span><br></pre></td></tr></table></figure><p>Eventäº‹ä»¶é”å†…éƒ¨æ˜¯åŸºäºæ¡ä»¶é”æ¥åšçš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Event</span>:    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):        </span><br><span class="line">self._cond = Condition(Lock())  <span class="comment"># å®ä¾‹åŒ–å‡ºäº†ä¸€ä¸ªæ¡ä»¶é”ã€‚        </span></span><br><span class="line">self._flag = <span class="literal">False</span>    </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_reset_internal_locks</span>(<span class="params">self</span>):        <span class="comment"># private!  </span></span><br><span class="line">called by Thread._reset_internal_locks by _after_fork()        </span><br><span class="line">self._cond.__init__(Lock())    </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_set</span>(<span class="params">self</span>):        </span><br><span class="line"><span class="string">&quot;&quot;&quot;Return true if and only if the internal flag is true.&quot;&quot;&quot;</span>        </span><br><span class="line"><span class="keyword">return</span> self._flag    </span><br><span class="line"></span><br><span class="line">isSet = is_set</span><br></pre></td></tr></table></figure><p>Semaphoreä¿¡å·é‡é”å†…éƒ¨ä¹Ÿæ˜¯åŸºäºæ¡ä»¶é”æ¥åšçš„ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Semaphore</span>:    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value=<span class="number">1</span></span>):        </span><br><span class="line"><span class="keyword">if</span> value &lt; <span class="number">0</span>:            </span><br><span class="line"><span class="keyword">raise</span> ValueError(<span class="string">&quot;semaphore initial value must be &gt;= 0&quot;</span>)        </span><br><span class="line">self._cond = Condition(Lock()) <span class="comment"># å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œæ˜¯å®ä¾‹åŒ–å‡ºäº†ä¸€ä¸ªæ¡ä»¶é”        </span></span><br><span class="line">self._value = value</span><br></pre></td></tr></table></figure><h1 id="åŸºæœ¬ç»ƒä¹ é¢˜"><a href="#åŸºæœ¬ç»ƒä¹ é¢˜" class="headerlink" title="åŸºæœ¬ç»ƒä¹ é¢˜"></a>åŸºæœ¬ç»ƒä¹ é¢˜</h1><h4 id="æ¡ä»¶é”çš„åº”ç”¨"><a href="#æ¡ä»¶é”çš„åº”ç”¨" class="headerlink" title="æ¡ä»¶é”çš„åº”ç”¨"></a>æ¡ä»¶é”çš„åº”ç”¨</h4><p>éœ€æ±‚ï¼šä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œä¸¤ä¸ªçº¿ç¨‹è½®ç•ªå¾€é‡Œé¢åŠ å€¼ï¼ˆä¸€ä¸ªåŠ å¶æ•°ï¼Œä¸€ä¸ªåŠ å¥‡æ•°ï¼‰ï¼Œæœ€ç»ˆè®©è¯¥åˆ—è¡¨ä¸­çš„å€¼ä¸º 1 - 100 ï¼Œä¸”æ˜¯æœ‰åºæ’åˆ—çš„ã€‚</p><p>æ€è·¯ï¼š</p><ol><li>æ ¹æ®åˆ—è¡¨çš„é•¿åº¦åˆ¤æ–­åº”è¯¥æ·»åŠ å¶æ•°è¿˜æ˜¯å¥‡æ•°ï¼ˆä¾‹å¦‚ï¼šå¦‚æœé•¿åº¦ä¸º0ï¼Œä»£è¡¨é‡Œé¢â€œæ²¡æœ‰æ•°æ®â€éœ€è¦æ·»åŠ 1ï¼Œåˆ™éœ€è¦æ·»åŠ å¥‡æ•°ï¼›1ï¼›å¦‚æœé•¿åº¦ä¸º1ï¼Œä»£è¡¨æ•°æ®ä¸ºâ€œ1â€ï¼Œåˆ™éœ€è¦æ·»åŠ å¶æ•°ï¼š2ï¼‰</li><li>ä»£ç ä¸»è¦é€»è¾‘å®ç°å°±æ˜¯ï¼šåˆ©ç”¨æ¡ä»¶é”çš„ç‰¹æ€§ï¼Œè®©ç¨‹åºåœ¨ç¬¦åˆæ¡ä»¶çš„æ—¶å€™æ‰§è¡Œï¼Œä¸ç¬¦åˆæ¡ä»¶çš„æ—¶å€™ç­‰å¾…ã€‚ç”¨é•¿åº¦é™¤ä»¥2ï¼Œæ±‚ä½™æ•°ï¼Œä½™æ•°ä¸º0ï¼Œåˆ™ä»£è¡¨èƒ½é™¤å°½ï¼Œéœ€è¦æ‰§è¡Œæ·»åŠ å¥‡æ•°çš„çº¿ç¨‹ï¼Œåä¹‹éœ€è¦æ‰§è¡Œæ·»åŠ å¶æ•°çš„çº¿ç¨‹ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">lst = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ å¶æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">even</span>():</span><br><span class="line">    <span class="comment"># with è‡ªåŠ¨åŠ é”è§£é”</span></span><br><span class="line">    <span class="keyword">with</span> condluck:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,<span class="number">101</span>,<span class="number">2</span>):</span><br><span class="line">            <span class="comment"># æ ¹æ®å½“å‰åˆ—è¡¨çš„é•¿åº¦ï¼Œåˆ¤æ–­å½“å‰çš„å…ƒç´ æ˜¯å¦æ˜¯å¶æ•°</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(lst) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># äº¤å‡ºæ‰§è¡Œæƒï¼Œç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹é€šçŸ¥åŠ å¶æ•°</span></span><br><span class="line">                condluck.wait()</span><br><span class="line">                lst.append(i)</span><br><span class="line">                <span class="comment"># å‘Šè¯‰å½“å‰åœ¨ç­‰å¾…çš„çº¿ç¨‹ä½ å¯ä»¥æ·»åŠ å¥‡æ•°äº†ï¼Œä½†æ˜¯è¿™é‡Œä¸ä¼šç«‹å³äº¤å‡ºæ‰§è¡Œæƒ</span></span><br><span class="line">                condluck.notify()</span><br><span class="line">        condluck.notify()</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ å¥‡æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">odd</span>():</span><br><span class="line">    <span class="keyword">with</span> condluck:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">101</span>,<span class="number">2</span>):</span><br><span class="line">            <span class="comment"># æ ¹æ®åˆ—è¡¨çš„é•¿åº¦åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦æ˜¯å¥‡æ•°</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(lst) % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                lst.append(i)</span><br><span class="line">                condluck.notify()</span><br><span class="line">                condluck.wait()</span><br><span class="line">        condluck.notify()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># æ¡ä»¶é”</span></span><br><span class="line">    condluck = threading.Condition()</span><br><span class="line"></span><br><span class="line">    addEvenTask = threading.Thread(target=even)</span><br><span class="line">    addoddTask = threading.Thread(target=odd)</span><br><span class="line">    addEvenTask.start()</span><br><span class="line">    addoddTask.start()</span><br><span class="line">    addEvenTask.join()</span><br><span class="line">    addoddTask.join()</span><br><span class="line">    <span class="built_in">print</span>(lst)</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>, <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>, <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>, <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é˜Ÿåˆ—+å¤šçº¿ç¨‹+è¿›åº¦æ¡</title>
      <link href="/2022/06/24/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E9%98%9F%E5%88%97+%E5%A4%9A%E7%BA%BF%E7%A8%8B+%E8%BF%9B%E5%BA%A6%E6%9D%A1/"/>
      <url>/2022/06/24/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E9%98%9F%E5%88%97+%E5%A4%9A%E7%BA%BF%E7%A8%8B+%E8%BF%9B%E5%BA%A6%E6%9D%A1/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="é˜Ÿåˆ—ã€å¤šçº¿ç¨‹ã€è¿›åº¦æ¡"><a href="#é˜Ÿåˆ—ã€å¤šçº¿ç¨‹ã€è¿›åº¦æ¡" class="headerlink" title="é˜Ÿåˆ—ã€å¤šçº¿ç¨‹ã€è¿›åº¦æ¡"></a>é˜Ÿåˆ—ã€å¤šçº¿ç¨‹ã€è¿›åº¦æ¡</h1><ol><li>åˆ©ç”¨é˜Ÿåˆ—<font color=red>å…ˆè¿›å…ˆå‡º</font>çš„ç‰¹æ€§ï¼Œå®ç°å…ˆå­˜å…¥çš„æ•°æ®å°±å…ˆå–å‡ºæ¥</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> queue</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºé˜Ÿåˆ—</span></span><br><span class="line">Queuelist = queue.Queue()</span><br><span class="line"></span><br><span class="line">letters = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"><span class="comment"># letters = [&quot;a&quot;,&quot;b&quot;,&quot;e&quot;,&quot;c&quot;,&quot;d&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> letters:</span><br><span class="line">    <span class="comment"># å‘é˜Ÿåˆ—æ·»åŠ æ•°æ®</span></span><br><span class="line">    Queuelist.put(letter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="built_in">print</span>(Queuelist.empty())</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ¤æ–­é˜Ÿåˆ—çš„å¤§å°</span></span><br><span class="line"><span class="keyword">while</span> Queuelist.qsize() &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="comment"># è·å–é˜Ÿåˆ—çš„æ•°æ®</span></span><br><span class="line">    letter = Queuelist.get()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;å–å‡ºçš„æ•°æ®ä¸ºï¼š<span class="subst">&#123;letter&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Queuelist.empty())</span><br><span class="line"><span class="comment"># å–å‡ºçš„æ•°æ®ä¸ºï¼ša</span></span><br><span class="line"><span class="comment"># å–å‡ºçš„æ•°æ®ä¸ºï¼šb</span></span><br><span class="line"><span class="comment"># å–å‡ºçš„æ•°æ®ä¸ºï¼šc</span></span><br><span class="line"><span class="comment"># å–å‡ºçš„æ•°æ®ä¸ºï¼šd</span></span><br><span class="line"><span class="comment"># å–å‡ºçš„æ•°æ®ä¸ºï¼še</span></span><br></pre></td></tr></table></figure><ol start="2"><li>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©æ•°æ®çš„å¤§å°æ¥åˆ›å»ºå¯¹åº”å¤§å°çš„çº¿ç¨‹æ•°ï¼Œä¸”æœ€å¤§çº¿ç¨‹æ•°ä¸º20ï¼Œå¹¶ç”¨ç±»å®ç°å¤šçº¿ç¨‹<br>è‡ªå®šä¹‰çº¿ç¨‹ï¼šç»§æ‰¿threading.Threadæ¥å®šä¹‰çº¿ç¨‹ç±»ï¼Œå…¶&#x3D;&#x3D;æœ¬è´¨æ˜¯é‡æ„Threadç±»ä¸­çš„runæ–¹æ³•&#x3D;&#x3D;<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰çº¿ç¨‹ï¼šç»§æ‰¿threading.Threadæ¥å®šä¹‰çº¿ç¨‹ç±»ï¼Œå…¶æœ¬è´¨æ˜¯é‡æ„Threadç±»ä¸­çš„runæ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AutoCreateAD</span>(threading.Thread):  <span class="comment"># é‡‡é›†çº¿ç¨‹ç±»</span></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, letter</span>):</span><br><span class="line">        <span class="comment"># è°ƒç”¨Thread çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="built_in">super</span>(AutoCreateAD, self).__init__()</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å­ç±»å±æ€§</span></span><br><span class="line">        self.letter = letter</span><br><span class="line">    <span class="comment"># çº¿ç¨‹å¯åŠ¨çš„æ—¶å€™è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;çº¿ç¨‹%sè·å–é“å¾·æ•°æ®%s&#x27;</span> % (threading.current_thread().getName(), self.letter))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">letters = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"><span class="comment"># æœ€å¤§çº¿ç¨‹æ•°</span></span><br><span class="line">concurrent = <span class="number">20</span></span><br><span class="line"><span class="comment"># å½“çº¿ç¨‹æ•°å°äºæœ€å¤§çº¿ç¨‹æ•°20</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(letters) &lt; concurrent:</span><br><span class="line">    concurrent = <span class="built_in">len</span>(letters)</span><br><span class="line">num = <span class="number">0</span></span><br><span class="line"><span class="comment"># æ”¶é›†çº¿ç¨‹</span></span><br><span class="line">thread_list = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(concurrent):</span><br><span class="line">    <span class="comment"># åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">    t = AutoCreateAD(letters[num])</span><br><span class="line">    thread_list.append(t)</span><br><span class="line">    <span class="comment"># å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">    t.start()</span><br><span class="line">    num += <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> t <span class="keyword">in</span> thread_list:</span><br><span class="line">    <span class="comment"># çº¿ç¨‹é˜»å¡ï¼šç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span></span><br><span class="line">    t.join()</span><br></pre></td></tr></table></figure></li></ol><h1 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h1><blockquote><p>ç»“åˆä¸Šé¢çš„é˜Ÿåˆ—å’Œå¤šçº¿ç¨‹ï¼Œå¦å¤–å¤šåŠ ä¸€ä¸ªè¿›åº¦æ¡</p></blockquote><h4 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h4><ol><li>è¯»å–é…ç½®æ–‡ä»¶</li><li>åˆ›å»ºè¿›åº¦æ¡ï¼Œå¯åŠ¨è¿›åº¦æ¡</li><li>åˆ›å»ºå¤šçº¿ç¨‹</li><li>å¯åŠ¨çº¿ç¨‹ï¼Œä»»åŠ¡è¿›è¡Œä¸­</li><li>ä¿®æ”¹è¿›åº¦æ¡è¿›åº¦</li><li>çº¿ç¨‹é˜»å¡ï¼Œç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> MetaData, create_engine <span class="keyword">as</span> _create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> VARCHAR</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> queue</span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> progressbar</span><br><span class="line"></span><br><span class="line">MAX_PROGRESSBAR_LENGTH = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start</span>(<span class="params">meta_obj, table_name, schema</span>):</span><br><span class="line"></span><br><span class="line">    table = fetch_table(meta_obj, table_name, schema)</span><br><span class="line">    <span class="keyword">global</span> p_value</span><br><span class="line">    p_value += <span class="number">1</span></span><br><span class="line">    bar.update(p_value)</span><br><span class="line">    build_orm_model(table)</span><br><span class="line">    p_value += <span class="number">1</span></span><br><span class="line">    bar.update(p_value)</span><br><span class="line">    build_in_model(table)</span><br><span class="line">    p_value += <span class="number">1</span></span><br><span class="line">    bar.update(p_value)</span><br><span class="line">    build_out_model(table)</span><br><span class="line">    p_value += <span class="number">1</span></span><br><span class="line">    bar.update(p_value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_progressbar</span>():</span><br><span class="line">    bar = progressbar.ProgressBar(max_value=MAX_PROGRESSBAR_LENGTH)</span><br><span class="line">    <span class="keyword">return</span> bar</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fetch_table</span>(<span class="params">meta_obj, table_name, schema</span>):</span><br><span class="line">    TABLE = meta_obj.tables[<span class="string">f&quot;<span class="subst">&#123;schema&#125;</span>.<span class="subst">&#123;table_name&#125;</span>&quot;</span>]</span><br><span class="line">    <span class="keyword">return</span> TABLE</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_orm_model</span>(<span class="params">TABLE</span>):</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">inmodel_template = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">class OTCOptionContractBasicInfoInModel(BaseModel):</span></span><br><span class="line"><span class="string">&#123;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">outmodel_template = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">class OTCOptionContractBasicInfoInModel(BaseModel):</span></span><br><span class="line"><span class="string">&#123;&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_in_model</span>(<span class="params">table</span>):</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">build_out_model</span>(<span class="params">table</span>):</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªå®šä¹‰çº¿ç¨‹ï¼šç»§æ‰¿threading.Threadæ¥å®šä¹‰çº¿ç¨‹ç±»ï¼Œå…¶æœ¬è´¨æ˜¯é‡æ„Threadç±»ä¸­çš„runæ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">AutoCreateAD</span>(threading.Thread):  <span class="comment"># é‡‡é›†çº¿ç¨‹ç±»</span></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, Qtable_list, meta_obj, schema</span>):</span><br><span class="line">        <span class="comment"># è°ƒç”¨Thread çˆ¶ç±»æ–¹æ³•</span></span><br><span class="line">        <span class="built_in">super</span>(AutoCreateAD, self).__init__()</span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å­ç±»å±æ€§</span></span><br><span class="line">        self.Qtable_list = Qtable_list</span><br><span class="line">        self.meta_obj = meta_obj</span><br><span class="line">        self.schema = schema</span><br><span class="line"></span><br><span class="line">    <span class="comment"># çº¿ç¨‹å¯åŠ¨çš„æ—¶å€™è°ƒç”¨</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">while</span> self.Qtable_list.qsize() &gt; <span class="number">0</span>:</span><br><span class="line">            table_name = self.Qtable_list.get()</span><br><span class="line">            <span class="comment"># print(&#x27;çº¿ç¨‹%så¼€å§‹ç”Ÿæˆ%sçš„ADæ¨¡æ¿&#x27; % (threading.current_thread().getName(), table_name))</span></span><br><span class="line">            start(self.meta_obj, table_name, self.schema)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">connect_mysql</span>(<span class="params">schema</span>):</span><br><span class="line">    _engine = _create_engine(</span><br><span class="line">        <span class="string">f&quot;mysql+pymysql://oa:sl2#EDyu2H@10.216.1.40:3306/<span class="subst">&#123;schema&#125;</span>?charset=utf8mb4&quot;</span> % ()</span><br><span class="line">    )</span><br><span class="line">    meta_obj = MetaData(schema=schema)</span><br><span class="line">    meta_obj.reflect(bind=_engine)</span><br><span class="line">    <span class="keyword">return</span> meta_obj</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">load_json</span>(<span class="params">build_path</span>):</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(build_path, <span class="string">&quot;r&quot;</span>, encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> f.readlines():</span><br><span class="line">            <span class="keyword">if</span> row.strip().startswith(<span class="string">&quot;//&quot;</span>):</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            lines.append(row)</span><br><span class="line">    <span class="keyword">return</span> json.loads(<span class="string">&quot;\n&quot;</span>.join(lines))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        parameter = sys.argv[<span class="number">1</span>]</span><br><span class="line">        build_path = sys.argv[<span class="number">2</span>]</span><br><span class="line">        <span class="keyword">if</span> parameter == <span class="string">&quot;-f&quot;</span>:</span><br><span class="line">            lines = []</span><br><span class="line">            conf_data = load_json(build_path)</span><br><span class="line">            schema = conf_data[<span class="string">&quot;schema&quot;</span>]</span><br><span class="line">            file_path = conf_data[<span class="string">&quot;file_path&quot;</span>]</span><br><span class="line">            tables_name = conf_data[<span class="string">&quot;tables_name&quot;</span>]</span><br><span class="line">            <span class="comment"># è¿›åº¦æ¡æœ€å¤§å€¼</span></span><br><span class="line">            MAX_PROGRESSBAR_LENGTH = <span class="built_in">len</span>(tables_name) * <span class="number">4</span></span><br><span class="line">            <span class="comment"># é“¾æ¥æ•°æ®åº“</span></span><br><span class="line">            meta_obj = connect_mysql(schema)</span><br><span class="line">            <span class="comment"># ç”Ÿæˆé˜Ÿåˆ—</span></span><br><span class="line">            Qtable_list = queue.Queue()</span><br><span class="line">            <span class="comment"># çº¿ç¨‹æ•°</span></span><br><span class="line">            concurrent = <span class="number">20</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(tables_name) &lt; concurrent:</span><br><span class="line">                concurrent = <span class="built_in">len</span>(tables_name)</span><br><span class="line">            <span class="keyword">for</span> table_name <span class="keyword">in</span> tables_name:</span><br><span class="line">                Qtable_list.put(table_name)</span><br><span class="line">            <span class="comment"># ç”ŸæˆNä¸ªçº¿ç¨‹</span></span><br><span class="line">            thread_list = []</span><br><span class="line">            p_value = <span class="number">0</span></span><br><span class="line">            bar = build_progressbar()</span><br><span class="line">            bar.start()</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(concurrent):</span><br><span class="line">                <span class="comment"># åˆ›é€ çº¿ç¨‹</span></span><br><span class="line">                t = AutoCreateAD(Qtable_list, meta_obj, schema)</span><br><span class="line">                thread_list.append(t)</span><br><span class="line">                t.start()</span><br><span class="line">            <span class="keyword">for</span> t <span class="keyword">in</span> thread_list:</span><br><span class="line">                t.join()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            msg = &#123;<span class="string">&quot;-f&quot;</span>:<span class="string">&quot;æŒ‡å®šé…ç½®æ–‡ä»¶&quot;</span>&#125;</span><br><span class="line">            <span class="built_in">print</span>(msg)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">import</span> traceback</span><br><span class="line">        traceback.print_exc()</span><br></pre></td></tr></table></figure><blockquote><p>è¿è¡Œå‘½ä»¤ï¼špython xxx.py -f build.json</p></blockquote></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå†²çª----git cloneæˆåŠŸï¼Œä½†æŠ¥é”™errorï¼šinvalid path</title>
      <link href="/2022/06/23/git/git%E5%86%B2%E7%AA%81----git%20clone%E6%88%90%E5%8A%9F%EF%BC%8C%E4%BD%86%E6%8A%A5%E9%94%99error%EF%BC%9Ainvalid%20path/"/>
      <url>/2022/06/23/git/git%E5%86%B2%E7%AA%81----git%20clone%E6%88%90%E5%8A%9F%EF%BC%8C%E4%BD%86%E6%8A%A5%E9%94%99error%EF%BC%9Ainvalid%20path/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h1><blockquote><p>å› ä¸ºä¸Šä¸€æ¬¡æäº¤ä»£ç çš„æ—¶å€™æ˜¯ç”¨çš„Linuxç¯å¢ƒï¼Œä½†æ˜¯è¿™æ¬¡ä½¿ç”¨äº†Windowsç¯å¢ƒï¼Œå‘ç°git pullæŠ¥é”™ï¼Œåé¢æŠŠWindowsä¸‹é¢çš„æœ¬åœ°ä»£ç åˆ æ‰äº†ï¼Œé‡æ–°cloneï¼Œä½†æ˜¯å‘ç°ä¹ŸæŠ¥äº†ä¸€æ ·çš„é”™è¯¯ã€‚<br>ç”±äºæŠ¥é”™çš„æ—¶å€™æ²¡æˆªå›¾ï¼Œå°±ä»ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªç±»ä¼¼çš„ï¼Œä½†æˆ‘çš„æŠ¥é”™å†…å®¹æ˜¯ï¼š<br>â€œerror: invalid path â€˜C:\Users\hwang\Desktop\project_test\logs\info\logging_test.logâ€™â€</p></blockquote><p><img src="https://s1.ax1x.com/2022/06/23/jCwT8P.jpg" alt="jCwT8P.jpg"></p><p>çœ‹ä¸Šå›¾ä¿¡æ¯å¾—çŸ¥ï¼Œgit clone æˆåŠŸäº†ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªæ— æ•ˆçš„æ–‡ä»¶è·¯å¾„ã€‚</p><h4 id="é‡åˆ°è¿™ç§é—®é¢˜æœ€å¥½çš„-x3D-x3D-è§£å†³åŠæ³•-x3D-x3D-å°±æ˜¯ï¼Œå»çº¿ä¸Šçœ‹æ˜¯å¦æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰è¯·æ›´æ¢è¿™ä¸ªæ–‡ä»¶çš„åç§°ã€‚"><a href="#é‡åˆ°è¿™ç§é—®é¢˜æœ€å¥½çš„-x3D-x3D-è§£å†³åŠæ³•-x3D-x3D-å°±æ˜¯ï¼Œå»çº¿ä¸Šçœ‹æ˜¯å¦æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰è¯·æ›´æ¢è¿™ä¸ªæ–‡ä»¶çš„åç§°ã€‚" class="headerlink" title="é‡åˆ°è¿™ç§é—®é¢˜æœ€å¥½çš„&#x3D;&#x3D;è§£å†³åŠæ³•&#x3D;&#x3D;å°±æ˜¯ï¼Œå»çº¿ä¸Šçœ‹æ˜¯å¦æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰è¯·æ›´æ¢è¿™ä¸ªæ–‡ä»¶çš„åç§°ã€‚"></a>é‡åˆ°è¿™ç§é—®é¢˜æœ€å¥½çš„&#x3D;&#x3D;è§£å†³åŠæ³•&#x3D;&#x3D;å°±æ˜¯ï¼Œå»çº¿ä¸Šçœ‹æ˜¯å¦æœ‰ä¸€ä¸ªè¿™æ ·çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰è¯·æ›´æ¢è¿™ä¸ªæ–‡ä»¶çš„åç§°ã€‚</h4><p>æ¯”å¦‚ï¼šä»çº¿ä¸Šåˆ å»äº†â€˜C:\Users\hwang\Desktop\project_test\logs\info\logging_test.logâ€™è¿™ä¸ªæ–‡ä»¶ï¼Œè‡³äºæˆ‘çš„çº¿ä¸Šä¸ºä»€ä¹ˆæœ‰è¿™æ ·çš„æ–‡ä»¶åï¼Œæˆ‘ä¹Ÿä¸å¤ªæ¸…æ¥šï¼Œå¯èƒ½æ˜¯è¯¯æ“ä½œ<br><img src="https://s1.ax1x.com/2022/06/23/jCD34A.png" alt="jCD34A.png"></p><h4 id="é—®é¢˜çš„åŸå› å°±åœ¨äºï¼šWindowså’ŒLinuxç³»ç»Ÿå¯¹æ–‡ä»¶åçš„çš„å…¼å®¹æ€§ä¸åŒï¼Œæœ‰äº›Linuxç³»ç»Ÿå…¼å®¹ï¼Œä½†æ˜¯åˆ°äº†Windowsä¸Šå°±ä¼šéæ³•çš„ã€‚"><a href="#é—®é¢˜çš„åŸå› å°±åœ¨äºï¼šWindowså’ŒLinuxç³»ç»Ÿå¯¹æ–‡ä»¶åçš„çš„å…¼å®¹æ€§ä¸åŒï¼Œæœ‰äº›Linuxç³»ç»Ÿå…¼å®¹ï¼Œä½†æ˜¯åˆ°äº†Windowsä¸Šå°±ä¼šéæ³•çš„ã€‚" class="headerlink" title="é—®é¢˜çš„åŸå› å°±åœ¨äºï¼šWindowså’ŒLinuxç³»ç»Ÿå¯¹æ–‡ä»¶åçš„çš„å…¼å®¹æ€§ä¸åŒï¼Œæœ‰äº›Linuxç³»ç»Ÿå…¼å®¹ï¼Œä½†æ˜¯åˆ°äº†Windowsä¸Šå°±ä¼šéæ³•çš„ã€‚"></a>é—®é¢˜çš„åŸå› å°±åœ¨äºï¼šWindowså’ŒLinuxç³»ç»Ÿå¯¹æ–‡ä»¶åçš„çš„å…¼å®¹æ€§ä¸åŒï¼Œæœ‰äº›Linuxç³»ç»Ÿå…¼å®¹ï¼Œä½†æ˜¯åˆ°äº†Windowsä¸Šå°±ä¼šéæ³•çš„ã€‚</h4><p>è¯·å‚é˜…å‘½åæ–‡ä»¶ Windows æ–‡æ¡£ï¼š</p><pre><code>ä¸è¦ä½¿ç”¨ä»¥ä¸‹ä¿ç•™åç§°ä½œä¸ºæ–‡ä»¶åï¼šCONï¼ŒPRNï¼ŒAUXï¼ŒNULï¼ŒCOM1ï¼ŒCOM2ï¼ŒCOM3ï¼ŒCOM4ï¼ŒCOM5ï¼ŒCOM6ï¼ŒCOM7ï¼ŒCOM8ï¼ŒCOM9ï¼ŒLPT1ï¼ŒLPT2ï¼ŒLPT3ï¼ŒLPT4ï¼ŒLPT5ï¼ŒLPT6ï¼ŒLPT7ï¼ŒLPT8å’ŒLPT9ã€‚è¿˜è¦é¿å…è¿™äº›åç§°åé¢ç´§è·Ÿç€ä¸€ä¸ªæ‰©å±•å;ä¾‹å¦‚ï¼Œä¸å»ºè®®ä½¿ç”¨ NUL.txt</code></pre><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://confluence.atlassian.com/bitbucketserverkb/error-invalid-path-during-git-clone-to-windows-client-1085186345.html">https://confluence.atlassian.com/bitbucketserverkb/error-invalid-path-during-git-clone-to-windows-client-1085186345.html</a></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿ç¨‹æ± </title>
      <link href="/2022/06/22/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0/"/>
      <url>/2022/06/22/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E7%BA%BF%E7%A8%8B%E6%B1%A0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="æœªä½¿ç”¨çº¿ç¨‹"><a href="#æœªä½¿ç”¨çº¿ç¨‹" class="headerlink" title="æœªä½¿ç”¨çº¿ç¨‹"></a>æœªä½¿ç”¨çº¿ç¨‹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">letter</span>):</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(letter,threading.current_thread().getName())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = time.time()</span><br><span class="line">    <span class="comment"># è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¾ªç¯äº†äº”ä¸ªå­—æ¯ï¼Œè€Œä¸”æ¯ä¸ªå­—æ¯éƒ½ä¼šåœ2s</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">        func(i)</span><br><span class="line">    t = time.time()</span><br><span class="line">    <span class="built_in">print</span>(t-s) <span class="comment"># 10.02183198928833</span></span><br></pre></td></tr></table></figure><h4 id="åŠ å…¥çº¿ç¨‹æ± "><a href="#åŠ å…¥çº¿ç¨‹æ± " class="headerlink" title="åŠ å…¥çº¿ç¨‹æ± "></a>åŠ å…¥çº¿ç¨‹æ± </h4><blockquote><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨<code>from concurrent.futures import ThreadPoolExecutor</code>ï¼Œç›¸æ¯”äº<code>from multiprocessing.dummy import Pool as ThreadPool</code>æ•ˆç‡ä¸Šå‡ ä¹æ²¡æœ‰å·®åˆ«ï¼Œ</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> concurrent.futures <span class="keyword">import</span> ThreadPoolExecutor</span><br><span class="line"></span><br><span class="line">data = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">letter</span>):</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(letter,threading.current_thread().getName())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = time.time()</span><br><span class="line">    <span class="keyword">with</span> ThreadPoolExecutor(max_workers=<span class="number">5</span>) <span class="keyword">as</span> pool:</span><br><span class="line">        <span class="comment"># mapå‡½æ•°ï¼Œä¼šå°†ç¬¬äºŒä¸ªå‚æ•°è¿­ä»£è¿›ç¬¬ä¸€ä¸ªå‚æ•°æ–¹æ³•</span></span><br><span class="line">        results = pool.<span class="built_in">map</span>(func,data)</span><br><span class="line">    t = time.time()</span><br><span class="line">    <span class="built_in">print</span>(t-s) <span class="comment"># 2.0059328079223633</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ä½¿ç”¨äº†çº¿ç¨‹æ± ä»¥åæ‰§è¡Œæ•ˆç‡å¤§å¤§çš„æé«˜äº†ï¼Œä¸€å…±ç”¨äº†2s</p><p>æœ€åï¼šç”±äºGILé™åˆ¶,å»ºè®®:IOå¯†é›†çš„ä»»åŠ¡,ç”¨ThreadPoolExecutor;CPUå¯†é›†ä»»åŠ¡,ç”¨ProcessPoolExcutorã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç±»å±æ€§ã€å®ä¾‹å±æ€§ã€ç±»æ–¹æ³•ã€é™æ€æ–¹æ³•ã€å®ä¾‹æ–¹æ³•ã€åŒºåˆ«</title>
      <link href="/2022/06/17/Python/%E6%A8%A1%E5%9D%97/%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95/%E7%B1%BB%E5%B1%9E%E6%80%A7%E3%80%81%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95%E3%80%81%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E3%80%81%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95%E3%80%81%E5%8C%BA%E5%88%AB/"/>
      <url>/2022/06/17/Python/%E6%A8%A1%E5%9D%97/%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95/%E7%B1%BB%E5%B1%9E%E6%80%A7%E3%80%81%E5%AE%9E%E4%BE%8B%E5%B1%9E%E6%80%A7%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95%E3%80%81%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95%E3%80%81%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95%E3%80%81%E5%8C%BA%E5%88%AB/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h1><ul><li>ç±»å¯¹è±¡ï¼šå°±æ˜¯ç±»æœ¬èº«</li><li>å®ä¾‹å¯¹è±¡ï¼šç”±ç±»å®ä¾‹åŒ–å‡ºæ¥çš„å¯¹è±¡</li><li>ç±»å±æ€§ï¼šå°±æ˜¯ç±»å¯¹è±¡æ‰€æ‹¥æœ‰çš„å±æ€§ã€‚ä»–è¢«ç±»å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡å…±åŒæ‹¥æœ‰</li><li>å®ä¾‹å±æ€§ï¼šç±»çš„å®ä¾‹åŒ–å¯¹è±¡çš„å±æ€§ï¼Œå±äºå®ä¾‹å¯¹è±¡ç‹¬æœ‰</li><li>ç±»æ–¹æ³•ï¼šæ˜¯ç±»å¯¹è±¡æ‰€æ‹¥æœ‰çš„æ–¹æ³•ï¼Œéœ€è¦ç”¨ä¿®é¥°å™¨â€@classmethodâ€æ¥æ ‡è¯†å…¶ä¸ºç±»æ–¹æ³•</li><li>å®ä¾‹æ–¹æ³•ï¼šåœ¨ç±»ä¸­æœ€å¸¸å®šä¹‰çš„æˆå‘˜æ–¹æ³•ï¼Œå®ƒè‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°å¹¶ä¸”å¿…é¡»ä»¥å®ä¾‹å¯¹è±¡ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸€èˆ¬ä»¥åä¸ºâ€selfâ€çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>é™æ€æ–¹æ³•ï¼šéœ€è¦é€šè¿‡ä¿®é¥°å™¨ @staticmethod æ¥è¿›â¾ä¿®é¥°ï¼Œé™æ€â½…æ³•ä¸éœ€è¦å¤šå®šä¹‰å‚æ•°ï¼Œè·Ÿæ™®é€šå‡½æ•°æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ç±»å’Œå®ä¾‹éƒ½æ²¡æœ‰æ‰€è°“çš„ç»‘å®šå…³ç³»ï¼Œä¸è®ºæ˜¯é€šè¿‡ç±»è¿˜æ˜¯å®ä¾‹éƒ½å¯ä»¥å¼•ç”¨è¯¥æ–¹æ³•ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Func</span>():</span><br><span class="line"></span><br><span class="line">    name = <span class="string">&quot;hwang&quot;</span> <span class="comment"># ç±»å±æ€§</span></span><br><span class="line">    age = <span class="number">20</span> <span class="comment"># ç±»å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.title = <span class="string">&quot;China&quot;</span> <span class="comment"># å®ä¾‹å±æ€§</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç±»æ–¹æ³•</span></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">hello</span>(<span class="params">cls,value</span>):</span><br><span class="line">        cls.name = value</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_title</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.title</span><br><span class="line"></span><br><span class="line">    <span class="comment"># é™æ€æ–¹æ³•</span></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">sleep</span>(<span class="params">sec</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;æš‚åœå‡ ç§’&quot;&quot;&quot;</span></span><br><span class="line">        time.sleep(sec)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Funcï¼šç±»å¯¹è±¡</span></span><br><span class="line"><span class="built_in">print</span>(Func) <span class="comment"># &lt;class &#x27;__main__.Func&#x27;&gt;</span></span><br><span class="line"><span class="comment"># ç±»å¯¹è±¡çš„å±æ€§å¼•ç”¨ï¼ˆä½¿ç”¨ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(Func.name) <span class="comment"># hwang</span></span><br><span class="line"><span class="comment"># funcï¼šç±»å¯¹è±¡çš„å®ä¾‹åŒ–ï¼ˆä½¿ç”¨ï¼‰</span></span><br><span class="line">func = Func()</span><br><span class="line"><span class="built_in">print</span>(func)</span><br><span class="line"><span class="comment"># ç±»å¯¹è±¡å¯¹ç±»å±æ€§çš„ä¿®æ”¹</span></span><br><span class="line">Func.name = <span class="string">&quot;xm&quot;</span></span><br><span class="line"><span class="built_in">print</span>(func.name) <span class="comment"># xm</span></span><br><span class="line"><span class="built_in">print</span>(Func.name) <span class="comment"># xm</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># funcï¼šå®ä¾‹å¯¹è±¡ï¼ˆç±»çš„å®ä¾‹å¯¹è±¡ï¼‰</span></span><br><span class="line">func = Func()</span><br><span class="line"><span class="built_in">print</span>(func) <span class="comment"># &lt;__main__.Func object at 0x7ff5300e9450&gt;</span></span><br><span class="line"><span class="comment"># å®ä¾‹å¯¹è±¡ï¼ˆå”¯ä¸€æ“ä½œï¼‰ï¼šå±æ€§å¼•ç”¨ï¼ˆä½¿ç”¨ï¼‰</span></span><br><span class="line">func.name = <span class="string">&quot;xm&quot;</span></span><br><span class="line"><span class="built_in">print</span>(func.name) <span class="comment"># xm</span></span><br><span class="line"><span class="comment"># å®ä¾‹å¯¹è±¡æ— æ³•ä¿®æ”¹ç±»å±æ€§</span></span><br><span class="line"><span class="built_in">print</span>(Func.name) <span class="comment"># hwang</span></span><br><span class="line"><span class="comment"># å®ä¾‹å±æ€§ï¼šç±»çš„å®ä¾‹åŒ–å¯¹è±¡çš„å±æ€§ï¼Œå±äºå®ä¾‹å¯¹è±¡ç‹¬æœ‰</span></span><br><span class="line"><span class="built_in">print</span>(func.title) <span class="comment"># China</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç±»æ–¹æ³•å¯¹ç±»å±æ€§çš„ä¿®æ”¹</span></span><br><span class="line">Func.hello(<span class="string">&quot;xm2&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(Func.name) <span class="comment"># xm2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹æ–¹æ³•</span></span><br><span class="line">f = Func()</span><br><span class="line"><span class="built_in">print</span>(f.get_title()) <span class="comment"># China</span></span><br><span class="line"><span class="comment"># print(Func.get_title()) # æŠ¥é”™</span></span><br><span class="line"><span class="built_in">print</span>(Func.get_title(f)) <span class="comment"># China</span></span><br><span class="line"><span class="built_in">print</span>(Func().get_title()) <span class="comment"># China</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é™æ€æ–¹æ³•</span></span><br><span class="line">f = Func()</span><br><span class="line">f.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(f.get_title())</span><br></pre></td></tr></table></figure><h1 id="ç±»å¯¹è±¡çš„ä½¿ç”¨"><a href="#ç±»å¯¹è±¡çš„ä½¿ç”¨" class="headerlink" title="ç±»å¯¹è±¡çš„ä½¿ç”¨"></a>ç±»å¯¹è±¡çš„ä½¿ç”¨</h1><ul><li><p>ç±»å¯¹è±¡æ”¯æŒä¸¤ç§æ“ä½œï¼šå±æ€§å¼•ç”¨å’Œå®ä¾‹åŒ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">5</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">   ...:     name = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">   ...:     age = <span class="number">20</span></span><br><span class="line">   ...:</span><br><span class="line">   ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">   ...:         <span class="keyword">pass</span></span><br><span class="line">   ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">6</span>]: Person.name</span><br><span class="line">Out[<span class="number">6</span>]: <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: Person.age</span><br><span class="line">Out[<span class="number">7</span>]: <span class="number">20</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">8</span>]: p1 = Person()</span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: <span class="built_in">print</span>(p1.name, p1.age)</span><br><span class="line">xxx <span class="number">20</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">10</span>]: p1.name = <span class="string">&#x27;yyy&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">11</span>]: <span class="built_in">print</span>(Person.name, p1.name)</span><br><span class="line">xxx yyy</span><br></pre></td></tr></table></figure></li><li><p>ä¸Šé¢ In[6]å’ŒIn[7] æ˜¯ç±»å¯¹è±¡çš„å±æ€§å¼•ç”¨ï¼ŒIn[8] ä¸ºç±»å¯¹è±¡çš„å®ä¾‹åŒ–</p></li><li><p>å®ä¾‹å¯¹è±¡å”¯ä¸€æ“ä½œæ˜¯å±æ€§å¼•ç”¨ï¼Œæœ‰ä¸¤ç§æœ‰æ•ˆçš„å±æ€§åç§°ï¼Œæ•°æ®å±æ€§å’Œæ–¹æ³•ã€‚</p></li></ul><h1 id="ç±»å±æ€§ã€å®ä¾‹å±æ€§ã€ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•"><a href="#ç±»å±æ€§ã€å®ä¾‹å±æ€§ã€ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•" class="headerlink" title="ç±»å±æ€§ã€å®ä¾‹å±æ€§ã€ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•"></a>ç±»å±æ€§ã€å®ä¾‹å±æ€§ã€ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•ã€é™æ€æ–¹æ³•</h1><h3 id="ç±»å±æ€§"><a href="#ç±»å±æ€§" class="headerlink" title="ç±»å±æ€§"></a>ç±»å±æ€§</h3><ul><li>ç±»å±æ€§å°±æ˜¯ç±»å¯¹è±¡æ‰€æ‹¥æœ‰çš„å±æ€§ï¼Œå®ƒè¢«æ‰€æœ‰ç±»å¯¹è±¡çš„å®ä¾‹å¯¹è±¡æ‰€å…±æœ‰ï¼Œåœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå‰¯æœ¬ï¼›</li><li>å¯¹äºå…¬æœ‰çš„ç±»å±æ€§ï¼Œåœ¨ç±»å¤–å¯ä»¥é€šè¿‡ç±»å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡è®¿é—®ã€‚<h1 id="å®ä¾‹å±æ€§"><a href="#å®ä¾‹å±æ€§" class="headerlink" title="å®ä¾‹å±æ€§"></a>å®ä¾‹å±æ€§</h1></li><li>ç±»çš„å®ä¾‹åŒ–å¯¹è±¡çš„å±æ€§ï¼Œå±äºå®ä¾‹å¯¹è±¡ç‹¬æœ‰ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">26</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    ...:     name = <span class="string">&quot;xxx&quot;</span><span class="comment"># ç±»å±æ€§</span></span><br><span class="line">    ...:     age = <span class="number">20</span><span class="comment"># ç±»å±æ€§</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    ...:        self.addr = <span class="string">&quot;China&quot;</span><span class="comment"># å®ä¾‹å±æ€§</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">27</span>]: p1 = Person()</span><br><span class="line"></span><br><span class="line">In [<span class="number">28</span>]: Person.name</span><br><span class="line">Out[<span class="number">28</span>]: <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">29</span>]: Person.age</span><br><span class="line">Out[<span class="number">29</span>]: <span class="number">20</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">30</span>]: p1.name</span><br><span class="line">Out[<span class="number">30</span>]: <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">31</span>]: p1.addr</span><br><span class="line">Out[<span class="number">31</span>]: <span class="string">&#x27;China&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">32</span>]: Person.addr</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">AttributeError                            Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">32</span>-0ed446385bbc&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">----&gt; <span class="number">1</span> Person.addr</span><br><span class="line"></span><br><span class="line">AttributeError: <span class="built_in">type</span> <span class="built_in">object</span> <span class="string">&#x27;Person&#x27;</span> has no attribute <span class="string">&#x27;addr&#x27;</span></span><br><span class="line">In [<span class="number">33</span>]: p1.name = <span class="string">&quot;yyy&quot;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">34</span>]: <span class="built_in">print</span>(Person.name, p1.name)</span><br><span class="line">Out[<span class="number">34</span>]: <span class="string">&#x27;xxx&#x27;</span> <span class="string">&#x27;yyy&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>ç±»å¯¹è±¡å’Œå®ä¾‹å¯¹è±¡éƒ½å¯ä»¥è®¿é—®ç±»å±æ€§</li><li>ç±»å¯¹è±¡æ— æ³•è®¿é—®å®ä¾‹å±æ€§</li><li>ç±»å±æ€§åªæœ‰é€šè¿‡ç±»å¯¹è±¡è¿›è¡Œä¿®æ”¹ï¼Œå®ä¾‹å¯¹è±¡æ— æ³•ä¿®æ”¹ç±»å±æ€§, é€šè¿‡å®ä¾‹å¯¹è±¡ç»™ç±»å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œå®é™…ä¸Šæ˜¯ç»™å®ä¾‹å¯¹è±¡æ·»åŠ äº†ä¸€æ¡æ–°çš„å±æ€§</li></ul><h1 id="ç±»æ–¹æ³•"><a href="#ç±»æ–¹æ³•" class="headerlink" title="ç±»æ–¹æ³•"></a>ç±»æ–¹æ³•</h1><ul><li>ç±»æ–¹æ³•ï¼šæ˜¯ç±»å¯¹è±¡æ‰€æ‹¥æœ‰çš„æ–¹æ³•ï¼Œéœ€è¦ç”¨ä¿®é¥°å™¨â€@classmethodâ€æ¥æ ‡è¯†å…¶ä¸ºç±»æ–¹æ³•ï¼Œ</li><li>å¯¹äºç±»æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å¯¹è±¡ï¼Œä¸€èˆ¬ä»¥â€clsâ€ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°(åªæ˜¯ä¸€ä¸ªå‚æ•°å‘½åä¹ æƒ¯ï¼Œä¹Ÿå¯ä»¥æ¢æˆå…¶ä»–çš„ï¼Œä¸è¿‡ä¸æ¨è)</li><li>èƒ½å¤Ÿé€šè¿‡å®ä¾‹å¯¹è±¡å’Œç±»å¯¹è±¡å»è®¿é—®ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">36</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    ...:     name = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">    ...:     age = <span class="number">20</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         self.addr = <span class="string">&quot;China&quot;</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     @<span class="built_in">classmethod</span></span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">hello</span>(<span class="params">cls</span>):</span><br><span class="line">    ...:         <span class="keyword">return</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">37</span>]: Person.hello()</span><br><span class="line">Out[<span class="number">37</span>]: <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">38</span>]: Person().hello()</span><br><span class="line">Out[<span class="number">38</span>]: <span class="string">&#x27;hello world&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>ç±»æ–¹æ³•çš„ä¸€ä¸ªç”¨é€”å°±æ˜¯å¯ä»¥å¯¹ç±»å±æ€§è¿›è¡Œä¿®æ”¹, è¿™æ ·çš„è¯ï¼Œå®ä¾‹å¯¹è±¡é€šè¿‡è°ƒç”¨ç±»æ–¹æ³•ä¹Ÿå¯ä»¥å¯¹ç±»å±æ€§è¿›è¡Œä¿®æ”¹</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">39</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    ...:     name = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">    ...:     age = <span class="number">20</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         self.addr = <span class="string">&quot;China&quot;</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     @<span class="built_in">classmethod</span></span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">set_name</span>(<span class="params">cls, value</span>):</span><br><span class="line">    ...:         cls.name = value</span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">40</span>]: Person().set_name(<span class="string">&quot;yyy&quot;</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">41</span>]: Person.name</span><br><span class="line">Out[<span class="number">41</span>]: <span class="string">&#x27;yyy&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h1><ul><li>å®ä¾‹æ–¹æ³•ï¼šåœ¨ç±»ä¸­æœ€å¸¸å®šä¹‰çš„æˆå‘˜æ–¹æ³•ï¼Œå®ƒè‡³å°‘æœ‰ä¸€ä¸ªå‚æ•°å¹¶ä¸”å¿…é¡»ä»¥å®ä¾‹å¯¹è±¡ä½œä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¸€èˆ¬ä»¥åä¸ºâ€selfâ€çš„å˜é‡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚</li><li>åœ¨ç±»å¤–å®ä¾‹æ–¹æ³•åªèƒ½é€šè¿‡å®ä¾‹å¯¹è±¡å»è°ƒç”¨ï¼Œä¸èƒ½é€šè¿‡å…¶ä»–æ–¹å¼å»è°ƒç”¨(å…¶å®ç±»å¯¹è±¡å¯ä»¥è°ƒç”¨å®ä¾‹æ–¹æ³•ï¼Œåªä¸è¿‡éœ€è¦ä¼ ä¸€ä¸ªå®ä¾‹å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°)ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">42</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    ...:     name = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">    ...:     age = <span class="number">20</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         self.addr = <span class="string">&quot;China&quot;</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">get_addr</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         <span class="keyword">return</span> self.addr</span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">43</span>]: p = Person()</span><br><span class="line"></span><br><span class="line">In [<span class="number">44</span>]: p.get_addr()</span><br><span class="line">Out[<span class="number">44</span>]: <span class="string">&#x27;China&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">45</span>]: Person.get_addr()</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">TypeError                                 Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">45</span>-c70e23dcb313&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">----&gt; <span class="number">1</span> Person.get_addr()</span><br><span class="line"></span><br><span class="line">TypeError: get_addr() missing <span class="number">1</span> required positional argument: <span class="string">&#x27;self&#x27;</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">46</span>]: Person.get_addr(p)</span><br><span class="line">Out[<span class="number">46</span>]: <span class="string">&#x27;China&#x27;</span></span><br></pre></td></tr></table></figure><h1 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h1><ul><li><p>éœ€è¦é€šè¿‡ä¿®é¥°å™¨ @staticmethod æ¥è¿›â¾ä¿®é¥°ï¼Œé™æ€â½…æ³•ä¸éœ€è¦å¤šå®šä¹‰å‚æ•°</p></li><li><p>è·Ÿæ™®é€šå‡½æ•°æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä¸ç±»å’Œå®ä¾‹éƒ½æ²¡æœ‰æ‰€è°“çš„ç»‘å®šå…³ç³»ï¼Œä¸è®ºæ˜¯é€šè¿‡ç±»è¿˜æ˜¯å®ä¾‹éƒ½å¯ä»¥å¼•ç”¨è¯¥æ–¹æ³•ã€‚</p></li><li><p>é™æ€æ–¹æ³•ä½¿ç”¨åœºæ™¯</p></li><li><ul><li>å¦‚æœåœ¨æ–¹æ³•ä¸­ä¸éœ€è¦è®¿é—®ä»»ä½•å®ä¾‹æ–¹æ³•å’Œå±æ€§ï¼Œçº¯ç²¹åœ°é€šè¿‡ä¼ å…¥å‚æ•°å¹¶è¿”å›æ•°æ®çš„åŠŸèƒ½æ€§æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒå°±é€‚åˆç”¨é™æ€æ–¹æ³•æ¥å®šä¹‰ï¼Œå®ƒèŠ‚çœäº†å®ä¾‹åŒ–å¯¹è±¡çš„å¼€é”€æˆæœ¬ï¼Œå¾€å¾€è¿™ç§æ–¹æ³•æ”¾åœ¨ç±»å¤–é¢çš„æ¨¡å—å±‚ä½œä¸ºä¸€ä¸ªå‡½æ•°å­˜åœ¨ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼Œè€Œæ”¾åœ¨ç±»ä¸­ï¼Œä»…ä¸ºè¿™ä¸ªç±»æœåŠ¡ã€‚</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">54</span>]: <span class="keyword">class</span> <span class="title class_">Person</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    ...:     name = <span class="string">&quot;xxx&quot;</span></span><br><span class="line">    ...:     age = <span class="number">20</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         self.addr = <span class="string">&quot;China&quot;</span></span><br><span class="line">    ...:</span><br><span class="line">    ...:     @<span class="built_in">staticmethod</span></span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">sleep</span>(<span class="params">sec</span>):</span><br><span class="line">    ...:         <span class="string">&quot;&quot;&quot;æš‚åœå‡ ç§’&quot;&quot;&quot;</span></span><br><span class="line">    ...:         time.sleep(sec)</span><br><span class="line">    ...:     <span class="keyword">def</span> <span class="title function_">do_somethings</span>(<span class="params">self</span>):</span><br><span class="line">    ...:         <span class="built_in">print</span>(<span class="string">&quot;do ......&quot;</span>)</span><br><span class="line">    ...:         self.sleep(<span class="number">5</span>)</span><br><span class="line">    ...:         <span class="built_in">print</span>(<span class="string">&quot;end ....&quot;</span>)</span><br><span class="line">    ...:</span><br><span class="line"></span><br><span class="line">In [<span class="number">55</span>]: p = Person()</span><br><span class="line"></span><br><span class="line">In [<span class="number">56</span>]: Person.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">57</span>]: p.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">In [<span class="number">58</span>]: p.do_somethings()</span><br><span class="line">do ......</span><br><span class="line">end ....</span><br></pre></td></tr></table></figure><h1 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h1><table><thead><tr><th>â€¦</th><th>ç±»å¯¹è±¡æ˜¯å¦å¯ä»¥è°ƒç”¨</th><th>å®ä¾‹å¯¹è±¡æ˜¯å¦å¯ä»¥è°ƒç”¨</th></tr></thead><tbody><tr><td>ç±»å±æ€§</td><td>æ˜¯</td><td>æ˜¯(å¯ä»¥è°ƒç”¨ä½†æ˜¯æ— æ³•ç›´æ¥ä¿®æ”¹)</td></tr><tr><td>å®ä¾‹å±æ€§</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>ç±»æ–¹æ³•</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>å®ä¾‹æ–¹æ³•</td><td>å¦(å…¶å®å¯ä»¥è°ƒç”¨ï¼Œä½†æ˜¯è¦ä¼ å…¥ä¸€ä¸ªå®ä¾‹å¯¹è±¡)</td><td>æ˜¯</td></tr><tr><td>é™æ€æ–¹æ³•</td><td>æ˜¯</td><td>æ˜¯</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-é™æ€æ–¹æ³•ã€ç±»æ–¹æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>uniteståŸºç¡€</title>
      <link href="/2022/06/16/Python/%E6%A8%A1%E5%9D%97/unittest/unitest%E5%9F%BA%E7%A1%80/"/>
      <url>/2022/06/16/Python/%E6%A8%A1%E5%9D%97/unittest/unitest%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>è§„åˆ™ï¼š</p><blockquote><p>é¦–å…ˆä»‹ç»ä¸‹unittestçš„ç”¨ä¾‹è§„åˆ™ï¼š<br>1ã€æµ‹è¯•æ–‡ä»¶å¿…é¡»å¯¼åŒ…ï¼šimport unittest<br>2ã€æµ‹è¯•ç±»å¿…é¡»ç»§æ‰¿ unittest.TestCase<br>3ã€æµ‹è¯•æ–¹æ³•å¿…é¡»ä»¥ test_å¼€å¤´</p></blockquote><h1 id="TestSuite-æµ‹è¯•å¥—ä»¶-ã€TestRunner-æµ‹è¯•æ‰§è¡Œï¼‰"><a href="#TestSuite-æµ‹è¯•å¥—ä»¶-ã€TestRunner-æµ‹è¯•æ‰§è¡Œï¼‰" class="headerlink" title="TestSuite(æµ‹è¯•å¥—ä»¶)ã€TestRunner(æµ‹è¯•æ‰§è¡Œï¼‰"></a>TestSuite(æµ‹è¯•å¥—ä»¶)ã€TestRunner(æµ‹è¯•æ‰§è¡Œï¼‰</h1><blockquote><p>æµ‹è¯•å¥—ä»¶ï¼Œç”¨æ¥ç®¡ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆå¥—ä»¶å¯¹è±¡ï¼‰</p></blockquote><h4 id="å®è·µï¼š"><a href="#å®è·µï¼š" class="headerlink" title="å®è·µï¼š"></a>å®è·µï¼š</h4><h4 id="Unitest-demo-py"><a href="#Unitest-demo-py" class="headerlink" title="Unitest_demo.py"></a>Unitest_demo.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># TestCaseè‡ªå®šä¹‰æµ‹è¯•ç±»éœ€è¦ç»§æ‰¿çš„</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span>(unittest.TestCase):</span><br><span class="line">    <span class="comment"># æµ‹è¯•æ–¹æ³•éƒ½è¦ä»¥testå¼€å¤´</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•æ–¹æ³•1&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method2</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•æ–¹æ³•2&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="Unitest-demo2-py"><a href="#Unitest-demo2-py" class="headerlink" title="Unitest_demo2.py"></a>Unitest_demo2.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method3</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•æ–¹æ³•3&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_mothod4</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•æ–¹æ³•4&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="unitest-test-py"><a href="#unitest-test-py" class="headerlink" title="unitest_test.py"></a>unitest_test.py</h4><blockquote><p>TestSuiteï¼šæµ‹è¯•å¥—ä»¶ï¼Œç”¨æ¥ç®¡ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶ï¼ˆå¥—ä»¶å¯¹è±¡ï¼‰<br>addTestï¼šè®©ç”¨ä¾‹æŒ‰é¡ºåºæ‰§è¡Œ<br>makeSuiteï¼šåŠ è½½ä¸€ä¸ªç±»æ–‡ä»¶ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹åˆ°å¥—ä»¶å¯¹è±¡<br>TextTestRunnerï¼šç”¨æ¥æ‰§è¡ŒTestSuiteï¼ˆæµ‹è¯•å¥—ä»¶ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> Unitest_demo <span class="keyword">import</span> TestDemo</span><br><span class="line"><span class="keyword">from</span> Unitest_demo2 <span class="keyword">import</span> Demo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># TestSuiteï¼šæµ‹è¯•å¥—ä»¶ï¼Œç”¨æ¥ç®¡ç†å¤šä¸ªæµ‹è¯•ç”¨ä¾‹æ–‡ä»¶</span></span><br><span class="line">suite = unittest.TestSuite() <span class="comment"># åˆ›å»ºå¥—ä»¶å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æµ‹è¯•ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line"><span class="comment"># addTestï¼šç”¨ä¾‹æŒ‰é¡ºåºæ‰§è¡Œ</span></span><br><span class="line"><span class="comment"># makeSuiteï¼šåŠ è½½ä¸€ä¸ªç±»æ–‡ä»¶ä¸‹çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹åˆ°suiteï¼ˆå¥—ä»¶å¯¹è±¡ï¼‰</span></span><br><span class="line">suite.addTest(unittest.makeSuite(TestDemo))</span><br><span class="line">suite.addTest(unittest.makeSuite(Demo))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹åŒ–è¿è¡Œå¯¹è±¡</span></span><br><span class="line">runner = unittest.TextTestRunner()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨è¿è¡Œå¯¹è±¡ å» è¿è¡Œå¥—ä»¶å¯¹è±¡</span></span><br><span class="line">runner.run(suite)</span><br></pre></td></tr></table></figure><h4 id="ç»“æœï¼š"><a href="#ç»“æœï¼š" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h4><p><img src="https://s1.ax1x.com/2022/06/16/XHPuT0.png" alt="XHPuT0.png"></p><h1 id="TestLoaderæµ‹è¯•åŠ è½½"><a href="#TestLoaderæµ‹è¯•åŠ è½½" class="headerlink" title="TestLoaderæµ‹è¯•åŠ è½½"></a>TestLoaderæµ‹è¯•åŠ è½½</h1><blockquote><p>æœç´¢æŒ‡å®šç›®å½•æ–‡ä»¶ä¸‹é¢æŒ‡å®šå­—æ¯å¼€å¤´çš„æ¨¡å—æ–‡ä»¶ä¸‹testå¼€å§‹çš„æ–¹æ³•ï¼Œå¹¶å°†è¿™äº›æ–¹æ³•æ·»åŠ åˆ°æµ‹è¯•å¥—ä»¶ï¼Œå¯¹TestsuiteåŠŸèƒ½çš„è¡¥å……ï¼Œç”¨æ¥ç»„è£…æµ‹è¯•ç”¨ä¾‹</p></blockquote><blockquote><p>ä¸€èˆ¬ç”¨ä¾‹å†™åœ¨Caseè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œå½“æµ‹è¯•ç”¨ä¾‹è¶…å¤šçš„æ—¶å€™å¯ä»¥è€ƒè™‘TestLoader</p></blockquote><h4 id="å†™æ³•"><a href="#å†™æ³•" class="headerlink" title="å†™æ³•"></a>å†™æ³•</h4><pre><code>1. suite = unittest.TestLoader().discover(&quot;æŒ‡å®šæœç´¢çš„ç›®å½•æ–‡ä»¶&quot;,&quot;æŒ‡å®šå­—æ¯å¼€å¤´æ¨¡å—æ–‡ä»¶&quot;)2. suite = unittest.defaultTestLoader.discover(&quot;æŒ‡å®šæœç´¢çš„ç›®å½•æ–‡ä»¶&quot;,&quot;æŒ‡å®šå­—æ¯å¼€å¤´æ¨¡å—æ–‡ä»¶&quot;) ã€æ¨èã€‘</code></pre><blockquote><p>è¿™é‡Œä¾ç„¶å€ŸåŠ©ä¸Šé¢çš„Unitest_demo.pyå’ŒUnitest_demo2.py</p></blockquote><h4 id="å®è·µï¼š-1"><a href="#å®è·µï¼š-1" class="headerlink" title="å®è·µï¼š"></a>å®è·µï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹åŒ–æµ‹è¯•åŠ è½½å¯¹è±¡å¹¶æ·»åŠ ç”¨ä¾‹</span></span><br><span class="line">suite = unittest.defaultTestLoader.discover(<span class="string">&quot;../project_test&quot;</span>,<span class="string">&quot;Unitest_demo*.py&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®ä¾‹åŒ–è¿è¡Œå¯¹è±¡</span></span><br><span class="line">runner = unittest.TextTestRunner()</span><br><span class="line"><span class="comment"># ç”¨è¿è¡Œå¯¹è±¡ å» è¿è¡Œå¥—ä»¶å¯¹è±¡</span></span><br><span class="line">runner.run(suite)</span><br></pre></td></tr></table></figure><h4 id="ç»“æœï¼š-1"><a href="#ç»“æœï¼š-1" class="headerlink" title="ç»“æœï¼š"></a>ç»“æœï¼š</h4><p><img src="https://s1.ax1x.com/2022/06/16/XHiBEq.png" alt="XHiBEq.png"></p><h1 id="TestSuiteã€TestLoaderåŒºåˆ«"><a href="#TestSuiteã€TestLoaderåŒºåˆ«" class="headerlink" title="TestSuiteã€TestLoaderåŒºåˆ«"></a>TestSuiteã€TestLoaderåŒºåˆ«</h1><pre><code>å…±åŒç‚¹ï¼šéƒ½æ˜¯æµ‹è¯•å¥—ä»¶ä¸åŒç‚¹ï¼šå®ç°æ–¹å¼ä¸åŒï¼š    TestSuiteï¼šè¦ä¹ˆæ·»åŠ æŒ‡å®šçš„æµ‹è¯•ç±»ä¸­æ‰€æœ‰testå¼€ä½“éªŒçš„æ–¹æ³•ï¼Œè¦ä¹ˆæ·»åŠ æŒ‡å®šæµ‹è¯•ç±»ä¸­æŒ‡å®šæŸä¸ªtestå¼€å¤´çš„æ–¹æ³•ï¼š        å¤šä¸ªï¼šsuite.addTest(unittest.makeSuite(TestDemo))        å•ä¸ªï¼šsuite.addTest(Demo(&quot;test_method3&quot;))    TestLoaderï¼šæœç´¢æŒ‡å®šç›®å½•ä¸‹æŒ‡å®šå­—æ¯å¼€å¤´çš„æ¨¡å—æ–‡ä»¶ä¸­ä»¥testå­—æ¯å¼€å¤´çš„æ–¹æ³•å¹¶å°†è¿™äº›æ–¹æ³•æ·»åŠ åˆ°æµ‹è¯•å¥—ä»¶ä¸­ï¼Œæœ€åè¿”å›æµ‹è¯•å¥—ä»¶</code></pre><h1 id="æµ‹è¯•å¤¹å…·"><a href="#æµ‹è¯•å¤¹å…·" class="headerlink" title="æµ‹è¯•å¤¹å…·"></a>æµ‹è¯•å¤¹å…·</h1><h2 id="ç±»çº§åˆ«"><a href="#ç±»çº§åˆ«" class="headerlink" title="ç±»çº§åˆ«"></a>ç±»çº§åˆ«</h2><p>åœ¨&#x3D;&#x3D;æ¯ä¸ªæµ‹è¯•ç±»ä¸­æ‰€æœ‰æ–¹æ³•&#x3D;&#x3D;æ‰§è¡Œå‰å éƒ½ä¼šè‡ªåŠ¨è°ƒç”¨çš„ç»“æ„(åœ¨æ•´ä¸ªç±»ä¸­ æ‰§è¡Œä¹‹å‰æ‰§è¡Œä¹‹åå„ä¸€æ¬¡)</p><ul><li><font color="red">def setUpClass( )</font> ,ç±»ä¸­æ‰€æœ‰æ–¹æ³•ä¹‹å‰</li><li><font color="red">def tearDownClass( )</font>ï¼Œç±»ä¸­æ‰€æœ‰æ–¹æ³•ä¹‹å<br>ç‰¹æ€§ï¼šæµ‹è¯•ç±»è¿è¡Œä¹‹å‰è¿è¡Œä¸€æ¬¡setUpClass ï¼Œç±»è¿è¡Œä¹‹åè¿è¡Œä¸€æ¬¡tearDownClass</li></ul><blockquote><p>æ³¨æ„ï¼šç±»æ–¹æ³•å¿…é¡»ä½¿ç”¨ @classmethodä¿®é¥°<br>ç±»æ–¹æ³•ï¼šæ˜¯ç±»å¯¹è±¡æ‰€æ‹¥æœ‰çš„æ–¹æ³•ï¼Œéœ€è¦ç”¨ä¿®é¥°å™¨â€@classmethodâ€æ¥æ ‡è¯†å…¶ä¸ºç±»æ–¹æ³•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setUpClass</span>(<span class="params">cls</span>):</span><br><span class="line"> <span class="built_in">print</span>(<span class="string">&#x27;-----------1.æ‰“å¼€æµè§ˆå™¨&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@classmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tearDownClass</span>(<span class="params">cls</span>):</span><br><span class="line"> <span class="built_in">print</span>(<span class="string">&#x27;------------5ã€å…³é—­æµè§ˆå™¨&#x27;</span>)</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•çº§åˆ«"><a href="#æ–¹æ³•çº§åˆ«" class="headerlink" title="æ–¹æ³•çº§åˆ«"></a>æ–¹æ³•çº§åˆ«</h2><p>åœ¨&#x3D;&#x3D;æ¯ä¸ªæµ‹è¯•æ–¹æ³•&#x3D;&#x3D;ï¼ˆç”¨ä¾‹ä»£ç ï¼‰æ‰§è¡Œå‰åéƒ½ä¼šè‡ªåŠ¨è°ƒç”¨çš„ç»“æ„</p><ul><li><font color="red">def setUp( )</font>,æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰éƒ½ä¼šæ‰§è¡Œ ï¼ˆåˆå§‹åŒ–ï¼‰</li><li><font color="red">def tearDown( )</font>,æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åéƒ½ä¼šæ‰§è¡Œ ï¼ˆé‡Šæ”¾ï¼‰</li></ul><blockquote><p>ç‰¹æ€§ï¼šå‡ ä¸ªæµ‹è¯•å‡½æ•°ï¼Œæ‰§è¡Œå‡ æ¬¡ã€‚æ¯ä¸ªæµ‹è¯•å‡½æ•°æ‰§è¡Œä¹‹å‰éƒ½ä¼šæ‰§è¡Œ setUpï¼Œæ‰§è¡Œä¹‹åéƒ½ä¼šæ‰§è¡ŒtearDwon</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡Šæ”¾</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># æ¯ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><h1 id="æ–­è¨€"><a href="#æ–­è¨€" class="headerlink" title="æ–­è¨€"></a>æ–­è¨€</h1><blockquote><p>åœ¨unittestä¸­ä½¿ç”¨æ–­è¨€ï¼Œéœ€è¦é€šè¿‡ self.æ–­è¨€æ–¹æ³•<br>è‡ªåŠ¨åŒ–è„šæœ¬æ‰§è¡Œæ—¶éƒ½æ˜¯æ— äººå€¼å®ˆï¼Œéœ€è¦é€šè¿‡æ–­è¨€æ¥åˆ¤æ–­è‡ªåŠ¨åŒ–è„šæœ¬çš„æ‰§è¡Œæ˜¯å¦é€šè¿‡ã€‚<br>è‡ªåŠ¨åŒ–è„šæœ¬ä¸å†™æ–­è¨€ï¼Œç›¸å½“äºæ²¡æœ‰æ‰§è¡Œæµ‹è¯•ä¸€ä¸ªæ•ˆæœã€‚</p></blockquote><h2 id="å¸¸ç”¨çš„æ–­è¨€"><a href="#å¸¸ç”¨çš„æ–­è¨€" class="headerlink" title="å¸¸ç”¨çš„æ–­è¨€"></a>å¸¸ç”¨çš„æ–­è¨€</h2><blockquote><p>self.assertEqual(ex1, ex2) # åˆ¤æ–­ex1 æ˜¯å¦å’Œex2 ç›¸ç­‰<br>self.assertIn(ex1, ex2) #  ex2æ˜¯å¦åŒ…å« ex1   æ³¨æ„ï¼šæ‰€è°“çš„åŒ…å«ä¸èƒ½è·³å­—ç¬¦<br>self.assertTrue(ex) #  åˆ¤æ–­exæ˜¯å¦ä¸ºTrue</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">name = <span class="string">&quot;hwang&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span>(unittest.TestCase):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method1</span>(<span class="params">self</span>):</span><br><span class="line">        self.assertEqual(<span class="string">&quot;hwang&quot;</span>,name)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method2</span>(<span class="params">self</span>):</span><br><span class="line">        self.assertIn(<span class="string">&quot;h&quot;</span>,name)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method3</span>(<span class="params">self</span>):</span><br><span class="line">        self.assertTrue(name)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h1 id="è·³è¿‡ã€åˆ¤æ–­"><a href="#è·³è¿‡ã€åˆ¤æ–­" class="headerlink" title="è·³è¿‡ã€åˆ¤æ–­"></a>è·³è¿‡ã€åˆ¤æ–­</h1><blockquote><p>å¯¹äºä¸€äº›æœªå®Œæˆçš„æˆ–è€…ä¸æ»¡è¶³æµ‹è¯•æ¡ä»¶çš„æµ‹è¯•å‡½æ•°å’Œæµ‹è¯•ç±», ä¸æƒ³æ‰§è¡Œ,å¯ä»¥ä½¿ç”¨è·³è¿‡</p></blockquote><h4 id="å†™æ³•-1"><a href="#å†™æ³•-1" class="headerlink" title="å†™æ³•"></a>å†™æ³•</h4><blockquote><p>ç›´æ¥å°†æµ‹è¯•å‡½æ•°æ ‡è®°æˆè·³è¿‡<br>@unittest.skip(â€˜è·³è¿‡æ¡ä»¶â€™)<br>æ ¹æ®æ¡ä»¶åˆ¤æ–­æµ‹è¯•å‡½æ•°æ˜¯å¦è·³è¿‡ , åˆ¤æ–­æ¡ä»¶æˆç«‹, è·³è¿‡<br>@unittest.skipIf(åˆ¤æ–­æ¡ä»¶ï¼Œâ€™è·³è¿‡åŸå› â€™)</p></blockquote><p><strong><font size="4">skipï¼šç›´æ¥è·³è¿‡</font></strong><br><strong><font size="4">skipIfï¼š</font><font color="red" size="4">åˆ¤æ–­æ¡ä»¶æˆç«‹ï¼Œ è·³è¿‡ã€‚ä¸æˆç«‹ï¼Œæ‰§è¡Œã€‚</font></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">age = <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span>(unittest.TestCase):</span><br><span class="line"><span class="meta">    @unittest.skip(<span class="params"><span class="string">&quot;ç›´æ¥è·³è¿‡&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•ç”¨ä¾‹1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipIf(<span class="params">age == <span class="number">20</span>, <span class="string">&quot;æˆå¹´ï¼Œè·³è¿‡&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method1</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•ç”¨ä¾‹2&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipIf(<span class="params">age &gt; <span class="number">18</span>,<span class="string">&quot;æˆå¹´ï¼Œè·³è¿‡&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method2</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•ç”¨ä¾‹2&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @unittest.skipIf(<span class="params">age &lt; <span class="number">18</span>,<span class="string">&quot;æœªæˆå¹´ï¼Œä¸è·³è¿‡&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method3</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æµ‹è¯•ç”¨ä¾‹3&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h4 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h4><p><img src="https://s1.ax1x.com/2022/06/16/XHMWsP.png" alt="XHMWsP.png"></p><h1 id="æ•°æ®é©±åŠ¨"><a href="#æ•°æ®é©±åŠ¨" class="headerlink" title="æ•°æ®é©±åŠ¨"></a>æ•°æ®é©±åŠ¨</h1><blockquote><p>pip install ddt<br>ä½¿ç”¨æ•°æ®é©±åŠ¨ï¼Œè¦åœ¨classå‰åŠ ä¸Šä¿®é¥°å™¨ <strong><font color="red">@ddt</font></strong></p></blockquote><h2 id="å•ä¸ªå‚æ•°"><a href="#å•ä¸ªå‚æ•°" class="headerlink" title="å•ä¸ªå‚æ•°"></a>å•ä¸ªå‚æ•°</h2><blockquote><p>@dataï¼šå•ä¸ªå‚æ•°é‡Œé¢è¦ç”¨å­—ç¬¦ä¸²å½¢å¼</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span> ddt,data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span>(unittest.TestCase):</span><br><span class="line">    <span class="comment"># å•ä¸ªå‚æ•°</span></span><br><span class="line"><span class="meta">    @data(<span class="params"><span class="string">&quot;20220616&quot;</span>,<span class="string">&quot;20220617&quot;</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method</span>(<span class="params">self,date</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ—¥æœŸï¼š&quot;</span>,date)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h2 id="å¤šä¸ªå‚æ•°"><a href="#å¤šä¸ªå‚æ•°" class="headerlink" title="å¤šä¸ªå‚æ•°"></a>å¤šä¸ªå‚æ•°</h2><blockquote><p>@dataï¼šå¤šä¸ªå‚æ•°é‡Œé¢è¦ç”¨åˆ—è¡¨å½¢å¼<br>@unpack è£…é¥°å™¨ï¼šå¯¹æ•°æ®æ‹†åŒ…ï¼ŒæŠŠå¯¹åº”çš„å†…å®¹ä¼ å…¥å¯¹åº”çš„å‚æ•°</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span> ddt, data, unpack</span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span>(unittest.TestCase):</span><br><span class="line">    <span class="comment"># å¤šå‚æ•°æ•°æ®éœ€è¦ä½¿ç”¨list</span></span><br><span class="line"><span class="meta">    @data(<span class="params">[<span class="string">&quot;admin&quot;</span>,<span class="string">&quot;123456&quot;</span>]</span>)</span></span><br><span class="line">    <span class="comment"># unpack æ‹†åŒ…ï¼Œç”¨äºå°†åˆ—è¡¨é‡Œé¢çš„æ•°æ®æ‹†å¼€ï¼Œåˆ†åˆ«å¯¹åº”ä¼ å…¥ä¸‹é¢å˜é‡ä¸­</span></span><br><span class="line"><span class="meta">    @unpack</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_2</span>(<span class="params">self,username,password</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;ç”¨æˆ·åï¼š&quot;</span>,username)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;å¯†ç ï¼š&quot;</span>,password)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h2 id="Jsonæ–‡ä»¶ä¼ é€’å‚æ•°"><a href="#Jsonæ–‡ä»¶ä¼ é€’å‚æ•°" class="headerlink" title="Jsonæ–‡ä»¶ä¼ é€’å‚æ•°"></a>Jsonæ–‡ä»¶ä¼ é€’å‚æ•°</h2><h4 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h4><h4 id="unitest-test-json"><a href="#unitest-test-json" class="headerlink" title="unitest_test.json"></a>unitest_test.json</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mysql&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;wanghan&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123456&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;redis&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hwang&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;123456&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><h4 id="unitest-test-py-1"><a href="#unitest-test-py-1" class="headerlink" title="unitest_test.py"></a>unitest_test.py</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> unitest</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span> ddt,data,unpack</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨jsonå¤šä¸ªå‚æ•°è¯»å–</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reads_file</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;unittest_test.json&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        result = json.load(f)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestDemo</span>(unittest.TestCase):</span><br><span class="line">    <span class="comment"># å¤šå‚æ•°æ•°æ®é©±åŠ¨</span></span><br><span class="line"><span class="meta">    @data(<span class="params">*reads_file(<span class="params"></span>)</span>)</span></span><br><span class="line"><span class="meta">    @unpack</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_method</span>(<span class="params">self,mysql,redis</span>):</span><br><span class="line">        <span class="built_in">print</span>(mysql)</span><br><span class="line">        <span class="built_in">print</span>(mysql[<span class="string">&quot;username&quot;</span>])</span><br><span class="line">        <span class="built_in">print</span>(mysql[<span class="string">&quot;password&quot;</span>])</span><br><span class="line">        <span class="built_in">print</span>(redis)</span><br><span class="line">        <span class="built_in">print</span>(redis[<span class="string">&quot;username&quot;</span>])</span><br><span class="line">        <span class="built_in">print</span>(redis[<span class="string">&quot;password&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h4 id="æ³¨æ„äº‹é¡¹ï¼š"><a href="#æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š"></a>æ³¨æ„äº‹é¡¹ï¼š</h4><blockquote><p>1ã€with opené‡Œé¢é»˜è®¤æ˜¯ â€râ€œ<br>2ã€@data é‡Œé¢çš„ * å«ä¹‰æ˜¯å®ç°æ¯ä¸ªjsonå¯¹è±¡å•ä¸ªä¼ å…¥æ–¹æ³•æ‰§è¡Œï¼Œä¸ç„¶ä¼šå§jsonæ–‡ä»¶é‡Œé¢æ‰€ç”¨æ•°æ®å…¨éƒ¨ä¼ å…¥<br>* æ˜¯å…ƒç¥–ï¼›<br>** æ˜¯å­—å…¸ï¼›<br>3ã€å‚æ•°ä¸èƒ½ä¼ é”™ï¼Œè¦å¯¹åº”</p></blockquote><h3 id="ç»“æœ-1"><a href="#ç»“æœ-1" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h3><p><img src="https://s1.ax1x.com/2022/06/16/XH1ib6.png" alt="XH1ib6.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-unittest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ—¶é—´åºåˆ—--Timestamp</title>
      <link href="/2022/06/15/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97--Timestamp/"/>
      <url>/2022/06/15/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97--Timestamp/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="æ—¶é—´æˆ³"><a href="#æ—¶é—´æˆ³" class="headerlink" title="æ—¶é—´æˆ³"></a>æ—¶é—´æˆ³</h1><p>Pandas ä¸­çš„æ—¶é—´æˆ³æ•°æ®ç±»å‹ Timestamp</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Timestamp(ts_input, freq=None, tz=None, unit=None,year=None, month=None, day=None, hour=None, minute=None,second=None, microsecond=None, nanosecond=None, tzinfo=None)</span><br></pre></td></tr></table></figure><table><thead><tr><th>å‚æ•°å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>ts_input</td><td>è¦è½¬æ¢ä¸ºæ—¶é—´æˆ³çš„å€¼</td></tr><tr><td>tz</td><td>æ—¶åŒºï¼Œå¦‚ tz&#x3D;â€˜Asia&#x2F;Shanghaiâ€™ ä¸Šæµ·æ—¶åŒº</td></tr><tr><td>yearã€monthã€day</td><td>å¹´ã€æœˆã€æ—¥</td></tr><tr><td>hourã€minuteã€secondã€microsecondã€nanosecond</td><td>æ—¶ã€åˆ†ã€ç§’ã€å¾®ç§’ã€çº³ç§’</td></tr></tbody></table><h2 id="1-weekofyear-å±æ€§"><a href="#1-weekofyear-å±æ€§" class="headerlink" title="1. weekofyear å±æ€§"></a>1. weekofyear å±æ€§</h2><blockquote><p>è·å–è¯¥æ—¶é—´æˆ³åœ¨å½“å¹´çš„ç¬¬å¤šå°‘å‘¨</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2020-3-17&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.weekofyear)</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">12</span><br></pre></td></tr></table></figure><h2 id="2-dayofyear-å±æ€§"><a href="#2-dayofyear-å±æ€§" class="headerlink" title="2. dayofyear å±æ€§"></a>2. dayofyear å±æ€§</h2><blockquote><p>è·å–è¯¥æ—¶é—´æ˜¯ä¸€å¹´çš„ç¬¬å¤šå°‘å¤©</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2021-1-6&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.dayofyear)</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">6</span><br></pre></td></tr></table></figure><h2 id="3-is-year-end-å±æ€§"><a href="#3-is-year-end-å±æ€§" class="headerlink" title="3. is_year_end å±æ€§"></a>3. is_year_end å±æ€§</h2><blockquote><p>è·å–è¯¥æ—¶é—´æˆ³æ˜¯å¦æ˜¯ä¸€å¹´çš„æœ€åä¸€å¤©</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2021-1-6&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.is_year_end)</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">False</span><br></pre></td></tr></table></figure><h2 id="4-now-æ–¹æ³•"><a href="#4-now-æ–¹æ³•" class="headerlink" title="4. now() æ–¹æ³•"></a>4. now() æ–¹æ³•</h2><blockquote><p>è·å–å½“å‰æ—¶é—´çš„æ–¹æ³•</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2020-3-17&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.now())</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">2021-01-06 21:30:08.051878</span><br></pre></td></tr></table></figure><h2 id="5-day-name-æ–¹æ³•"><a href="#5-day-name-æ–¹æ³•" class="headerlink" title="5. day_name() æ–¹æ³•"></a>5. day_name() æ–¹æ³•</h2><blockquote><p>è·å–æ—¶é—´æˆ³æ˜¯æ˜ŸæœŸå‡ åå­—çš„æ–¹æ³•</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2021-1-6&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.day_name())</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">Wednesday</span><br></pre></td></tr></table></figure><h2 id="6-isocalendar-æ–¹æ³•"><a href="#6-isocalendar-æ–¹æ³•" class="headerlink" title="6. isocalendar() æ–¹æ³•"></a>6. isocalendar() æ–¹æ³•</h2><blockquote><p>è·å–æ—¶é—´æˆ³æ˜¯é‚£ä¸€å¹´ï¼Œè¿™ä¸€å¹´çš„ç¬¬å‡ å‘¨ï¼Œå‘¨å‡ è¿™ä¸‰ä¸ªå€¼</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">date_res=pd.Timestamp(&quot;2021-1-6&quot;,tz=&#x27;Asia/Shanghai&#x27;)</span><br><span class="line">print(date_res.isocalendar())</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">(2021, 1, 3)</span><br></pre></td></tr></table></figure><h2 id="2-3-æ—¶é—´æˆ³ç´¢å¼•"><a href="#2-3-æ—¶é—´æˆ³ç´¢å¼•" class="headerlink" title="2.3 æ—¶é—´æˆ³ç´¢å¼•"></a>2.3 æ—¶é—´æˆ³ç´¢å¼•</h2><blockquote><p>æ—¶é—´æˆ³ä½œä¸ºç´¢å¼•åºåˆ—å¯¹åº”çš„å¯¹åº”çš„ç±»å‹æ˜¯ DatetimeIndex ï¼Œå®ƒå¯ä»¥ç”¨äº Series å’Œ DataFrame çš„æ•°æ®é›†ä¸­ã€‚</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># å¯¼å…¥ pandas æ•°æ®åŒ…</span><br><span class="line">import pandas as pd</span><br><span class="line">df_data=pd.Series([786,890,977,912,825,586], index=[&#x27;2017-04-12&#x27;,&#x27;2017-05-17&#x27;,&#x27;2018-04-12&#x27;,&#x27;2020-05-16&#x27;,&#x27;2018-05-12&#x27;,&#x27;2020-04-12&#x27;])</span><br><span class="line">print(df_data)</span><br><span class="line"></span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">2017-04-12    786</span><br><span class="line">2017-05-17    890</span><br><span class="line">2018-04-12    977</span><br><span class="line">2020-05-16    912</span><br><span class="line">2018-05-12    825</span><br><span class="line">2020-04-12    586</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºè§£æï¼šè¿™é‡Œçœ‹åˆ°æˆ‘ä»¬çš„æ•°æ®ç´¢å¼•æ˜¯ä¸€ç»„å¹´æœˆæ—¥çš„æ•°æ®æ ¼å¼ï¼Œä½†ä»–ä»¬çš„æ•°æ®ç±»å‹å¹¶ä¸æ˜¯æ—¶é—´åºåˆ—ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²ã€‚è¿™é‡Œæˆ‘ä»¬è¦ç”¨åˆ° DatetimeIndex () å‡½æ•°å°†ä¸€ç»„æ•°æ®è½¬æ¢ä¸ºæ—¶é—´æˆ³ç´¢å¼•ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># é€šè¿‡ DatetimeIndex() å‡½æ•° è½¬æ¢ä¸ºæ—¶é—´æˆ³ç´¢å¼•</span><br><span class="line">index_date=pd.DatetimeIndex([&#x27;2017-04-12&#x27;,&#x27;2017-05-17&#x27;,&#x27;2018-04-12&#x27;,&#x27;2020-05-16&#x27;,</span><br><span class="line">                             &#x27;2018-05-12&#x27;,&#x27;2020-04-12&#x27;])</span><br><span class="line">df_data=pd.Series([786,890,977,912,825,586],index=index_date)</span><br><span class="line">print(df_data)</span><br><span class="line"></span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">2017-04-12    786</span><br><span class="line">2017-05-17    890</span><br><span class="line">2018-04-12    977</span><br><span class="line">2020-05-16    912</span><br><span class="line">2018-05-12    825</span><br><span class="line">2020-04-12    586</span><br><span class="line">dtype: int64</span><br><span class="line"># ç»“æœè§£æï¼šåœ¨è¾“å‡ºç»“æœä¸Šå’Œä¹‹å‰æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œä½†è¿™é‡Œæˆ‘ä»¬èƒ½æ–¹ä¾¿çš„å¯¹æ•°æ®çš„æ—¶é—´ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾æ“ä½œï¼Œå¯ä»¥ç›´æ¥è·å¾—æŸä¸€å¹´çš„æ•°æ®ï¼š</span><br><span class="line"></span><br><span class="line">print(df_data[&#x27;2017&#x27;])</span><br><span class="line"># --- è¾“å‡ºç»“æœ ---</span><br><span class="line">2017-04-12    786</span><br><span class="line">2017-05-17    890</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><blockquote><p><strong>é™¤äº†ä¸Šé¢é€šè¿‡ DatetimeIndex () å‡½æ•°åˆ›å»ºæ—¶é—´æˆ³ç´¢å¼•ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ date_range () å‡½æ•°æ¥ç”Ÿæˆæ—¶é—´æˆ³ç´¢å¼•ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥ pandas æ•°æ®åŒ…</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">index_date=pd.date_range(start=<span class="string">&quot;2020-12-20 01:00:00&quot;</span>,end=<span class="string">&quot;2020-12-20 12:00:00&quot;</span>,freq=<span class="string">&quot;2H&quot;</span>)</span><br><span class="line">series_data=pd.Series([<span class="number">786</span>,<span class="number">890</span>,<span class="number">977</span>,<span class="number">912</span>,<span class="number">825</span>,<span class="number">586</span>],index=index_date)</span><br><span class="line"><span class="built_in">print</span>(series_data)</span><br><span class="line"><span class="comment"># --- è¾“å‡ºç»“æœ ---</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> 01:<span class="number">00</span>:<span class="number">00</span>    <span class="number">786</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> 03:<span class="number">00</span>:<span class="number">00</span>    <span class="number">890</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> 05:<span class="number">00</span>:<span class="number">00</span>    <span class="number">977</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> 07:<span class="number">00</span>:<span class="number">00</span>    <span class="number">912</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> 09:<span class="number">00</span>:<span class="number">00</span>    <span class="number">825</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">12</span>-<span class="number">20</span> <span class="number">11</span>:<span class="number">00</span>:<span class="number">00</span>    <span class="number">586</span></span><br><span class="line">Freq: 2H, dtype: int64</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/15/XTKYcV.png" alt="XTKYcV.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ•°æ®ç­›é€‰</title>
      <link href="/2022/06/14/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E7%AD%9B%E9%80%89/"/>
      <url>/2022/06/14/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E7%AD%9B%E9%80%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ç´¢å¼•æ¨¡ç³ŠåŒ¹é…"><a href="#ç´¢å¼•æ¨¡ç³ŠåŒ¹é…" class="headerlink" title="ç´¢å¼•æ¨¡ç³ŠåŒ¹é…"></a>ç´¢å¼•æ¨¡ç³ŠåŒ¹é…</h1><ul><li>truncateï¼Œæˆªæ–­å‡½æ•°ï¼Œé€šè¿‡beforeå’Œafterå‚æ•°ï¼Œå®ç°ç­›é€‰ç‰¹å®šèŒƒå›´å†…çš„æ•°æ®ï¼Œå…¶ä¸­ä¸¤ä¸ªå‚æ•°ä¸­å¯åªå­˜åœ¨ä¸€ä¸ªï¼Œè¡¨ç¤ºåŠå¼€åŒºé—´</li><li>dt.betweenï¼Œå€ŸåŠ©æ—¶é—´åºåˆ—çš„dtå±æ€§ï¼Œæ¥å—èµ·å§‹å’Œç»“æŸå‚æ•°ï¼Œå®ç°ç‰¹å®šèŒƒå›´ç­›é€‰</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">date = pd.date_range(<span class="string">&quot;2022-06-15&quot;</span>,<span class="string">&quot;2022-06-16&quot;</span>,freq=<span class="string">&quot;S&quot;</span>)</span><br><span class="line">num = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(date)+<span class="number">1</span>)]</span><br><span class="line">df = pd.DataFrame(num,columns=[<span class="string">&quot;num&quot;</span>],index=date)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="comment">#                        num</span></span><br><span class="line"><span class="comment"># 2022-06-15 00:00:00      1</span></span><br><span class="line"><span class="comment"># 2022-06-15 00:00:01      2</span></span><br><span class="line"><span class="comment"># 2022-06-15 00:00:02      3</span></span><br><span class="line"><span class="comment"># 2022-06-15 00:00:03      4</span></span><br><span class="line"><span class="comment"># 2022-06-15 00:00:04      5</span></span><br><span class="line"><span class="comment"># ...                    ...</span></span><br><span class="line"><span class="comment"># 2022-06-15 23:59:56  86397</span></span><br><span class="line"><span class="comment"># 2022-06-15 23:59:57  86398</span></span><br><span class="line"><span class="comment"># 2022-06-15 23:59:58  86399</span></span><br><span class="line"><span class="comment"># 2022-06-15 23:59:59  86400</span></span><br><span class="line"><span class="comment"># 2022-06-16 00:00:00  86401</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># [86401 rows x 1 columns]</span></span><br></pre></td></tr></table></figure><h1 id="ç´¢å¼•æ¨¡ç³ŠåŒ¹é…-1"><a href="#ç´¢å¼•æ¨¡ç³ŠåŒ¹é…-1" class="headerlink" title="ç´¢å¼•æ¨¡ç³ŠåŒ¹é…"></a>ç´¢å¼•æ¨¡ç³ŠåŒ¹é…</h1><blockquote><p>æ—¶é—´åºåˆ—å’Œå­—ç¬¦ä¸²åºåˆ—çš„åŒ¹é…ç­–ç•¥æ˜¯ä¸åŒçš„ï¼Œæ—¶é—´åºåˆ—æ˜¯æˆªæ–­å¼æ¨¡ç³ŠåŒ¹é…ï¼Œå­—ç¬¦ä¸²åºåˆ—æ˜¯æ¯”è¾ƒå¼æ¨¡ç³ŠåŒ¹é…</p></blockquote><h4 id="1-æ—¶é—´åºåˆ—çš„åŒ¹é…"><a href="#1-æ—¶é—´åºåˆ—çš„åŒ¹é…" class="headerlink" title="1. æ—¶é—´åºåˆ—çš„åŒ¹é…"></a>1. æ—¶é—´åºåˆ—çš„åŒ¹é…</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(df[<span class="string">&quot;2022-06-15 07&quot;</span>:<span class="string">&quot;2022-06-15 08&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#                        num</span></span><br><span class="line"><span class="comment"># 2022-06-15 07:00:00  25201</span></span><br><span class="line"><span class="comment"># 2022-06-15 07:00:01  25202</span></span><br><span class="line"><span class="comment"># 2022-06-15 07:00:02  25203</span></span><br><span class="line"><span class="comment"># 2022-06-15 07:00:03  25204</span></span><br><span class="line"><span class="comment"># 2022-06-15 07:00:04  25205</span></span><br><span class="line"><span class="comment"># ...                    ...</span></span><br><span class="line"><span class="comment"># 2022-06-15 08:59:55  32396</span></span><br><span class="line"><span class="comment"># 2022-06-15 08:59:56  32397</span></span><br><span class="line"><span class="comment"># 2022-06-15 08:59:57  32398</span></span><br><span class="line"><span class="comment"># 2022-06-15 08:59:58  32399</span></span><br><span class="line"><span class="comment"># 2022-06-15 08:59:59  32400</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># [7200 rows x 1 columns]</span></span><br></pre></td></tr></table></figure><h4 id="2-å­—ç¬¦ä¸²åºåˆ—çš„åŒ¹é…"><a href="#2-å­—ç¬¦ä¸²åºåˆ—çš„åŒ¹é…" class="headerlink" title="2. å­—ç¬¦ä¸²åºåˆ—çš„åŒ¹é…"></a>2. å­—ç¬¦ä¸²åºåˆ—çš„åŒ¹é…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">df1 =df.copy()</span><br><span class="line">df1.index = df1.index.astype(&quot;str&quot;)</span><br><span class="line">print(df1[&quot;2022-06-15 07&quot;:&quot;2022-06-15 08&quot;])</span><br><span class="line"></span><br><span class="line">                       num</span><br><span class="line">2022-06-15 07:00:00  25201</span><br><span class="line">2022-06-15 07:00:01  25202</span><br><span class="line">2022-06-15 07:00:02  25203</span><br><span class="line">2022-06-15 07:00:03  25204</span><br><span class="line">2022-06-15 07:00:04  25205</span><br><span class="line">...                    ...</span><br><span class="line">2022-06-15 07:59:55  28796</span><br><span class="line">2022-06-15 07:59:56  28797</span><br><span class="line">2022-06-15 07:59:57  28798</span><br><span class="line">2022-06-15 07:59:58  28799</span><br><span class="line">2022-06-15 07:59:59  28800</span><br><span class="line"></span><br><span class="line">[3600 rows x 1 columns]</span><br></pre></td></tr></table></figure><h4 id="3-truncateæˆªæ–­å‡½æ•°"><a href="#3-truncateæˆªæ–­å‡½æ•°" class="headerlink" title="3. truncateæˆªæ–­å‡½æ•°"></a>3. truncateæˆªæ–­å‡½æ•°</h4><blockquote><p>å¸ƒå°”ç´¢å¼•çš„ç®€ç•¥å†™æ³•</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">print(df.truncate(before=&quot;2022-06-15 07&quot;,after=&quot;2022-06-15 09&quot;))</span><br><span class="line"></span><br><span class="line">#                        num</span><br><span class="line"># 2022-06-15 07:00:00  25201</span><br><span class="line"># 2022-06-15 07:00:01  25202</span><br><span class="line"># 2022-06-15 07:00:02  25203</span><br><span class="line"># 2022-06-15 07:00:03  25204</span><br><span class="line"># 2022-06-15 07:00:04  25205</span><br><span class="line"># ...                    ...</span><br><span class="line"># 2022-06-15 08:59:55  32396</span><br><span class="line"># 2022-06-15 08:59:56  32397</span><br><span class="line"># 2022-06-15 08:59:57  32398</span><br><span class="line"># 2022-06-15 08:59:58  32399</span><br><span class="line"># 2022-06-15 08:59:59  32400</span><br><span class="line"># </span><br><span class="line"># [7200 rows x 1 columns]</span><br></pre></td></tr></table></figure><h4 id="4-dt-between"><a href="#4-dt-between" class="headerlink" title="4. dt.between"></a>4. dt.between</h4><blockquote><p>è¯¥æ–¹æ³•ä¸»è¦ç”¨äºæ•°æ®åˆ—çš„æ—¶é—´ç­›é€‰ï¼Œå…¶ä¼˜åŠ¿åœ¨äºå¯æŒ‡å®šæ—¶é—´å±æ€§æ¯”è¾ƒï¼Œä¾‹å¦‚ï¼šå¯ä»¥æŒ‡å®šæ—¶é—´å±æ€§</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># reset_index() é‡ç½®DateFrameç´¢å¼•ä»0å¼€å§‹ï¼Œå¹¶å°†åŸæ¥çš„ç´¢å¼•åˆå¹¶å…¥DateFrameæ•°æ®åˆ—</span><br><span class="line">df = df.reset_index()</span><br><span class="line">data = df[df[&quot;index&quot;].dt.time.between(pd.Timestamp(&quot;07:00:00&quot;).time(),pd.Timestamp(&quot;09:00:00&quot;).time())]</span><br><span class="line">print(data)</span><br><span class="line"></span><br><span class="line">#                     index    num</span><br><span class="line"># 25200 2022-06-15 07:00:00  25201</span><br><span class="line"># 25201 2022-06-15 07:00:01  25202</span><br><span class="line"># 25202 2022-06-15 07:00:02  25203</span><br><span class="line"># 25203 2022-06-15 07:00:03  25204</span><br><span class="line"># 25204 2022-06-15 07:00:04  25205</span><br><span class="line"># ...                   ...    ...</span><br><span class="line"># 32396 2022-06-15 08:59:56  32397</span><br><span class="line"># 32397 2022-06-15 08:59:57  32398</span><br><span class="line"># 32398 2022-06-15 08:59:58  32399</span><br><span class="line"># 32399 2022-06-15 08:59:59  32400</span><br><span class="line"># 32400 2022-06-15 09:00:00  32401</span><br><span class="line"># </span><br><span class="line"># [7201 rows x 2 columns]</span><br></pre></td></tr></table></figure><h4 id="ä»‹ç»reset-index"><a href="#ä»‹ç»reset-index" class="headerlink" title="ä»‹ç»reset_index()"></a>ä»‹ç»reset_index()</h4><p><strong>å‚æ•°</strong></p><blockquote><p>dropï¼šæ˜¯å¦åˆ é™¤åŸç´¢å¼•ï¼Œé»˜è®¤ä¸ºFalse<br>inplace: æ˜¯å¦åœ¨åŸDataFrameä¸Šæ”¹åŠ¨ï¼Œé»˜è®¤ä¸ºFalse<br>level: å¦‚æœç´¢å¼•(index)æœ‰å¤šä¸ªåˆ—ï¼Œä»…ä»ç´¢å¼•ä¸­åˆ é™¤levelæŒ‡å®šçš„åˆ—ï¼Œé»˜è®¤åˆ é™¤æ‰€æœ‰åˆ—<br>col_level: å¦‚æœåˆ—å(columns)æœ‰å¤šä¸ªçº§åˆ«ï¼Œå†³å®šè¢«åˆ é™¤çš„ç´¢å¼•å°†æ’å…¥å“ªä¸ªçº§åˆ«ï¼Œé»˜è®¤æ’å…¥ç¬¬ä¸€çº§<br>col_fill: å¦‚æœåˆ—å(columns)æœ‰å¤šä¸ªçº§åˆ«ï¼Œå†³å®šå…¶ä»–çº§åˆ«å¦‚ä½•å‘½å</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--é«˜çº§æ¥å£dtï¼ˆdatetimeï¼‰</title>
      <link href="/2022/06/14/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E9%AB%98%E7%BA%A7%E6%8E%A5%E5%8F%A3dt%EF%BC%88datetime%EF%BC%89/"/>
      <url>/2022/06/14/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E9%AB%98%E7%BA%A7%E6%8E%A5%E5%8F%A3dt%EF%BC%88datetime%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p><font size=4><strong>df æ˜¯Pandaså¯¹Serieså’ŒDataFrameæä¾›çš„å…¶ä¸­ä¸€ç§å±æ€§æ¥å£ï¼Œç±»ä¼¼äºdatetimeçš„ä½¿ç”¨ï¼Œæ˜¯å¯¹æ—¥æœŸæ—¶é—´æ•°æ®çš„å¤„ç†</strong></font></p></blockquote><h1 id="dt"><a href="#dt" class="headerlink" title="dt"></a>dt</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame([&#123;<span class="string">&quot;æ—¥æœŸ&quot;</span>:<span class="string">&quot;2022-06-14&quot;</span>,<span class="string">&quot;ä»·æ ¼&quot;</span>:<span class="string">&quot;60&quot;</span>&#125;,&#123;<span class="string">&quot;æ—¥æœŸ&quot;</span>:<span class="string">&quot;2022-06-17&quot;</span>,<span class="string">&quot;ä»·æ ¼&quot;</span>:<span class="string">&quot;70&quot;</span>&#125;],columns=[<span class="string">&quot;æ—¥æœŸ&quot;</span>,<span class="string">&quot;ä»·æ ¼&quot;</span>],index=[<span class="string">&quot;2022-06-14&quot;</span>,<span class="string">&quot;2022-06-17&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line">df[<span class="string">&quot;æ—¥æœŸ&quot;</span>] = pd.to_datetime(df[<span class="string">&quot;æ—¥æœŸ&quot;</span>])</span><br><span class="line"><span class="comment"># å°†æ—¥æœŸstrç±»å‹æ”¹ä¸ºdatetimeç±»å‹</span></span><br></pre></td></tr></table></figure><h3 id="è®¿é—®æ—¥æœŸåˆ—ä¸­çš„æ—¥æœŸï¼Œå¹¶è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼"><a href="#è®¿é—®æ—¥æœŸåˆ—ä¸­çš„æ—¥æœŸï¼Œå¹¶è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼" class="headerlink" title="è®¿é—®æ—¥æœŸåˆ—ä¸­çš„æ—¥æœŸï¼Œå¹¶è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼"></a>è®¿é—®æ—¥æœŸåˆ—ä¸­çš„æ—¥æœŸï¼Œå¹¶è¾“å‡ºå­—ç¬¦ä¸²æ ¼å¼</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df.æ—¥æœŸ.dt.date.astype(str))</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    2022-06-14</span><br><span class="line">    2022-06-17    2022-06-17</span><br><span class="line">    Name: æ—¥æœŸ, dtype: object</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-date"><a href="#dt-date" class="headerlink" title="dt.date"></a>dt.date</h3><blockquote><p>è¿”å›çš„æ˜¯Seriesçš„objectç±»å‹</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.date)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    2022-06-14</span><br><span class="line">    2022-06-17    2022-06-17</span><br><span class="line">    Name: æ—¥æœŸ, dtype: object</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-normalize"><a href="#dt-normalize" class="headerlink" title="dt.normalize"></a>dt.normalize</h3><blockquote><p>è¿”å›çš„æ˜¯seriesçš„datetime64ç±»å‹</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.normalize())</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14   2022-06-14</span><br><span class="line">    2022-06-17   2022-06-17</span><br><span class="line">    Name: æ—¥æœŸ, dtype: datetime64[ns]</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-yearã€dt-monthã€dt-dayã€dt-hourã€dt-minuteã€dt-second"><a href="#dt-yearã€dt-monthã€dt-dayã€dt-hourã€dt-minuteã€dt-second" class="headerlink" title="dt.yearã€dt.monthã€dt.dayã€dt.hourã€dt.minuteã€dt.second"></a>dt.yearã€dt.monthã€dt.dayã€dt.hourã€dt.minuteã€dt.second</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.year)</span><br><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.month)</span><br><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.day)</span><br><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.hour)</span><br><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.minute)</span><br><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.second)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    2022</span><br><span class="line">    2022-06-17    2022</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">    2022-06-14    6</span><br><span class="line">    2022-06-17    6</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">    2022-06-14    14</span><br><span class="line">    2022-06-17    17</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">    2022-06-14    0</span><br><span class="line">    2022-06-17    0</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">    2022-06-14    0</span><br><span class="line">    2022-06-17    0</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">    2022-06-14    0</span><br><span class="line">    2022-06-17    0</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-weekï¼ˆä¸€å¹´çš„ç¬¬å‡ å‘¨ï¼‰"><a href="#dt-weekï¼ˆä¸€å¹´çš„ç¬¬å‡ å‘¨ï¼‰" class="headerlink" title="dt.weekï¼ˆä¸€å¹´çš„ç¬¬å‡ å‘¨ï¼‰"></a>dt.weekï¼ˆä¸€å¹´çš„ç¬¬å‡ å‘¨ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.week)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    24</span><br><span class="line">    2022-06-17    24</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-weekdayï¼ˆæ˜ŸæœŸå‡ ï¼‰"><a href="#dt-weekdayï¼ˆæ˜ŸæœŸå‡ ï¼‰" class="headerlink" title="dt.weekdayï¼ˆæ˜ŸæœŸå‡ ï¼‰"></a>dt.weekdayï¼ˆæ˜ŸæœŸå‡ ï¼‰</h3><blockquote><p>0-6 å¯¹åº” å‘¨1-å‘¨æ—¥</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.weekday)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    1</span><br><span class="line">    2022-06-17    4</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-dayofweekï¼ˆæ˜ŸæœŸå‡ ï¼‰"><a href="#dt-dayofweekï¼ˆæ˜ŸæœŸå‡ ï¼‰" class="headerlink" title="dt.dayofweekï¼ˆæ˜ŸæœŸå‡ ï¼‰"></a>dt.dayofweekï¼ˆæ˜ŸæœŸå‡ ï¼‰</h3><blockquote><p>0-6 å¯¹åº” å‘¨1-å‘¨æ—¥</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.dayofweek)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    1</span><br><span class="line">    2022-06-17    4</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-dayofyearï¼ˆä¸€å¹´çš„ç¬¬å‡ å¤©ï¼‰"><a href="#dt-dayofyearï¼ˆä¸€å¹´çš„ç¬¬å‡ å¤©ï¼‰" class="headerlink" title="dt.dayofyearï¼ˆä¸€å¹´çš„ç¬¬å‡ å¤©ï¼‰"></a>dt.dayofyearï¼ˆä¸€å¹´çš„ç¬¬å‡ å¤©ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.dayofyear)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    165</span><br><span class="line">    2022-06-17    168</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-quarterï¼ˆä¸€å¹´çš„ç¬¬å‡ å­£åº¦ï¼‰"><a href="#dt-quarterï¼ˆä¸€å¹´çš„ç¬¬å‡ å­£åº¦ï¼‰" class="headerlink" title="dt.quarterï¼ˆä¸€å¹´çš„ç¬¬å‡ å­£åº¦ï¼‰"></a>dt.quarterï¼ˆä¸€å¹´çš„ç¬¬å‡ å­£åº¦ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.quarter)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    2</span><br><span class="line">    2022-06-17    2</span><br><span class="line">    Name: æ—¥æœŸ, dtype: int64</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-is-month-startï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„ç¬¬ä¸€å¤©ï¼‰"><a href="#dt-is-month-startï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„ç¬¬ä¸€å¤©ï¼‰" class="headerlink" title="dt.is_month_startï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„ç¬¬ä¸€å¤©ï¼‰"></a>dt.is_month_startï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„ç¬¬ä¸€å¤©ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.is_month_start)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    False</span><br><span class="line">    2022-06-17    False</span><br><span class="line">    Name: æ—¥æœŸ, dtype: bool</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-is-month-endï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„æœ€åä¸€å¤©ï¼‰"><a href="#dt-is-month-endï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„æœ€åä¸€å¤©ï¼‰" class="headerlink" title="dt.is_month_endï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„æœ€åä¸€å¤©ï¼‰"></a>dt.is_month_endï¼ˆæ˜¯å¦æ˜¯æ¯æœˆçš„æœ€åä¸€å¤©ï¼‰</h3><h3 id="dt-is-year-start-ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„ç¬¬ä¸€å¤©ï¼‰"><a href="#dt-is-year-start-ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„ç¬¬ä¸€å¤©ï¼‰" class="headerlink" title="dt.is_year_start ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„ç¬¬ä¸€å¤©ï¼‰"></a>dt.is_year_start ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„ç¬¬ä¸€å¤©ï¼‰</h3><h3 id="dt-is-year-end-ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„æœ€åä¸€å¤©ï¼‰"><a href="#dt-is-year-end-ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„æœ€åä¸€å¤©ï¼‰" class="headerlink" title="dt.is_year_end ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„æœ€åä¸€å¤©ï¼‰"></a>dt.is_year_end ï¼ˆæ˜¯å¦æ˜¯æ¯å¹´çš„æœ€åä¸€å¤©ï¼‰</h3><h3 id="dt-is-quarter-start-ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„ç¬¬ä¸€å¤©ï¼‰"><a href="#dt-is-quarter-start-ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„ç¬¬ä¸€å¤©ï¼‰" class="headerlink" title="dt.is_quarter_start ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„ç¬¬ä¸€å¤©ï¼‰"></a>dt.is_quarter_start ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„ç¬¬ä¸€å¤©ï¼‰</h3><h3 id="dt-is-quarter-end-ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„æœ€åä¸€å¤©ï¼‰"><a href="#dt-is-quarter-end-ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„æœ€åä¸€å¤©ï¼‰" class="headerlink" title="dt.is_quarter_end ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„æœ€åä¸€å¤©ï¼‰"></a>dt.is_quarter_end ï¼ˆæ˜¯å¦æ˜¯æ¯å­£åº¦çš„æœ€åä¸€å¤©ï¼‰</h3><hr><h3 id="dt-is-leap-yearï¼ˆåˆ¤æ–­æ˜¯å¦æ˜¯é—°å¹´ï¼‰"><a href="#dt-is-leap-yearï¼ˆåˆ¤æ–­æ˜¯å¦æ˜¯é—°å¹´ï¼‰" class="headerlink" title="dt.is_leap_yearï¼ˆåˆ¤æ–­æ˜¯å¦æ˜¯é—°å¹´ï¼‰"></a>dt.is_leap_yearï¼ˆåˆ¤æ–­æ˜¯å¦æ˜¯é—°å¹´ï¼‰</h3><hr><h3 id="dt-month-name-ï¼ˆè¿”å›æœˆä»½çš„è‹±æ–‡åç§°ï¼‰"><a href="#dt-month-name-ï¼ˆè¿”å›æœˆä»½çš„è‹±æ–‡åç§°ï¼‰" class="headerlink" title="dt.month_name()ï¼ˆè¿”å›æœˆä»½çš„è‹±æ–‡åç§°ï¼‰"></a>dt.month_name()ï¼ˆè¿”å›æœˆä»½çš„è‹±æ–‡åç§°ï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.month_name())</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    June</span><br><span class="line">    2022-06-17    June</span><br><span class="line">    Name: æ—¥æœŸ, dtype: object</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><h3 id="dt-strftime-ï¼ˆè®¾ç½®æ—¥æœŸæ ¼å¼ï¼‰"><a href="#dt-strftime-ï¼ˆè®¾ç½®æ—¥æœŸæ ¼å¼ï¼‰" class="headerlink" title="dt.strftime() ï¼ˆè®¾ç½®æ—¥æœŸæ ¼å¼ï¼‰"></a>dt.strftime() ï¼ˆè®¾ç½®æ—¥æœŸæ ¼å¼ï¼‰</h3><blockquote><p>æ³¨æ„ï¼šä»–ä¸datetime.strftimeè¿”å›çš„ç±»å‹æ˜¯ä¸ä¸€æ ·çš„</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(df[&quot;æ—¥æœŸ&quot;].dt.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;))</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">    2022-06-14    2022-06-14 00:00:00</span><br><span class="line">    2022-06-17    2022-06-17 00:00:00</span><br><span class="line">    Name: æ—¥æœŸ, dtype: object</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ•°æ®ç±»å‹ä¹‹é—´çš„è½¬æ¢</title>
      <link href="/2022/06/13/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/"/>
      <url>/2022/06/13/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="to-datetime"><a href="#to-datetime" class="headerlink" title="to_datetime"></a>to_datetime</h2><p><strong><font color=red size=5>str&#x2F;list[str]&#x2F;unicode &#x3D;&#x3D;&gt;  Timestamp&#x2F;DatetimeIndex</font></strong></p><p>str&#x2F;list[str]&#x2F;unicode&#x2F;object   &#x3D;&#x3D;&gt;    &lt;class â€˜pandas._libs.tslibs.timestamps.&gt;Timestampâ€™&gt;</p><p>å¯ä»¥å¤„ç†å•ä¸ªä¹Ÿå¯ä»¥åŒæ—¶æ‰¹é‡å¤„ç†å¤šä¸ªï¼Œå•ä¸ªè½¬ä¸ºTimestampï¼Œå¤šä¸ªè½¬ä¸ºDatetimeIndex</p><p>pd.to_datetime(str, format&#x3D;â€™%Y%m%dâ€™, errors&#x3D;â€™ignoreâ€™)</p><blockquote><p>å‚æ•°ï¼šformatï¼Œæ ¼å¼åŒ–æ˜¾ç¤ºæ—¶é—´çš„æ ¼å¼ã€‚<br>errorsï¼ˆä¸‰ç§å–å€¼ï¼‰ï¼š<br>    â€˜raiseâ€™ï¼Œåˆ™æ— æ•ˆçš„è§£æå°†å¼•å‘å¼‚å¸¸ï¼ˆé»˜è®¤ï¼‰<br>    â€˜coerceâ€™ï¼Œé‚£ä¹ˆæ— æ•ˆè§£æå°†è¢«è®¾ç½®ä¸ºNaT<br>    â€˜ignoreâ€™ï¼Œé‚£ä¹ˆæ— æ•ˆçš„è§£æå°†è¿”å›è¾“å…¥å€¼</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data_str = <span class="string">&quot;2022-06-13 00:05:00&quot;</span></span><br><span class="line">data_date = pd.to_datetime(data_str)</span><br><span class="line"><span class="built_in">print</span>(data_date) <span class="comment"># 2022-06-13 00:05:00</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data_date)) <span class="comment"># &lt;class &#x27;pandas._libs.tslibs.timestamps.Timestamp&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h2 id="to-pydatetime"><a href="#to-pydatetime" class="headerlink" title="to_pydatetime"></a>to_pydatetime</h2><p><strong><font color=red size=5>Timestamp</font>ï¼ˆæ—¶é—´æˆ³ï¼‰<font color=red size=5> &#x3D;&#x3D;&gt; datetime </font></strong><br>&lt;class â€˜pandas._libs.tslibs.timestamps.Timestamp</font>â€˜&gt;  &#x3D;&#x3D;&gt;  &lt;class â€˜datetime.datetimeâ€™&gt;</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data_datetime = pd.Timestamp(<span class="string">&quot;2022-06-15&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(data_datetime) <span class="comment"># 2022-06-15 00:00:00</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(data_datetime.to_pydatetime()) <span class="comment"># 2022-06-15 00:00:00</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(data_datetime.to_pydatetime())) <span class="comment"># &lt;class &#x27;datetime.datetime&#x27;&gt;</span></span><br></pre></td></tr></table></figure><h2 id="datetime-strftime-x-â€™-Fâ€™"><a href="#datetime-strftime-x-â€™-Fâ€™" class="headerlink" title="datetime.strftime(x,â€™%Fâ€™)"></a>datetime.strftime(x,â€™%Fâ€™)</h2><p><strong><font color=red size=5>DatetimeIndex &#x3D;&#x3D;&gt; str</font></strong></p><p>&lt;class â€˜pandas.core.indexes.datetimes.DatetimeIndexâ€™&gt; &#x3D;&#x3D;&gt; &lt;class â€˜strâ€™&gt;</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">date=pd.date_range(<span class="string">&#x27;5/25/2015&#x27;</span>,<span class="string">&#x27;6/26/2015&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(date)</span><br><span class="line"><span class="comment"># DatetimeIndex([&#x27;2015-05-25&#x27;, &#x27;2015-05-26&#x27;, &#x27;2015-05-27&#x27;, &#x27;2015-05-28&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-05-29&#x27;, &#x27;2015-05-30&#x27;, &#x27;2015-05-31&#x27;, &#x27;2015-06-01&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-02&#x27;, &#x27;2015-06-03&#x27;, &#x27;2015-06-04&#x27;, &#x27;2015-06-05&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-06&#x27;, &#x27;2015-06-07&#x27;, &#x27;2015-06-08&#x27;, &#x27;2015-06-09&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-10&#x27;, &#x27;2015-06-11&#x27;, &#x27;2015-06-12&#x27;, &#x27;2015-06-13&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-14&#x27;, &#x27;2015-06-15&#x27;, &#x27;2015-06-16&#x27;, &#x27;2015-06-17&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-18&#x27;, &#x27;2015-06-19&#x27;, &#x27;2015-06-20&#x27;, &#x27;2015-06-21&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-22&#x27;, &#x27;2015-06-23&#x27;, &#x27;2015-06-24&#x27;, &#x27;2015-06-25&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2015-06-26&#x27;],</span></span><br><span class="line"><span class="comment">#               dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;D&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">date_list = [x.strftime(<span class="string">&#x27;%F&#x27;</span>) <span class="keyword">for</span> x <span class="keyword">in</span> date]</span><br><span class="line"><span class="built_in">print</span>(date_list)</span><br><span class="line"><span class="comment"># [&#x27;2015-05-25&#x27;, &#x27;2015-05-26&#x27;, &#x27;2015-05-27&#x27;, &#x27;2015-05-28&#x27;, &#x27;2015-05-29&#x27;, &#x27;2015-05-30&#x27;, &#x27;2015-05-31&#x27;, &#x27;2015-06-01&#x27;, &#x27;2015-06-02&#x27;, &#x27;2015-06-03&#x27;, &#x27;2015-06-04&#x27;, &#x27;2015-06-05&#x27;, &#x27;2015-06-06&#x27;, &#x27;2015-06-07&#x27;, &#x27;2015-06-08&#x27;, &#x27;2015-06-09&#x27;, &#x27;2015-06-10&#x27;, &#x27;2015-06-11&#x27;, &#x27;2015-06-12&#x27;, &#x27;2015-06-13&#x27;, &#x27;2015-06-14&#x27;, &#x27;2015-06-15&#x27;, &#x27;2015-06-16&#x27;, &#x27;2015-06-17&#x27;, &#x27;2015-06-18&#x27;, &#x27;2015-06-19&#x27;, &#x27;2015-06-20&#x27;, &#x27;2015-06-21&#x27;, &#x27;2015-06-22&#x27;, &#x27;2015-06-23&#x27;, &#x27;2015-06-24&#x27;, &#x27;2015-06-25&#x27;, &#x27;2015-06-26&#x27;]</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dict--è¿”å›å­—å…¸æœ€å¤§ã€æœ€å°å€¼çš„é”®</title>
      <link href="/2022/06/09/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/dict--%E8%BF%94%E5%9B%9E%E5%AD%97%E5%85%B8%E6%9C%80%E5%A4%A7%E3%80%81%E6%9C%80%E5%B0%8F%E5%80%BC%E7%9A%84%E9%94%AE/"/>
      <url>/2022/06/09/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/dict--%E8%BF%94%E5%9B%9E%E5%AD%97%E5%85%B8%E6%9C%80%E5%A4%A7%E3%80%81%E6%9C%80%E5%B0%8F%E5%80%BC%E7%9A%84%E9%94%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="max-dict-key-x3D-dict-get"><a href="#max-dict-key-x3D-dict-get" class="headerlink" title="max(dict,key&#x3D;dict.get)"></a>max(dict,key&#x3D;dict.get)</h2><blockquote><p>è¿™æ˜¯å› ä¸ºmaxä¸çŸ¥é“å¦‚ä½•æ¯”è¾ƒdictçš„å…ƒç´ ã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨ä¸æä¾›keyï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæŒ‰keyçš„å­—æ¯é¡ºåºæ¯”è¾ƒå®ƒä»¬ã€‚ä½†æ˜¯å½“ä½ ç»™å®ƒä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒä¼šä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œå¹¶æ ¹æ®è¿™ä¸ªå‡½æ•°æ‰¾åˆ°maxã€‚<br>æ¯”å¦‚æ·»åŠ  key&#x3D;dict.get å…³é”®å­—å‚æ•°æ—¶ï¼Œå°†è·å¾—æœ€å¤§å€¼ä¸º dict.get(x) çš„å€¼ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="string">&#x27;2021-07-16&#x27;</span>: <span class="number">115</span>, <span class="string">&#x27;2022-01-17&#x27;</span>: <span class="number">70</span>, <span class="string">&#x27;2022-07-18&#x27;</span>: <span class="number">252</span>, <span class="string">&#x27;2023-01-16&#x27;</span>: <span class="number">434</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(a.get(<span class="string">&#x27;2023-01-16&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(a,key=a.get))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>(a,key=a.get))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">434</span><br><span class="line">2023-01-16</span><br><span class="line">2022-01-17</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ•°æ®åˆå¹¶</title>
      <link href="/2022/06/07/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6/"/>
      <url>/2022/06/07/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%95%B0%E6%8D%AE%E5%90%88%E5%B9%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åŸºäºcolumnçš„è¿æ¥"><a href="#åŸºäºcolumnçš„è¿æ¥" class="headerlink" title="åŸºäºcolumnçš„è¿æ¥"></a>åŸºäºcolumnçš„è¿æ¥</h1><h2 id="mergeæ–¹æ³•"><a href="#mergeæ–¹æ³•" class="headerlink" title="mergeæ–¹æ³•"></a>mergeæ–¹æ³•</h2><h4 id="å‚æ•°ï¼š"><a href="#å‚æ•°ï¼š" class="headerlink" title="å‚æ•°ï¼š"></a>å‚æ•°ï¼š</h4><ul><li><p><strong>pd.merge(df1,df2,how&#x3D;â€innerâ€)</strong></p><blockquote><p>innerï¼šåŸºäºåˆ—çš„æ•°æ®è¿›è¡Œ&#x3D;&#x3D;äº¤é›†&#x3D;&#x3D;åˆå¹¶ï¼ˆé»˜è®¤ï¼‰<br>outerï¼šåŸºäºåˆ—çš„æ•°æ®è¿›è¡Œ&#x3D;&#x3D;å¹¶é›†&#x3D;&#x3D;åˆå¹¶<br>left ï¼šåŸºäºå·¦dataframeåˆ—çš„æ•°æ®åˆå¹¶<br>rightï¼šåŸºäºå³dataframeåˆ—çš„æ•°æ®åˆå¹¶</p></blockquote></li><li><p><strong>pd.merge(df1,df2,on&#x3D;â€æ•°æ®çš„åˆ—åâ€)</strong></p><blockquote><p>æ•°æ®çš„åˆ—åï¼ˆç”¨æ¥åˆå¹¶çš„åˆ—åï¼‰</p></blockquote></li><li><p><strong>pd.merge(df1,df2,left_on&#x3D;â€betaâ€,right_index&#x3D;True,how&#x3D;â€innerâ€)</strong></p><blockquote><p>left_onï¼šåŸºäºå·¦è¾¹DataFrameçš„åˆ—â€betaâ€è¿›è¡Œäº¤é›†åˆå¹¶ï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šå·¦è¾¹æŸä¸€åˆ—ä½œä¸ºåˆå¹¶çš„ç´¢å¼•<br>right_onï¼šåŸºäºå³è¾¹DataFrameçš„åˆ—â€betaâ€è¿›è¡Œäº¤é›†åˆå¹¶<br>left_indexï¼šåŸºäºå·¦è¾¹DataFrameçš„indexè¿›è¡Œäº¤é›†åˆå¹¶ï¼Œä¹Ÿå°±æ˜¯æŒ‡å®šå·¦è¾¹DataFrameçš„indexä½œä¸ºåˆå¹¶çš„ç´¢å¼•<br>right_indexï¼šåŸºäºå³è¾¹DataFrameçš„indexè¿›è¡Œäº¤é›†åˆå¹¶</p></blockquote></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>],<span class="string">&#x27;feature1&#x27;</span>:[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>],</span><br><span class="line"></span><br><span class="line">            <span class="string">&#x27;feature2&#x27;</span>:[<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰df2</span></span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;F&#x27;</span>],<span class="string">&#x27;pazham&#x27;</span>:[<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>,<span class="string">&#x27;pine&#x27;</span>,<span class="string">&#x27;pear&#x27;</span>],</span><br><span class="line"></span><br><span class="line">            <span class="string">&#x27;kilo&#x27;</span>:[<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>],<span class="string">&#x27;price&#x27;</span>:np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>])&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/07/XDejPK.png" alt="XDejPK.png">  <img src="https://s1.ax1x.com/2022/06/07/XDmCqA.png" alt="XDmCqA.png"></p><h3 id="1-1-å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰"><a href="#1-1-å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰" class="headerlink" title="1.1 å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰"></a>1.1 å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰</h3><blockquote><p>how&#x3D;â€innerâ€ï¼Œå–ç›¸åŒåˆ—çš„äº¤é›†</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># åŸºäºå…±åŒåˆ—alphaçš„å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰</span></span><br><span class="line"></span><br><span class="line">df3 = pd.merge(df1,df2,how=<span class="string">&#x27;inner&#x27;</span>,on=<span class="string">&#x27;alpha&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df3)</span><br></pre></td></tr></table></figure><blockquote><p>å–å…±åŒåˆ—â€alphaâ€çš„æ•°æ®ï¼Œäº¤é›†ï¼Œè¿›è¡Œè¿æ¥</p></blockquote><p><img src="https://s1.ax1x.com/2022/06/07/XDZlOs.png" alt="XDZlOs.png"></p><h3 id="1-2-å¤–è¿æ¥ï¼ˆå¹¶é›†ï¼‰"><a href="#1-2-å¤–è¿æ¥ï¼ˆå¹¶é›†ï¼‰" class="headerlink" title="1.2 å¤–è¿æ¥ï¼ˆå¹¶é›†ï¼‰"></a>1.2 å¤–è¿æ¥ï¼ˆå¹¶é›†ï¼‰</h3><blockquote><p>how &#x3D; â€œouterâ€ï¼Œå–ç›¸åŒåˆ—çš„å¹¶é›†</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºäºåˆ—alphaçš„å¤–è¿æ¥ï¼ˆå¹¶é›†ï¼‰</span></span><br><span class="line"></span><br><span class="line">df4 = pd.merge(df1,df2,how=<span class="string">&#x27;outer&#x27;</span>,on=<span class="string">&#x27;alpha&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df4)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/07/XDKpMF.png" alt="XDKpMF.png"></p><h3 id="1-3-å·¦è¿æ¥"><a href="#1-3-å·¦è¿æ¥" class="headerlink" title="1.3 å·¦è¿æ¥"></a>1.3 å·¦è¿æ¥</h3><blockquote><p>how&#x3D;â€leftâ€ï¼Œä»¥å·¦è¾¹æ•°æ®çš„åˆ—ä¸ºä¸»ï¼Œåˆ—æ˜¯ç›¸åŒåˆ—</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºäºåˆ—alphaçš„å·¦è¿æ¥</span></span><br><span class="line"></span><br><span class="line">df5 = pd.merge(df1,df2,how=<span class="string">&#x27;left&#x27;</span>,on=<span class="string">&#x27;alpha&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df5)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/07/XDKUsg.png" alt="XDKUsg.png"></p><h3 id="1-4-å³è¿æ¥"><a href="#1-4-å³è¿æ¥" class="headerlink" title="1.4 å³è¿æ¥"></a>1.4 å³è¿æ¥</h3><blockquote><p>how &#x3D; â€œrightâ€ï¼Œä»¥å³è¾¹æ•°æ®çš„åˆ—ä¸ºä¸»ï¼Œåˆ—æ˜¯ç›¸åŒåˆ—</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºäºåˆ—alphaçš„å³è¿æ¥</span></span><br><span class="line"></span><br><span class="line">df6 = pd.merge(df1,df2,how=<span class="string">&#x27;right&#x27;</span>,on=<span class="string">&#x27;alpha&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df6)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/07/XDMekn.png" alt="XDMekn.png"></p><h3 id="2-1-å¤šåˆ—è¿æ¥"><a href="#2-1-å¤šåˆ—è¿æ¥" class="headerlink" title="2.1 å¤šåˆ—è¿æ¥"></a>2.1 å¤šåˆ—è¿æ¥</h3><blockquote><p>å¤šåˆ—è¿æ¥çš„å¤„ç†é€»è¾‘å’Œå•åˆ—çš„å¤§åŒå°å¼‚ï¼Œå¤šåˆ—æ˜¯é€šè¿‡æ‰¾åˆ°å¤šä¸ªç›¸åŒåˆ—çš„æ•°æ®ï¼Œç„¶ååŸºäºè¿æ¥çš„æ–¹å¼æ¥åˆå¹¶æ•°æ®ï¼Œæ¯”å¦‚ï¼šå†…è¿æ¥ï¼Œå–å¤šä¸ªç›¸åŒåˆ—çš„æ•°æ®ï¼Œç„¶åå–äº¤é›†åˆå¹¶</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>],<span class="string">&#x27;beta&#x27;</span>:[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;e&#x27;</span>],</span><br><span class="line"></span><br><span class="line">                    <span class="string">&#x27;feature1&#x27;</span>:[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>],<span class="string">&#x27;feature2&#x27;</span>:[<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰df2</span></span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;F&#x27;</span>],<span class="string">&#x27;beta&#x27;</span>:[<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;f&#x27;</span>],<span class="string">&#x27;pazham&#x27;</span>:[<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>,<span class="string">&#x27;pine&#x27;</span>,<span class="string">&#x27;pear&#x27;</span>],</span><br><span class="line"></span><br><span class="line">                        <span class="string">&#x27;kilo&#x27;</span>:[<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>],<span class="string">&#x27;price&#x27;</span>:np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>])&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸºäºç›¸åŒåˆ—alphaï¼Œbetaçš„å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰</span></span><br><span class="line">df7 = pd.merge(df1,df2,how=<span class="string">&quot;inner&quot;</span>,on=[<span class="string">&quot;alpha&quot;</span>,<span class="string">&quot;beta&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df7)</span><br></pre></td></tr></table></figure><blockquote><p>å–ç›¸åŒåˆ—â€alphaâ€ã€â€betaâ€ï¼Œäº¤é›†ï¼Œè¿›è¡Œåˆå¹¶<br><img src="https://s1.ax1x.com/2022/06/07/XDYyWj.png" alt="XDYyWj.png"></p></blockquote><h1 id="åŸºäºindexçš„è¿æ¥"><a href="#åŸºäºindexçš„è¿æ¥" class="headerlink" title="åŸºäºindexçš„è¿æ¥"></a>åŸºäºindexçš„è¿æ¥</h1><h2 id="mergeæ–¹æ³•-1"><a href="#mergeæ–¹æ³•-1" class="headerlink" title="mergeæ–¹æ³•"></a>mergeæ–¹æ³•</h2><blockquote><p>æ ¹æ®å‚æ•°é…ç½®ï¼Œå–å·¦è¾¹æ•°æ®çš„åˆå¹¶ç´¢å¼•å’Œå³è¾¹æ•°æ®çš„åˆå¹¶ç´¢å¼•ï¼Œè¿›è¡Œè¿æ¥æ–¹å¼çš„åˆå¹¶</p></blockquote><blockquote><p>left_onï¼šå–å·¦è¾¹æ•°æ®çš„æŸä¸€åˆ—ä¸‹çš„æ•°æ®ä½œä¸ºindexï¼Œä¹Ÿå°±æ˜¯ä½œä¸ºåˆå¹¶çš„ç´¢å¼•<br>right_indexï¼šç›´æ¥å–å³è¾¹æ•°æ®çš„indexä½œä¸ºåˆå¹¶çš„ç´¢å¼•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>],<span class="string">&#x27;beta&#x27;</span>:[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;e&#x27;</span>],</span><br><span class="line"></span><br><span class="line">                    <span class="string">&#x27;feature1&#x27;</span>:[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>],<span class="string">&#x27;feature2&#x27;</span>:[<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰df2</span></span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;alpha&#x27;</span>:[<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;F&#x27;</span>],<span class="string">&#x27;pazham&#x27;</span>:[<span class="string">&#x27;apple&#x27;</span>,<span class="string">&#x27;orange&#x27;</span>,<span class="string">&#x27;pine&#x27;</span>,<span class="string">&#x27;pear&#x27;</span>],</span><br><span class="line"></span><br><span class="line">                        <span class="string">&#x27;kilo&#x27;</span>:[<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;low&#x27;</span>,<span class="string">&#x27;high&#x27;</span>,<span class="string">&#x27;medium&#x27;</span>],<span class="string">&#x27;price&#x27;</span>:np.array([<span class="number">5</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">7</span>])&#125;,index=[<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;f&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å–å·¦è¾¹DataFrameçš„&quot;beta&quot;åˆ—ä¸å³è¾¹æ•°æ®çš„indexåŒ¹é…ï¼Œå–äº¤é›†</span></span><br><span class="line"></span><br><span class="line">df9 = pd.merge(df1,df2,left_on=<span class="string">&quot;beta&quot;</span>,right_index=<span class="literal">True</span>,how=<span class="string">&quot;inner&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df9)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/07/XDBFPK.png" alt="XDBFPK.png"></p><blockquote><p>è®¾ç½®å‚æ•°suffixesï¼šå¯ä»¥ä¿®æ”¹è¿æ¥æ—¶ç›¸åŒåˆ—çš„åç¼€å</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†ä¸Šå›¾ä¸­çš„&quot;alpha_x&quot;å’Œ&quot;alpha_y&quot;çš„åç¼€æ”¹ä¸º&quot;_df1&quot;ã€&quot;_df2&quot;</span></span><br><span class="line"></span><br><span class="line">df9 = pd.merge(df1,df2,how=<span class="string">&#x27;inner&#x27;</span>,left_on=<span class="string">&#x27;beta&#x27;</span>,right_index=<span class="literal">True</span>,suffixes=(<span class="string">&#x27;_df1&#x27;</span>,<span class="string">&#x27;_df2&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df9)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XreBSU.png" alt="XreBSU.png"></p><h2 id="joinæ–¹æ³•"><a href="#joinæ–¹æ³•" class="headerlink" title="joinæ–¹æ³•"></a>joinæ–¹æ³•</h2><h3 id="1-1-å†…è¿æ¥"><a href="#1-1-å†…è¿æ¥" class="headerlink" title="1.1 å†…è¿æ¥"></a>1.1 å†…è¿æ¥</h3><blockquote><p>how&#x3D;â€innerâ€ï¼Œå–ç›¸åŒåˆ—çš„äº¤é›†<br>lsuffixï¼šè®¾ç½®å·¦è¾¹ç›¸åŒåˆ—çš„åç¼€<br>rsuffixï¼šè®¾ç½®å³è¾¹ç›¸åŒåˆ—çš„åç¼€</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">caller = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;K0&#x27;</span>, <span class="string">&#x27;K1&#x27;</span>, <span class="string">&#x27;K2&#x27;</span>, <span class="string">&#x27;K3&#x27;</span>, <span class="string">&#x27;K4&#x27;</span>, <span class="string">&#x27;K5&#x27;</span>], <span class="string">&#x27;A&#x27;</span>: [<span class="string">&#x27;A0&#x27;</span>, <span class="string">&#x27;A1&#x27;</span>, <span class="string">&#x27;A2&#x27;</span>, <span class="string">&#x27;A3&#x27;</span>, <span class="string">&#x27;A4&#x27;</span>, <span class="string">&#x27;A5&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line">other = pd.DataFrame(&#123;<span class="string">&#x27;key&#x27;</span>: [<span class="string">&#x27;K0&#x27;</span>, <span class="string">&#x27;K1&#x27;</span>, <span class="string">&#x27;K2&#x27;</span>],<span class="string">&#x27;B&#x27;</span>: [<span class="string">&#x27;B0&#x27;</span>, <span class="string">&#x27;B1&#x27;</span>, <span class="string">&#x27;B2&#x27;</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(caller)</span><br><span class="line"><span class="built_in">print</span>(other)</span><br><span class="line"></span><br><span class="line">df = caller.join(other,lsuffix=<span class="string">&#x27;_caller&#x27;</span>, rsuffix=<span class="string">&#x27;_other&#x27;</span>,how=<span class="string">&#x27;inner&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p>mergeå®ç°ï¼š<code>df = pd.merge(caller,other,how=&quot;inner&quot;,left_index=True,right_index=True,suffixes=(&quot;_caller&quot;,&quot;_other&quot;))</code></p><p><img src="https://s1.ax1x.com/2022/06/08/XrKG90.png" alt="XrKG90.png"></p><h3 id="1-2-å°†æŒ‡å®šçš„åˆ—è®¾ç½®ä¸ºç´¢å¼•"><a href="#1-2-å°†æŒ‡å®šçš„åˆ—è®¾ç½®ä¸ºç´¢å¼•" class="headerlink" title="1.2 å°†æŒ‡å®šçš„åˆ—è®¾ç½®ä¸ºç´¢å¼•"></a>1.2 å°†æŒ‡å®šçš„åˆ—è®¾ç½®ä¸ºç´¢å¼•</h3><blockquote><p>set_indexï¼šè®¾ç½®æŒ‡å®šåˆ—ä¸ºç´¢å¼•</p></blockquote><p><strong>set_indexå‚æ•°ï¼š</strong><br>keys : è¦è®¾ç½®ä¸ºç´¢å¼•çš„åˆ—åï¼ˆå¦‚æœ‰å¤šä¸ªåº”æ”¾åœ¨ä¸€ä¸ªåˆ—è¡¨é‡Œï¼‰<br>drop : å°†è®¾ç½®ä¸ºç´¢å¼•çš„åˆ—åˆ é™¤ï¼Œé»˜è®¤ä¸ºTrue<br>append : æ˜¯å¦å°†æ–°çš„ç´¢å¼•è¿½åŠ åˆ°åŸç´¢å¼•åï¼ˆå³æ˜¯å¦ä¿ç•™åŸç´¢å¼•ï¼‰ï¼Œé»˜è®¤ä¸ºFalse<br>inplace : æ˜¯å¦åœ¨åŸDataFrameä¸Šä¿®æ”¹ï¼Œé»˜è®¤ä¸ºFalse<br>verify_integrity : æ˜¯å¦æ£€æŸ¥ç´¢å¼•æœ‰æ— é‡å¤ï¼Œé»˜è®¤ä¸ºFalse</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df3 = caller.set_index(<span class="string">&#x27;key&#x27;</span>).join(other.set_index(<span class="string">&#x27;key&#x27;</span>),how=<span class="string">&#x27;inner&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df3)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/Xr0CzF.png" alt="Xr0CzF.png"></p><p><strong>è¿™é‡Œå»ºè®®ä½¿ç”¨mergeåˆå¹¶ï¼Œå› ä¸ºmergeå’Œjoinæ–¹æ³•åŸºæœ¬ä¸Šéƒ½éƒ½èƒ½å®ç°ç›¸åŒçš„åŠŸèƒ½</strong></p><h1 id="concatæ–¹æ³•"><a href="#concatæ–¹æ³•" class="headerlink" title="concatæ–¹æ³•"></a>concatæ–¹æ³•</h1><h2 id="seriesç±»å‹çš„æ‹¼æ¥æ–¹æ³•"><a href="#seriesç±»å‹çš„æ‹¼æ¥æ–¹æ³•" class="headerlink" title="seriesç±»å‹çš„æ‹¼æ¥æ–¹æ³•"></a>seriesç±»å‹çš„æ‹¼æ¥æ–¹æ³•</h2><blockquote><p>pd.concat([df1,df2],axis&#x3D;0,join&#x3D;â€outerâ€)<br>æ‹¼æ¥å‡½æ•°ï¼Œåˆ†ä¸ºè¡Œæ‹¼æ¥å’Œåˆ—æ‹¼æ¥ï¼Œé»˜è®¤æ˜¯è¡Œæ‹¼æ¥ï¼ˆaxis&#x3D;0ï¼‰ã€‚<br>å†…ç½®æ‹¼æ¥æ–¹æ³•ï¼Œåˆ†ä¸ºå†…æ‹¼æ¥å’Œå¤–æ‹¼æ¥ï¼Œé»˜è®¤ä¸ºå¤–æ‹¼æ¥ï¼ˆjoin&#x3D;â€outerâ€ï¼‰<br>æ‹¼æ¥çš„å¯¹è±¡æ˜¯pandasçš„æ•°æ®ç±»å‹</p></blockquote><h4 id="å‚æ•°ï¼š-1"><a href="#å‚æ•°ï¼š-1" class="headerlink" title="å‚æ•°ï¼š"></a>å‚æ•°ï¼š</h4><ul><li><strong>pd.concat([df1,df2],axis&#x3D;0)</strong></li></ul><blockquote><p>0ï¼šè¡Œæ‹¼æ¥ï¼ˆé»˜è®¤ï¼‰<br>1ï¼šåˆ—æ‹¼æ¥</p></blockquote><ul><li><strong>pd.concat([df1,df2],join&#x3D;â€outerâ€)</strong></li></ul><blockquote><p>outerï¼šå¤–æ‹¼æ¥ï¼Œ&#x3D;&#x3D;å¹¶é›†&#x3D;&#x3D;ï¼ˆé»˜è®¤ï¼‰<br>innerï¼šå†…æ‹¼æ¥ï¼Œ&#x3D;&#x3D;äº¤é›†&#x3D;&#x3D;</p></blockquote><h3 id="1-1-è¡Œæ‹¼æ¥"><a href="#1-1-è¡Œæ‹¼æ¥" class="headerlink" title="1.1 è¡Œæ‹¼æ¥"></a>1.1 è¡Œæ‹¼æ¥</h3><blockquote><p>axis&#x3D;0ï¼Œé»˜è®¤ï¼Œå°†ä¸¤ä¸ªæ•°æ®ä¸Šä¸‹æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä¼šæœ‰é‡å¤çš„index</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.Series([<span class="number">1.1</span>,<span class="number">2.2</span>,<span class="number">3.3</span>],index=[<span class="string">&#x27;i1&#x27;</span>,<span class="string">&#x27;i2&#x27;</span>,<span class="string">&#x27;i3&#x27;</span>])</span><br><span class="line"></span><br><span class="line">df2 = pd.Series([<span class="number">4.4</span>,<span class="number">5.5</span>,<span class="number">6.6</span>],index=[<span class="string">&#x27;i2&#x27;</span>,<span class="string">&#x27;i3&#x27;</span>,<span class="string">&#x27;i4&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df1)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¡Œæ‹¼æ¥ï¼Œé»˜è®¤çš„axis=0ï¼Œé»˜è®¤çš„æ‹¼æ¥æ–¹æ³•join=&quot;outer&quot;</span></span><br><span class="line"></span><br><span class="line">df3 = pd.concat([df1,df2])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df3)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/Xr40Z6.png" alt="Xr40Z6.png"></p><blockquote><p>è¡Œæ‹¼æ¥è‹¥æœ‰ç›¸åŒçš„ç´¢å¼•ï¼Œä¸ºäº†åŒºåˆ†ç´¢å¼•ï¼Œæˆ‘ä»¬åœ¨æœ€å¤–å±‚å®šä¹‰äº†ç´¢å¼•çš„åˆ†ç»„æƒ…å†µã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹è¡Œæ‹¼æ¥åˆ†ç»„</span></span><br><span class="line"></span><br><span class="line">df4 =pd.concat([df1,df2],keys=[<span class="string">&#x27;fea1&#x27;</span>,<span class="string">&#x27;fea2&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df4)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/Xr4vwV.png" alt="Xr4vwV.png"></p><h3 id="1-2-åˆ—æ‹¼æ¥"><a href="#1-2-åˆ—æ‹¼æ¥" class="headerlink" title="1.2 åˆ—æ‹¼æ¥"></a>1.2 åˆ—æ‹¼æ¥</h3><blockquote><p>axis&#x3D;1ï¼Œå°†ä¸¤ä¸ªæ•°æ®å·¦å³æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œä¸ä¼šæœ‰é‡å¤çš„index</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—æ‹¼æ¥,é»˜è®¤æ˜¯å¹¶é›†</span></span><br><span class="line"></span><br><span class="line">df5 = pd.concat([df1,df2],axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df5)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XrTFyj.png" alt="XrTFyj.png"></p><blockquote><p>ä»¥äº¤é›†çš„æ–¹å¼æ‹¼æ¥</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ—æ‹¼æ¥çš„å†…è¿æ¥ï¼ˆåˆ—æ‹¼æ¥ã€äº¤é›†ï¼‰</span></span><br><span class="line">df6 = pd.concat([df1,df2],axis=<span class="number">1</span>,join=<span class="string">&quot;inner&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df6)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XrTufU.png" alt="XrTufU.png"></p><blockquote><p>è®¾ç½®åˆ—æ‹¼æ¥çš„åˆ—å</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># åˆ—æ‹¼æ¥çš„å†…è¿æ¥ï¼ˆäº¤é›†ï¼‰</span><br><span class="line"></span><br><span class="line">df7 = pd.concat([df1,df2],axis=1,join=&#x27;inner&#x27;,keys=[&#x27;fea1&#x27;,&#x27;fea2&#x27;])</span><br><span class="line"></span><br><span class="line">print(df7)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XrTUfO.png" alt="XrTUfO.png"></p><h2 id="DataFrameæ•°æ®ç±»å‹çš„æ‹¼æ¥æ–¹æ³•"><a href="#DataFrameæ•°æ®ç±»å‹çš„æ‹¼æ¥æ–¹æ³•" class="headerlink" title="DataFrameæ•°æ®ç±»å‹çš„æ‹¼æ¥æ–¹æ³•"></a>DataFrameæ•°æ®ç±»å‹çš„æ‹¼æ¥æ–¹æ³•</h2><h3 id="1-1-è¡Œæ‹¼æ¥-1"><a href="#1-1-è¡Œæ‹¼æ¥-1" class="headerlink" title="1.1 è¡Œæ‹¼æ¥"></a>1.1 è¡Œæ‹¼æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;&#x27;key&#x27;: [&#x27;K0&#x27;, &#x27;K1&#x27;, &#x27;K2&#x27;, &#x27;K3&#x27;, &#x27;K4&#x27;, &#x27;K5&#x27;], &#x27;A&#x27;: [&#x27;A0&#x27;, &#x27;A1&#x27;, &#x27;A2&#x27;, &#x27;A3&#x27;, &#x27;A4&#x27;, &#x27;A5&#x27;]&#125;)</span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;&#x27;key&#x27;: [&#x27;K0&#x27;, &#x27;K1&#x27;, &#x27;K2&#x27;],&#x27;B&#x27;: [&#x27;B0&#x27;, &#x27;B1&#x27;, &#x27;B2&#x27;]&#125;)</span><br><span class="line"></span><br><span class="line">print(df1)</span><br><span class="line"></span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line"># è¡Œæ‹¼æ¥</span><br><span class="line"></span><br><span class="line">df3 = pd.concat([df1,df2])</span><br><span class="line">print(df3)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XrLMLQ.png" alt="XrLMLQ.png"></p><h3 id="1-2-åˆ—æ‹¼æ¥-1"><a href="#1-2-åˆ—æ‹¼æ¥-1" class="headerlink" title="1.2 åˆ—æ‹¼æ¥"></a>1.2 åˆ—æ‹¼æ¥</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># åˆ—æ‹¼æ¥</span><br><span class="line"></span><br><span class="line">df4 =pd.concat([df1,df2],axis=1)</span><br><span class="line"></span><br><span class="line">print(df4)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/06/08/XrLUQU.png" alt="XrLUQU.png"></p><blockquote><p>verify_integrity &#x3D; Trueï¼šå½“åˆ—æ‹¼æ¥æˆ–è¡Œæ‹¼æ¥æœ‰é‡å¤çš„åˆ—åå’Œè¡Œåï¼Œåˆ™æŠ¥é”™</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># åˆ¤æ–­æ˜¯å¦æœ‰é‡å¤çš„åˆ—åï¼Œè‹¥æœ‰åˆ™æŠ¥é”™</span><br><span class="line"></span><br><span class="line">pd.concat([df1,df2],axis=1,verify_integrity = True)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå›é€€----gitå›é€€ç‰ˆæœ¬</title>
      <link href="/2022/06/06/git/git%E5%9B%9E%E9%80%80----git%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC/"/>
      <url>/2022/06/06/git/git%E5%9B%9E%E9%80%80----git%E5%9B%9E%E9%80%80%E7%89%88%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="1-æŸ¥çœ‹å†å²è®°å½•"><a href="#1-æŸ¥çœ‹å†å²è®°å½•" class="headerlink" title="1. æŸ¥çœ‹å†å²è®°å½•"></a>1. æŸ¥çœ‹å†å²è®°å½•</h2><h4 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h4><p><img src="https://s1.ax1x.com/2022/06/06/X01wp6.png" alt="X01wp6.png"></p><blockquote><p>ç”¨æ¥æŸ¥çœ‹gitçš„æäº¤è®°å½•ï¼Œä½†ä¸èƒ½æŸ¥çœ‹å·²ç»åˆ é™¤çš„è®°å½•ã€‚</p></blockquote><h2 id="2-æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•"><a href="#2-æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•" class="headerlink" title="2. æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•"></a>2. æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•</h2><h4 id="git-reflog"><a href="#git-reflog" class="headerlink" title="git reflog"></a>git reflog</h4><p><img src="https://s1.ax1x.com/2022/06/06/X0lxwd.png" alt="X0lxwd.png">æ‰€æœ‰åˆ†æ”¯çš„æ‰€æœ‰æ“ä½œè®°å½•ï¼ˆåŒ…æ‹¬ï¼ˆåŒ…æ‹¬commitå’Œresetçš„æ“ä½œï¼‰ï¼ŒåŒ…æ‹¬å·²ç»è¢«åˆ é™¤çš„commitè®°å½•ã€‚</p><h1 id="3-å›é€€ç‰ˆæœ¬"><a href="#3-å›é€€ç‰ˆæœ¬" class="headerlink" title="3. å›é€€ç‰ˆæœ¬"></a>3. å›é€€ç‰ˆæœ¬</h1><h4 id="ç¬¬ä¸€ç§æ–¹æ³•ï¼š"><a href="#ç¬¬ä¸€ç§æ–¹æ³•ï¼š" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•ï¼š"></a>ç¬¬ä¸€ç§æ–¹æ³•ï¼š</h4><p>git reset â€“hard HEAD^<br>git push -f origin master</p><blockquote><p>è¿™ä¸¤æ¡å‘½ä»¤æ˜¯å¤„ç†å·²æäº¤commitä¸”å·²æ¨é€çš„å›é€€<br>git reset â€“hard head #å½“å‰ç‰ˆæœ¬<br>git reset â€“hard HEAD^ #å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬<br>git reset â€“hard HEAD^^ #å›é€€åˆ°ä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬<br>git reset â€“hard HEAD<del>3 #å›é€€åˆ°å¾€ä¸Š3ä¸ªç‰ˆæœ¬<br>git reset â€“hard HEAD</del>10 #å›é€€åˆ°å¾€ä¸Š10ä¸ªç‰ˆæœ¬<br>git push -f å¼ºåˆ¶æ¨é€ï¼Œè¦†ç›–è¿œç¨‹åˆ†æ”¯</p></blockquote><h4 id="ç¬¬äºŒç§æ–¹æ³•ï¼š"><a href="#ç¬¬äºŒç§æ–¹æ³•ï¼š" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•ï¼š"></a>ç¬¬äºŒç§æ–¹æ³•ï¼š</h4><p>git reset â€“hard ç‰ˆæœ¬å·<br>git push -f origin master</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Columnï¼ˆï¼‰å¸¸ç”¨å±æ€§</title>
      <link href="/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/Column%EF%BC%88%EF%BC%89%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7/"/>
      <url>/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/Column%EF%BC%88%EF%BC%89%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>primary_key</td><td>æ˜¯å¦ä¸ºä¸»é”®</td></tr><tr><td>unique</td><td>æ˜¯å¦å”¯ä¸€</td></tr><tr><td>index</td><td>å¦‚æœä¸ºTrueï¼Œä¸ºè¯¥åˆ—åˆ›å»ºç´¢å¼•ï¼Œæé«˜æŸ¥è¯¢æ•ˆç‡</td></tr><tr><td>nullable</td><td>æ˜¯å¦å…è®¸ä¸ºç©º</td></tr><tr><td>default</td><td>é»˜è®¤å€¼</td></tr><tr><td>name</td><td>åœ¨æ•°æ®è¡¨ä¸­çš„å­—æ®µæ˜ å°„</td></tr><tr><td>autoincrement</td><td>æ˜¯å¦è‡ªåŠ¨å¢é•¿</td></tr><tr><td>onupdate</td><td>æ›´æ–°æ—¶æ‰§è¡Œçš„å‡½æ•°ï¼ˆä»¥ä¸‹æœ‰è¯¦ç»†è¯´æ˜ï¼‰</td></tr><tr><td>comment</td><td>å­—æ®µæè¿°</td></tr></tbody></table><blockquote><p><strong>nullable</strong>ï¼šæŒ‡å®šæŸä¸ªå­—æ®µæ˜¯å¦ä¸ºç©ºã€‚é»˜è®¤å€¼æ˜¯Trueï¼Œå°±æ˜¯å¯ä»¥ä¸ºç©ºã€‚<br><strong>unique</strong>ï¼šæŒ‡å®šæŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦å”¯ä¸€ã€‚é»˜è®¤æ˜¯Falseã€‚<br><strong>onupdate</strong>ï¼šåœ¨æ•°æ®æ›´æ–°çš„æ—¶å€™ä¼šè°ƒç”¨è¿™ä¸ªå‚æ•°æŒ‡å®šçš„å€¼æˆ–è€…å‡½æ•°ã€‚åœ¨ç¬¬ä¸€æ¬¡æ’å…¥è¿™æ¡æ•°æ®çš„æ—¶å€™ï¼Œä¸ä¼šç”¨onupdateçš„å€¼ï¼Œåªä¼šä½¿ç”¨defaultçš„å€¼ã€‚å¸¸ç”¨çš„å°±æ˜¯update_timeï¼ˆæ¯æ¬¡æ›´æ–°æ•°æ®çš„æ—¶å€™éƒ½è¦æ›´æ–°çš„å€¼ï¼‰ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-SQLALchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ›å»ºï¼šä¸»é”®ã€ç´¢å¼•ã€å”¯ä¸€çº¦æŸã€è”åˆå”¯ä¸€çº¦æŸã€è”åˆä¸»é”®çº¦æŸ</title>
      <link href="/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%88%9B%E5%BB%BA%EF%BC%9A%E4%B8%BB%E9%94%AE%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E3%80%81%E8%81%94%E5%90%88%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E3%80%81%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F/"/>
      <url>/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%88%9B%E5%BB%BA%EF%BC%9A%E4%B8%BB%E9%94%AE%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E3%80%81%E8%81%94%E5%90%88%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F%E3%80%81%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="1ã€ä¸»é”®"><a href="#1ã€ä¸»é”®" class="headerlink" title="1ã€ä¸»é”®"></a>1ã€ä¸»é”®</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger, primary_key<span class="operator">=</span><span class="literal">True</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="2ã€ç´¢å¼•"><a href="#2ã€ç´¢å¼•" class="headerlink" title="2ã€ç´¢å¼•"></a>2ã€ç´¢å¼•</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger, index<span class="operator">=</span><span class="literal">True</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="3ã€å”¯ä¸€çº¦æŸ"><a href="#3ã€å”¯ä¸€çº¦æŸ" class="headerlink" title="3ã€å”¯ä¸€çº¦æŸ"></a>3ã€å”¯ä¸€çº¦æŸ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger, <span class="keyword">unique</span><span class="operator">=</span><span class="literal">True</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="4ã€è”åˆå”¯ä¸€çº¦æŸ"><a href="#4ã€è”åˆå”¯ä¸€çº¦æŸ" class="headerlink" title="4ã€è”åˆå”¯ä¸€çº¦æŸ"></a>4ã€è”åˆå”¯ä¸€çº¦æŸ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger, <span class="keyword">primary</span><span class="operator">=</span><span class="literal">True</span>),</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;col1&#x27;</span>, String(<span class="number">20</span>)),</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;col2&#x27;</span>, <span class="type">Numeric</span>(<span class="number">20</span>, <span class="number">4</span>)),</span><br><span class="line">UniqueConstraint(<span class="string">&#x27;col1&#x27;</span>, <span class="string">&#x27;col2&#x27;</span>, name<span class="operator">=</span><span class="string">&#x27;idx_col1_col2&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h3 id="5ã€è”åˆä¸»é”®çº¦æŸ"><a href="#5ã€è”åˆä¸»é”®çº¦æŸ" class="headerlink" title="5ã€è”åˆä¸»é”®çº¦æŸ"></a>5ã€è”åˆä¸»é”®çº¦æŸ</h3><p>æ–¹æ³•ä¸€ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger),</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;col1&#x27;</span>, String(<span class="number">20</span>)),</span><br><span class="line">PrimaryKeyConstraint(<span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;col1&#x27;</span>, name<span class="operator">=</span><span class="string">&#x27;idx_id_col1&#x27;</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy import <span class="operator">*</span></span><br><span class="line"></span><br><span class="line">test <span class="operator">=</span> <span class="keyword">Table</span>(</span><br><span class="line"><span class="string">&#x27;test&#x27;</span>, metadata,</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;id&#x27;</span>, BigInteger, primary_key<span class="operator">=</span><span class="literal">True</span>),</span><br><span class="line"><span class="keyword">Column</span>(<span class="string">&#x27;col1&#x27;</span>, String(<span class="number">20</span>), primary_key<span class="operator">=</span><span class="literal">True</span>),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-SQLALchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æ“ä½œæ•°æ®åº“</title>
      <link href="/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
      <url>/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%A6%82%E4%BD%95%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="1ã€è¿æ¥æ•°æ®åº“"><a href="#1ã€è¿æ¥æ•°æ®åº“" class="headerlink" title="1ã€è¿æ¥æ•°æ®åº“"></a>1ã€è¿æ¥æ•°æ®åº“</h3><blockquote><p>åŠ å…¥ä»¥ä¸‹ä»£ç å³å¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®é“¾æ¥æ•°æ®åº“ä¿¡æ¯</span></span><br><span class="line">db_config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>: <span class="string">&#x27;127.0.0.1&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>: <span class="string">&#x27;3306&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>: <span class="string">&#x27;User&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>: <span class="string">&#x27;wanghan...&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># æ•°æ®åº“é“¾æ¥åœ°å€</span></span><br><span class="line">db_url = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**db_config)</span><br><span class="line"><span class="comment"># è¿æ¥æ•°æ®åº“åœ°å€ï¼šæ ¼å¼</span></span><br><span class="line"><span class="comment"># dialect+driver://username:password@host:port/database</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“å¼•æ“</span></span><br><span class="line">engine = create_engine(db_url)</span><br></pre></td></tr></table></figure><blockquote><p>åˆæ¬¡è°ƒç”¨create_engine()å¹¶ä¸ä¼šçœŸæ­£è¿æ¥æ•°æ®åº“ï¼Œåªæœ‰åœ¨çœŸæ­£æ‰§è¡Œä¸€æ¡å‘½ä»¤çš„æ—¶å€™æ‰ä¼šå°è¯•å»ºç«‹è¿æ¥ï¼Œç›®çš„æ˜¯èŠ‚çœèµ„æºã€‚å¯åœ¨åé¢åŠ å‚æ•°ï¼Œecho&#x3D;Trueï¼šç”¨æ¥è®¾ç½®SQLAlchemyæ—¥å¿—ï¼Œè®¾ç½®ä¸ºTrueæ—¶ï¼Œå¯ä»¥çœ‹è§æ‰€æœ‰æ•°æ®åº“çš„æ“ä½œè®°å½•ã€‚</p></blockquote><h3 id="2ã€å°†æ¨¡å‹è¡¨æ˜ å°„åˆ°æ•°æ®åº“"><a href="#2ã€å°†æ¨¡å‹è¡¨æ˜ å°„åˆ°æ•°æ®åº“" class="headerlink" title="2ã€å°†æ¨¡å‹è¡¨æ˜ å°„åˆ°æ•°æ®åº“"></a>2ã€å°†æ¨¡å‹è¡¨æ˜ å°„åˆ°æ•°æ®åº“</h3><blockquote><p>è¿æ¥æ•°æ®åº“ä¹‹åï¼ŒåŠ å…¥ä»¥ä¸‹ä»£ç å³å¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy.ext.declarative <span class="keyword">import</span> declarative_base</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨declarative_baseåˆ›å»ºä¸€ä¸ªBaseåŸºç±»ä½œä¸ºORMç±»</span></span><br><span class="line">Base = declarative_base(engine)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Persion</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&quot;User&quot;</span></span><br><span class="line">    <span class="comment"># è®¾ç½®idï¼šä¸»é”®ï¼Œè‡ªå¢é•¿</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># Stingè¦æŒ‡å®šé•¿åº¦ uniqueå”¯ä¸€ç´¢å¼•çº¦æŸ</span></span><br><span class="line">    name = Column(String(<span class="number">50</span>),unique=<span class="literal">True</span>)</span><br><span class="line">    age = Column(Integer)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†æ¨¡å‹æ˜ å°„åˆ°æ•°æ®åº“ä¸­</span></span><br><span class="line">Base.metadata.create_all()</span><br></pre></td></tr></table></figure><blockquote><p>1.ç”¨declarative_base()åˆ›å»ºä¸€ä¸ªBaseåŸºç±»ä½œä¸ºORMç±»ã€‚<br>2.ä½¿ç”¨Baseä½œä¸ºåŸºç±»æ—¶ï¼Œè¦æŒ‡å®š__tablename__ç±»å±æ€§ã€‚<br>3.æ‰€æœ‰éœ€è¦æ˜ å°„åˆ°è¡¨ä¸­çš„å±æ€§éƒ½åº”è¯¥ä¸ºColumnç±»å‹ã€‚<br>4.å¦‚æœä½¿ç”¨äº†Base.metadata.create_all()å°†æ¨¡å‹æ˜ å°„åˆ°äº†æ•°æ®åº“è¡¨ä¸­ï¼Œåç»­å³ä½¿æ”¹å˜äº†å­—æ®µï¼Œä¹Ÿä¸ä¼šé‡æ–°æ˜ å°„ï¼Œéœ€è¦å…ˆæ‰§è¡ŒBase.metadata.drop_all()åˆ é™¤æ‰ORMæ¨¡å‹ã€‚</p></blockquote><h3 id="2ã€å¢åˆ æ”¹æŸ¥"><a href="#2ã€å¢åˆ æ”¹æŸ¥" class="headerlink" title="2ã€å¢åˆ æ”¹æŸ¥"></a>2ã€å¢åˆ æ”¹æŸ¥</h3><blockquote><p>è¿æ¥æ•°æ®åº“ä¹‹åï¼ŒåŠ å…¥ä»¥ä¸‹ä»£ç å³å¯</p></blockquote><p>åœ¨sqlalchemyä¸­ï¼Œå¢åˆ æ”¹æŸ¥éƒ½æ˜¯é€šè¿‡**ä¼šè¯(seesion)**è¿›è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è¦å…ˆåˆ›å»ºä¼šè¯ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line">engine = create_engine(db_url)</span><br><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªä¼šè¯</span></span><br><span class="line">session = sessionmaker(engine)()</span><br></pre></td></tr></table></figure><h4 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h4><ol><li>æ·»åŠ ä¸€æ¡æ•°æ®<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p1 = Person(name=<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, age=<span class="number">18</span>)</span><br><span class="line">session.add(p1)</span><br><span class="line">session.commit()</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>æŒ‰ä¸Šè¿°æ­¥éª¤è®²è§£ï¼š<br>1.å…ˆåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€æ¡æ•°æ®ã€‚<br>2.å°†å¯¹è±¡æ·»åŠ åˆ°sessionä¼šè¯å¯¹è±¡ä¸­ã€‚<br>3.å°†sessionä¸­çš„å¯¹è±¡åšcommitæ“ä½œï¼ˆæäº¤ï¼‰ï¼Œæ³¨æ„ï¼šå¢åˆ æ”¹å¿…é¡»æäº¤æ‰èƒ½ç”Ÿæ•ˆï¼</p></blockquote><ol start="2"><li>æ·»åŠ å¤šæ¡æ•°æ®<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p2 = Person(name=<span class="string">&#x27;æå››&#x27;</span>, age=<span class="number">19</span>)</span><br><span class="line">p3 = Person(name=<span class="string">&#x27;ç‹äº”&#x27;</span>, age=<span class="number">20</span>)</span><br><span class="line">session.add_all([p1,p2])</span><br><span class="line">session.commit()</span><br></pre></td></tr></table></figure></li></ol><h4 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h4><ol><li>åˆ é™¤å·²æäº¤çš„æ•°æ®<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">session.delete(p1)</span><br><span class="line">session.commit()</span><br></pre></td></tr></table></figure></li><li>åˆ é™¤ä»æ•°æ®åº“æŸ¥å‡ºæ¥çš„æ•°æ®<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">person = session.query(Person).first()</span><br><span class="line">session.delete(person)</span><br><span class="line">session.commit()</span><br></pre></td></tr></table></figure><h4 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h4></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># å› ä¸ºp2å·²ç»åœ¨ä¼šè¯ä¸­äº†ï¼Œå¯ä»¥ç›´æ¥æ›´æ”¹åå†æ¬¡æäº¤</span><br><span class="line">p2.name = &#x27;é£Ÿé“å…½&#x27;</span><br><span class="line">session.commit()</span><br></pre></td></tr></table></figure><blockquote><p>å’Œåˆ é™¤ç±»ä¼¼ï¼Œç›´æ¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œåï¼Œæäº¤å³å¯</p></blockquote><h4 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">query_person = session.query(Person)</span><br></pre></td></tr></table></figure><blockquote><p>å…ˆç”¨queryæŒ‡å®šæŸ¥æ‰¾çš„ç±»ï¼Œä¹Ÿå°±æ˜¯æŸ¥æ‰¾çš„å…¶å¯¹åº”æ•°æ®è¡¨ï¼Œè·å¾—è¯¥è¡¨ä¸­æ‰€æœ‰çš„æ•°æ®ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæŸ¥æ‰¾å¯¹è±¡<br>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€äº›æ¡ä»¶ï¼Œæ¥è¿›è¡ŒæŸ¥æ‰¾</p></blockquote><ul><li><p>allï¼šè¿”å›æŸ¥æ‰¾å¯¹è±¡çš„æ‰€æœ‰çš„æ•°æ®ï¼Œç»„æˆä¸€ä¸ªåˆ—è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_person = query_person.all()</span><br><span class="line">for person in all_person:</span><br><span class="line">print(person)</span><br></pre></td></tr></table></figure></li><li><p>firstï¼šè¿”å›æŸ¥æ‰¾å¯¹è±¡çš„ç¬¬ä¸€æ¡æ•°æ®</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person = query_person.first()</span><br><span class="line">print(person)</span><br></pre></td></tr></table></figure></li><li><p>getï¼šæ‰¾åˆ°è¡¨ä¸­ä¸»é”®ä¸å‚æ•°ç›¸åŒçš„æ•°æ®ï¼Œè¿”å›ä¸€æ¡æ•°æ®æˆ–None</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person = query_person.get(2)</span><br><span class="line">print(person)</span><br></pre></td></tr></table></figure></li><li><p>filter_byï¼šé€šè¿‡å‚æ•°ä¸­çš„å€¼ï¼Œæ¥æŸ¥æ‰¾ç¬¦åˆå‚æ•°ä¸­çš„å€¼çš„æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªæŸ¥æ‰¾å¯¹è±¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">all_person = query_person.filter_by(name=&#x27;é£Ÿé“å…½&#x27;).all()</span><br><span class="line">for person in all_person:</span><br><span class="line">print(person)</span><br></pre></td></tr></table></figure></li><li><p>filterï¼šé€šè¿‡å‚æ•°ä¸­çš„å¸ƒå°”è¡¨è¾¾å¼ï¼Œæ¥æŸ¥æ‰¾ä½¿å¸ƒå°”è¡¨è¾¾å¼ä¸ºTrueçš„æ•°æ®ï¼Œè¿”å›ä¸€ä¸ªæŸ¥æ‰¾å¯¹è±¡ï¼Œæ³¨æ„ï¼šå‚æ•°å¿…é¡»æ˜¯ç±».å±æ€§åï¼ŒåŠŸèƒ½æ¯”filter_byæ›´å¼º</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">person = query_person.filter(Person.name == &#x27;ç‹äº”&#x27;).first()</span><br><span class="line">print(person)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-SQLALchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å­—æ®µå¸¸ç”¨æ•°æ®ç±»å‹</title>
      <link href="/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%AD%97%E6%AE%B5%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
      <url>/2022/06/05/Python/%E6%A8%A1%E5%9D%97/SQLALchemy/%E5%AD%97%E6%AE%B5%E5%B8%B8%E7%94%A8%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><ol><li><p><strong>Integer</strong>ï¼šæ•´å½¢ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯intç±»å‹ã€‚</p></li><li><p><strong>Float</strong>ï¼šæµ®ç‚¹ç±»å‹ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯floatç±»å‹ã€‚ä»–å æ®çš„32ä½ã€‚</p></li><li><p><strong>Double</strong>ï¼šåŒç²¾åº¦æµ®ç‚¹ç±»å‹ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯doubleç±»å‹ï¼Œå æ®64ä½ã€‚</p></li><li><p><strong>String</strong>ï¼šå¯å˜å­—ç¬¦ç±»å‹ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯varcharç±»å‹.</p></li><li><p><strong>Boolean</strong>ï¼šå¸ƒå°”ç±»å‹ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­çš„æ˜¯tinyintç±»å‹ã€‚</p></li><li><p><strong>DECIMAL</strong>ï¼šå®šç‚¹ç±»å‹ã€‚æ˜¯ä¸“é—¨ä¸ºäº†è§£å†³æµ®ç‚¹ç±»å‹ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜çš„ã€‚åœ¨å­˜å‚¨é’±ç›¸å…³çš„å­—æ®µçš„æ—¶å€™å»ºè®®å¤§å®¶éƒ½ä½¿ç”¨è¿™ä¸ªæ•°æ®ç±»å‹ã€‚å¹¶ä¸”è¿™ä¸ªç±»å‹ä½¿ç”¨çš„æ—¶å€™éœ€è¦ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç”¨æ¥æ ‡è®°è¿™ä¸ªå­—æ®µæ€»èƒ½èƒ½å­˜å‚¨å¤šå°‘ä¸ªæ•°å­—ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå°æ•°ç‚¹åæœ‰å¤šå°‘ä½ã€‚</p></li><li><p><strong>Enum</strong>ï¼šæšä¸¾ç±»å‹ã€‚æŒ‡å®šæŸä¸ªå­—æ®µåªèƒ½æ˜¯æšä¸¾ä¸­æŒ‡å®šçš„å‡ ä¸ªå€¼ï¼Œä¸èƒ½ä¸ºå…¶ä»–å€¼ã€‚åœ¨ORMæ¨¡å‹ä¸­ï¼Œä½¿ç”¨Enumæ¥ä½œä¸ºæšä¸¾ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;article&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    tag = Column(Enum(<span class="string">&quot;python&quot;</span>,<span class="string">&#x27;flask&#x27;</span>,<span class="string">&#x27;django&#x27;</span>))</span><br></pre></td></tr></table></figure><p>åœ¨Python3ä¸­ï¼Œå·²ç»å†…ç½®äº†enumè¿™ä¸ªæšä¸¾çš„æ¨¡å—ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å—å»å®šä¹‰ç›¸å…³çš„å­—æ®µã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TagEnum</span>(enum.Enum):</span><br><span class="line">    python = <span class="string">&quot;python&quot;</span></span><br><span class="line">    flask = <span class="string">&quot;flask&quot;</span></span><br><span class="line">    django = <span class="string">&quot;django&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;article&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    tag = Column(Enum(TagEnum))</span><br><span class="line"></span><br><span class="line">article = Article(tag=TagEnum.flask)</span><br></pre></td></tr></table></figure></li><li><p><strong>date</strong>ï¼šå­˜å‚¨æ—¶é—´ï¼Œåªèƒ½å­˜å‚¨å¹´æœˆæ—¥ã€‚æ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯dateç±»å‹ã€‚åœ¨Pythonä»£ç ä¸­ï¼Œå¯ä»¥ä½¿ç”¨datetime.dateæ¥æŒ‡å®šã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;article&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    create_time = Column(Date)</span><br><span class="line"></span><br><span class="line">article = Article(create_time=date(<span class="number">2017</span>,<span class="number">10</span>,<span class="number">10</span>))</span><br></pre></td></tr></table></figure></li><li><p><strong>DateTime</strong>ï¼šå­˜å‚¨æ—¶é—´ï¼Œå¯ä»¥å­˜å‚¨å¹´æœˆæ—¥æ—¶åˆ†ç§’æ¯«ç§’ç­‰ã€‚æ˜ å°„åˆ°æ•°æ®åº“ä¸­ä¹Ÿæ˜¯datetimeç±»å‹ã€‚åœ¨Pythonä»£ç ä¸­ï¼Œå¯ä»¥ä½¿ç”¨datetime.datetimeæ¥æŒ‡å®šã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;article&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    create_time = Column(DateTime)</span><br><span class="line"></span><br><span class="line">article = Article(create_time=datetime(<span class="number">2011</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>,<span class="number">11</span>))</span><br></pre></td></tr></table></figure></li><li><p><strong>Time</strong>ï¼šå­˜å‚¨æ—¶é—´ï¼Œå¯ä»¥å­˜å‚¨æ—¶åˆ†ç§’ã€‚æ˜ å°„åˆ°æ•°æ®åº“ä¸­ä¹Ÿæ˜¯timeç±»å‹ã€‚åœ¨Pythonä»£ç ä¸­ï¼Œå¯ä»¥ä½¿ç”¨datetime.timeæ¥è‡³æ­¤é‚£ä¸ªã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Article</span>(<span class="title class_ inherited__">Base</span>):</span><br><span class="line">    __tablename__ = <span class="string">&#x27;article&#x27;</span></span><br><span class="line">    <span class="built_in">id</span> = Column(Integer,primary_key=<span class="literal">True</span>,autoincrement=<span class="literal">True</span>)</span><br><span class="line">    create_time = Column(Time)</span><br><span class="line"></span><br><span class="line">article = Article(create_time=time(hour=<span class="number">11</span>,minute=<span class="number">11</span>,second=<span class="number">11</span>))</span><br></pre></td></tr></table></figure></li><li><p><strong>Text</strong>ï¼šå­˜å‚¨é•¿å­—ç¬¦ä¸²ã€‚ä¸€èˆ¬å¯ä»¥å­˜å‚¨6Wå¤šä¸ªå­—ç¬¦ã€‚å¦‚æœè¶…å‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œå¯ä»¥ä½¿ç”¨LONGTEXTç±»å‹ã€‚æ˜ å°„åˆ°æ•°æ®åº“ä¸­å°±æ˜¯textç±»å‹ã€‚</p></li><li><p><strong>LONGTEXT</strong>ï¼šé•¿æ–‡æœ¬ç±»å‹ï¼Œæ˜ å°„åˆ°æ•°æ®åº“ä¸­æ˜¯longtextç±»å‹ã€‚</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-SQLALchemy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>insert intoå’Œinsert ignore into</title>
      <link href="/2022/06/04/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/insert%20into%E5%92%8Cinsert%20ignore%20into/"/>
      <url>/2022/06/04/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/insert%20into%E5%92%8Cinsert%20ignore%20into/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h1><table><thead><tr><th>æŒ‡ä»¤</th><th>å·²å­˜åœ¨ï¼ˆåˆ¤æ–­æ¡ä»¶ä¸ºuniqueï¼‰</th><th>ä¸å­˜åœ¨</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>insert</td><td>æŠ¥é”™</td><td>æ’å…¥</td><td>insert into User (name,age) values(â€˜hwang1â€™,10);</td></tr><tr><td>insert ignore</td><td>å¿½ç•¥</td><td>æ’å…¥</td><td>insert ignore into User (name,age) values(â€˜hwang1â€™,10);</td></tr><tr><td>replace</td><td>æ›¿æ¢</td><td>æ’å…¥</td><td>replace into User (name,age) values(â€˜hwang1â€™,10);</td></tr></tbody></table><h1 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h1><h4 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> names(</span><br><span class="line">    id <span class="type">INT</span>(<span class="number">10</span>) <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">255</span>) <span class="keyword">UNIQUE</span>,</span><br><span class="line">    age <span class="type">INT</span>(<span class="number">10</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line">HOSTNAME = <span class="string">&quot;127.0.0.1&quot;</span></span><br><span class="line">PORT = <span class="string">&quot;3306&quot;</span></span><br><span class="line">DATABASE = <span class="string">&quot;test&quot;</span></span><br><span class="line">USERNAME = <span class="string">&quot;root&quot;</span></span><br><span class="line">PASSWORD = <span class="string">&quot;wanghan...&quot;</span></span><br><span class="line">DB_URI = <span class="string">&#x27;mysql+pymysql://&#123;&#125;:&#123;&#125;@&#123;&#125;:&#123;&#125;/&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(USERNAME, PASSWORD, HOSTNAME, PORT, DATABASE)</span><br><span class="line"></span><br><span class="line">engine = create_engine(DB_URI)</span><br><span class="line"></span><br><span class="line">session = sessionmaker(bind=engine)</span><br><span class="line">Session = session()</span><br></pre></td></tr></table></figure><h4 id="æ•°æ®åº“å·²å­˜åœ¨æ•°æ®ï¼š"><a href="#æ•°æ®åº“å·²å­˜åœ¨æ•°æ®ï¼š" class="headerlink" title="æ•°æ®åº“å·²å­˜åœ¨æ•°æ®ï¼š"></a>æ•°æ®åº“å·²å­˜åœ¨æ•°æ®ï¼š</h4><p><font color="red">å…¶ä¸­nameä¸ºuniqueå”¯ä¸€ç´¢å¼•ï¼Œid ä¸ºPrimarykey</font></p><table><thead><tr><th>id</th><th>name</th><th>age</th></tr></thead><tbody><tr><td>1</td><td>hwang1</td><td>10</td></tr><tr><td>2</td><td>hwang2</td><td>11</td></tr><tr><td>3</td><td>hwang3</td><td>12</td></tr></tbody></table><h1 id="insert-intoï¼š"><a href="#insert-intoï¼š" class="headerlink" title="insert intoï¼š"></a>insert intoï¼š</h1><p>å½“ä¸Šè¿°æ•°æ®å­˜åœ¨æ—¶æ‰§è¡Œä»¥ä¸‹sqlï¼Œidä¼šè‡ªå¢ï¼Œä½†æ˜¯æ’å…¥ä¸æˆåŠŸï¼Œä¼šæŠ¥é”™ï¼›</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into User (name,age) values (&#x27;hwang1&#x27;,10),(&#x27;hwang2&#x27;,11),(&#x27;hwang3&#x27;,12)&quot;</span><br><span class="line"><span class="keyword">cursor</span> <span class="operator">=</span> Session.execute(<span class="keyword">sql</span>)</span><br><span class="line">print(cursor.lastrowid)</span><br><span class="line">Session.commit()</span><br></pre></td></tr></table></figure><h1 id="insert-ignore-into"><a href="#insert-ignore-into" class="headerlink" title="insert ignore into"></a>insert ignore into</h1><p>å½“ä¸Šè¿°æ•°æ®å­˜åœ¨æ—¶ï¼Œä¸”å¤šåŠ ä¸€ä¸ªignoreæ—¶ï¼Œå¿½ç•¥æ’å…¥çš„è®°å½•ï¼Œidä¼šè‡ªå¢ï¼Œä¸ä¼šæŠ¥é”™ï¼Œè¿”å›ä¸€ä¸ª0</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> &quot;insert ignore into User (name,age) values (&#x27;hwang1&#x27;,10),(&#x27;hwang2&#x27;,11),(&#x27;hwang3&#x27;,12)&quot;</span><br><span class="line"><span class="keyword">cursor</span> <span class="operator">=</span> Session.execute(<span class="keyword">sql</span>)</span><br><span class="line">print(cursor.lastrowid)</span><br><span class="line">Session.commit()</span><br></pre></td></tr></table></figure><h1 id="replace-into"><a href="#replace-into" class="headerlink" title="replace into"></a>replace into</h1><p>å½“ä¸Šè¿°æ•°æ®å­˜åœ¨æ—¶ï¼Œåˆ™ä¼šå…ˆåˆ é™¤å·²å­˜åœ¨çš„æ•°æ®ï¼Œå†æ·»åŠ æ–°çš„æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> &quot;replace into User (name,age) values (&#x27;hwang1&#x27;,10),(&#x27;hwang2&#x27;,11),(&#x27;hwang3&#x27;,12)&quot;</span><br><span class="line"><span class="keyword">cursor</span> <span class="operator">=</span> Session.execute(<span class="keyword">sql</span>)</span><br><span class="line">print(cursor.lastrowid)</span><br><span class="line">Session.commit()</span><br></pre></td></tr></table></figure><h4 id="å…³é—­æ•°æ®åº“"><a href="#å…³é—­æ•°æ®åº“" class="headerlink" title="å…³é—­æ•°æ®åº“"></a>å…³é—­æ•°æ®åº“</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥-æ’å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿”å›æ’å…¥æ•°æ®çš„ID</title>
      <link href="/2022/06/04/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/%E8%BF%94%E5%9B%9E%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84ID/"/>
      <url>/2022/06/04/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/%E8%BF%94%E5%9B%9E%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84ID/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="lastrowid"><a href="#lastrowid" class="headerlink" title="lastrowid"></a>lastrowid</h3><p>sql &#x3D; â€œinsert ignore into User (name,age) values (â€˜hwang2â€™,20),(â€˜hwang3â€™,21),(â€˜hwang4â€™,44)â€</p><p>cursor &#x3D; Session.execute(sql)</p><p>&#x3D;&#x3D;print(cursor.lastrowid)&#x3D;&#x3D;<br>Session.commit()</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥-æ’å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¿½ç•¥----å¿½å¾‹æœ¬åœ°å·²å­˜åœ¨æ–‡ä»¶çš„ä¿®æ”¹</title>
      <link href="/2022/05/30/git/git%E5%BF%BD%E7%95%A5----%E5%BF%BD%E5%BE%8B%E6%9C%AC%E5%9C%B0%E5%B7%B2%E5%AD%98%E5%9C%A8%E6%96%87%E4%BB%B6%E7%9A%84%E4%BF%AE%E6%94%B9/"/>
      <url>/2022/05/30/git/git%E5%BF%BD%E7%95%A5----%E5%BF%BD%E5%BE%8B%E6%9C%AC%E5%9C%B0%E5%B7%B2%E5%AD%98%E5%9C%A8%E6%96%87%E4%BB%B6%E7%9A%84%E4%BF%AE%E6%94%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æƒ…æ™¯ï¼šæœ¬åœ°å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸”å·²addæ·»åŠ åˆ°æš‚å­˜åŒºï¼Œä¸æƒ³å˜åŠ¨.gitignoreï¼Œæ›´ä¸æƒ³æ¯æ¬¡æäº¤å‰æŠŠå‹¾å»æ‰</p><p>è¯¦ç»†è§£é‡Šï¼š<br>gitä»“åº“æäº¤æ€»æœ‰ä¸€äº›æ–‡ä»¶ä¸æƒ³æäº¤åˆ°è¿œç¨‹ï¼Œè€Œgitå¿½ç•¥çš„æ–‡ä»¶ä¹Ÿæœ‰ä½†æ˜¯ä¸èƒ½åŠ¨  å› ä¸º.gitignore æ–‡ä»¶çš„ä¸œè¥¿å˜å¾—è¯ ä¼šæäº¤åˆ°ä»“åº“ã€‚</p><p>æˆ‘æœ¬åœ°ä¸€äº›configçš„é…ç½®æˆ‘ä¸æƒ³æ¯æ¬¡æäº¤éƒ½æŠŠå‹¾å»æ‰ æ‰€ä»¥gitè®¾ç½® å¿½ç•¥ä»…ä»…æˆ‘æœ¬åœ°çš„ä¸€äº›æ–‡ä»¶çš„ä¸Šä¼ </p><h2 id="ï¼ˆä¸€å®šè¦è¿›å…¥åˆ°å¯¹åº”ç›®å½•ä¸‹è¿›è¡Œæ“ä½œï¼‰"><a href="#ï¼ˆä¸€å®šè¦è¿›å…¥åˆ°å¯¹åº”ç›®å½•ä¸‹è¿›è¡Œæ“ä½œï¼‰" class="headerlink" title="ï¼ˆä¸€å®šè¦è¿›å…¥åˆ°å¯¹åº”ç›®å½•ä¸‹è¿›è¡Œæ“ä½œï¼‰"></a>ï¼ˆä¸€å®šè¦è¿›å…¥åˆ°å¯¹åº”ç›®å½•ä¸‹è¿›è¡Œæ“ä½œï¼‰</h2><h2 id="å¿½ç•¥æ–‡ä»¶"><a href="#å¿½ç•¥æ–‡ä»¶" class="headerlink" title="å¿½ç•¥æ–‡ä»¶"></a>å¿½ç•¥æ–‡ä»¶</h2><p>git update-index â€“assume-unchanged æ–‡ä»¶å</p><h2 id="å–æ¶ˆå¿½ç•¥"><a href="#å–æ¶ˆå¿½ç•¥" class="headerlink" title="å–æ¶ˆå¿½ç•¥"></a>å–æ¶ˆå¿½ç•¥</h2><p>git update-index â€“no-assume-unchanged config.php</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--DataFrame</title>
      <link href="/2022/05/20/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--DataFrame/"/>
      <url>/2022/05/20/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--DataFrame/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p><font size="3">DataFrameæ˜¯ä¸€ä¸ªè¡¨æ ¼å‹ç»“æ„ï¼Œæ—¢æœ‰è¡Œæ ‡ç­¾ï¼Œåˆæœ‰åˆ—æ ‡ç­¾ï¼Œä»–ä¹Ÿè¢«ç§°ä¸ºå¼‚æ„æ•°æ®ï¼Œæ‰€è°“å¼‚æ„ï¼ŒæŒ‡çš„æ˜¯è¡¨æ ¼ä¸­<font color="red">æ¯åˆ—</font>çš„æ•°æ®ç±»å‹ä¸åŒ,æ¯”å¦‚ï¼šæœ‰ä¸€åˆ—æ˜¯å­—ç¬¦ä¸²ï¼Œä¹Ÿå¯èƒ½æœ‰ä¸€åˆ—æ˜¯æ•´å‹æˆ–è€…æµ®ç‚¹å‹</font></p><p><img src="https://s1.ax1x.com/2022/05/20/OOFzD0.png" alt="OOFzD0.png"></p><p>ä¸Šè¿°è¡¨æ ¼ä¸­æ¯åˆ—çš„æ•°æ®ç±»å‹ï¼š</p><table><thead><tr><th>name</th><th>age</th><th>gender</th><th>rating</th></tr></thead><tbody><tr><td>String</td><td>integer</td><td>String</td><td>Float</td></tr></tbody></table><h1 id="åˆ›å»ºDataFrameå¯¹è±¡"><a href="#åˆ›å»ºDataFrameå¯¹è±¡" class="headerlink" title="åˆ›å»ºDataFrameå¯¹è±¡"></a>åˆ›å»ºDataFrameå¯¹è±¡</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame(data,index,colums,dtype,copy)</span><br></pre></td></tr></table></figure><blockquote><p>å‚æ•°è¯´æ˜ï¼š<br>dataï¼šè¾“å…¥çš„æ•°æ®ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªndarrayï¼Œseriesï¼Œlistï¼Œdictï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªDataFrame<br>indexï¼šè¡Œæ ‡ç­¾ï¼Œå¦‚æœä¸ä¼ å€¼ï¼Œé»˜è®¤ä»0å¼€å§‹<br>columnsï¼šè¡Œæ ‡ç­¾ï¼šå¦‚æœä¸ä¼ å€¼ï¼Œé»˜è®¤ä»0å¼€å§‹<br>dtypeï¼šæ¯ä¸€åˆ—çš„æ•°æ®ç±»å‹<br>copyï¼šé»˜è®¤ä¸ºFalseï¼Œè¡¨ç¤ºå¤åˆ¶æ•°æ®data</p></blockquote><h2 id="ä¸€ã€åˆ›å»º"><a href="#ä¸€ã€åˆ›å»º" class="headerlink" title="ä¸€ã€åˆ›å»º"></a>ä¸€ã€åˆ›å»º</h2><ul><li><h3 id="ç©ºçš„"><a href="#ç©ºçš„" class="headerlink" title="ç©ºçš„"></a><strong>ç©ºçš„</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame()</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOEW34.png" alt="OOEW34.png"></p><ul><li><h3 id="å•ä¸€åˆ—è¡¨"><a href="#å•ä¸€åˆ—è¡¨" class="headerlink" title="å•ä¸€åˆ—è¡¨"></a><strong>å•ä¸€åˆ—è¡¨</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">df = pd.DataFrame(data)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOEb4O.png" alt="OOEb4O.png"></p><ul><li><h3 id="åµŒå¥—åˆ—è¡¨"><a href="#åµŒå¥—åˆ—è¡¨" class="headerlink" title="åµŒå¥—åˆ—è¡¨"></a><strong>åµŒå¥—åˆ—è¡¨</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = [[<span class="string">&#x27;Alex&#x27;</span>,<span class="number">10</span>],[<span class="string">&#x27;Bob&#x27;</span>,<span class="number">12</span>],[<span class="string">&#x27;Clarke&#x27;</span>,<span class="number">13</span>]]</span><br><span class="line">df = pd.DataFrame(data)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOV2Zt.png" alt="OOV2Zt.png"><br>æŒ‡å®šcolumnsï¼Œindexæ—¶ï¼š</p><pre><code>df = pd.DataFrame(data,columns=[&#39;Name&#39;,&#39;Age&#39;],index=[1,2,3])</code></pre><p><img src="https://s1.ax1x.com/2022/05/20/OOZFdx.png" alt="OOZFdx.png"></p><ul><li><h3 id="åˆ—è¡¨åµŒå¥—å­—å…¸"><a href="#åˆ—è¡¨åµŒå¥—å­—å…¸" class="headerlink" title="åˆ—è¡¨åµŒå¥—å­—å…¸"></a><strong>åˆ—è¡¨åµŒå¥—å­—å…¸</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = [&#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>,<span class="string">&quot;b&quot;</span>:<span class="number">2</span>&#125;,&#123;<span class="string">&quot;a&quot;</span>:<span class="number">3</span>,<span class="string">&quot;c&quot;</span>:<span class="number">3</span>&#125;]</span><br><span class="line">df = pd.DataFrame(data)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šåœ¨è¯¥åˆ—è¡¨çš„ç¬¬äºŒä¸ªå­—å…¸å†…ï¼Œæ²¡æœ‰æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­—å…¸ä¸­keyä¸ºbçš„å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬äºŒä¸ªå­—å…¸ä¹Ÿæ²¡æœ‰bçš„valueï¼Œæ‰€ä»¥ä»–ä¼šç”¨NaNä»£æ›¿valueï¼ˆç¬¬ä¸€ä¸ªå­—å…¸çš„cåŒç†ï¼‰</p></blockquote><p><img src="https://s1.ax1x.com/2022/05/20/OOujxS.png" alt="OOujxS.png"></p><h4 id="æŒ‡å®šcolumnsã€indexæ—¶"><a href="#æŒ‡å®šcolumnsã€indexæ—¶" class="headerlink" title="æŒ‡å®šcolumnsã€indexæ—¶"></a><strong>æŒ‡å®šcolumnsã€indexæ—¶</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = [&#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>,<span class="string">&quot;b&quot;</span>:<span class="number">2</span>&#125;,&#123;<span class="string">&quot;a&quot;</span>:<span class="number">3</span>,<span class="string">&quot;c&quot;</span>:<span class="number">3</span>&#125;]</span><br><span class="line">df1 = pd.DataFrame(data,columns=[<span class="string">&quot;a&quot;</span>],index=[<span class="string">&quot;first&quot;</span>,<span class="string">&quot;second&quot;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOldo9.png" alt="OOldo9.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data = [&#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>,<span class="string">&quot;b&quot;</span>:<span class="number">2</span>&#125;,&#123;<span class="string">&quot;a&quot;</span>:<span class="number">3</span>,<span class="string">&quot;c&quot;</span>:<span class="number">3</span>&#125;]</span><br><span class="line">df2 = pd.DataFrame(data,columns=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;d&quot;</span>],index=[<span class="string">&quot;first&quot;</span>,<span class="string">&quot;second&quot;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOluZQ.png" alt="OOluZQ.png"></p><blockquote><p>æ³¨ï¼šå½“æŒ‡å®šçš„columnsåœ¨å­—å…¸çš„keyä¸­ä¸å­˜åœ¨æ—¶ï¼Œä¼šç”¨NaNä»£æ›¿</p></blockquote><ul><li><h3 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a><strong>å­—å…¸</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = &#123;<span class="string">&quot;a&quot;</span>:<span class="number">666</span>,<span class="string">&quot;b&quot;</span>:<span class="number">777</span>,<span class="string">&quot;c&quot;</span>:<span class="number">888</span>&#125;</span><br><span class="line">df = pd.DataFrame(data,index=[<span class="string">&quot;num&quot;</span>])</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šå¦‚æœç›´æ¥ä¼ å…¥å­—å…¸ï¼Œä¸æŒ‡å®šindexï¼Œåˆ™ä¼šç›´æ¥æŠ¥é”™ï¼šæç¤ºæŒ‡å®šindex</p></blockquote><p><img src="https://s1.ax1x.com/2022/05/20/OOUcO1.png" alt="OOUcO1.png"></p><ul><li><h3 id="Series"><a href="#Series" class="headerlink" title="Series"></a><strong>Series</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">ds = pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="built_in">print</span>(ds)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(ds))</span><br><span class="line">df = pd.DataFrame(ds)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(df))</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOtH9H.png" alt="OOtH9H.png"></p><ul><li><h3 id="å­—å…¸å½¢å¼çš„Series"><a href="#å­—å…¸å½¢å¼çš„Series" class="headerlink" title="å­—å…¸å½¢å¼çš„Series"></a><strong>å­—å…¸å½¢å¼çš„Series</strong></h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = &#123;<span class="string">&quot;one&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]),</span><br><span class="line">        <span class="string">&quot;two&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>])&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šåœ¨dataå­—å…¸ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ å†…indexä¸­æ²¡æœ‰dçš„valueï¼Œä¹Ÿå°±æ˜¯oneåˆ—ä¸­çš„indexï¼šdæ²¡æœ‰å¯¹åº”çš„valueï¼Œæ‰€ä»¥è¢«NaNä»£æ›¿</p></blockquote><p><img src="https://s1.ax1x.com/2022/05/20/OONoq0.png" alt="OONoq0.png"></p><h2 id="äºŒã€columnsæŸ¥å¢åˆ "><a href="#äºŒã€columnsæŸ¥å¢åˆ " class="headerlink" title="äºŒã€columnsæŸ¥å¢åˆ "></a>äºŒã€<font color="red">columns</font>æŸ¥å¢åˆ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = &#123;<span class="string">&quot;one&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]),</span><br><span class="line">        <span class="string">&quot;two&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>])&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OONoq0.png" alt="OONoq0.png"></p><h3 id="1-å–æ•°æ®"><a href="#1-å–æ•°æ®" class="headerlink" title="1. å–æ•°æ®"></a>1. å–æ•°æ®</h3><pre><code>df = pd.DataFrame(data[&quot;one&quot;])</code></pre><p><img src="https://s1.ax1x.com/2022/05/20/OOavHx.png" alt="OOavHx.png"></p><h3 id="2-æ·»åŠ æ•°æ®"><a href="#2-æ·»åŠ æ•°æ®" class="headerlink" title="2. æ·»åŠ æ•°æ®"></a>2. æ·»åŠ æ•°æ®</h3><pre><code># ä½¿ç”¨df[&quot;column&quot;] = å€¼ï¼Œæ’å…¥æ–°æ•°æ®çš„indexdf[&quot;three&quot;] = pd.Series([10,20,30],index=[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;])</code></pre><p><img src="https://s1.ax1x.com/2022/05/20/OOdQ2Q.png" alt="OOdQ2Q.png"></p><pre><code># å°†å­˜åœ¨çš„æ•°æ®åˆ—åšç›¸åŠ è¿ç®—df[&quot;four&quot;] = df[&quot;one&quot;] + df[&quot;three&quot;]</code></pre><p><img src="https://s1.ax1x.com/2022/05/20/OOd7Zt.png" alt="OOd7Zt.png"></p><h3 id="3-ä½¿ç”¨insert-æ–¹æ³•æ·»åŠ æ•°æ®"><a href="#3-ä½¿ç”¨insert-æ–¹æ³•æ·»åŠ æ•°æ®" class="headerlink" title="3.ä½¿ç”¨insert()æ–¹æ³•æ·»åŠ æ•°æ®"></a>3.ä½¿ç”¨insert()æ–¹æ³•æ·»åŠ æ•°æ®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = &#123;<span class="string">&quot;one&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]),</span><br><span class="line">        <span class="string">&quot;two&quot;</span>: pd.Series([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>])&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line">df[<span class="string">&quot;three&quot;</span>] = pd.Series([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>],index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>])</span><br><span class="line">df[<span class="string">&quot;four&quot;</span>] = df[<span class="string">&quot;one&quot;</span>] + df[<span class="string">&quot;three&quot;</span>]</span><br><span class="line"><span class="comment"># inser()æ–¹æ³•åçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¯¥æ¡æ•°æ®åœ¨columnsä¸­çš„ä½ç½®,columnsä½ç½®ä»0å¼€å§‹</span></span><br><span class="line">df.insert(<span class="number">2</span>,column=<span class="string">&quot;center&quot;</span>,value=pd.Series([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>],index=[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]))</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OO017q.png" alt="OO017q.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">info=[[<span class="string">&#x27;Jack&#x27;</span>,<span class="number">18</span>],[<span class="string">&#x27;Helen&#x27;</span>,<span class="number">19</span>],[<span class="string">&#x27;John&#x27;</span>,<span class="number">17</span>]]</span><br><span class="line">df=pd.DataFrame(info,columns=[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#æ³¨æ„æ˜¯columnå‚æ•°</span></span><br><span class="line"><span class="comment">#æ•°å€¼1ä»£è¡¨æ’å…¥åˆ°columnsåˆ—è¡¨:[&#x27;name&#x27;,&#x27;age&#x27;]çš„ç´¢å¼•ä½ç½®</span></span><br><span class="line">df.insert(<span class="number">1</span>,column=<span class="string">&#x27;score&#x27;</span>,value=[<span class="number">91</span>,<span class="number">90</span>,<span class="number">75</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OO0b8S.png" alt="OO0b8S.png"></p><h3 id="4-delã€popåˆ é™¤æ•°æ®"><a href="#4-delã€popåˆ é™¤æ•°æ®" class="headerlink" title="4. delã€popåˆ é™¤æ•°æ®"></a>4. delã€popåˆ é™¤æ•°æ®</h3><blockquote><p>é€šè¿‡ del å’Œ pop() éƒ½èƒ½å¤Ÿåˆ é™¤ DataFrame ä¸­çš„æ•°æ®åˆ—ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">d = &#123;<span class="string">&#x27;one&#x27;</span> : pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]),</span><br><span class="line">   <span class="string">&#x27;two&#x27;</span> : pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]),</span><br><span class="line">   <span class="string">&#x27;three&#x27;</span> : pd.Series([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>], index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])&#125;</span><br><span class="line">df = pd.DataFrame(d)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">&quot;Our dataframe is:&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#ä½¿ç”¨delåˆ é™¤</span></span><br><span class="line"><span class="keyword">del</span> df[<span class="string">&#x27;one&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#ä½¿ç”¨popæ–¹æ³•åˆ é™¤</span></span><br><span class="line">df.pop(<span class="string">&#x27;two&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (df)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/20/OOBsqs.png" alt="OOBsqs.png"></p><h2 id="ä¸‰ã€indexæŸ¥å¢åˆ "><a href="#ä¸‰ã€indexæŸ¥å¢åˆ " class="headerlink" title="ä¸‰ã€indexæŸ¥å¢åˆ "></a>ä¸‰ã€<font color="red">index</font>æŸ¥å¢åˆ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">d = &#123;<span class="string">&#x27;one&#x27;</span> : pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]),</span><br><span class="line">   <span class="string">&#x27;two&#x27;</span> : pd.Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>], index=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]),</span><br><span class="line">   <span class="string">&#x27;three&#x27;</span> : pd.Series([<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>], index=[<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>])&#125;</span><br><span class="line">df = pd.DataFrame(d)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/22/OzrL0U.png" alt="OzrL0U.png"></p><h3 id="1-æŸ¥ï¼šloc-â€œæ ‡ç­¾ç´¢å¼•â€-å‡½æ•°"><a href="#1-æŸ¥ï¼šloc-â€œæ ‡ç­¾ç´¢å¼•â€-å‡½æ•°" class="headerlink" title="1.æŸ¥ï¼šloc[â€œæ ‡ç­¾ç´¢å¼•â€]å‡½æ•°"></a>1.æŸ¥ï¼šloc[â€œæ ‡ç­¾ç´¢å¼•â€]å‡½æ•°</h3><blockquote><p>æ³¨ï¼šè¯¥å‡½æ•°å…è®¸ä¼ é€’ä¸¤ä¸ªå‚æ•°è¡Œå’Œåˆ—ï¼Œä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œè€Œä¸”åªèƒ½ä½¿ç”¨æ ‡ç­¾ç´¢å¼•ï¼šdf.loc[â€œaâ€,â€oneâ€]</p></blockquote><pre><code>print(df.loc[&quot;a&quot;])</code></pre><p><img src="https://s1.ax1x.com/2022/05/22/Ozrxh9.png" alt="Ozrxh9.png"></p><h3 id="2-æŸ¥ï¼šiloc-â€œæ•´æ•°ç´¢å¼•â€-å‡½æ•°"><a href="#2-æŸ¥ï¼šiloc-â€œæ•´æ•°ç´¢å¼•â€-å‡½æ•°" class="headerlink" title="2. æŸ¥ï¼šiloc[â€œæ•´æ•°ç´¢å¼•â€]å‡½æ•°"></a>2. æŸ¥ï¼šiloc[â€œæ•´æ•°ç´¢å¼•â€]å‡½æ•°</h3><blockquote><p>æ³¨ï¼šè¯¥å‡½æ•°å…è®¸ä¼ é€’ä¸¤ä¸ªå‚æ•°è¡Œå’Œåˆ—ï¼Œä¹‹é—´ç”¨é€—å·éš”å¼€ï¼Œè€Œä¸”åªèƒ½ä½¿ç”¨æ•´æ•°ç´¢å¼•ï¼šdf.iloc[â€œ2â€,â€0â€]</p></blockquote><pre><code>print(df.iloc[2])</code></pre><p><img src="https://s1.ax1x.com/2022/05/22/OzymaF.png" alt="OzymaF.png"></p><h3 id="3-æŸ¥ï¼šåˆ‡ç‰‡"><a href="#3-æŸ¥ï¼šåˆ‡ç‰‡" class="headerlink" title="3.æŸ¥ï¼šåˆ‡ç‰‡"></a>3.æŸ¥ï¼šåˆ‡ç‰‡</h3><pre><code># å·¦é—­å³å¼€print(df[2:4]) # æ„æ€ï¼šç¬¬ä¸‰è¡Œ</code></pre><p><img src="https://s1.ax1x.com/2022/05/22/Ozy5Mq.png" alt="Ozy5Mq.png"></p><h3 id="4-æ·»åŠ ï¼šappendï¼ˆï¼‰å‡½æ•°"><a href="#4-æ·»åŠ ï¼šappendï¼ˆï¼‰å‡½æ•°" class="headerlink" title="4. æ·»åŠ ï¼šappendï¼ˆï¼‰å‡½æ•°"></a>4. æ·»åŠ ï¼šappendï¼ˆï¼‰å‡½æ•°</h3><blockquote><p>ä½¿ç”¨ append() å‡½æ•°ï¼Œå¯ä»¥å°†æ–°çš„æ•°æ®è¡Œæ·»åŠ åˆ° DataFrame ä¸­ï¼Œè¯¥å‡½æ•°ä¼šåœ¨è¡Œæœ«è¿½åŠ æ•°æ®è¡Œã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], columns = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">df2 = pd.DataFrame([[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]], columns = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line"><span class="comment">#åœ¨è¡Œæœ«è¿½åŠ æ–°æ•°æ®è¡Œ</span></span><br><span class="line">df = df.append(df2)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/22/Oz6WTO.png" alt="Oz6WTO.png"></p><h3 id="5-åˆ é™¤ï¼šdropï¼ˆï¼‰å‡½æ•°"><a href="#5-åˆ é™¤ï¼šdropï¼ˆï¼‰å‡½æ•°" class="headerlink" title="5. åˆ é™¤ï¼šdropï¼ˆï¼‰å‡½æ•°"></a>5. åˆ é™¤ï¼šdropï¼ˆï¼‰å‡½æ•°</h3><blockquote><p>æ‚¨å¯ä»¥ä½¿ç”¨è¡Œç´¢å¼•æ ‡ç­¾ï¼Œä» DataFrame ä¸­åˆ é™¤æŸä¸€è¡Œæ•°æ®ã€‚å¦‚æœç´¢å¼•æ ‡ç­¾å­˜åœ¨é‡å¤ï¼Œé‚£ä¹ˆå®ƒä»¬å°†è¢«ä¸€èµ·åˆ é™¤</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.DataFrame([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], columns = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">df2 = pd.DataFrame([[<span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>]], columns = [<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>])</span><br><span class="line">df = df.append(df2)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#æ³¨æ„æ­¤å¤„è°ƒç”¨äº†drop()æ–¹æ³•</span></span><br><span class="line">df = df.drop(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span> (df)</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/05/22/Ozcin0.png" alt="Ozcin0.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤æ–­å½“å‰æ—¥æœŸåœ¨æœ¬æœˆæˆ–æœ¬å­£åº¦æ˜¯ç¬¬å‡ å‘¨</title>
      <link href="/2022/05/20/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E5%9C%A8%E6%9C%AC%E6%9C%88%E6%88%96%E6%9C%AC%E5%AD%A3%E5%BA%A6%E6%98%AF%E7%AC%AC%E5%87%A0%E5%91%A8/"/>
      <url>/2022/05/20/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E5%9C%A8%E6%9C%AC%E6%9C%88%E6%88%96%E6%9C%AC%E5%AD%A3%E5%BA%A6%E6%98%AF%E7%AC%AC%E5%87%A0%E5%91%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="æœ¬æœˆ"><a href="#æœ¬æœˆ" class="headerlink" title="æœ¬æœˆ"></a>æœ¬æœˆ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime, timedelta</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_week_of_month</span>(<span class="params">date, week_sort</span>):</span><br><span class="line">    <span class="keyword">if</span> week_sort == <span class="string">&quot;æ­£æ•°&quot;</span>:</span><br><span class="line">        begin = <span class="built_in">int</span>(datetime(date.year, date.month, <span class="number">1</span>).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">        end = <span class="built_in">int</span>(datetime(date.year, date.month, date.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># å½“å‰æ—¥æœŸçš„æœ€åä¸€å¤©</span></span><br><span class="line">        <span class="keyword">if</span> data.month &lt; <span class="number">12</span>:</span><br><span class="line">            month_start_end = datetime(data.year, data.month + <span class="number">1</span>, <span class="number">1</span>) - timedelta(days=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            month_start_end = datetime(data.year, data.month, <span class="number">31</span>)</span><br><span class="line">        begin = <span class="built_in">int</span>(datetime(date.year, date.month, date.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">        end = <span class="built_in">int</span>(datetime(month_start_end.year, month_start_end.month, month_start_end.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> end - begin + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = pd.Timestamp(<span class="string">&quot;2022-05-20&quot;</span>)</span><br><span class="line">    week_sort = <span class="string">&quot;æ­£æ•°&quot;</span></span><br><span class="line">    week = get_week_of_month(data,week_sort)</span><br><span class="line">    <span class="built_in">print</span>(week)</span><br><span class="line">    </span><br></pre></td></tr></table></figure><h1 id="æœ¬å­£åº¦"><a href="#æœ¬å­£åº¦" class="headerlink" title="æœ¬å­£åº¦"></a>æœ¬å­£åº¦</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime,timedelta</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_week_of_quarter</span>(<span class="params">quarter_start_end, date, week_sort</span>):</span><br><span class="line">    <span class="keyword">if</span> week_sort == <span class="string">&quot;æ­£æ•°&quot;</span>:</span><br><span class="line">        begin = <span class="built_in">int</span>(datetime(quarter_start_end.year, quarter_start_end.month, <span class="number">1</span>).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">        end = <span class="built_in">int</span>(datetime(date.year, date.month, date.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        begin = <span class="built_in">int</span>(datetime(date.year, date.month, date.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">        end = <span class="built_in">int</span>(datetime(quarter_start_end.year, quarter_start_end.month, quarter_start_end.day).strftime(<span class="string">&quot;%W&quot;</span>))</span><br><span class="line">    <span class="keyword">return</span> end - begin + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data = pd.Timestamp(<span class="string">&quot;2022-05-20&quot;</span>)</span><br><span class="line">    week_sort = <span class="string">&quot;æ­£æ•°&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> week_sort == <span class="string">&quot;æ­£æ•°&quot;</span>:</span><br><span class="line">        <span class="comment"># å­£åº¦åˆ</span></span><br><span class="line">        <span class="keyword">if</span> data.day == <span class="number">1</span> <span class="keyword">and</span> data.month <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>]:</span><br><span class="line">            quarter_begin = data</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            quarter_begin = data - pd.offsets.QuarterBegin(startingMonth=<span class="number">1</span>)</span><br><span class="line">        week_num = get_week_of_quarter(quarter_begin,data,week_sort)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># å½“å‰æ—¥æœŸçš„æœˆæœ«ï¼ˆå› ä¸ºæ¯æœˆçš„æœˆæœ«å¹¶ä¸å›ºå®šåœ¨30æˆ–31ï¼Œæ‰€ä»¥éœ€è¦æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—æœˆæœ«çš„æ—¥æœŸï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> data.month &lt; <span class="number">12</span>:</span><br><span class="line">            last_day = datetime(data.year, data.month + <span class="number">1</span>, <span class="number">1</span>) - timedelta(days=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            last_day = datetime(data.year, data.month, <span class="number">31</span>)</span><br><span class="line">        <span class="comment"># å­£åº¦æœ«  ä¹Ÿæ˜¯ å­£åº¦æœ«çš„æœ€åä¸€å¤©</span></span><br><span class="line">        <span class="keyword">if</span> data.day == last_day.day <span class="keyword">and</span> data.month <span class="keyword">in</span> [<span class="number">3</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">12</span>]:</span><br><span class="line">            quarter_end = data</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            quarter_end = data + pd.offsets.QuarterEnd(startingMonth=<span class="number">3</span>)</span><br><span class="line">        week_num = get_week_of_quarter(quarter_end, data, week_sort)</span><br><span class="line">    <span class="built_in">print</span>(week_num)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘--Bday()æ—¥æœŸå‘å‰ã€ååç§»ä¸€ä¸ªå·¥ä½œæ—¥</title>
      <link href="/2022/05/06/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%9D%91--Bday()%E6%97%A5%E6%9C%9F%E5%90%91%E5%89%8D%E3%80%81%E5%90%8E%E5%81%8F%E7%A7%BB%E4%B8%80%E4%B8%AA%E5%B7%A5%E4%BD%9C%E6%97%A5/"/>
      <url>/2022/05/06/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%9D%91--Bday()%E6%97%A5%E6%9C%9F%E5%90%91%E5%89%8D%E3%80%81%E5%90%8E%E5%81%8F%E7%A7%BB%E4%B8%80%E4%B8%AA%E5%B7%A5%E4%BD%9C%E6%97%A5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>å½“æˆ‘è¦è®¡ç®—ä¸€ä¸ªæœˆå€’æ•°çš„ç¬¬å‡ ä¸ªå·¥ä½œæ—¥æ—¶ï¼Œä½¿ç”¨äº†pandasçš„Bdayï¼Œç”¨æœˆæœ«çš„æ—¶é—´å‡å»Bday(n)æ—¶ï¼Œå‘ç°æœ‰çš„æœˆä»½éä½†æ²¡æœ‰å‘å‰æ¨ç§»ä¸€ä¸ªå·¥ä½œæ—¥çš„æ—¶é—´ï¼Œåè€Œå‘åæ¨ç§»äº†ä¸€ä¸ªå·¥ä½œæ—¥ã€‚</p></blockquote><p>ä¸Šæ—¥å†ï¼š<br><img src="https://s1.ax1x.com/2022/05/06/OKIuRJ.png" alt="OKIuRJ.png"></p><p>ä¸Šä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">a = pd.Timestamp(<span class="string">&quot;2022-04-30&quot;</span>)</span><br><span class="line"><span class="comment"># å‘å‰åç§»ä¸€ä¸ªå·¥ä½œæ—¥</span></span><br><span class="line">b = a - pd.offsets.BDay(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># 2022-05-02 00:00:00</span></span><br><span class="line">c = a - pd.offsets.BDay(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment"># 2022-04-29 00:00:00</span></span><br><span class="line">d = a - pd.offsets.BDay(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment"># 2022-04-28 00:00:00</span></span><br><span class="line">e = a - pd.offsets.BDay(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(e) <span class="comment"># 2022-04-27 00:00:00</span></span><br><span class="line">f = a - pd.offsets.BDay(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(f) <span class="comment"># 2022-04-26 00:00:00</span></span><br><span class="line">g = a - pd.offsets.BDay(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(g) <span class="comment"># 2022-04-25 00:00:00</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šæ­¤æ—¶ä½ ä¼šå‘ç°Bdayï¼ˆ0ï¼‰çš„æ—¶å€™ï¼Œæ˜¯è‡ªåŠ¨é€‰æ‹©äº†å½“å‰æ—¥æœŸçš„ä¸‹ä¸€ä¸ªå·¥ä½œæ—¥ï¼Œ<br>è€ŒBdayï¼ˆ1ï¼‰åˆ™æ˜¯é€‰æ‹©äº†è¿™ä¸ªæœˆçš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œ<br>åŒ…æ‹¬åé¢åç§»çš„å‡ ä¸ªå·¥ä½œæ—¥ï¼š2ï¼Œ3ï¼Œ4ï¼Œ5éƒ½å¾ˆç¬¦åˆå€’æ•°ç¬¬2ï¼Œ3ï¼Œ4ï¼Œ5ä¸ªå·¥ä½œæ—¥ï¼Œ<br>è¿™é‡Œæˆ‘ä»¬ç›²çŒœè¿™ä¸ªBdayï¼ˆ0ï¼‰æ˜¯å› ä¸ºä»–å½“å‰æ‰€å¤„çš„æ—¥æœŸæ˜¯ä¸€ä¸ªéå·¥ä½œæ—¥ï¼Œæ‰€ä»¥å¾€åé€‰æ‹©äº†ä¸€ä¸ªå·¥ä½œæ—¥ã€‚<br>æ­¤åˆ»ä½ å¯èƒ½è¿˜æ²¡æœ‰æ„Ÿè§‰å‘åœ¨å“ªï¼Ÿå¾€åçœ‹ï¼š</p><p>ä¸Šæ—¥å†ï¼š<br><img src="https://s1.ax1x.com/2022/05/06/OK7owt.png" alt="OK7owt.png"></p><p>ä¸Šä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">a = pd.Timestamp(<span class="string">&quot;2022-05-31&quot;</span>)</span><br><span class="line"><span class="comment"># å‘å‰åç§»ä¸€ä¸ªå·¥ä½œæ—¥</span></span><br><span class="line">b = a - pd.offsets.BDay(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># 2022-05-31 00:00:00</span></span><br><span class="line">c = a - pd.offsets.BDay(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment"># 2022-05-30 00:00:00</span></span><br><span class="line">d = a - pd.offsets.BDay(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment"># 2022-05-27 00:00:00</span></span><br><span class="line">e = a - pd.offsets.BDay(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(e) <span class="comment"># 2022-05-26 00:00:00</span></span><br><span class="line">f = a - pd.offsets.BDay(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(f) <span class="comment"># 2022-05-25 00:00:00</span></span><br><span class="line">g = a - pd.offsets.BDay(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(g) <span class="comment"># 2022-05-24 00:00:00</span></span><br></pre></td></tr></table></figure><p>æ³¨ï¼šè¿™ä¸ªæ—¶å€™ä½ ä¼šå‘ç°Bdayï¼ˆ0ï¼‰ï¼Œå“ï¼Œä»–æ²¡æœ‰å¾€å‰æˆ–è€…å¾€åæ¨ç§»äº†ï¼Œè€Œæ˜¯å°±åœ¨å½“å‰çš„è¿™ä¸ªæ—¶é—´ä¸åŠ¨äº†ï¼Œè¿™ä¸ªæƒ…å†µå°±å’Œä¸Šé¢çš„æƒ…å†µæœ‰æ‰€å†²çªäº†ï¼ŒåŒæ ·æ˜¯Bdayï¼ˆ0ï¼‰ï¼Œæ—¥æœŸå‰åæ¨ç§»ä¸ä¸€æ ·ã€‚<br>è€Œä¸”è¿™ä¸ªBdayï¼ˆ0ï¼‰åé¢æ¨ç§»çš„å‡ ä¸ªå·¥ä½œæ—¥ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5éƒ½æ˜¯åœ¨å½“å‰æ—¶é—´å¾€å‰æ¨äº†1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ä¸ªå·¥ä½œæ—¥ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—æŒºåˆé€»è¾‘çš„ã€‚<br>ä½†æ˜¯ï¼ï¼ï¼è¿™é‡Œçš„1ï¼šä»£è¡¨çš„å´æ˜¯å€’æ•°ç¬¬äºŒä¸ªå·¥ä½œæ—¥ï¼Œ2:ä»£è¡¨çš„æ˜¯å€’æ•°ç¬¬ä¸‰ä¸ªå·¥ä½œæ—¥ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç°åœ¨è¿™ä¸ªæƒ…å†µå°±åˆå’Œç¬¬ä¸€ä¸ªä»£ç æœ‰ç‚¹å†²çªï¼Œç¬¬ä¸€ä¸ªä»£ç çš„1ï¼šä»£è¡¨çš„æ˜¯å€’æ•°ç¬¬ä¸€ä¸ªå·¥ä½œæ—¥ï¼Œ2ï¼šä»£è¡¨çš„æ˜¯å€’æ•°ç¬¬äºŒä¸ªå·¥ä½œæ—¥</p><p>æ­¤æ—¶å¦‚æœä½ æƒ³ä»–ä»¬å¦‚ä½•æ‰èƒ½ç¬¦åˆ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ç­‰ç­‰ä»–ä»¬çš„é€»è¾‘éƒ½èƒ½ç¬¦åˆï¼Œå€’æ•°1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ç­‰ä¸ªå·¥ä½œæ—¥å‘¢</p><p>æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼š<br>æ€è·¯ï¼šç”±äºå‡ºç°çš„é—®é¢˜åœ¨äºå½“å‰çš„æ—¥æœŸæ—¶å€™æ˜¯å¦æ˜¯å·¥ä½œæ—¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ç›´æ¥é€‰æ‹©åŠ ä¸€å¤©å†å»å‡å·¥ä½œæ—¥ã€‚å› ä¸ºå¦‚æœå½“å‰çš„æ—¥æœŸæ˜¯å·¥ä½œæ—¥ï¼ŒåŠ ä¸€å¤©ä¹‹åï¼Œæ— è®ºè¿™ä¸ªæ—¶é—´æ˜¯å¦æ˜¯å·¥ä½œæ—¥ï¼Œä»–çš„ä¸Šä¸€ä¸ªå·¥ä½œæ—¥ä¸€å®šæ˜¯æœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚å¦‚æœå½“å‰çš„æ—¥æœŸä¸æ˜¯å·¥ä½œæ—¥ï¼ŒåŠ ä¸€å¤©ä¹‹åï¼Œä¹Ÿæ— è®ºä»–æ˜¯å¦æ˜¯å·¥ä½œæ—¥ï¼Œä»–çš„ä¸Šä¸€ä¸ªå·¥ä½œæ—¥ä¹Ÿä¸€å®šæ˜¯æœ€åä¸€ä¸ªå·¥ä½œæ—¥ã€‚å¦‚æœè¿˜æ˜¯ä¸æ‡‚å¯ä»¥æŒ‰ç…§æˆ‘è¯´çš„åˆ†åˆ«å¥—å…¥ç¬¬äºŒå—ä»£ç å’Œç¬¬ä¸€å—ä»£ç ï¼ˆæ­¤å¤„è¯´çš„å½“å‰çš„æ—¥æœŸæ˜¯æœˆæœ«ï¼ŒåŠ ä¸€å¤©ä¹‹åå°±æ˜¯ä¸‹ä¸ªæœˆæœˆåˆäº†ï¼‰ï¼Œæ€»ä¹‹è¿™ä¸ªä»£ç å°±æ˜¯åˆ©ç”¨äº†ç¬¬ä¸€å—ä»£ç çš„1-5ä¸ªå·¥ä½œæ—¥çš„å‡†ç¡®æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">c = a + pd.DateOffset() - pd.offsets.BDay(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment"># 2022-05-31 00:00:00</span></span><br><span class="line">d = a + pd.DateOffset() - pd.offsets.BDay(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment"># 2022-05-30 00:00:00</span></span><br><span class="line">e = a + pd.DateOffset() - pd.offsets.BDay(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(e) <span class="comment"># 2022-05-27 00:00:00</span></span><br><span class="line">f = a + pd.DateOffset() - pd.offsets.BDay(<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(f) <span class="comment"># 2022-05-26 00:00:00</span></span><br><span class="line">g = a + pd.DateOffset() - pd.offsets.BDay(<span class="number">5</span>)</span><br><span class="line"><span class="built_in">print</span>(g) <span class="comment"># 2022-05-25 00:00:00</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥å‘ç°ä»–ç¬¦åˆäº†å€’æ•°1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ç­‰å·¥ä½œæ—¥çš„éœ€æ±‚</p><p>ç›¸åï¼šä»æœˆåˆå¾€åé€‰å–ç¬¬nä¸ªå·¥ä½œæ—¥æ—¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = a - pd.DateOffset() + pd.offsets.Bday(n)</span><br></pre></td></tr></table></figure><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>Bdy()å‡½æ•°ï¼šå½“å½“å‰æ—¶é—´æ˜¯å·¥ä½œæ—¥æ—¶ï¼ŒBdayï¼ˆ0ï¼‰åˆ™æ˜¯å½“å‰æ—¶é—´ï¼Œå½“å½“å‰æ—¶é—´æ˜¯éå·¥ä½œæ—¥æ—¶ï¼ŒBdayï¼ˆ0ï¼‰åˆ™ä¼šè‡ªåŠ¨é€‰æ‹©å½“å‰æ—¶é—´çš„ä¸‹ä¸€ä¸ªå·¥ä½œæ—¥ã€‚å…¶ä»–çš„néƒ½æ˜¯å»ºç«‹åœ¨Bdayï¼ˆ0ï¼‰çš„åŸºç¡€ä¸Šè¿›è¡Œæ¨ç§»nä¸ªå·¥ä½œæ—¥çš„</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dict--å¯¹å­—å…¸è¿›è¡Œæ’åºå¹¶è¿”å›åŸå­—å…¸æ ¼å¼</title>
      <link href="/2022/05/05/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/dict--%E5%AF%B9%E5%AD%97%E5%85%B8%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%8E%9F%E5%AD%97%E5%85%B8%E6%A0%BC%E5%BC%8F/"/>
      <url>/2022/05/05/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/dict--%E5%AF%B9%E5%AD%97%E5%85%B8%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%E5%B9%B6%E8%BF%94%E5%9B%9E%E5%8E%9F%E5%AD%97%E5%85%B8%E6%A0%BC%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>å‰æ®µæ—¶é—´å†™ä»£ç æ€»æ˜¯éœ€è¦ç”¨åˆ°å­—å…¸æ’åºï¼Œä½†è¿”å›å€¼ä¸€èˆ¬éƒ½ä¸ºåˆ—è¡¨ï¼Œå¶å°”çœ‹åˆ°ä¸€ä¸ªè¿”å›å€¼ä¸ºå­—å…¸çš„ï¼Œæ•´ç†ä¸€ä¸‹ï¼Œä¾›æ—¥åä½¿ç”¨æŸ¥çœ‹ã€‚ç›´æ¥æ”¾ä»£ç ï¼š</p></blockquote><h4 id="ç¬¬ä¸€ç§æ–¹æ³•"><a href="#ç¬¬ä¸€ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•"></a>ç¬¬ä¸€ç§æ–¹æ³•</h4><p>æ€è·¯ï¼šitemgetterè·å–å¯¹è±¡æŒ‡å®šåŒºåŸŸçš„å€¼ï¼Œoperator.itemgetter(0)å°±æ˜¯å–çš„itemsè¿”å›çš„å…ƒç»„ä¸­çš„ä¸€ä¸ªä¸­çš„ä¸€ä¸ªå…ƒç´ çš„ç¬¬ä¸€ä¸ªå€¼ï¼Œæ¯”å¦‚(1,2)[0]ã€‚å’Œæ–¹æ³•ä¸‰ä¸€ä¸ªæ„æ€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> operator</span><br><span class="line">dic_instance = &#123;<span class="number">3</span>: <span class="number">1</span>, <span class="number">2</span>: <span class="number">23</span>, <span class="number">1</span>: <span class="number">17</span>&#125;</span><br><span class="line">sort_key_dic_instance = <span class="built_in">dict</span>(<span class="built_in">sorted</span>(dic_instance.items(), key=operator.itemgetter(<span class="number">0</span>)))  <span class="comment">#æŒ‰ç…§keyå€¼å‡åº</span></span><br><span class="line">sort_val_dic_instance = <span class="built_in">dict</span>(<span class="built_in">sorted</span>(dic_instance.items(), key=operator.itemgetter(<span class="number">1</span>)))  <span class="comment">#æŒ‰ç…§valueå€¼å‡åº</span></span><br><span class="line"><span class="built_in">print</span>(sort_key_dic_instance)  <span class="comment"># output:&#123;1: 17, 2: 23, 3: 1&#125;</span></span><br><span class="line"><span class="built_in">print</span>(sort_val_dic_instance)  <span class="comment"># output:&#123;3: 1, 1: 17, 2: 23&#125;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè‹¥æƒ³é™åºè¾“å‡ºåˆ™åœ¨sortedå‡½æ•°ä¸­æ·»åŠ å‚æ•° reverse&#x3D;Trueå³å¯</p><h4 id="ç¬¬äºŒç§æ–¹æ³•"><a href="#ç¬¬äºŒç§æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•"></a>ç¬¬äºŒç§æ–¹æ³•</h4><p>æ€è·¯ï¼šå…ˆå¯¹å­—å…¸çš„å€¼è¿›è¡Œæ’åºï¼Œç„¶åé€šè¿‡å¾ªç¯å†é€šè¿‡æ’åºè¿‡åçš„keyæ¥å–å‡ºå¯¹åº”çš„valueï¼Œå®ç°keyçš„æ’åºï¼Œæœ€ååˆ©ç”¨dictè½¬å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="number">9</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">11</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">13</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],<span class="number">4</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sorted</span>(a.keys())) <span class="comment"># [4, 9, 11, 13]</span></span><br><span class="line"></span><br><span class="line">b = [(i,a[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">sorted</span>(a.keys())]</span><br><span class="line"><span class="built_in">print</span>(b)  <span class="comment"># [(4, [1, 2, 3, 4]), (9, [1, 2, 3, 4]), (11, [1, 2, 3, 4]), (13, [1, 2, 3, 4])]</span></span><br><span class="line"></span><br><span class="line">b = <span class="built_in">dict</span>([(i,a[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">sorted</span>(a.keys())])</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># &#123;4: [1, 2, 3, 4], 9: [1, 2, 3, 4], 11: [1, 2, 3, 4], 13: [1, 2, 3, 4]&#125;</span></span><br></pre></td></tr></table></figure><h4 id="ç¬¬ä¸‰ç§æ–¹æ³•"><a href="#ç¬¬ä¸‰ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸‰ç§æ–¹æ³•"></a>ç¬¬ä¸‰ç§æ–¹æ³•</h4><p>æ€è·¯ï¼šåˆ©ç”¨sortedæ–¹æ³•è¿›è¡Œæ’åºï¼Œå…¶ä¸­a.items()çš„ç»“æœæ˜¯ä¸€ä¸ª(é”®å€¼)å…ƒç»„ï¼šdict_items([(9, 10), (10, 9), (8, 8)])ï¼Œeä»£è¡¨è¿™ä¸ªåˆ—è¡¨é‡Œé¢çš„å…¶ä¸­ä¸€ä¸ªå…ƒç´ æ¯”å¦‚ï¼š(9,10)ï¼Œe[0]ä»£è¡¨keyï¼Œe[1]ä»£è¡¨value</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;<span class="number">9</span>:<span class="number">10</span>,<span class="number">10</span>:<span class="number">9</span>,<span class="number">8</span>:<span class="number">8</span>&#125;</span><br><span class="line">b = <span class="built_in">dict</span>(<span class="built_in">sorted</span>(a.items(),key=<span class="keyword">lambda</span> e:e[<span class="number">0</span>])) <span class="comment"># æŒ‰ç…§keyæ’åº</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># &#123;8: 8, 9: 10, 10: 9&#125;</span></span><br><span class="line"></span><br><span class="line">b = <span class="built_in">dict</span>(<span class="built_in">sorted</span>(d.items(),key=<span class="keyword">lambda</span> e:e[<span class="number">1</span>])) <span class="comment"># æŒ‰ç…§valueæ’åº</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># &#123;8: 8, 10: 9, 9: 10&#125;</span></span><br></pre></td></tr></table></figure><h4 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h4><blockquote><p>itemgetter()å‡½æ•°<br>operatoræ¨¡å—ä¸­çš„itemgetter()å‡½æ•°ï¼Œæ˜¯è·å–å¯¹è±¡æŒ‡å®šåŒºåŸŸä¸­çš„å€¼</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> operator <span class="keyword">import</span> itemgetter</span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">b = itemgetter(<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(b(a)) <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">c = itemgetter(<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(b(c)) <span class="comment"># 2ï¼Œ3ï¼Œ5</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>list--å€’åºå¾ªç¯åˆ—è¡¨</title>
      <link href="/2022/05/02/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/list--%E5%80%92%E5%BA%8F%E5%BE%AA%E7%8E%AF%E5%88%97%E8%A1%A8/"/>
      <url>/2022/05/02/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/list--%E5%80%92%E5%BA%8F%E5%BE%AA%E7%8E%AF%E5%88%97%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ä¸€ã€reversedå€’åºå¾ªç¯åˆ—è¡¨"><a href="#ä¸€ã€reversedå€’åºå¾ªç¯åˆ—è¡¨" class="headerlink" title="ä¸€ã€reversedå€’åºå¾ªç¯åˆ—è¡¨"></a>ä¸€ã€reversedå€’åºå¾ªç¯åˆ—è¡¨</h4><p>reversedæ–¹æ³•æ˜¯å°†åˆ—è¡¨è¿›è¡Œæ‹·è´å€’åºçš„ï¼Œå¹¶ä¸ä¼šå½±å“åŸåˆ—è¡¨ï¼Œç›¸æ¯”ä¹‹ä¸‹ä¼šæ›´è€—å†…å­˜ä¸€ç‚¹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list = [1,2,3,4,5]</span><br><span class="line">for i in reversed(list):</span><br><span class="line">    print(i)</span><br><span class="line"># 5,4,3,2,1</span><br></pre></td></tr></table></figure><h4 id="ä¼˜åŒ–æ–¹æ³•ï¼š"><a href="#ä¼˜åŒ–æ–¹æ³•ï¼š" class="headerlink" title="ä¼˜åŒ–æ–¹æ³•ï¼š"></a>ä¼˜åŒ–æ–¹æ³•ï¼š</h4><blockquote><p>ä»åˆ—è¡¨çš„æœ€åä¸€ä¸ªä¸‹æ ‡å¾€å‰å¾ªç¯ï¼Œæ¯æ¬¡è·¨æ­¥ä¸º-1ï¼ŒçŸ¥é“æ•°ç»„å…ƒç´ ä¸‹æ ‡ä¸º0æ—¶,è¿™æ ·æ›´èŠ‚çº¦å†…å­˜</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for i in range(len(list)-1,-1,-1):</span><br><span class="line">    print(list[i])</span><br><span class="line"># 5,4,3,2,1</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ¤æ–­å½“å‰æ—¥æœŸæ˜¯å‘¨å‡ çš„å‡ ç§æ–¹æ³•</title>
      <link href="/2022/04/26/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E6%98%AF%E5%91%A8%E5%87%A0%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/"/>
      <url>/2022/04/26/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/%E5%88%A4%E6%96%AD%E5%BD%93%E5%89%8D%E6%97%A5%E6%9C%9F%E6%98%AF%E5%91%A8%E5%87%A0%E7%9A%84%E5%87%A0%E7%A7%8D%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h1><ol><li>dayofweek<br>æ­¤æ–¹æ³•å€¼èŒƒå›´ä¸ºï¼š0-6ï¼Œ0å¯¹åº”æ˜ŸæœŸä¸€ï¼Œä»¥æ­¤ç±»æ¨<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = pd.timestamp(&quot;2022-04-26&quot;)</span><br><span class="line">print(a.dayofweek) # 1</span><br></pre></td></tr></table></figure></li><li>day_name<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = pd.timestamp(&quot;2022-04-26&quot;)</span><br><span class="line">print(a.day_name()) # Tuesday ä¸­æ–‡ï¼šæ˜ŸæœŸäºŒ</span><br></pre></td></tr></table></figure><h1 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h1></li><li>weekday()<br>æ­¤æ–¹æ³•å€¼èŒƒå›´ä¸ºï¼š0-6ï¼Œ0å¯¹åº”æ˜ŸæœŸä¸€ï¼Œä»¥æ­¤ç±»æ¨<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = datetime.strptime(&quot;2022-04-26&quot;,&quot;%Y-%m-%d&quot;)</span><br><span class="line">print(b.weekday()) # 1 å¤‡æ³¨ï¼šå½“å¤©æ˜¯å‘¨äºŒ</span><br></pre></td></tr></table></figure></li><li>isoweekday()<br>æ­¤æ–¹æ³•æ•°å€¼èŒƒå›´ï¼š1-7<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = datetime.strptime(&quot;2022-04-26&quot;,&quot;%Y-%m-%d&quot;)</span><br><span class="line">print(b.isoweekday()) # 2 å¤‡æ³¨ï¼šå½“å¤©æ˜¯å‘¨äºŒ</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--æ—¶é—´åºåˆ—</title>
      <link href="/2022/04/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/"/>
      <url>/2022/04/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">start = <span class="string">&quot;2022-04-01&quot;</span></span><br><span class="line">end = <span class="string">&quot;2023-04-01&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤ä»¤æ—¶çš„ä¸€å¤©</span></span><br><span class="line">ts = pd.Timestamp(<span class="string">&quot;2016-10-30 00:00:00&quot;</span>,tz=<span class="string">&#x27;Europe/Helsinki&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(ts) <span class="comment"># 2016-10-30 00:00:00+03:00</span></span><br><span class="line"><span class="comment"># DateOffsetåŠ ä¸€å¤©ï¼Œå¯¹åº”çš„æ˜¯æ—¥å†æ—¶é—´</span></span><br><span class="line">ts = ts+pd.DateOffset(days=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(ts) <span class="comment"># 2016-10-31 00:00:00+02:00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># TimedeltaåŠ ä¸€å¤©ï¼Œå¯¹åº”çš„æ˜¯ç»å¯¹çš„æ—¶é—´</span></span><br><span class="line">ts = pd.Timestamp(<span class="string">&quot;2016-10-30 00:00:00&quot;</span>,tz=<span class="string">&#x27;Europe/Helsinki&#x27;</span>)</span><br><span class="line">ts = ts + pd.Timedelta(days=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(ts) <span class="comment"># 2016-10-30 23:00:00+02:00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># day_name() æ‰“å°æ˜ŸæœŸå‡ </span></span><br><span class="line">firday = pd.Timestamp(<span class="string">&#x27;2018-01-05&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(firday) <span class="comment"># 2018-01-05 00:00:00</span></span><br><span class="line"><span class="built_in">print</span>(firday.day_name()) <span class="comment"># Friday æ˜ŸæœŸäº”</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸¤ä¸ªå·¥ä½œæ—¥ç›¸åŠ </span></span><br><span class="line"><span class="comment"># BDayä»£è¡¨å·¥ä½œæ—¥</span></span><br><span class="line">two_workday = <span class="number">2</span> * pd.offsets.BDay()</span><br><span class="line"><span class="comment"># pd.offsets.BDay() ä¸€ä¸ªå·¥ä½œæ—¥</span></span><br><span class="line"><span class="built_in">print</span>(pd.offsets.BDay()) <span class="comment"># &lt;BusinessDay&gt;</span></span><br><span class="line"><span class="comment"># ä¸¤ä¸ªå·¥ä½œæ—¥</span></span><br><span class="line"><span class="built_in">print</span>(two_workday) <span class="comment"># &lt;2 * BusinessDays&gt;</span></span><br><span class="line"><span class="comment"># å°†firdayæ˜ŸæœŸäº”åŠ ä¸Šä¸¤ä¸ªå·¥ä½œæ—¥ï¼ˆé€šè¿‡è®¡ç®—ï¼ŒæŠ›å»å‘¨å…­æ—¥ï¼Œå†åŠ ä¸¤å¤©å°±æ˜¯2018-01-09ï¼‰</span></span><br><span class="line"><span class="built_in">print</span>(two_workday.apply(firday)) <span class="comment"># 2018-01-09 00:00:00</span></span><br><span class="line"><span class="comment"># å°†firdayæ˜ŸæœŸäº”åŠ ä¸Šä¸¤ä¸ªå·¥ä½œæ—¥ï¼ˆé€šè¿‡è®¡ç®—ï¼ŒæŠ›å»å‘¨å…­æ—¥ï¼Œå†åŠ ä¸¤å¤©å°±æ˜¯2018-01-09ï¼‰ å’Œä¸Šé¢çš„applyå®ç°æ•ˆæœä¸€æ ·</span></span><br><span class="line"><span class="built_in">print</span>(firday + two_workday) <span class="comment"># 2018-01-09 00:00:00</span></span><br><span class="line"><span class="built_in">print</span>((firday + two_workday).day_name()) <span class="comment"># Tuesday æ˜ŸæœŸäºŒ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ—¥æœŸçš„å‘å‰ã€å‘ååç§»ï¼šrollforward()/rollback()</span></span><br><span class="line">ts = pd.Timestamp(<span class="string">&quot;2022-4-21 00:00:00&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(ts.day_name()) <span class="comment"># Thursday æ˜ŸæœŸä¸‰</span></span><br><span class="line"><span class="comment"># å®šä¹‰åç§»é‡ BusinessHour å·¥ä½œå°æ—¶</span></span><br><span class="line">offset = pd.offsets.BusinessHour(start=<span class="string">&quot;09:00&quot;</span>)</span><br><span class="line"><span class="comment"># å‘å‰åç§»ï¼Œä¹Ÿå°±æ˜¯åŠ 9ä¸ªå°æ—¶</span></span><br><span class="line"><span class="built_in">print</span>(offset.rollforward(ts)) <span class="comment"># 2022-04-21 09:00:00</span></span><br><span class="line"><span class="comment"># å‘å‰åç§»ï¼Œä¹Ÿå°±æ˜¯åŠ 9ä¸ªå°æ—¶ï¼ŒåŒæ—¶å°æ—¶ä¹Ÿå¢åŠ äº†</span></span><br><span class="line">ts_end = ts + offset</span><br><span class="line"><span class="built_in">print</span>(ts_end) <span class="comment"># 2022-04-21 10:00:00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># normalize() å‘å°†æ—¶é—´é‡ç½®ä¸º00:00</span></span><br><span class="line">ts_end = ts_end.normalize()</span><br><span class="line"><span class="built_in">print</span>(ts_end) <span class="comment"># 2022-04-21 00:00:00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åç§»é‡å‚æ•°ä¹Ÿæ”¯æŒå‚æ•°</span></span><br><span class="line">d = pd.Timestamp(<span class="number">2022</span>,<span class="number">4</span>,<span class="number">21</span>,<span class="number">11</span>,<span class="number">00</span>)</span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment"># 2022-04-21 11:00:00</span></span><br><span class="line"><span class="built_in">print</span>(d.day_name()) <span class="comment"># Thursday æ˜ŸæœŸå››</span></span><br><span class="line"><span class="comment"># Weekï¼ˆï¼‰ä¸€å‘¨ ä¹Ÿå°±æ˜¯åŠ 7å¤©</span></span><br><span class="line">d_week = d + pd.offsets.Week()</span><br><span class="line"><span class="built_in">print</span>(d_week) <span class="comment"># 2022-04-28 11:00:00</span></span><br><span class="line"><span class="comment"># 0&lt;=day&lt;=6 æŒ‡å®šæ˜ŸæœŸå‡ ï¼Œå…¶ä¸­æ˜ŸæœŸä¸€ä¸º0</span></span><br><span class="line">d_weekday = d + pd.offsets.Week(weekday=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(d_weekday) <span class="comment"># 2022-04-26 11:00:00</span></span><br><span class="line"><span class="built_in">print</span>(d_weekday.weekday()) <span class="comment"># 1</span></span><br><span class="line"><span class="comment"># æ—¥å†çš„å¹´æœ«</span></span><br><span class="line">d_yearend = d + pd.offsets.YearEnd()</span><br><span class="line"><span class="built_in">print</span>(d_yearend) <span class="comment"># 2022-12-31 11:00:00</span></span><br><span class="line"><span class="comment"># æŒ‡å®šæœˆä»½</span></span><br><span class="line">d_yearend = d + pd.offsets.YearEnd(month=<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(d_yearend) <span class="comment"># 2022-06-30 11:00:00</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Series ã€ DatetimeIndexåç§»</span></span><br><span class="line">rng = pd.date_range(<span class="string">&quot;2022-01-01&quot;</span>,<span class="string">&quot;2022-01-03&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(rng) <span class="comment"># DatetimeIndex([&#x27;2022-01-01&#x27;, &#x27;2022-01-02&#x27;, &#x27;2022-01-03&#x27;], dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;D&#x27;)</span></span><br><span class="line">s = pd.Series(rng)</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line"><span class="comment"># 0   2022-01-01</span></span><br><span class="line"><span class="comment"># 1   2022-01-02</span></span><br><span class="line"><span class="comment"># 2   2022-01-03</span></span><br><span class="line"><span class="comment"># dtype: datetime64[ns]</span></span><br><span class="line">rng_months = rng + pd.DateOffset(months=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(rng_months) <span class="comment"># DatetimeIndex([&#x27;2022-03-01&#x27;, &#x27;2022-03-02&#x27;, &#x27;2022-03-03&#x27;], dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;D&#x27;)</span></span><br><span class="line">s_months = s + pd.DateOffset(months=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(s_months)</span><br><span class="line"><span class="comment"># 0   2022-03-01</span></span><br><span class="line"><span class="comment"># 1   2022-03-02</span></span><br><span class="line"><span class="comment"># 2   2022-03-03</span></span><br><span class="line"><span class="comment"># dtype: datetime64[ns]</span></span><br><span class="line">rng_day = rng - pd.offsets.Day(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(rng_day) <span class="comment"># DatetimeIndex([&#x27;2021-12-30&#x27;, &#x27;2021-12-31&#x27;, &#x27;2022-01-01&#x27;], dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;D&#x27;)</span></span><br><span class="line">s_day = s - pd.Series(pd.date_range(<span class="string">&quot;2022-02-15&quot;</span>,<span class="string">&quot;2022-02-17&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(s_day)</span><br><span class="line"><span class="comment"># 0   -45 days</span></span><br><span class="line"><span class="comment"># 1   -45 days</span></span><br><span class="line"><span class="comment"># 2   -45 days</span></span><br><span class="line"><span class="comment"># dtype: timedelta64[ns]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åç§»é‡åˆ«å</span></span><br><span class="line"><span class="comment"># B è¡¨ç¤ºå·¥ä½œæ—¥é¢‘ç‡ periods æ ‡è¯†ä¸€å…±å¤šå°‘ä¸ªæ•°</span></span><br><span class="line">bm = pd.date_range(<span class="string">&quot;2022-04-21&quot;</span>,periods=<span class="number">10</span>, freq = <span class="string">&#x27;B&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(bm)</span><br><span class="line"><span class="comment"># DatetimeIndex([&#x27;2022-04-21&#x27;, &#x27;2022-04-22&#x27;, &#x27;2022-04-25&#x27;, &#x27;2022-04-26&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-27&#x27;, &#x27;2022-04-28&#x27;, &#x27;2022-04-29&#x27;, &#x27;2022-05-02&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-05-03&#x27;, &#x27;2022-05-04&#x27;],</span></span><br><span class="line"><span class="comment">#               dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;B&#x27;)</span></span><br><span class="line">dm_day = pd.date_range(<span class="string">&quot;2022-04-21&quot;</span>,periods=<span class="number">5</span>,freq=pd.offsets.BDay())</span><br><span class="line"><span class="built_in">print</span>(dm_day)</span><br><span class="line"><span class="comment"># DatetimeIndex([&#x27;2022-04-21&#x27;, &#x27;2022-04-22&#x27;, &#x27;2022-04-25&#x27;, &#x27;2022-04-26&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-27&#x27;],</span></span><br><span class="line"><span class="comment">#               dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;B&#x27;)</span></span><br><span class="line">dm_hM = pd.date_range(<span class="string">&quot;2022-04-21&quot;</span>,periods=<span class="number">10</span>,freq=<span class="string">&quot;2h20min&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dm_hM)</span><br><span class="line"><span class="comment"># DatetimeIndex([&#x27;2022-04-21 00:00:00&#x27;, &#x27;2022-04-21 02:20:00&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-21 04:40:00&#x27;, &#x27;2022-04-21 07:00:00&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-21 09:20:00&#x27;, &#x27;2022-04-21 11:40:00&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-21 14:00:00&#x27;, &#x27;2022-04-21 16:20:00&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-21 18:40:00&#x27;, &#x27;2022-04-21 21:00:00&#x27;],</span></span><br><span class="line"><span class="comment">#               dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;140T&#x27;)</span></span><br><span class="line">dm_DU = pd.date_range(<span class="string">&quot;2022-04-21&quot;</span>,periods=<span class="number">10</span>,freq=<span class="string">&quot;1D10U&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dm_DU)</span><br><span class="line"><span class="comment"># DatetimeIndex([       &#x27;2022-04-21 00:00:00&#x27;, &#x27;2022-04-22 00:00:00.000010&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-23 00:00:00.000020&#x27;, &#x27;2022-04-24 00:00:00.000030&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-25 00:00:00.000040&#x27;, &#x27;2022-04-26 00:00:00.000050&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-27 00:00:00.000060&#x27;, &#x27;2022-04-28 00:00:00.000070&#x27;,</span></span><br><span class="line"><span class="comment">#                &#x27;2022-04-29 00:00:00.000080&#x27;, &#x27;2022-04-30 00:00:00.000090&#x27;],</span></span><br><span class="line"><span class="comment">#               dtype=&#x27;datetime64[ns]&#x27;, freq=&#x27;86400000010U&#x27;)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>datetime.dateç±»å‹  åŠ å‡  Timestampç±»å‹æ—¶æŠ¥é”™</title>
      <link href="/2022/04/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/datetime.date%E7%B1%BB%E5%9E%8B%20%20%E5%8A%A0%E5%87%8F%20%20Timestamp%E7%B1%BB%E5%9E%8B%E6%97%B6%E6%8A%A5%E9%94%99/"/>
      <url>/2022/04/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/datetime.date%E7%B1%BB%E5%9E%8B%20%20%E5%8A%A0%E5%87%8F%20%20Timestamp%E7%B1%BB%E5%9E%8B%E6%97%B6%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>â€˜datetime.dateâ€™æ˜¯datetimeçš„ä¸€ç§æ—¶é—´æ ¼å¼ï¼›<br>â€˜Timestampâ€™ï¼ˆæ³¨æ„æ˜¯å¤§å†™çš„å­—æ¯ï¼‰æ˜¯Pandasçš„ä¸€ç§æ—¶é—´æ ¼å¼ã€‚<br>è¿™ä¸¤ä¸ªè™½ç„¶éƒ½æ˜¯éƒ½è¡¨ç¤ºæ—¶é—´ï¼Œä½†æ˜¯ç›´æ¥ç›¸åŠ å‡ï¼Œä¼šæŠ¥é”™unsupported operand type(s) for -: â€˜datetime.dateâ€™ and â€˜Timestampâ€™ã€‚</p></blockquote><p>åŒæ—¶ï¼Œä¹Ÿåº”è¯¥æ³¨æ„åˆ°ï¼Œå¦‚æœæ˜¯â€™datetime.datetimeâ€™ä¸Pandasçš„â€™Timestampâ€™ç›¸åŠ å‡ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚</p><h3 id="é”™è¯¯å¤ç°"><a href="#é”™è¯¯å¤ç°" class="headerlink" title="é”™è¯¯å¤ç°"></a>é”™è¯¯å¤ç°</h3><p>ä¸‹é¢æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„ä»£ç ï¼Œä½¿è¿™ä¸ªé”™è¯¯å¤ç°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dt.date.today() - (pd.Timestamp(dt.date.today()))</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç»“æœå°±ä¼šå‡ºç°ä»¥ä¸‹ç»“æœ<br>TypeError: unsupported operand type(s) for -: â€˜datetime.dateâ€™ and â€˜Timestampâ€™</p><hr><h1 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h1><ol><li><p>&#x3D;&#x3D;å°†â€™datetime.dateâ€™è½¬æ¢æˆpandasçš„â€™Timestampâ€™&#x3D;&#x3D;<br>ä½¿ç”¨pd.Timestamp(dt.date.today())å°±å¯ä»¥å®Œæˆ</p></li><li><p>&#x3D;&#x3D;å°†â€™datetime.dateâ€™è½¬æ¢æˆâ€™datetime.datetimeâ€™ä¹Ÿå¯ä»¥å®Œæˆ&#x3D;&#x3D;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import datetime as dt</span><br><span class="line">today_d = dt.date.today()</span><br><span class="line">today_dt = dt.datetime.combine(today,dt.time())</span><br></pre></td></tr></table></figure></li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitä¸Šä¼ ----åŒä¸€ä¸ªgité¡¹ç›®æ‰‹åŠ¨ä¸Šä¼ è‡³giteeå’ŒGitHubä¿å­˜</title>
      <link href="/2022/04/20/git/git%E4%B8%8A%E4%BC%A0----%E5%90%8C%E4%B8%80%E4%B8%AAgit%E9%A1%B9%E7%9B%AE%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0%E8%87%B3gitee%E5%92%8CGitHub%E4%BF%9D%E5%AD%98/"/>
      <url>/2022/04/20/git/git%E4%B8%8A%E4%BC%A0----%E5%90%8C%E4%B8%80%E4%B8%AAgit%E9%A1%B9%E7%9B%AE%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0%E8%87%B3gitee%E5%92%8CGitHub%E4%BF%9D%E5%AD%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>æˆ‘åŸæ¥æ˜¯åœ¨githubä¸Šä¼ çš„ï¼Œä½†æ˜¯ç”±äºGitHubç½‘é€Ÿå¤ªæ…¢ç»å¸¸è®¿é—®ä¸äº†ï¼Œæ‰€ä»¥æˆ‘å†³å®šå°è¯•åœ¨giteeä¸Šå­˜æ”¾ï¼Œæ–¹ä¾¿è®¿é—®ä¸äº†çš„æ—¶å€™ä¹Ÿæœ‰åœ°æ–¹å­˜å‚¨ä»£ç ï¼Œè¿™æ ·æ‰‹åŠ¨åŒæ—¶ä¿å­˜åœ¨GitHubå’Œgitee</p></blockquote><ol><li><p>å› ä¸ºæˆ‘çš„æœ¬åœ°æœ‰ä¸Šæ¬¡æäº¤çš„ä»£ç ï¼Œæ‰€ä»¥æˆ‘å°±ç›´æ¥åˆ é™¤äº†githubçš„originè¿œç¨‹ä»“åº“æ ‡è¯†</p><p> git remote rm origin</p></li><li><p>æŸ¥çœ‹æœ¬åœ°çš„è¿œç¨‹ä»“åº“æ ‡è¯†</p><p> git remote</p></li><li><p>æ·»åŠ å¤šä¸ªè¿œç¨‹ä»“åº“</p><p> git remote add github <a href="mailto:&#x67;&#105;&#116;&#64;&#x67;&#x69;&#x74;&#x68;&#117;&#98;&#46;&#99;&#x6f;&#109;">&#x67;&#105;&#116;&#64;&#x67;&#x69;&#x74;&#x68;&#117;&#98;&#46;&#99;&#x6f;&#109;</a>:zhangsan&#x2F;project_test.git<br> git remote add gitee <a href="mailto:&#103;&#x69;&#x74;&#64;&#103;&#105;&#116;&#101;&#x65;&#x2e;&#x63;&#x6f;&#109;">&#103;&#x69;&#x74;&#64;&#103;&#105;&#116;&#101;&#x65;&#x2e;&#x63;&#x6f;&#109;</a>:zhangsan&#x2F;project_test.git</p></li><li><p>æŸ¥çœ‹æœ¬åœ°çš„è¿œç¨‹ä»“åº“</p><p> git remote -v</p></li><li><p>å¾€åä¿®æ”¹çš„æ–‡ä»¶å°±å¯ä»¥</p><p> git add â€œâ€<br> git commit -m â€œâ€<br> git push github master<br> git push gitee master</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitåˆ†æ”¯----githubå°†é»˜è®¤mainåˆ†æ”¯æ”¹ä¸ºmaster</title>
      <link href="/2022/04/20/git/git%E5%88%86%E6%94%AF----github%E5%B0%86%E9%BB%98%E8%AE%A4main%E5%88%86%E6%94%AF%E6%94%B9%E4%B8%BAmaster/"/>
      <url>/2022/04/20/git/git%E5%88%86%E6%94%AF----github%E5%B0%86%E9%BB%98%E8%AE%A4main%E5%88%86%E6%94%AF%E6%94%B9%E4%B8%BAmaster/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>   æˆ‘çš„githubä¸Šç›®å‰å·²ç»å­˜åœ¨äº†mainï¼ˆmainä¸ºé»˜è®¤çš„åˆ†æ”¯ï¼‰å’Œmasteråˆ†æ”¯ï¼Œè€Œä¸”ä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚æˆ‘æœ¬åœ°åªæœ‰mainåˆ†æ”¯ï¼Œæ­¤æ—¶æˆ‘æƒ³å°†çº¿ä¸Šçš„masteråˆ†æ”¯æ”¹ä¸ºé»˜è®¤åˆ†æ”¯ï¼Œè¿™æ ·ä»¥åæ‹‰ä»£ç çš„æ—¶å€™å°±æ–¹ä¾¿äº†</p></blockquote><p><img src="https://s1.ax1x.com/2022/04/20/LrPCR0.png" alt="LrPCR0.png"></p><p><img src="https://s1.ax1x.com/2022/04/20/LrP3LD.png" alt="LrP3LD.png"></p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gité…ç½®----gité…ç½®å¤šä¸ªé‚®ç®±çš„sshå¯†é’¥</title>
      <link href="/2022/04/20/git/git%E9%85%8D%E7%BD%AE----git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E9%82%AE%E7%AE%B1%E7%9A%84ssh%E5%AF%86%E9%92%A5/"/>
      <url>/2022/04/20/git/git%E9%85%8D%E7%BD%AE----git%E9%85%8D%E7%BD%AE%E5%A4%9A%E4%B8%AA%E9%82%AE%E7%AE%B1%E7%9A%84ssh%E5%AF%86%E9%92%A5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="å¦‚æœæœ‰å¤šä¸ªé‚®ç®±éœ€è¦ä½¿ç”¨sshå¯†é’¥ï¼Œè®©æ¯ä¸€ä¸ªé‚®ç®±ä¹Ÿéƒ½æœ‰å¯¹åº”çš„sshç§˜é’¥"><a href="#å¦‚æœæœ‰å¤šä¸ªé‚®ç®±éœ€è¦ä½¿ç”¨sshå¯†é’¥ï¼Œè®©æ¯ä¸€ä¸ªé‚®ç®±ä¹Ÿéƒ½æœ‰å¯¹åº”çš„sshç§˜é’¥" class="headerlink" title="å¦‚æœæœ‰å¤šä¸ªé‚®ç®±éœ€è¦ä½¿ç”¨sshå¯†é’¥ï¼Œè®©æ¯ä¸€ä¸ªé‚®ç®±ä¹Ÿéƒ½æœ‰å¯¹åº”çš„sshç§˜é’¥"></a>å¦‚æœæœ‰å¤šä¸ªé‚®ç®±éœ€è¦ä½¿ç”¨sshå¯†é’¥ï¼Œè®©æ¯ä¸€ä¸ªé‚®ç®±ä¹Ÿéƒ½æœ‰å¯¹åº”çš„sshç§˜é’¥</h4><p>åœ¨.sshæ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶configï¼Œæ ¹æ®è‡ªå·±çš„éœ€æ±‚é…ç½®å¯¹åº”çš„ç½‘ç«™å’Œå¯†é’¥<br>å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># github server</span><br><span class="line">Host github.com</span><br><span class="line">RSAAuthentication yes</span><br><span class="line">IdentityFile ~/.ssh/github1</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"># gitlab server</span><br><span class="line">Host gitlab.com</span><br><span class="line">RSAAuthentication yes</span><br><span class="line">IdentityFile ~/.ssh/id_rsa</span><br></pre></td></tr></table></figure><h4 id="éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ"><a href="#éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ" class="headerlink" title="éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ"></a>éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ</h4><p>ssh -T <a href="mailto:&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#x63;&#111;&#x6d;">&#103;&#105;&#116;&#64;&#103;&#x69;&#116;&#x68;&#x75;&#x62;&#x2e;&#x63;&#111;&#x6d;</a> </p><blockquote><p>Hi haiwang! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--åˆ›å»ºã€åˆ‡ç‰‡ã€å±æ€§ã€æ“ä½œç¬¦ã€è¿ç®—ç¬¦ã€ç´¢å¼•ã€å¸ƒå°”å±è”½ã€ç¼ºçœå‚æ•°</title>
      <link href="/2022/04/19/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E5%88%9B%E5%BB%BA%E3%80%81%E5%88%87%E7%89%87%E3%80%81%E5%B1%9E%E6%80%A7%E3%80%81%E6%93%8D%E4%BD%9C%E7%AC%A6%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%B8%83%E5%B0%94%E5%B1%8F%E8%94%BD%E3%80%81%E7%BC%BA%E7%9C%81%E5%8F%82%E6%95%B0/"/>
      <url>/2022/04/19/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E5%88%9B%E5%BB%BA%E3%80%81%E5%88%87%E7%89%87%E3%80%81%E5%B1%9E%E6%80%A7%E3%80%81%E6%93%8D%E4%BD%9C%E7%AC%A6%E3%80%81%E8%BF%90%E7%AE%97%E7%AC%A6%E3%80%81%E7%B4%A2%E5%BC%95%E3%80%81%E5%B8%83%E5%B0%94%E5%B1%8F%E8%94%BD%E3%80%81%E7%BC%BA%E7%9C%81%E5%8F%82%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># arrayåˆ›å»º</span></span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line">b = np.array((<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">c = np.arange(<span class="number">5</span>)</span><br><span class="line">d = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># [0 1 2 3 4]</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># [0 1 2 3 4]</span></span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment"># [0 1 2 3 4]</span></span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment"># [0.         1.57079633 3.14159265 4.71238898 6.28318531]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">3</span>]) <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå‡½æ•°</span></span><br><span class="line">a = np.zeros((<span class="number">2</span>,<span class="number">2</span>)) <span class="comment"># åˆ›å»ºä¸€ä¸ªæ‰€æœ‰ä¸º0çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">print</span>(a)            <span class="comment"># [[0. 0.] [0. 0.]]</span></span><br><span class="line"></span><br><span class="line">b = np.ones((<span class="number">1</span>,<span class="number">2</span>)) <span class="comment"># åˆ›å»ºæ‰€æœ‰ä¸º1çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">print</span>(b)           <span class="comment"># [[1. 1.]]</span></span><br><span class="line"></span><br><span class="line">c = np.full((<span class="number">2</span>,<span class="number">2</span>),<span class="number">7</span>) <span class="comment"># åˆ›å»ºä¸€ä¸ªå¸¸é‡æ•°ç»„</span></span><br><span class="line"><span class="built_in">print</span>(c)             <span class="comment"># [[7 7] [7 7]]</span></span><br><span class="line"></span><br><span class="line">d = np.eye(<span class="number">2</span>) <span class="comment"># åˆ›å»ºä¸€ä¸ª2x2å•ä½çŸ©é˜µ</span></span><br><span class="line"><span class="built_in">print</span>(d)      <span class="comment"># [[1. 0.] [0. 1.]]</span></span><br><span class="line"></span><br><span class="line">e = np.random.random((<span class="number">2</span>,<span class="number">2</span>)) <span class="comment"># åˆ›å»ºä¸€ä¸ªåŒ…å«éšæœºå€¼çš„æ•°ç»„</span></span><br><span class="line"><span class="built_in">print</span>(e)                    <span class="comment"># [[0.02358394 0.05292655] [0.21802958 0.79153307]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ‡ç‰‡</span></span><br><span class="line">a = np.array([[<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">              [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">              [<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>],</span><br><span class="line">              [<span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span> ,<span class="number">29</span>, <span class="number">30</span>],</span><br><span class="line">              [<span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>]])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">2</span>,<span class="number">4</span>]) <span class="comment"># 25</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">0</span>,<span class="number">1</span>:<span class="number">4</span>]) <span class="comment"># [12 13 14]</span></span><br><span class="line"><span class="built_in">print</span>(a[<span class="number">1</span>:<span class="number">4</span>,<span class="number">0</span>]) <span class="comment"># [16 21 26]</span></span><br><span class="line"><span class="built_in">print</span>(a[:,<span class="number">1</span>]) <span class="comment"># [12 17 22 27 32]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å±æ€§</span></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"><span class="built_in">print</span>(a[:]) <span class="comment"># [1, 2, 3, 4, 5, 6, 7]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = np.array([[<span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>],</span><br><span class="line">              [<span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>],</span><br><span class="line">              [<span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>],</span><br><span class="line">              [<span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span> ,<span class="number">29</span>, <span class="number">30</span>],</span><br><span class="line">              [<span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>, <span class="number">35</span>]])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a)) <span class="comment"># &lt;class &#x27;numpy.ndarray&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(a.dtype) <span class="comment"># int32</span></span><br><span class="line"><span class="built_in">print</span>(a.size) <span class="comment"># 25</span></span><br><span class="line"><span class="built_in">print</span>(a.shape) <span class="comment"># (5,5) # itemsizeå±æ€§æ˜¯æ¯ä¸ªé¡¹å ç”¨çš„å­—èŠ‚æ•°ã€‚è¿™ä¸ªæ•°ç»„çš„æ•°æ®ç±»å‹æ˜¯int 32ï¼Œä¸€ä¸ªint 32ä¸­æœ‰32ä½ï¼Œä¸€ä¸ªå­—èŠ‚ä¸­æœ‰8ä½ï¼Œé™¤ä»¥32é™¤ä»¥8ï¼Œä½ å°±å¯ä»¥å¾—åˆ°å®ƒå ç”¨äº†å¤šå°‘å­—èŠ‚ï¼Œåœ¨æœ¬ä¾‹ä¸­æ˜¯4ã€‚</span></span><br><span class="line"><span class="built_in">print</span>(a.itemsize) <span class="comment"># 4</span></span><br><span class="line"><span class="built_in">print</span>(a.ndim) <span class="comment"># 2 # ndim å±æ€§æ˜¯æ•°ç»„çš„ç»´æ•°ã€‚è¿™ä¸ªæœ‰2ä¸ªã€‚</span></span><br><span class="line"><span class="built_in">print</span>(a.nbytes) <span class="comment"># 100  nbytes å±æ€§æ˜¯æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°æ®æ¶ˆè€—æ‰çš„å­—èŠ‚æ•°ã€‚ä½ åº”è¯¥æ³¨æ„åˆ°ï¼Œè¿™å¹¶ä¸è®¡ç®—æ•°ç»„çš„å¼€é”€ï¼Œå› æ­¤æ•°ç»„å ç”¨çš„å®é™…ç©ºé—´å°†ç¨å¾®å¤§ä¸€ç‚¹</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ“ä½œç¬¦</span></span><br><span class="line">a = np.arange(<span class="number">25</span>)</span><br><span class="line">a = a.reshape((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line">b = np.array([<span class="number">10</span>, <span class="number">62</span>, <span class="number">1</span>, <span class="number">14</span>, <span class="number">2</span>, <span class="number">56</span>, <span class="number">79</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">45</span>,</span><br><span class="line">              <span class="number">4</span>, <span class="number">92</span>, <span class="number">5</span>, <span class="number">55</span>, <span class="number">63</span>, <span class="number">43</span>, <span class="number">35</span>, <span class="number">6</span>, <span class="number">53</span>, <span class="number">24</span>,</span><br><span class="line">              <span class="number">56</span>, <span class="number">3</span>, <span class="number">56</span>, <span class="number">44</span>, <span class="number">78</span>])</span><br><span class="line">b = b.reshape((<span class="number">5</span>,<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># [[ 0  1  2  3  4]</span></span><br><span class="line">         <span class="comment"># [ 5  6  7  8  9]</span></span><br><span class="line">         <span class="comment"># [10 11 12 13 14]</span></span><br><span class="line">         <span class="comment"># [15 16 17 18 19]</span></span><br><span class="line">         <span class="comment"># [20 21 22 23 24]]</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># [[10 62  1 14  2]</span></span><br><span class="line">         <span class="comment"># [56 79  2  1 45]</span></span><br><span class="line">         <span class="comment"># [ 4 92  5 55 63]</span></span><br><span class="line">         <span class="comment"># [43 35  6 53 24]</span></span><br><span class="line">         <span class="comment"># [56  3 56 44 78]]</span></span><br><span class="line"><span class="built_in">print</span>(a + b) <span class="comment"># [[ 10  63   3  17   6]</span></span><br><span class="line">             <span class="comment"># [ 61  85   9   9  54]</span></span><br><span class="line">             <span class="comment"># [ 14 103  17  68  77]</span></span><br><span class="line">             <span class="comment"># [ 58  51  23  71  43]</span></span><br><span class="line">             <span class="comment"># [ 76  24  78  67 102]]</span></span><br><span class="line"><span class="built_in">print</span>(a - b)</span><br><span class="line"><span class="built_in">print</span>(a * b)</span><br><span class="line"><span class="built_in">print</span>(a / b)</span><br><span class="line"><span class="built_in">print</span>(a ** <span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(a &lt; b) <span class="comment"># è¿”å›å¸ƒå°”ç±»å‹</span></span><br><span class="line"><span class="built_in">print</span>(a &gt; b) <span class="comment"># è¿”å›å¸ƒå°”ç±»å‹ # [[False False  True False  True]</span></span><br><span class="line">                         <span class="comment"># [False False  True  True False]</span></span><br><span class="line">                         <span class="comment"># [ True False  True False False]</span></span><br><span class="line">                         <span class="comment"># [False False  True False False]</span></span><br><span class="line">                         <span class="comment"># [False  True False False False]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a.dot(b)) <span class="comment"># dot()å‡½æ•°è®¡ç®—ä¸¤ä¸ªæ•°ç»„çš„ç‚¹ç§¯ã€‚å®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªæ ‡é‡ï¼ˆåªæœ‰å¤§å°æ²¡æœ‰æ–¹å‘çš„ä¸€ä¸ªå€¼ï¼‰è€Œä¸æ˜¯æ•°ç»„ã€‚</span></span><br><span class="line">                <span class="comment"># [[ 417  380  254  446  555]</span></span><br><span class="line">                <span class="comment"># [1262 1735  604 1281 1615]</span></span><br><span class="line">                <span class="comment"># [2107 3090  954 2116 2675]</span></span><br><span class="line">                <span class="comment"># [2952 4445 1304 2951 3735]</span></span><br><span class="line">                <span class="comment"># [3797 5800 1654 3786 4795]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿ç®—ç¬¦</span></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># [0 1 2 3 4 5 6 7 8 9]</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">sum</span>()) <span class="comment"># 45</span></span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">min</span>(a))</span><br><span class="line"><span class="built_in">print</span>(np.<span class="built_in">max</span>(a))</span><br><span class="line"><span class="comment"># cumsum()å‡½æ•°ï¼šé¦–å…ˆå°†ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬äºŒä¸ªå…ƒç´ ç›¸åŠ ï¼Œå¹¶è®¡ç®—ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªç»“æœåˆ—è¡¨ä¸­ï¼Œç„¶åå°†è¯¥ç»“æœä¸ç¬¬ä¸‰ä¸ªå…ƒç´ ç›¸åŠ ï¼Œç„¶åå†å°†è¯¥ç»“æœå­˜å‚¨åœ¨ä¸€ä¸ªç»“æœåˆ—è¡¨ä¸­ã€‚è¿™å°†å¯¹æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ æ‰§è¡Œæ­¤æ“ä½œï¼Œå¹¶è¿”å›è¿™ä¸ªç»“æœåˆ—è¡¨</span></span><br><span class="line"><span class="built_in">print</span>(a.cumsum()) <span class="comment"># [ 0  1  3  6 10 15 21 28 36 45]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç´¢å¼•</span></span><br><span class="line"><span class="comment"># èŠ±å¼ç´¢å¼• æ˜¯è·å–æ•°ç»„ä¸­æˆ‘ä»¬æƒ³è¦çš„ç‰¹å®šå…ƒç´ çš„æœ‰æ•ˆæ–¹æ³•</span></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line">indices = [<span class="number">1</span>,<span class="number">5</span>,-<span class="number">1</span>]</span><br><span class="line">b = a[indices]</span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># [ 0 10 20 30 40 50 60 70 80 90]</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># [10 50 90]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¸ƒå°”å±è”½</span></span><br><span class="line"><span class="comment"># å¸ƒå°”å±è”½æ˜¯ä¸€ä¸ªæœ‰ç”¨çš„åŠŸèƒ½ï¼Œå®ƒå…è®¸æˆ‘ä»¬æ ¹æ®æˆ‘ä»¬æŒ‡å®šçš„æ¡ä»¶æ£€ç´¢æ•°ç»„ä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">a = np.linspace(<span class="number">0</span>,<span class="number">2</span>*np.pi,<span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">b = np.sin(a)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line">plt.plot(a,b)</span><br><span class="line">mask = b &gt;= <span class="number">0</span></span><br><span class="line">plt.plot(a[mask],b[mask],<span class="string">&#x27;bo&#x27;</span>)</span><br><span class="line">mask = (b &gt;= <span class="number">0</span>) &amp; (a &lt;= np.pi / <span class="number">2</span>)</span><br><span class="line">plt.plot(a[mask],b[mask],<span class="string">&#x27;go&#x27;</span>)</span><br><span class="line"><span class="comment"># plt.show()</span></span><br><span class="line"><span class="comment"># ä¸Šé¢çš„ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•è¿›è¡Œå¸ƒå°”å±è”½ã€‚ä½ æ‰€è¦åšçš„å°±æ˜¯å°†æ•°ç»„ä¼ é€’ç»™æ¶‰åŠæ•°ç»„çš„æ¡ä»¶ï¼Œå®ƒå°†ä¸ºä½ æä¾›ä¸€ä¸ªå€¼çš„æ•°ç»„ï¼Œä¸ºè¯¥æ¡ä»¶è¿”å›true</span></span><br><span class="line"><span class="comment"># æˆ‘ä»¬åˆ©ç”¨è¿™äº›æ¡ä»¶æ¥é€‰æ‹©å›¾ä¸Šçš„ä¸åŒç‚¹ã€‚è“è‰²ç‚¹(åœ¨å›¾ä¸­è¿˜åŒ…æ‹¬ç»¿ç‚¹ï¼Œä½†ç»¿ç‚¹æ©ç›–äº†è“è‰²ç‚¹)ï¼Œæ˜¾ç¤ºå€¼å¤§äº0çš„æ‰€æœ‰ç‚¹ã€‚ç»¿è‰²ç‚¹è¡¨ç¤ºå€¼å¤§äº0ä¸”å°äºä¸€åŠÏ€çš„æ‰€æœ‰ç‚¹ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¼ºçœå‚æ•°</span></span><br><span class="line"><span class="comment"># ä¸å®Œå…¨ç´¢å¼•æ˜¯ä»å¤šç»´æ•°ç»„çš„ç¬¬ä¸€ä¸ªç»´åº¦è·å–ç´¢å¼•æˆ–åˆ‡ç‰‡çš„ä¸€ç§æ–¹ä¾¿æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ•°ç»„a=[1,2,3,4,5],[6,7,8,9,10]ï¼Œé‚£ä¹ˆ[3]å°†åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªç»´åº¦ä¸­ç»™å‡ºç´¢å¼•ä¸º3çš„å…ƒç´ ï¼Œè¿™é‡Œæ˜¯å€¼4</span></span><br><span class="line">a = np.arange(<span class="number">0</span>,<span class="number">100</span>,<span class="number">10</span>)</span><br><span class="line">b = a[:<span class="number">5</span>]</span><br><span class="line">c = a[a&gt;=<span class="number">50</span>]</span><br><span class="line"><span class="built_in">print</span>(a) <span class="comment"># [ 0 10 20 30 40 50 60 70 80 90]</span></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment"># [ 0 10 20 30 40]</span></span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment"># [50 60 70 80 90]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>configparser</title>
      <link href="/2022/04/19/Python/%E6%A8%A1%E5%9D%97/configparser/configparser/"/>
      <url>/2022/04/19/Python/%E6%A8%A1%E5%9D%97/configparser/configparser/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>é…ç½®æ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line">host = 127.0.0.1</span><br><span class="line">port = 3306</span><br><span class="line">user = root</span><br><span class="line">password = 123</span><br></pre></td></tr></table></figure><p>åº”ç”¨ï¼š<br>æ³¨ï¼šåœ¨è¿›è¡Œä¿®æ”¹åˆ é™¤æ“ä½œæ—¶ï¼Œéƒ½éœ€è¦é‡æ–°å†™å…¥æ–‡ä»¶</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> configparser</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">conf = configparser.ConfigParser()</span><br><span class="line">conf.read(<span class="string">&quot;config.ini&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–é…ç½®æ–‡ä»¶æ‰€æœ‰çš„æ ‡é¢˜</span></span><br><span class="line">sections = conf.sections()</span><br><span class="line"><span class="built_in">print</span>(sections) <span class="comment"># [&#x27;mysql&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä»¥mysqlä¸ºæ ‡é¢˜çš„å†…å®¹</span></span><br><span class="line">options = conf.options(<span class="string">&quot;mysql&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(options) <span class="comment"># [&#x27;host&#x27;, &#x27;port&#x27;, &#x27;user&#x27;, &#x27;password&#x27;]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä»¥mysqlä¸ºæ ‡é¢˜çš„é”®å€¼å¯¹å†…å®¹</span></span><br><span class="line">items = conf.items(<span class="string">&#x27;mysql&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(items) <span class="comment"># [(&#x27;host&#x27;, &#x27;127.0.0.1&#x27;), (&#x27;port&#x27;, &#x27;3306&#x27;), (&#x27;user&#x27;, &#x27;root&#x27;), (&#x27;password&#x27;, &#x27;123&#x27;)]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ä»¥mysqlä¸ºæ ‡é¢˜çš„keyä¸ºhostçš„å†…å®¹</span></span><br><span class="line">value = conf.get(<span class="string">&quot;mysql&quot;</span>,<span class="string">&quot;host&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(value) <span class="comment"># 127.0.0.1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ ‡é¢˜æˆ–å†…å®¹æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="comment"># æ ‡é¢˜</span></span><br><span class="line">result = conf.has_section(<span class="string">&quot;mysql&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># True</span></span><br><span class="line"><span class="comment"># å†…å®¹</span></span><br><span class="line">result = conf.has_option(<span class="string">&quot;mysql&quot;</span>,<span class="string">&quot;port&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æ ‡é¢˜</span></span><br><span class="line"><span class="comment"># å¦‚æœä¸å­˜åœ¨åˆ™æ·»åŠ æ ‡é¢˜</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> conf.has_section(<span class="string">&quot;mysql1&quot;</span>):</span><br><span class="line">    conf.add_section(<span class="string">&quot;mysql1&quot;</span>)</span><br><span class="line"><span class="comment"># set ç»™mysqlä¸ºæ ‡é¢˜çš„æ·»åŠ å†…å®¹</span></span><br><span class="line">conf.<span class="built_in">set</span>(<span class="string">&#x27;mysql1&#x27;</span>,<span class="string">&#x27;host&#x27;</span>,<span class="string">&#x27;localhost&#x27;</span>)</span><br><span class="line">conf.<span class="built_in">set</span>(<span class="string">&#x27;mysql1&#x27;</span>,<span class="string">&#x27;port&#x27;</span>,<span class="string">&#x27;3306&#x27;</span>)</span><br><span class="line">conf.<span class="built_in">set</span>(<span class="string">&#x27;mysql1&#x27;</span>,<span class="string">&#x27;user&#x27;</span>,<span class="string">&#x27;root&#x27;</span>)</span><br><span class="line">conf.<span class="built_in">set</span>(<span class="string">&#x27;mysql1&#x27;</span>,<span class="string">&#x27;password&#x27;</span>,<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line"><span class="comment"># å°†æ·»åŠ çš„æ ‡é¢˜å’Œå†…å®¹å†™å…¥é…ç½®æ–‡ä»¶</span></span><br><span class="line">conf.write(<span class="built_in">open</span>(<span class="string">&quot;config.ini&quot;</span>,<span class="string">&#x27;w&#x27;</span>))</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä»¥mysql1ä¸ºæ ‡é¢˜çš„é”®å€¼å¯¹å†…å®¹</span></span><br><span class="line">mysql1 = conf.items(<span class="string">&#x27;mysql1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(mysql1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹æŒ‡å®šçš„å†…å®¹</span></span><br><span class="line">conf.<span class="built_in">set</span>(<span class="string">&quot;mysql1&quot;</span>,<span class="string">&quot;port&quot;</span>,<span class="string">&quot;8080&quot;</span>)</span><br><span class="line">conf.write(<span class="built_in">open</span>(<span class="string">&quot;config.ini&quot;</span>,<span class="string">&quot;w&quot;</span>))</span><br><span class="line"><span class="comment"># æŸ¥çœ‹ä»¥mysql1ä¸ºæ ‡é¢˜çš„é”®å€¼å¯¹å†…å®¹</span></span><br><span class="line">mysql1 = conf.items(<span class="string">&#x27;mysql1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(mysql1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ é™¤æ ‡é¢˜æˆ–å†…å®¹</span></span><br><span class="line"><span class="comment"># æ ‡é¢˜</span></span><br><span class="line">conf.remove_section(<span class="string">&quot;mysql1&quot;</span>)</span><br><span class="line"><span class="comment"># å†…å®¹</span></span><br><span class="line"><span class="comment"># conf.remove_option(&quot;mysql1&quot;,&quot;port&quot;)</span></span><br><span class="line">conf.write(<span class="built_in">open</span>(<span class="string">&quot;config.ini&quot;</span>,<span class="string">&quot;w&quot;</span>))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-configparser </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--fillnaï¼ˆï¼‰å¡«å……ç¼ºå¤±å€¼NAã€NaN</title>
      <link href="/2022/04/18/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--fillna%EF%BC%88%EF%BC%89%E5%A1%AB%E5%85%85%E7%BC%BA%E5%A4%B1%E5%80%BCNA%E3%80%81NaN/"/>
      <url>/2022/04/18/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--fillna%EF%BC%88%EF%BC%89%E5%A1%AB%E5%85%85%E7%BC%BA%E5%A4%B1%E5%80%BCNA%E3%80%81NaN/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>df &#x3D; df.fillna(â€œThisIsNULLâ€)<br>print(df)</p><p><img src="https://s1.ax1x.com/2022/04/18/LdH0oj.png" alt="LdH0oj.png"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">25</span>,dtype=<span class="built_in">float</span>).reshape(<span class="number">5</span>,<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># [[ 0.  1.  2.  3.  4.]</span></span><br><span class="line"><span class="comment">#  [ 5.  6.  7.  8.  9.]</span></span><br><span class="line"><span class="comment">#  [10. 11. 12. 13. 14.]</span></span><br><span class="line"><span class="comment">#  [15. 16. 17. 18. 19.]</span></span><br><span class="line"><span class="comment">#  [20. 21. 22. 23. 24.]]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(a))</span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)):</span><br><span class="line">    a[i, :i] = np.nan</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># [[ 0.  1.  2.  3.  4.]</span></span><br><span class="line"><span class="comment">#  [nan  6.  7.  8.  9.]</span></span><br><span class="line"><span class="comment">#  [nan nan 12. 13. 14.]</span></span><br><span class="line"><span class="comment">#  [nan nan nan 18. 19.]</span></span><br><span class="line"><span class="comment">#  [nan nan nan nan 24.]]</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">3</span>,<span class="number">0</span>] = <span class="number">25.0</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># [[ 0.  1.  2.  3.  4.]</span></span><br><span class="line"><span class="comment">#  [nan  6.  7.  8.  9.]</span></span><br><span class="line"><span class="comment">#  [nan nan 12. 13. 14.]</span></span><br><span class="line"><span class="comment">#  [25. nan nan 18. 19.]</span></span><br><span class="line"><span class="comment">#  [nan nan nan nan 24.]]</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(a,columns=<span class="built_in">list</span>(<span class="string">&quot;ABCDE&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#       A    B     C     D     E</span></span><br><span class="line"><span class="comment"># 0   0.0  1.0   2.0   3.0   4.0</span></span><br><span class="line"><span class="comment"># 1   NaN  6.0   7.0   8.0   9.0</span></span><br><span class="line"><span class="comment"># 2   NaN  NaN  12.0  13.0  14.0</span></span><br><span class="line"><span class="comment"># 3  25.0  NaN   NaN  18.0  19.0</span></span><br><span class="line"><span class="comment"># 4   NaN  NaN   NaN   NaN  24.0</span></span><br><span class="line"></span><br><span class="line">df = df.fillna(<span class="string">&quot;ThisIsNULL&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="comment">#             A           B           C           D     E</span></span><br><span class="line"><span class="comment"># 0           0           1           2           3   4.0</span></span><br><span class="line"><span class="comment"># 1  ThisIsNULL           6           7           8   9.0</span></span><br><span class="line"><span class="comment"># 2  ThisIsNULL  ThisIsNULL          12          13  14.0</span></span><br><span class="line"><span class="comment"># 3          25  ThisIsNULL  ThisIsNULL          18  19.0</span></span><br><span class="line"><span class="comment"># 4  ThisIsNULL  ThisIsNULL  ThisIsNULL  ThisIsNULL  24.0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pathlibæœ€æ–°æ“ä½œè·¯å¾„æ¨¡å—</title>
      <link href="/2022/04/18/Python/%E6%A8%A1%E5%9D%97/pathlib/Pathlib%E6%9C%80%E6%96%B0%E6%93%8D%E4%BD%9C%E8%B7%AF%E5%BE%84%E6%A8%A1%E5%9D%97/"/>
      <url>/2022/04/18/Python/%E6%A8%A1%E5%9D%97/pathlib/Pathlib%E6%9C%80%E6%96%B0%E6%93%8D%E4%BD%9C%E8%B7%AF%E5%BE%84%E6%A8%A1%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>&#96;&#96;&#96;python<br>from pathlib import Path</p><h1 id="è·å–å½“å‰å·¥ä½œç›®å½•"><a href="#è·å–å½“å‰å·¥ä½œç›®å½•" class="headerlink" title="è·å–å½“å‰å·¥ä½œç›®å½•"></a>è·å–å½“å‰å·¥ä½œç›®å½•</h1><p>directory &#x3D; Path.cwd()<br>print(directory)    # C:\Users\hwang\Desktop\project<br>print(type(directory))      # &lt;class â€˜pathlib.WindowsPathâ€™&gt; å¯ä»¥åŒstr()è½¬åŒ–</p><h1 id="è·å–è¿™ä¸ªæ–‡ä»¶è·¯å¾„ä¸­ç›¸å¯¹åº”çš„homeç›®å½•"><a href="#è·å–è¿™ä¸ªæ–‡ä»¶è·¯å¾„ä¸­ç›¸å¯¹åº”çš„homeç›®å½•" class="headerlink" title="è·å–è¿™ä¸ªæ–‡ä»¶è·¯å¾„ä¸­ç›¸å¯¹åº”çš„homeç›®å½•"></a>è·å–è¿™ä¸ªæ–‡ä»¶è·¯å¾„ä¸­ç›¸å¯¹åº”çš„homeç›®å½•</h1><p>home_dir &#x3D; Path.home()<br>print(home_dir)     # C:\Users\hwang</p><h1 id="è·å–å½“å‰æ–‡ä»¶è·¯å¾„"><a href="#è·å–å½“å‰æ–‡ä»¶è·¯å¾„" class="headerlink" title="è·å–å½“å‰æ–‡ä»¶è·¯å¾„"></a>è·å–å½“å‰æ–‡ä»¶è·¯å¾„</h1><p>path_dir &#x3D; Path(<strong>file</strong>)<br>print(path_dir)     # C:\Users\hwang\Desktop\project\pathlib_test.py</p><h1 id="å¦‚æœæ­¤æ—¶æ˜¯åœ¨cmdä¸‹æ‰§è¡Œï¼šæ‰§è¡Œç»“æœpathlib-test-py-å¦‚æœæƒ³è¦ä¸€æ ·çš„ç»“æœï¼Œå³ç»å¯¹è·¯å¾„"><a href="#å¦‚æœæ­¤æ—¶æ˜¯åœ¨cmdä¸‹æ‰§è¡Œï¼šæ‰§è¡Œç»“æœpathlib-test-py-å¦‚æœæƒ³è¦ä¸€æ ·çš„ç»“æœï¼Œå³ç»å¯¹è·¯å¾„" class="headerlink" title="å¦‚æœæ­¤æ—¶æ˜¯åœ¨cmdä¸‹æ‰§è¡Œï¼šæ‰§è¡Œç»“æœpathlib_test.py å¦‚æœæƒ³è¦ä¸€æ ·çš„ç»“æœï¼Œå³ç»å¯¹è·¯å¾„"></a>å¦‚æœæ­¤æ—¶æ˜¯åœ¨cmdä¸‹æ‰§è¡Œï¼šæ‰§è¡Œç»“æœpathlib_test.py å¦‚æœæƒ³è¦ä¸€æ ·çš„ç»“æœï¼Œå³ç»å¯¹è·¯å¾„</h1><p>path_dir &#x3D; Path(<strong>file</strong>).resolve()<br>print(path_dir)     # C:\Users\hwang\Desktop\project\pathlib_test.py</p><h1 id="è·å–ç»å¯¹è·¯å¾„"><a href="#è·å–ç»å¯¹è·¯å¾„" class="headerlink" title="è·å–ç»å¯¹è·¯å¾„"></a>è·å–ç»å¯¹è·¯å¾„</h1><p>absolute_path &#x3D; Path(<strong>file</strong>).resolve()<br>print(absolute_path)    # C:\Users\hwang\Desktop\project\pathlib_test.py</p><h1 id="è·å–æ–‡ä»¶å±æ€§"><a href="#è·å–æ–‡ä»¶å±æ€§" class="headerlink" title="è·å–æ–‡ä»¶å±æ€§"></a>è·å–æ–‡ä»¶å±æ€§</h1><p>file_attribute &#x3D; Path(<strong>file</strong>)<br>print(file_attribute.stat())      # os.stat_result(st_mode&#x3D;33206, st_ino&#x3D;1970324837814490, st_dev&#x3D;2477322209, st_nlink&#x3D;1, st_uid&#x3D;0, st_gid&#x3D;0, st_size&#x3D;1173, st_atime&#x3D;1650251522, st_mtime&#x3D;1650251507, st_ctime&#x3D;1650249658)<br>print(file_attribute.stat().st_size)    # 1173</p><h1 id="è·¯å¾„ç»„æˆéƒ¨åˆ†"><a href="#è·¯å¾„ç»„æˆéƒ¨åˆ†" class="headerlink" title="è·¯å¾„ç»„æˆéƒ¨åˆ†"></a>è·¯å¾„ç»„æˆéƒ¨åˆ†</h1><p>path_constitute &#x3D; Path(<strong>file</strong>)<br>print(path_constitute.name)     # æ–‡ä»¶å pathlib_test.py<br>print(path_constitute.stem)     # å»æ‰åç¼€çš„æ–‡ä»¶å pathlib_test<br>print(path_constitute.suffix)       # æ–‡ä»¶ååç¼€ .py<br>print(path_constitute.parent)       # çˆ¶çº§ç›®å½• C:\Users\hwang\Desktop\project<br>print(path_constitute.anchor)       # è·¯å¾„æœ€å¼€å¤´çš„ç›®å½• C:\</p><h1 id="è·å–ä¸Šä¸€çº§ç›®å½•"><a href="#è·å–ä¸Šä¸€çº§ç›®å½•" class="headerlink" title="è·å–ä¸Šä¸€çº§ç›®å½•"></a>è·å–ä¸Šä¸€çº§ç›®å½•</h1><p>up_one_level &#x3D; Path(<strong>file</strong>).parent<br>print(up_one_level) # C:\Users\hwang\Desktop\project<br>print(up_one_level.parent) # C:\Users\hwang\Desktop<br>print(up_one_level.parent.parent) # C:\Users\hwang</p><h1 id="è·å–æ‰€æœ‰ä¸Šä¸€çº§ç›®å½•"><a href="#è·å–æ‰€æœ‰ä¸Šä¸€çº§ç›®å½•" class="headerlink" title="è·å–æ‰€æœ‰ä¸Šä¸€çº§ç›®å½•"></a>è·å–æ‰€æœ‰ä¸Šä¸€çº§ç›®å½•</h1><p>all_up_one_level &#x3D; Path(<strong>file</strong>).parents<br>print(all_up_one_level)     # &lt;WindowsPath.parents&gt; ä½¿ç”¨listè½¬åŒ–<br>print(list(all_up_one_level))   # [WindowsPath(â€˜C:&#x2F;Users&#x2F;hwang&#x2F;Desktop&#x2F;projectâ€™), WindowsPath(â€˜C:&#x2F;Users&#x2F;hwang&#x2F;Desktopâ€™), WindowsPath(â€˜C:&#x2F;Users&#x2F;hwangâ€™), WindowsPath(â€˜C:&#x2F;Usersâ€™), WindowsPath(â€˜C:&#x2F;â€˜)]</p><h1 id="è·å–çˆ¶çº§ç›®å½•"><a href="#è·å–çˆ¶çº§ç›®å½•" class="headerlink" title="è·å–çˆ¶çº§ç›®å½•"></a>è·å–çˆ¶çº§ç›®å½•</h1><p>parent_directory &#x3D; Path(<strong>file</strong>).parents[0]<br>print(parent_directory) # C:\Users\hwang\Desktop\project</p><h1 id="è·å–æŸä¸ª-ç›®å½•-ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼ˆæ–‡ä»¶å’Œç›®å½•ï¼‰ï¼Œè¿”å›ç»å¯¹è·¯å¾„"><a href="#è·å–æŸä¸ª-ç›®å½•-ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼ˆæ–‡ä»¶å’Œç›®å½•ï¼‰ï¼Œè¿”å›ç»å¯¹è·¯å¾„" class="headerlink" title="è·å–æŸä¸ª ç›®å½• ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼ˆæ–‡ä»¶å’Œç›®å½•ï¼‰ï¼Œè¿”å›ç»å¯¹è·¯å¾„"></a>è·å–æŸä¸ª ç›®å½• ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼ˆæ–‡ä»¶å’Œç›®å½•ï¼‰ï¼Œè¿”å›ç»å¯¹è·¯å¾„</h1><p>all_path &#x3D; Path.cwd().iterdir()<br>for i in all_path:<br>    print(i)</p><h1 id="C-Users-hwang-Desktop-project-idea"><a href="#C-Users-hwang-Desktop-project-idea" class="headerlink" title="C:\Users\hwang\Desktop\project.idea"></a>C:\Users\hwang\Desktop\project.idea</h1><h1 id="C-Users-hwang-Desktop-project-main-py"><a href="#C-Users-hwang-Desktop-project-main-py" class="headerlink" title="C:\Users\hwang\Desktop\project\main.py"></a>C:\Users\hwang\Desktop\project\main.py</h1><h1 id="C-Users-hwang-Desktop-project-pathlib-test-py"><a href="#C-Users-hwang-Desktop-project-pathlib-test-py" class="headerlink" title="C:\Users\hwang\Desktop\project\pathlib_test.py"></a>C:\Users\hwang\Desktop\project\pathlib_test.py</h1><h1 id="è·¯å¾„æ‹¼æ¥"><a href="#è·¯å¾„æ‹¼æ¥" class="headerlink" title="è·¯å¾„æ‹¼æ¥"></a>è·¯å¾„æ‹¼æ¥</h1><p>path_join &#x3D; Path(<strong>file</strong>).joinpath(â€œ123â€,â€456â€)<br>print(path_join) # C:\Users\hwang\Desktop\project\pathlib_test.py\123\456</p><h1 id="åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Ÿæ˜¯å¦æ˜¯ç›®å½•ï¼Ÿæ˜¯å¦æ˜¯æ–‡ä»¶ï¼Ÿ"><a href="#åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Ÿæ˜¯å¦æ˜¯ç›®å½•ï¼Ÿæ˜¯å¦æ˜¯æ–‡ä»¶ï¼Ÿ" class="headerlink" title="åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Ÿæ˜¯å¦æ˜¯ç›®å½•ï¼Ÿæ˜¯å¦æ˜¯æ–‡ä»¶ï¼Ÿ"></a>åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼Ÿæ˜¯å¦æ˜¯ç›®å½•ï¼Ÿæ˜¯å¦æ˜¯æ–‡ä»¶ï¼Ÿ</h1><h1 id="å­˜åœ¨"><a href="#å­˜åœ¨" class="headerlink" title="å­˜åœ¨"></a>å­˜åœ¨</h1><p>there &#x3D; Path(â€œ&#x2F;awdâ€).exists()<br>print(there) # False</p><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><p>directory &#x3D; Path(<strong>file</strong>).is_dir()<br>print(directory) # False</p><h1 id="æ–‡ä»¶"><a href="#æ–‡ä»¶" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h1><p>file &#x3D; Path(<strong>file</strong>).is_file()<br>print(file) # True</p><h1 id="åˆ›å»ºç›®å½•ã€æ–‡ä»¶"><a href="#åˆ›å»ºç›®å½•ã€æ–‡ä»¶" class="headerlink" title="åˆ›å»ºç›®å½•ã€æ–‡ä»¶"></a>åˆ›å»ºç›®å½•ã€æ–‡ä»¶</h1><h1 id="ç›®å½•-è®¾ç½®parents-x3D-Trueå¯åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œé»˜è®¤ä¸ºfalse"><a href="#ç›®å½•-è®¾ç½®parents-x3D-Trueå¯åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œé»˜è®¤ä¸ºfalse" class="headerlink" title="ç›®å½•    è®¾ç½®parents&#x3D;Trueå¯åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œé»˜è®¤ä¸ºfalse"></a>ç›®å½•    è®¾ç½®parents&#x3D;Trueå¯åŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•ï¼Œé»˜è®¤ä¸ºfalse</h1><p>directory &#x3D; Path(â€œHelloâ€).mkdir()<br>print(directory) # None</p><h1 id="æ–‡ä»¶-1"><a href="#æ–‡ä»¶-1" class="headerlink" title="æ–‡ä»¶"></a>æ–‡ä»¶</h1><p>file &#x3D; Path(â€œhello.txtâ€).touch()<br>print(file) # None</p><h1 id="åˆ é™¤ç›®å½•"><a href="#åˆ é™¤ç›®å½•" class="headerlink" title="åˆ é™¤ç›®å½•"></a>åˆ é™¤ç›®å½•</h1><p>del_directory &#x3D; Path(â€œHelloâ€).rmdir()<br>print(del_directory) # None</p><h1 id="åˆ é™¤æ–‡ä»¶"><a href="#åˆ é™¤æ–‡ä»¶" class="headerlink" title="åˆ é™¤æ–‡ä»¶"></a>åˆ é™¤æ–‡ä»¶</h1><p>del_file &#x3D; Path(â€œhello.txtâ€).unlink()<br>print(del_file) # None</p><h1 id="ç§»åŠ¨æ–‡ä»¶-å¹¶é‡å‘½å"><a href="#ç§»åŠ¨æ–‡ä»¶-å¹¶é‡å‘½å" class="headerlink" title="ç§»åŠ¨æ–‡ä»¶  å¹¶é‡å‘½å"></a>ç§»åŠ¨æ–‡ä»¶  å¹¶é‡å‘½å</h1><p>move_file &#x3D; Path(â€œhello.txtâ€).replace(â€œhello&#x2F;hello_test.txtâ€)<br>print(move_file) # None</p><h1 id="é‡å‘½åæ–‡ä»¶"><a href="#é‡å‘½åæ–‡ä»¶" class="headerlink" title="é‡å‘½åæ–‡ä»¶"></a>é‡å‘½åæ–‡ä»¶</h1><p>file &#x3D; Path(â€œhello&#x2F;hello_test.txtâ€)<br>new_filename &#x3D; file.with_name(â€œhello.txtâ€)<br>file.replace(new_filename)</p><h1 id="ä¿®æ”¹åç¼€å"><a href="#ä¿®æ”¹åç¼€å" class="headerlink" title="ä¿®æ”¹åç¼€å"></a>ä¿®æ”¹åç¼€å</h1><p>file &#x3D; Path(â€œhello&#x2F;hello.txtâ€)<br>new_file &#x3D; file.with_suffix(â€œ.jsonâ€)<br>file.replace(new_file)sonâ€)<br>file.replace(new_file)</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-pathlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨PycharmåŒæ­¥æœåŠ¡å™¨çš„ä»£ç åˆ°æœ¬åœ°</title>
      <link href="/2022/04/15/Python/%E4%BD%BF%E7%94%A8Pycharm%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E5%88%B0%E6%9C%AC%E5%9C%B0/"/>
      <url>/2022/04/15/Python/%E4%BD%BF%E7%94%A8Pycharm%E5%90%8C%E6%AD%A5%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E4%BB%A3%E7%A0%81%E5%88%B0%E6%9C%AC%E5%9C%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>åœºæ™¯ï¼šå°†gitlabä¸Šçš„ä»£ç æ‹‰å–åˆ°æœåŠ¡å™¨ä¸‹è¿è¡Œï¼Œä½†åˆæƒ³å°†ä»£ç æ‹‰å–åˆ°æœ¬åœ°å¼€å‘ï¼Œè®©æœ¬åœ°æ›´æ”¹å®Œä»£ç ä¹‹ååŒæ­¥æ›´æ–°è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„ä»£ç ï¼ˆæ­¤æ—¶çš„æœåŠ¡å™¨å’Œæœ¬åœ°éƒ½å¯ä»¥æ‹‰å»ä»£ç ï¼‰</p></blockquote><p><strong>æ€è·¯</strong>ï¼šå…ˆgit cloneä¸‹æ¥åˆ°æœ¬åœ°ï¼Œç„¶åpycharmæ‰“å¼€æ­¤æ–‡ä»¶å¤¹ï¼Œåˆ©ç”¨pycharméƒ¨ç½²ä»£ç åˆ°æœåŠ¡å™¨ï¼Œåœ¨é…ç½®éƒ¨ç½²æ—¶å…ˆåœ¨æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨é…ç½®å®Œä¹‹åï¼Œä¸Šä¼ åˆ°æ­¤æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶é…ç½®æœ‰ä»»ä½•ä¿®æ”¹éƒ½ä¼šåŒæ­¥åˆ°æœåŠ¡å™¨ä¸‹</p><ol><li><p>æ‹‰å–æŒ‡å®šåˆ†æ”¯çš„ä»£ç <br>git clone -b æŒ‡å®šåˆ†æ”¯å â€œé¡¹ç›®é“¾æ¥â€</p></li><li><p>ç”¨pycharmæ‰“å¼€æ­¤æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æœåŠ¡å™¨åˆ›å»ºä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹</p></li><li><p>ä¾æ¬¡ç‚¹å‡»Toolsâ€”-&gt; Deployment â€”-&gt; Configurationâ€¦<br><img src="https://s1.ax1x.com/2022/04/15/L3cEUx.png" alt="L3cEUx.png"></p></li><li><p>ä¾æ¬¡ç‚¹å‡» â€œ+â€ â€”-&gt; SFTP<br><img src="https://s1.ax1x.com/2022/04/15/L3cdMQ.png" alt="L3cdMQ.png"></p></li><li><p>æŒ‰ç…§æ­¥éª¤å¡«å†™ä»¥ä¸‹å†…å®¹ï¼Œç”¨äºè¿æ¥æœåŠ¡å™¨çš„é…ç½®<br><img src="https://s1.ax1x.com/2022/04/15/L3gPW8.png" alt="L3gPW8.png"><br><img src="https://s1.ax1x.com/2022/04/15/L3gqkq.png" alt="L3gqkq.png"></p></li><li><p>é…ç½®æœ¬åœ°ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ˜ å°„ç›®å½•<br><img src="https://s1.ax1x.com/2022/04/15/L32qDH.png" alt="L32qDH.png"></p></li><li><p>æŒ‰ç…§æ­¥éª¤ç‚¹å‡»<br><img src="https://s1.ax1x.com/2022/04/15/L3Rn2T.png" alt="L3Rn2T.png"></p></li><li><p>é…ç½®æœ¬åœ°ä»£ç ä¸æœåŠ¡å™¨ä»£ç å®æ—¶åŒæ­¥<br><img src="https://s1.ax1x.com/2022/04/15/L3W2kR.png" alt="L3W2kR.png"></p></li><li><p>ä¸Šä¼ æœ¬åœ°çš„ä»£ç åˆ°æœåŠ¡å™¨<br><img src="https://s1.ax1x.com/2022/04/15/L3hXy8.png" alt="L3hXy8.png"></p></li><li><p>æ­¤æ—¶åœ¨æœ¬åœ°ä¿®æ”¹å®Œä½ çš„ä»£ç ï¼ŒCtrl+sä¹‹åï¼Œä»£ç å°±åŒæ­¥æ›´æ–°åˆ°æœåŠ¡å™¨äº†</p></li></ol><h3 id="äºŒã€éƒ¨ç½²å®Œå‘ç°æ— æ³•è‡ªåŠ¨æ›´æ–°"><a href="#äºŒã€éƒ¨ç½²å®Œå‘ç°æ— æ³•è‡ªåŠ¨æ›´æ–°" class="headerlink" title="äºŒã€éƒ¨ç½²å®Œå‘ç°æ— æ³•è‡ªåŠ¨æ›´æ–°"></a>äºŒã€éƒ¨ç½²å®Œå‘ç°æ— æ³•è‡ªåŠ¨æ›´æ–°</h3><p>pycharm è¿æ¥è¿œç¨‹åº“å·²okï¼Œä½†æ˜¯æ€»æ˜¯æ— æ³•è‡ªåŠ¨ä¸Šä¼ ä»£ç ã€‚å¹¶ä¸”åœ¨Tools-&gt; Deployment -&gt; Options é€‰é¡¹ä¸­å‡ºç°Default server or group of server is not configured. Nothing would be uploaded automatically è¿™å¥è¯çš„æ„æ€å°±æ˜¯ï¼Œå› ä¸ºæ²¡æœ‰é…ç½®é»˜è®¤çš„è¿æ¥æœåŠ¡å™¨ï¼Œæ‰€ä»¥æ— æ³•è‡ªåŠ¨ä¸Šä¼ ä»£ç ã€æƒŠï¼ï¼pycharmç«Ÿç„¶è¿™ä¹ˆè ¢ï¼Ÿï¼Ÿï¼Ÿæ˜æ˜å·²ç»è¿åˆ°æŒ‡å®šçš„æœåŠ¡å™¨äº†ï¼Œä½ è¿˜è·Ÿæˆ‘è¯´éœ€è¦æŒ‡å®šï¼Ÿï¼Ÿã€‘</p><p><strong>åŸå› ï¼š</strong><br><img src="https://s1.ax1x.com/2022/05/17/O4ySaQ.png" alt="O4ySaQ.png"></p><p><strong>è§£å†³ï¼š</strong><br>è¿›å…¥Tools-&gt;Deployment -&gt; Configurationsï¼Œé€‰ä¸­ä¸€ä¸ªdeploymentï¼Œç„¶åè®¾ç½®ä¸ºé»˜è®¤ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œã€âœ…å°±æ˜¯ç”¨äºè®¾ç½®é»˜è®¤çš„serverã€‘ï¼š<br><img src="https://s1.ax1x.com/2022/05/17/O4ydJA.png" alt="O4ydJA.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¸¸ç”¨å‘½ä»¤</title>
      <link href="/2022/04/14/git/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/04/14/git/git%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ç”Ÿæˆssh"><a href="#ç”Ÿæˆssh" class="headerlink" title="ç”Ÿæˆssh"></a>ç”Ÿæˆssh</h4><p>ssh-keygen -t rsa -C â€œ<a href="mailto:&#120;&#120;&#120;&#x78;&#x78;&#x40;&#x78;&#x78;&#x78;&#x78;&#x78;&#x2e;&#x63;&#x6f;&#x6d;">&#120;&#120;&#120;&#x78;&#x78;&#x40;&#x78;&#x78;&#x78;&#x78;&#x78;&#x2e;&#x63;&#x6f;&#x6d;</a>â€ï¼ˆè¿ç»­ä¸‰æ¬¡å›è½¦ï¼‰</p><h4 id="éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ"><a href="#éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ" class="headerlink" title="éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ"></a>éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ</h4><p>ssh -T <a href="mailto:&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#104;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;">&#103;&#105;&#116;&#64;&#x67;&#105;&#116;&#104;&#x75;&#98;&#46;&#x63;&#x6f;&#x6d;</a></p><blockquote><p>Hi haiwang! Youâ€™ve successfully authenticated, but GitHub does not provide shell access.</p></blockquote><h4 id="å¦‚æœéªŒè¯è¿‡ç¨‹ç°å®22ç«¯å£è¿æ¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤"><a href="#å¦‚æœéªŒè¯è¿‡ç¨‹ç°å®22ç«¯å£è¿æ¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤" class="headerlink" title="å¦‚æœéªŒè¯è¿‡ç¨‹ç°å®22ç«¯å£è¿æ¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤"></a>å¦‚æœéªŒè¯è¿‡ç¨‹ç°å®22ç«¯å£è¿æ¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‘½ä»¤</h4><blockquote><p>ssh -T -p 443 <a href="mailto:&#x67;&#x69;&#116;&#64;&#x73;&#x73;&#x68;&#x2e;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#99;&#111;&#x6d;">&#x67;&#x69;&#116;&#64;&#x73;&#x73;&#x68;&#x2e;&#103;&#x69;&#116;&#104;&#x75;&#x62;&#x2e;&#99;&#111;&#x6d;</a></p></blockquote><h4 id="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯"><a href="#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯"></a>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯å’Œæœ¬åœ°åˆ†æ”¯</h4><p>git branch -a<br><img src="https://s1.ax1x.com/2022/04/15/L3uNcj.png" alt="L3uNcj.png"></p><h4 id="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"><a href="#æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯"></a>æŸ¥çœ‹è¿œç¨‹åˆ†æ”¯</h4><p>git branch -r<br><img src="https://s1.ax1x.com/2022/04/15/L3uwBq.png" alt="L3uwBq.png"></p><h4 id="åŒæ­¥è¿œç¨‹åˆ†æ”¯"><a href="#åŒæ­¥è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åŒæ­¥è¿œç¨‹åˆ†æ”¯"></a>åŒæ­¥è¿œç¨‹åˆ†æ”¯</h4><p>git fetch<br>åŒæ­¥è¿œç¨‹æŒ‡å®šåˆ†æ”¯ï¼šgit fetch origin æŒ‡å®šåˆ†æ”¯</p><pre><code>æ³¨æ„ï¼šï¼ˆä¹Ÿå°±æ˜¯æœ¬åœ°å¯èƒ½åªæœ‰masteråˆ†æ”¯ï¼Œä½†æ˜¯åŒæ­¥ä¹‹åå°±å¯ä»¥å°†è¿œç¨‹çš„æ‰€æœ‰åˆ†æ”¯éƒ½æ‹‰å–åˆ°æœ¬åœ°äº†ï¼‰</code></pre><h4 id="æ‹‰å–æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å¹¶åœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”çš„åˆ†æ”¯"><a href="#æ‹‰å–æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å¹¶åœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”çš„åˆ†æ”¯" class="headerlink" title="æ‹‰å–æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å¹¶åœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”çš„åˆ†æ”¯"></a>æ‹‰å–æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å¹¶åœ¨æœ¬åœ°åˆ›å»ºå¯¹åº”çš„åˆ†æ”¯</h4><p>git checkout -b æœ¬åœ°åˆ†æ”¯ origin&#x2F;è¿œç¨‹åˆ†æ”¯å<br>åˆ†æ”¯æ›´æ–°åç»§ç»­åŒæ­¥ï¼šgit pull origin æŒ‡å®šåˆ†æ”¯å</p><h4 id="åˆ›å»ºåˆ†æ”¯"><a href="#åˆ›å»ºåˆ†æ”¯" class="headerlink" title="åˆ›å»ºåˆ†æ”¯"></a>åˆ›å»ºåˆ†æ”¯</h4><p>git checkout -b åˆ†æ”¯å</p><h4 id="æäº¤åˆ†æ”¯åˆ°çº¿ä¸Š"><a href="#æäº¤åˆ†æ”¯åˆ°çº¿ä¸Š" class="headerlink" title="æäº¤åˆ†æ”¯åˆ°çº¿ä¸Š"></a>æäº¤åˆ†æ”¯åˆ°çº¿ä¸Š</h4><p>git add .<br>git commit -m â€œâ€<br>git push origin æ–°çš„åˆ†æ”¯å</p><h4 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h4><p>git merge master(åˆå¹¶masterçš„åˆ†æ”¯åˆ°å½“å‰æ‰€åœ¨åˆ†æ”¯)</p><h4 id="æ’¤é”€åˆå¹¶"><a href="#æ’¤é”€åˆå¹¶" class="headerlink" title="æ’¤é”€åˆå¹¶"></a>æ’¤é”€åˆå¹¶</h4><p>å¦‚æœä½ è§‰å¾—ä½ åˆå¹¶åçš„çŠ¶æ€æ˜¯ä¸€å›¢ä¹±éº»ï¼Œæƒ³æŠŠå½“å‰çš„ä¿®æ”¹éƒ½æ”¾å¼ƒï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤å›åˆ°åˆå¹¶ä¹‹å‰çš„çŠ¶æ€ï¼š<br>git reset â€“hard HEAD</p><h4 id="åˆ é™¤æœ¬åœ°åˆ†æ”¯"><a href="#åˆ é™¤æœ¬åœ°åˆ†æ”¯" class="headerlink" title="åˆ é™¤æœ¬åœ°åˆ†æ”¯"></a>åˆ é™¤æœ¬åœ°åˆ†æ”¯</h4><pre><code>æ³¨æ„ï¼šæ“ä½œæ­¤å‘½ä»¤æ—¶ï¼Œä¸èƒ½åœ¨æ­¤åˆ†æ”¯ä¸‹ï¼Œå¦åˆ™æŠ¥é”™</code></pre><p>git branch -d æœ¬åœ°åˆ†æ”¯</p><h4 id="å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯"><a href="#å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯" class="headerlink" title="å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯"></a>å¼ºåˆ¶åˆ é™¤æœ¬åœ°åˆ†æ”¯</h4><p>git branch -D æœ¬åœ°åˆ†æ”¯</p><h4 id="åˆ é™¤è¿œç¨‹åˆ†æ”¯"><a href="#åˆ é™¤è¿œç¨‹åˆ†æ”¯" class="headerlink" title="åˆ é™¤è¿œç¨‹åˆ†æ”¯"></a>åˆ é™¤è¿œç¨‹åˆ†æ”¯</h4><p>git push origin -d è¿œç¨‹åˆ†æ”¯</p><h4 id="git-addæŒ‡å®šæ–‡ä»¶"><a href="#git-addæŒ‡å®šæ–‡ä»¶" class="headerlink" title="git addæŒ‡å®šæ–‡ä»¶"></a>git addæŒ‡å®šæ–‡ä»¶</h4><p>git add æ–‡ä»¶å</p><h4 id="å°†git-add-å’Œ-git-commit-åˆå¹¶æäº¤"><a href="#å°†git-add-å’Œ-git-commit-åˆå¹¶æäº¤" class="headerlink" title="å°†git add. å’Œ git commit åˆå¹¶æäº¤"></a>å°†git add. å’Œ git commit åˆå¹¶æäº¤</h4><p>git commit -am â€œä»‹ç»â€</p><h4 id="åŒä¸€æ–‡ä»¶åå¤ä¿®æ”¹æ—¶ï¼Œåå¤æäº¤"><a href="#åŒä¸€æ–‡ä»¶åå¤ä¿®æ”¹æ—¶ï¼Œåå¤æäº¤" class="headerlink" title="åŒä¸€æ–‡ä»¶åå¤ä¿®æ”¹æ—¶ï¼Œåå¤æäº¤"></a>åŒä¸€æ–‡ä»¶åå¤ä¿®æ”¹æ—¶ï¼Œåå¤æäº¤</h4><p>git commit â€“amend -m â€œä»‹ç»â€</p><p>ä¸¾ä¾‹ï¼š</p><pre><code># a.py å†…å®¹:print(&quot;hello world&quot;)# æ­¤æ—¶git add + git commit# ä¹‹ååˆä¿®æ”¹äº†a.pyï¼Œprint(&quot;Hello World&quot;)# æ­¤æ—¶å¯ä»¥ä½¿ç”¨ git commit --amend -m &quot;ä»‹ç»&quot; è¦†ç›–ä¿®æ”¹çš„æ–‡ä»¶</code></pre><h4 id="æŸ¥çœ‹gité…ç½®ï¼ˆç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ç­‰ï¼‰"><a href="#æŸ¥çœ‹gité…ç½®ï¼ˆç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ç­‰ï¼‰" class="headerlink" title="æŸ¥çœ‹gité…ç½®ï¼ˆç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ç­‰ï¼‰"></a>æŸ¥çœ‹gité…ç½®ï¼ˆç”¨æˆ·åã€å¯†ç ã€é‚®ç®±ç­‰ï¼‰</h4><p>git config â€“list</p><h4 id="ä¿®æ”¹gitç”¨æˆ·å"><a href="#ä¿®æ”¹gitç”¨æˆ·å" class="headerlink" title="ä¿®æ”¹gitç”¨æˆ·å"></a>ä¿®æ”¹gitç”¨æˆ·å</h4><p>git config â€“global user.name â€œhwangâ€</p><h4 id="å°†å½“å‰ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºï¼ˆå»ºè®®ä½¿ç”¨ä¸‹é¢çš„ï¼‰"><a href="#å°†å½“å‰ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºï¼ˆå»ºè®®ä½¿ç”¨ä¸‹é¢çš„ï¼‰" class="headerlink" title="å°†å½“å‰ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºï¼ˆå»ºè®®ä½¿ç”¨ä¸‹é¢çš„ï¼‰"></a>å°†å½“å‰ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºï¼ˆå»ºè®®ä½¿ç”¨ä¸‹é¢çš„ï¼‰</h4><p>git stash</p><h4 id="å°†ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºå¹¶èµ‹äºˆç‰ˆæœ¬"><a href="#å°†ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºå¹¶èµ‹äºˆç‰ˆæœ¬" class="headerlink" title="å°†ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºå¹¶èµ‹äºˆç‰ˆæœ¬"></a>å°†ä¿®æ”¹æ”¾å…¥ç¼“å­˜åŒºå¹¶èµ‹äºˆç‰ˆæœ¬</h4><p>git stash save â€˜1111â€™</p><h4 id="æŸ¥çœ‹ç¼“å­˜åŒºè®°å½•"><a href="#æŸ¥çœ‹ç¼“å­˜åŒºè®°å½•" class="headerlink" title="æŸ¥çœ‹ç¼“å­˜åŒºè®°å½•"></a>æŸ¥çœ‹ç¼“å­˜åŒºè®°å½•</h4><p>git stash list</p><pre><code># æ˜¾ç¤ºå†…å®¹stash@&#123;0&#125;: On wanghan: stash test</code></pre><h4 id="åº”ç”¨ç¼“å­˜ï¼ˆä¹Ÿå°±æ˜¯å°†ç¼“å­˜åŒºçš„å†…å®¹æ¢å¤åˆ°å·¥ä½œåŒºï¼‰"><a href="#åº”ç”¨ç¼“å­˜ï¼ˆä¹Ÿå°±æ˜¯å°†ç¼“å­˜åŒºçš„å†…å®¹æ¢å¤åˆ°å·¥ä½œåŒºï¼‰" class="headerlink" title="åº”ç”¨ç¼“å­˜ï¼ˆä¹Ÿå°±æ˜¯å°†ç¼“å­˜åŒºçš„å†…å®¹æ¢å¤åˆ°å·¥ä½œåŒºï¼‰"></a>åº”ç”¨ç¼“å­˜ï¼ˆä¹Ÿå°±æ˜¯å°†ç¼“å­˜åŒºçš„å†…å®¹æ¢å¤åˆ°å·¥ä½œåŒºï¼‰</h4><p>git stash apply</p><pre><code>æ³¨æ„ï¼›é»˜è®¤åˆ é™¤æœ€è¿‘çš„stash@&#123;0&#125;è®°å½•è¿™ä¸ªåº”ç”¨æ–¹æ³•ä¸ä¼šåˆ é™¤ç¼“å­˜åŒºçš„ stash@&#123;0&#125; ç¼“å­˜è®°å½•</code></pre><p>git stash apply stash@{0}</p><pre><code>åº”ç”¨æŒ‡å®šç‰ˆæœ¬çš„ç¼“å­˜</code></pre><h4 id="åº”ç”¨ç¼“å­˜ï¼ˆæ–¹æ³•äºŒï¼‰"><a href="#åº”ç”¨ç¼“å­˜ï¼ˆæ–¹æ³•äºŒï¼‰" class="headerlink" title="åº”ç”¨ç¼“å­˜ï¼ˆæ–¹æ³•äºŒï¼‰"></a>åº”ç”¨ç¼“å­˜ï¼ˆæ–¹æ³•äºŒï¼‰</h4><p>git stash pop</p><pre><code>æ³¨æ„ï¼šåˆ é™¤çš„æ˜¯ç¼“å­˜åŒºçš„ç¬¬ä¸€ä¸ªï¼Œå¹¶ä¸”ä¼šåˆ é™¤ç¼“å­˜åŒºçš„æ­¤æ¡ç¼“å­˜è®°å½•</code></pre><p>ä½†å¦‚æœä½¿ç”¨ git stash pop åæœ‰å†²çªæ—¶ï¼Œå¦‚ä½•æ’¤é”€?</p><p>å¯ä»¥ä½¿ç”¨ git reset â€“hard ï¼Œå³å¯æ’¤é”€ git stash pop æ“ä½œï¼Œå°†å½“å‰åˆ†æ”¯çŠ¶æ€æ¢å¤ã€‚</p><h4 id="åˆ é™¤ç¼“å­˜åŒºï¼ˆåˆ é™¤æŒ‡å®šç‰ˆæœ¬çš„ç¼“å­˜ï¼‰"><a href="#åˆ é™¤ç¼“å­˜åŒºï¼ˆåˆ é™¤æŒ‡å®šç‰ˆæœ¬çš„ç¼“å­˜ï¼‰" class="headerlink" title="åˆ é™¤ç¼“å­˜åŒºï¼ˆåˆ é™¤æŒ‡å®šç‰ˆæœ¬çš„ç¼“å­˜ï¼‰"></a>åˆ é™¤ç¼“å­˜åŒºï¼ˆåˆ é™¤æŒ‡å®šç‰ˆæœ¬çš„ç¼“å­˜ï¼‰</h4><p>git stash drop stash@{0}</p><p>å¦‚æœè¯¯ç”¨dropï¼Œåˆ é”™ç¼“å­˜ï¼Œå¯ä»¥æ ¹æ®ä½¿ç”¨å®Œdropå‘½ä»¤åï¼Œè¿”å›çš„IDï¼Œ<br><img src="https://s1.ax1x.com/2022/05/18/OoPQLd.png" alt="OoPQLd.png"><br>â€œ19aâ€¦â€å°±æ˜¯IDï¼Œç„¶åï¼šgit stash apply ID å³å¯æ¢å¤</p><h4 id="åˆ é™¤ç¼“å­˜åŒºï¼ˆæ–¹æ³•äºŒï¼‰"><a href="#åˆ é™¤ç¼“å­˜åŒºï¼ˆæ–¹æ³•äºŒï¼‰" class="headerlink" title="åˆ é™¤ç¼“å­˜åŒºï¼ˆæ–¹æ³•äºŒï¼‰"></a>åˆ é™¤ç¼“å­˜åŒºï¼ˆæ–¹æ³•äºŒï¼‰</h4><p>git stash clear</p><h4 id="å¦‚æœè¯¯åˆ ç¼“å­˜ï¼Œæ¢å¤åŠæ³•ï¼ï¼ï¼"><a href="#å¦‚æœè¯¯åˆ ç¼“å­˜ï¼Œæ¢å¤åŠæ³•ï¼ï¼ï¼" class="headerlink" title="å¦‚æœè¯¯åˆ ç¼“å­˜ï¼Œæ¢å¤åŠæ³•ï¼ï¼ï¼"></a>å¦‚æœè¯¯åˆ ç¼“å­˜ï¼Œæ¢å¤åŠæ³•ï¼ï¼ï¼</h4><ol><li>git show ç¼–å·</li></ol><!----><pre><code>æ³¨æ„ï¼šè¿™ä¸ªç¼–å·å°±æ˜¯ä½ dropä¹‹åè¿”å›çš„ä¸€é•¿ä¸²ç¼–å·</code></pre><h4 id=""><a href="#" class="headerlink" title=""></a></h4><ol><li>git merge ç¼–å·<br>ï¼ˆå°†åˆ é™¤çš„ç¼“å­˜åˆå¹¶åˆ°æœ¬åœ° ä¹Ÿå°±æ˜¯æ¢å¤åˆ°æœ¬åœ°æ¥ï¼‰</li></ol>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>condaå‘½ä»¤</title>
      <link href="/2022/03/29/conda/conda%E5%91%BD%E4%BB%A4/"/>
      <url>/2022/03/29/conda/conda%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç¯å¢ƒ"><a href="#æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç¯å¢ƒ"></a>æŸ¥çœ‹æ‰€æœ‰è™šæ‹Ÿç¯å¢ƒ</h4><p>conda env list</p><h4 id="æŸ¥çœ‹é»˜è®¤ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¯ä»¥pip-install-åŒ…-x3D-x3D-ç‰ˆæœ¬å·ï¼Œæ›´æ–°é»˜è®¤åŒ…çš„ç‰ˆæœ¬ï¼‰"><a href="#æŸ¥çœ‹é»˜è®¤ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¯ä»¥pip-install-åŒ…-x3D-x3D-ç‰ˆæœ¬å·ï¼Œæ›´æ–°é»˜è®¤åŒ…çš„ç‰ˆæœ¬ï¼‰" class="headerlink" title="æŸ¥çœ‹é»˜è®¤ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¯ä»¥pip install åŒ…&#x3D;&#x3D;ç‰ˆæœ¬å·ï¼Œæ›´æ–°é»˜è®¤åŒ…çš„ç‰ˆæœ¬ï¼‰"></a>æŸ¥çœ‹é»˜è®¤ä¸‹è½½çš„ç¬¬ä¸‰æ–¹åŒ…çš„ç‰ˆæœ¬ä¿¡æ¯ï¼ˆå¯ä»¥pip install åŒ…&#x3D;&#x3D;ç‰ˆæœ¬å·ï¼Œæ›´æ–°é»˜è®¤åŒ…çš„ç‰ˆæœ¬ï¼‰</h4><p>conda list</p><h4 id="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ"></a>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</h4><p>conda create -n py36tf1 numpy pandas python&#x3D;3.6</p><h4 id="æ¿€æ´»æ–°è™šæ‹Ÿç¯å¢ƒå‘½ä»¤ï¼ˆ-è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„ç¯å¢ƒï¼‰"><a href="#æ¿€æ´»æ–°è™šæ‹Ÿç¯å¢ƒå‘½ä»¤ï¼ˆ-è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„ç¯å¢ƒï¼‰" class="headerlink" title="æ¿€æ´»æ–°è™šæ‹Ÿç¯å¢ƒå‘½ä»¤ï¼ˆ*è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„ç¯å¢ƒï¼‰"></a>æ¿€æ´»æ–°è™šæ‹Ÿç¯å¢ƒå‘½ä»¤ï¼ˆ*è¡¨ç¤ºå½“å‰æ‰€åœ¨çš„ç¯å¢ƒï¼‰</h4><p>source activate py36tf1</p><h4 id="é€€å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ"><a href="#é€€å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="é€€å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ"></a>é€€å‡ºå½“å‰è™šæ‹Ÿç¯å¢ƒ</h4><p>conda deactivate</p><h4 id="åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"><a href="#åˆ é™¤è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="åˆ é™¤è™šæ‹Ÿç¯å¢ƒ"></a>åˆ é™¤è™šæ‹Ÿç¯å¢ƒ</h4><p>conda remove -n ç¯å¢ƒåç§° â€“all</p><p>æŠ¥é”™æ—¶ï¼šconda env remove -n ç¯å¢ƒåç§°</p><h4 id="åˆ é™¤è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…"><a href="#åˆ é™¤è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…" class="headerlink" title="åˆ é™¤è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…"></a>åˆ é™¤è™šæ‹Ÿç¯å¢ƒä¸­çš„åŒ…</h4><p>conda remove -n ç¯å¢ƒåç§° $package_nameï¼ˆåŒ…åï¼‰</p><h4 id="é…ç½®å›½å†…é•œåƒæº"><a href="#é…ç½®å›½å†…é•œåƒæº" class="headerlink" title="é…ç½®å›½å†…é•œåƒæº"></a>é…ç½®å›½å†…é•œåƒæº</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"></span><br><span class="line">pip config list  # æŸ¥çœ‹é…ç½®ä¿¡æ¯</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> conda </category>
          
      </categories>
      
      
        <tags>
            
            <tag> conda </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--argwhereè¿”å›æ•°ç»„ä¸­é0æ•°å€¼çš„ç´¢å¼•</title>
      <link href="/2022/03/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--argwhere%E8%BF%94%E5%9B%9E%E6%95%B0%E7%BB%84%E4%B8%AD%E9%9D%9E0%E6%95%B0%E5%80%BC%E7%9A%84%E7%B4%A2%E5%BC%95/"/>
      <url>/2022/03/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--argwhere%E8%BF%94%E5%9B%9E%E6%95%B0%E7%BB%84%E4%B8%AD%E9%9D%9E0%E6%95%B0%E5%80%BC%E7%9A%84%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="argwhereè¿”å›æ•°ç»„ä¸­é0æ•°å€¼çš„ç´¢å¼•"><a href="#argwhereè¿”å›æ•°ç»„ä¸­é0æ•°å€¼çš„ç´¢å¼•" class="headerlink" title="argwhereè¿”å›æ•°ç»„ä¸­é0æ•°å€¼çš„ç´¢å¼•"></a>argwhereè¿”å›æ•°ç»„ä¸­é0æ•°å€¼çš„ç´¢å¼•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">b = np.arange(12).reshape(3,4)</span><br></pre></td></tr></table></figure><p>print(b)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]]</span><br></pre></td></tr></table></figure><p>print(np.argwhere(b))</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[[0 1]</span><br><span class="line"> [0 2]</span><br><span class="line"> [0 3]</span><br><span class="line"> [1 0]</span><br><span class="line"> [1 1]</span><br><span class="line"> [1 2]</span><br><span class="line"> [1 3]</span><br><span class="line"> [2 0]</span><br><span class="line"> [2 1]</span><br><span class="line"> [2 2]</span><br><span class="line"> [2 3]]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--diagå¯¹è§’çŸ©é˜µ flipudä¸Šä¸‹åè½¬çŸ©é˜µ</title>
      <link href="/2022/03/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--diag%E5%AF%B9%E8%A7%92%E7%9F%A9%E9%98%B5%20flipud%E4%B8%8A%E4%B8%8B%E5%8F%8D%E8%BD%AC%E7%9F%A9%E9%98%B5/"/>
      <url>/2022/03/23/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--diag%E5%AF%B9%E8%A7%92%E7%9F%A9%E9%98%B5%20flipud%E4%B8%8A%E4%B8%8B%E5%8F%8D%E8%BD%AC%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="diag-ç”Ÿæˆå¯¹è§’çŸ©é˜µ"><a href="#diag-ç”Ÿæˆå¯¹è§’çŸ©é˜µ" class="headerlink" title="diag ç”Ÿæˆå¯¹è§’çŸ©é˜µ"></a>diag ç”Ÿæˆå¯¹è§’çŸ©é˜µ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a=np.diag([1,2,3,4]) #diagç”¨äºå£°æ˜å¯¹è§’çŸ©é˜µ</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[1 0 0 0]</span><br><span class="line"> [0 2 0 0]</span><br><span class="line"> [0 0 3 0]</span><br><span class="line"> [0 0 0 4]]</span><br></pre></td></tr></table></figure><h4 id="flipud-å°†ä»»æ„çº¬åº¦çš„çŸ©é˜µä¸Šä¸‹åè½¬"><a href="#flipud-å°†ä»»æ„çº¬åº¦çš„çŸ©é˜µä¸Šä¸‹åè½¬" class="headerlink" title="flipud å°†ä»»æ„çº¬åº¦çš„çŸ©é˜µä¸Šä¸‹åè½¬"></a>flipud å°†ä»»æ„çº¬åº¦çš„çŸ©é˜µä¸Šä¸‹åè½¬</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.flipud(a) #æ‰§è¡Œå®Œè¿™å¥ä¼šè‡ªåŠ¨è¾“å‡ºç»“æœ</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array([[0, 0, 0, 4],</span><br><span class="line">       [0, 0, 3, 0],</span><br><span class="line">       [0, 2, 0, 0],</span><br><span class="line">       [1, 0, 0, 0]])</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘--Dockeråˆ›å»ºå®¹å™¨æ—¶æŠ¥é”™ï¼šiptablesï¼šNo chain target match by that name</title>
      <link href="/2022/03/17/Docker/%E5%9D%91--Docker%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9Aiptables%EF%BC%9ANo%20chain%20target%20match%20by%20that%20name/"/>
      <url>/2022/03/17/Docker/%E5%9D%91--Docker%E5%88%9B%E5%BB%BA%E5%AE%B9%E5%99%A8%E6%97%B6%E6%8A%A5%E9%94%99%EF%BC%9Aiptables%EF%BC%9ANo%20chain%20target%20match%20by%20that%20name/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æŠ¥é”™å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error response from daemon: driver failed programming external connectivity on endpoint gansu_yj_zy (1636a69cd363c6cb6f12e8c4000ccdfcd6d3c12677964ec25908284566f93532):  (iptables failed: iptables --wait -t nat -A DOCKER -p tcp -d 0/0 --dport 49172 -j DNAT --to-destination 172.17.0.16:8464 ! -i docker0: iptables: No chain/target/match by that name.</span><br></pre></td></tr></table></figure><h4 id="è§£å†³åŠæ³•ï¼š"><a href="#è§£å†³åŠæ³•ï¼š" class="headerlink" title="è§£å†³åŠæ³•ï¼š"></a>è§£å†³åŠæ³•ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl docker start</span><br></pre></td></tr></table></figure><p>åœ¨å¯åŠ¨firewalldä¹‹åï¼Œiptablesè¢«æ¿€æ´»ï¼Œæ­¤æ—¶æ²¡æœ‰docker chainï¼Œé‡å¯dockeråè¢«åŠ å…¥åˆ°iptableé‡Œé¢ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘--è§£å†³pymysql.err.InterfaceErrorï¼šï¼ˆ0, â€œâ€ï¼‰æŠ¥é”™çš„åŠæ³•</title>
      <link href="/2022/03/16/MySQL/%E5%9D%91--%E8%A7%A3%E5%86%B3pymysql.err.InterfaceError%EF%BC%9A%EF%BC%880,%20%E2%80%9C%E2%80%9D%EF%BC%89%E6%8A%A5%E9%94%99%E7%9A%84%E5%8A%9E%E6%B3%95/"/>
      <url>/2022/03/16/MySQL/%E5%9D%91--%E8%A7%A3%E5%86%B3pymysql.err.InterfaceError%EF%BC%9A%EF%BC%880,%20%E2%80%9C%E2%80%9D%EF%BC%89%E6%8A%A5%E9%94%99%E7%9A%84%E5%8A%9E%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æœ€è¿‘ä½¿ç”¨ Flask+MySQL å†™äº†äº›ç®€å•çš„æ¥å£ï¼Œéƒ¨ç½²åˆ°Linuxä¹‹åï¼Œå‘ç°è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œå†æ¬¡è®¿é—®æ¥å£å°±ä¸èƒ½ç”¨äº†ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 2328, in __call__</span><br><span class="line">    return self.wsgi_app(environ, start_response)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 2314, in wsgi_app</span><br><span class="line">    response = self.handle_exception(e)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 1760, in handle_exception</span><br><span class="line">    reraise(exc_type, exc_value, tb)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/_compat.py&quot;, line 36, in reraise</span><br><span class="line">    raise value</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 2311, in wsgi_app</span><br><span class="line">    response = self.full_dispatch_request()</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 1834, in full_dispatch_request</span><br><span class="line">    rv = self.handle_user_exception(e)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 1737, in handle_user_exception</span><br><span class="line">    reraise(exc_type, exc_value, tb)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/_compat.py&quot;, line 36, in reraise</span><br><span class="line">    raise value</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 1832, in full_dispatch_request</span><br><span class="line">    rv = self.dispatch_request()</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/flask/app.py&quot;, line 1818, in dispatch_request</span><br><span class="line">    return self.view_functions[rule.endpoint](**req.view_args)</span><br><span class="line">  File &quot;/root/flaskDemo/api/user.py&quot;, line 18, in get_all_users</span><br><span class="line">    data = db.select_db(sql)</span><br><span class="line">  File &quot;/root/flaskDemo/common/mysql_operate.py&quot;, line 27, in select_db</span><br><span class="line">    self.cur.execute(sql)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/pymysql/cursors.py&quot;, line 170, in execute</span><br><span class="line">    result = self._query(query)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/pymysql/cursors.py&quot;, line 328, in _query</span><br><span class="line">    conn.query(q)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/pymysql/connections.py&quot;, line 516, in query</span><br><span class="line">    self._execute_command(COMMAND.COM_QUERY, sql)</span><br><span class="line">  File &quot;/root/python36/lib/python3.6/site-packages/pymysql/connections.py&quot;, line 750, in _execute_command</span><br><span class="line">    raise err.InterfaceError(&quot;(0, &#x27;&#x27;)&quot;)</span><br><span class="line">pymysql.err.InterfaceError: (0, &#x27;&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ç½‘ä¸ŠæŸ¥äº†ä¸‹ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªæ•°æ®åº“çš„è¿æ¥å»ºç«‹å¤ªä¹…äº†ï¼Œä¼šè‡ªåŠ¨æ–­å¼€ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦é‡æ–°å»ºç«‹è¿æ¥ï¼Œå¦åˆ™è®¿é—®æ¥å£å°±ä¼šå‡ºç°å¼‚å¸¸æŠ¥é”™äº†ã€‚</p><p>åœ¨ pymysql åˆ›å»ºçš„æ•°æ®åº“è¿æ¥å¯¹è±¡ä¸‹ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•ï¼šping()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">connect = pymysql.connect(**mysql_conn)</span><br><span class="line">cursors = connect.cursor()</span><br><span class="line">sql = <span class="string">f&quot;SELECT save_path,create_time from <span class="subst">&#123;tablename&#125;</span> WHERE forecast_time = &#x27;<span class="subst">&#123;forecast_time&#125;</span>&#x27; and level = &#x27;<span class="subst">&#123;level&#125;</span>&#x27; order by create_time desc &quot;</span></span><br><span class="line">logger.info(sql)</span><br><span class="line"><span class="comment"># æ£€æŸ¥è¿æ¥æ˜¯å¦æ–­å¼€ï¼Œå¦‚æœæ–­å¼€å°±è¿›è¡Œé‡è¿</span></span><br><span class="line">connect.ping(reconnect=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># ä½¿ç”¨ execute() æ‰§è¡Œsql</span></span><br><span class="line">cursors.execute(sql)</span><br><span class="line">data = cursors.fetchall()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘--Dockerå®¹å™¨å†…éƒ¨POSIXç³»ç»Ÿä¸­æ–‡ä¹±ç </title>
      <link href="/2022/03/14/Docker/%E5%9D%91--Docker%E5%AE%B9%E5%99%A8%E5%86%85%E9%83%A8POSIX%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/"/>
      <url>/2022/03/14/Docker/%E5%9D%91--Docker%E5%AE%B9%E5%99%A8%E5%86%85%E9%83%A8POSIX%E7%B3%BB%E7%BB%9F%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="æƒ…æ™¯ï¼šåœ¨å®¹å™¨å†…éƒ¨ä½†å‡¡æ˜¯ä¸­æ–‡éƒ½ä¹±ç ï¼Œæˆ–è€…ä¸­æ–‡è¾“å…¥ä¸è¿›å»ï¼ŒçŒœæµ‹å®¹å™¨å†…éƒ¨ç³»ç»Ÿä¸æ”¯æŒä¸­æ–‡"><a href="#æƒ…æ™¯ï¼šåœ¨å®¹å™¨å†…éƒ¨ä½†å‡¡æ˜¯ä¸­æ–‡éƒ½ä¹±ç ï¼Œæˆ–è€…ä¸­æ–‡è¾“å…¥ä¸è¿›å»ï¼ŒçŒœæµ‹å®¹å™¨å†…éƒ¨ç³»ç»Ÿä¸æ”¯æŒä¸­æ–‡" class="headerlink" title="æƒ…æ™¯ï¼šåœ¨å®¹å™¨å†…éƒ¨ä½†å‡¡æ˜¯ä¸­æ–‡éƒ½ä¹±ç ï¼Œæˆ–è€…ä¸­æ–‡è¾“å…¥ä¸è¿›å»ï¼ŒçŒœæµ‹å®¹å™¨å†…éƒ¨ç³»ç»Ÿä¸æ”¯æŒä¸­æ–‡"></a>æƒ…æ™¯ï¼šåœ¨å®¹å™¨å†…éƒ¨ä½†å‡¡æ˜¯ä¸­æ–‡éƒ½ä¹±ç ï¼Œæˆ–è€…ä¸­æ–‡è¾“å…¥ä¸è¿›å»ï¼ŒçŒœæµ‹å®¹å™¨å†…éƒ¨ç³»ç»Ÿä¸æ”¯æŒä¸­æ–‡</h3><h4 id="1ã€æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒå“ªäº›è¯­è¨€åŒ…"><a href="#1ã€æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒå“ªäº›è¯­è¨€åŒ…" class="headerlink" title="1ã€æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒå“ªäº›è¯­è¨€åŒ…"></a>1ã€æŸ¥çœ‹ç³»ç»Ÿæ”¯æŒå“ªäº›è¯­è¨€åŒ…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale -a</span><br></pre></td></tr></table></figure><p><img src="https://s1.ax1x.com/2022/03/14/bOJQK0.png" alt="bOJQK0.png"></p><p>å¦‚æœæ˜¯POSIXçš„è¯ï¼Œåœ¨å®¹å™¨ä¸­ç¼–è¾‘æ–‡ä»¶è¾“å…¥ä¸­æ–‡éƒ½ä¼šæ˜¯ä¹±ç çš„</p><p>ä¿®æ”¹æ–¹å¼å°±æ˜¯ä¿®æ”¹ä¸€ä¸ªLANGç¯å¢ƒå˜é‡å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#éœ€è¦åŠ ä¸Š-eç¯å¢ƒå˜é‡</span><br><span class="line">docker run --name nginx -e LANG=&quot;C.UTF-8&quot; -d nginx:latest</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå®Œåï¼Œåœ¨å®¹å™¨ä¸­è¾“å…¥localeå‘½ä»¤å°±å¯ä»¥çœ‹åˆ°æ›´æ”¹ä¸ºUTF-8äº†ï¼Œç¼–è¾‘æ–‡ä»¶è¾“å…¥ä¸­æ–‡ä¹Ÿå°±æ²¡é—®é¢˜äº†</p><h4 id="2ã€docker-composeç¼–æ’çš„æœåŠ¡"><a href="#2ã€docker-composeç¼–æ’çš„æœåŠ¡" class="headerlink" title="2ã€docker-composeç¼–æ’çš„æœåŠ¡"></a>2ã€docker-composeç¼–æ’çš„æœåŠ¡</h4><p>åœ¨docker-composeä¸­ä¹Ÿæ˜¯æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œå’Œdocker-runç±»ä¼¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">......</span><br><span class="line">environment:</span><br><span class="line">      LANG: C.UTF-8</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h4 id="3ã€dockerFileåˆ›å»ºå®¹å™¨"><a href="#3ã€dockerFileåˆ›å»ºå®¹å™¨" class="headerlink" title="3ã€dockerFileåˆ›å»ºå®¹å™¨"></a>3ã€dockerFileåˆ›å»ºå®¹å™¨</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#åœ¨dockerFileæ–‡ä»¶ä¸­æ·»åŠ è¿™ä¸€è¡Œå³å¯</span><br><span class="line">ENV LANG C.UTF-8</span><br></pre></td></tr></table></figure><p>è¿™æ ·ç¼–æ’çš„æœåŠ¡ï¼Œåœ¨å®¹å™¨å†…å°±å¯ä»¥è¾“å…¥ä¸­æ–‡äº†ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæ˜¯vimçš„é—®é¢˜ï¼Œä¿®æ”¹äº†vimçš„ä¸­æ–‡æ”¯æŒå¹¶ä¸ç®¡ç”¨ï¼ŒåŸæ¥è¿˜æ˜¯dockerå®¹å™¨æ§åˆ¶çš„ï¼Œè€Œä¸”åœ¨å®¹å™¨å†…ä¹Ÿå°è¯•ä¿®æ”¹è¿‡LANGçš„å€¼ ï¼Œä¹Ÿä¸ç®¡ç”¨ï¼Œä¸ä¼šç”Ÿæ•ˆä¸çŸ¥é“ä¸ºå•¥ï¼Œå»ºè®®åœ¨å¤–éƒ¨åŠ å…¥ç¯å¢ƒå˜é‡çš„æ§åˆ¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå…‹éš†----gitæ‹‰å–è¿œç¨‹ä»“åº“çš„æŒ‡å®šçš„ç›®å½•æˆ–æ–‡ä»¶</title>
      <link href="/2022/03/04/git/git%E5%85%8B%E9%9A%86----git%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%8C%87%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E6%88%96%E6%96%87%E4%BB%B6/"/>
      <url>/2022/03/04/git/git%E5%85%8B%E9%9A%86----git%E6%8B%89%E5%8F%96%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%9A%84%E6%8C%87%E5%AE%9A%E7%9A%84%E7%9B%AE%E5%BD%95%E6%88%96%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><ol><li><p>åˆ›å»ºxxæ–‡ä»¶å¤¹</p></li><li><p>git init </p></li><li><p>git config core.sparseCheckout true #æ‰“å¼€é…ç½®</p></li><li><p>echo â€˜drawPic&#x2F;MP3000A&#x2F;*â€™ &gt;&gt; .git&#x2F;info&#x2F;sparse-checkout</p><p><code># drawPic/MP3000A/* ä¸ºåˆ†æ”¯ä¸‹çš„ç»å¯¹è·¯å¾„,.git/info/sparse-checkout ä¸å˜</code></p></li><li><p>git remote add origin xxxxx.git # è®¾ç½®è¿œç¨‹ä»“åº“</p></li><li><p>git pull origin åˆ†æ”¯</p></li></ol><p>æ­¤æ—¶å°±ä¼šåœ¨ä½ åˆ›å»ºçš„ç›®å½•ä¸‹æŠŠä½ æƒ³æ‹‰å–çš„è¿œç¨‹ç›®å½•æ‹‰ä¸‹æ¥</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå†²çª----åœ¨åˆå¹¶ä¹‹å‰æäº¤è¿‡</title>
      <link href="/2022/03/04/git/git%E5%86%B2%E7%AA%81----%E5%9C%A8%E5%90%88%E5%B9%B6%E4%B9%8B%E5%89%8D%E6%8F%90%E4%BA%A4%E8%BF%87/"/>
      <url>/2022/03/04/git/git%E5%86%B2%E7%AA%81----%E5%9C%A8%E5%90%88%E5%B9%B6%E4%B9%8B%E5%89%8D%E6%8F%90%E4%BA%A4%E8%BF%87/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>åœºæ™¯ï¼šå°æ˜ï¼šåœ¨æœ¬åœ°æ›´æ–°äº†x.pyæ–‡ä»¶ï¼Œå¹¶æäº¤åˆ°äº†gitä»“åº“ï¼Œå°çº¢åœ¨ä¹‹å‰ä¹Ÿä¿®æ”¹äº† x.py,ä½†æ˜¯åˆæ— æ³•æ’¤å›æˆ–è€…è¯´å¿˜è®°ä¿®æ”¹äº†x.pyçš„å“ªä¸ªåœ°æ–¹ï¼Œæ­¤æ—¶git pullä¾¿ä¼šæŠ¥é”™</p><p><img src="https://s4.ax1x.com/2022/03/04/baVPgJ.png" alt="baVPgJ.png"></p><h1 id="äº²æµ‹å¦‚ä¸‹ï¼š"><a href="#äº²æµ‹å¦‚ä¸‹ï¼š" class="headerlink" title="äº²æµ‹å¦‚ä¸‹ï¼š"></a>äº²æµ‹å¦‚ä¸‹ï¼š</h1><ol><li><p>å…ˆgit stash<br><img src="https://s4.ax1x.com/2022/03/04/baV5rR.png" alt="baV5rR.png">å°†è‡ªå·±å·¥ä½œåŒºä¸­ä¿®æ”¹çš„å†…å®¹æš‚æ—¶ç¼“å­˜åˆ°gitæ ˆä¸­ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯å¤‡ä»½åœ¨gitæ ˆä¸­</p></li><li><p>git pull<br>æŠŠå°æ˜æäº¤ä¸Šå»çš„ä»£ç æ‹‰ä¸‹æ¥</p></li><li><p>git stash pop å°†gitæ ˆä¸­ç¼“å­˜çš„ä»£ç æ¢å¤åˆ°å·¥ä½œåŒº</p></li></ol><h3 id="å¦‚æœæ— æ³•è§£å†³-æ”¾å¼ƒæœ¬åœ°ä»£ç ï¼Œç›´æ¥è¦†ç›–"><a href="#å¦‚æœæ— æ³•è§£å†³-æ”¾å¼ƒæœ¬åœ°ä»£ç ï¼Œç›´æ¥è¦†ç›–" class="headerlink" title="å¦‚æœæ— æ³•è§£å†³,æ”¾å¼ƒæœ¬åœ°ä»£ç ï¼Œç›´æ¥è¦†ç›–"></a>å¦‚æœæ— æ³•è§£å†³,æ”¾å¼ƒæœ¬åœ°ä»£ç ï¼Œç›´æ¥è¦†ç›–</h3><p>git reset â€“hard</p><p>git pull</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå¿½ç•¥----.gitignoreå¿½ç•¥æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</title>
      <link href="/2022/03/03/git/git%E5%BF%BD%E7%95%A5----.gitignore%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/2022/03/03/git/git%E5%BF%BD%E7%95%A5----.gitignore%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å½“gitæäº¤åï¼Œå‘ç°æ²¡æœ‰è¿‡æ»¤ä¸€äº›éå¿…è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ¯”å¦‚.git&#x2F;.idea&#x2F;<strong>pycache</strong>&#x2F;è¿™äº›æ–‡ä»¶å¤¹</p><p>æˆ‘ä»¬éœ€è¦åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»º.gitignoreæ–‡ä»¶</p><p>.gitignore</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™é‡Œæ˜¯è¿‡æ»¤çš„ä¸€äº›æ–‡ä»¶</span><br><span class="line">__pycache__/</span><br><span class="line">.idea/</span><br><span class="line">.git/</span><br><span class="line">.gitignore # è¿™ä¸ªå¿½ç•¥æ–‡ä»¶ä¹Ÿä¸éœ€è¦ä¸Šä¼ </span><br><span class="line">logs/</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶å†™å¥½ä¹‹åï¼Œå…ˆä¸ç€æ€¥æäº¤ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°æŠ€å·§</p><p>éœ€è¦å…ˆæ‰§è¡Œä¸€ä¸‹å‘½ä»¤ï¼Œä»ä»“åº“å…ˆæŠŠè¿™äº›è¦å¿½ç•¥ä¸Šä¼ çš„æ–‡ä»¶åˆ é™¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤æ–‡ä»¶å¤¹</span><br><span class="line">git rm --cached -r __pycache__</span><br><span class="line">git rm --cached -r .idea/</span><br><span class="line">git rm --cached -r .git/</span><br><span class="line">git rm --cached -r logs/</span><br><span class="line"># åˆ é™¤æ–‡ä»¶</span><br><span class="line">git rm --cached logs/xx.log</span><br></pre></td></tr></table></figure><p>æœ€åï¼š</p><p>git add .</p><p>git commit -m â€œadd .gitignoreâ€</p><p>git push origin ä½ çš„åˆ†æ”¯</p>]]></content>
      
      
      <categories>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--contourfè‰²æ–‘å›¾ï¼ˆç­‰é«˜çº¿å›¾ï¼‰ã€contourç­‰å€¼çº¿å›¾</title>
      <link href="/2022/03/03/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--contourf%E8%89%B2%E6%96%91%E5%9B%BE%EF%BC%88%E7%AD%89%E9%AB%98%E7%BA%BF%E5%9B%BE%EF%BC%89%E3%80%81contour%E7%AD%89%E5%80%BC%E7%BA%BF%E5%9B%BE/"/>
      <url>/2022/03/03/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--contourf%E8%89%B2%E6%96%91%E5%9B%BE%EF%BC%88%E7%AD%89%E9%AB%98%E7%BA%BF%E5%9B%BE%EF%BC%89%E3%80%81contour%E7%AD%89%E5%80%BC%E7%BA%BF%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—x,yåæ ‡å¯¹åº”çš„é«˜åº¦å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x, y</span>):</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">1</span> - x / <span class="number">2</span> + x ** <span class="number">3</span> + y ** <span class="number">5</span>) * np.exp(-x ** <span class="number">2</span> - y ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆx,yçš„æ•°æ®</span></span><br><span class="line">n = <span class="number">256</span></span><br><span class="line">x = np.linspace(-<span class="number">3</span>, <span class="number">3</span>, n)</span><br><span class="line">y = np.linspace(-<span class="number">3</span>, <span class="number">3</span>, n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŠŠx,yæ•°æ®ç”Ÿæˆmeshç½‘æ ¼çŠ¶çš„æ•°æ®ï¼Œå› ä¸ºç­‰é«˜çº¿çš„æ˜¾ç¤ºæ˜¯åœ¨ç½‘æ ¼çš„åŸºç¡€ä¸Šæ·»åŠ ä¸Šé«˜åº¦å€¼</span></span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¡«å……ç­‰é«˜çº¿</span></span><br><span class="line">plt.contourf(X, Y, f(X, Y))</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾è¡¨</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç­‰å€¼çº¿å›¾</span></span><br><span class="line">C = plt.contour(X, Y, f(X, Y))</span><br><span class="line"><span class="comment"># ç»™ç­‰å€¼çº¿æ·»åŠ æ ‡ç­¾</span></span><br><span class="line">plt.clabel(C)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="å¡«å……ç­‰é«˜çº¿å›¾"><a href="#å¡«å……ç­‰é«˜çº¿å›¾" class="headerlink" title="å¡«å……ç­‰é«˜çº¿å›¾"></a>å¡«å……ç­‰é«˜çº¿å›¾</h3><p><img src="https://s4.ax1x.com/2022/03/03/bJ63V0.png" alt="bJ63V0.png"></p><h3 id="ç­‰å€¼çº¿å›¾ï¼ˆå›¾ä¸Šæ•°å­—å³ä¸ºæ ‡ç­¾ï¼‰"><a href="#ç­‰å€¼çº¿å›¾ï¼ˆå›¾ä¸Šæ•°å­—å³ä¸ºæ ‡ç­¾ï¼‰" class="headerlink" title="ç­‰å€¼çº¿å›¾ï¼ˆå›¾ä¸Šæ•°å­—å³ä¸ºæ ‡ç­¾ï¼‰"></a>ç­‰å€¼çº¿å›¾ï¼ˆå›¾ä¸Šæ•°å­—å³ä¸ºæ ‡ç­¾ï¼‰</h3><p><img src="https://s4.ax1x.com/2022/03/03/bJ62xH.png" alt="bJ62xH.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--meshgridç”Ÿæˆç½‘æ ¼ç‚¹åæ ‡çŸ©é˜µ</title>
      <link href="/2022/03/03/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--meshgrid%E7%94%9F%E6%88%90%E7%BD%91%E6%A0%BC%E7%82%B9%E5%9D%90%E6%A0%87%E7%9F%A9%E9%98%B5/"/>
      <url>/2022/03/03/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--meshgrid%E7%94%9F%E6%88%90%E7%BD%91%E6%A0%BC%E7%82%B9%E5%9D%90%E6%A0%87%E7%9F%A9%E9%98%B5/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>åœºæ™¯ï¼š é€šå¸¸é€‚ç”¨äºè½¬æ¢ç»çº¬åº¦</p><p>è¯­æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">1</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">print</span>(x)<span class="comment"># [1 2 3]</span></span><br><span class="line">y = np.arange(<span class="number">4</span>,<span class="number">8</span>)</span><br><span class="line"><span class="built_in">print</span>(y)<span class="comment"># [4 5 6 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆç½‘æ ¼ç‚¹åæ ‡çŸ©é˜µ</span></span><br><span class="line">X,Y = np.meshgrid(x,y)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>X:[[1 2 3]<br> [1 2 3]<br> [1 2 3]<br> [1 2 3]]</p><p>Y: [[4 4 4]<br> [5 5 5]<br> [6 6 6]<br> [7 7 7]]</p><p>è§£é‡Šï¼š<br>è¾“å‡º&#x3D;&#x3D;Xçš„æ¯ä¸€è¡Œ&#x3D;&#x3D;çš„æ•°å€¼éƒ½æ˜¯å¤åˆ¶çš„xçš„å€¼ï¼›è¾“å‡º&#x3D;&#x3D;Yçš„æ¯ä¸€åˆ—&#x3D;&#x3D;çš„æ•°å€¼éƒ½æ˜¯å¤åˆ¶çš„yçš„å€¼ã€‚</p><p>xçš„å€¼æ˜¯3ï¼Œyçš„å€¼æ˜¯4ï¼Œï¼Œï¼Œï¼Œï¼Œ Xã€Yçš„çŸ©é˜µæ˜¯3åˆ—4è¡Œ</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå¯¼å‡ºå½“å‰ç¯å¢ƒä¾èµ–åŒ…ä¿¡æ¯</title>
      <link href="/2022/03/01/Python/Python%E5%AF%BC%E5%87%BA%E5%BD%93%E5%89%8D%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85%E4%BF%A1%E6%81%AF/"/>
      <url>/2022/03/01/Python/Python%E5%AF%BC%E5%87%BA%E5%BD%93%E5%89%8D%E7%8E%AF%E5%A2%83%E4%BE%9D%E8%B5%96%E5%8C%85%E4%BF%A1%E6%81%AF/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>pip freeze &gt; .&#x2F;requirements.txt  </p><p>å†…å®¹ä¸ºå½“å‰ç¯å¢ƒæ‰€æœ‰ä¾èµ–åŒ…åŠå¯¹åº”ç‰ˆæœ¬ã€‚<br>åŒæ—¶ä¹Ÿå¯ä»¥ä¿®æ”¹ .&#x2F;requirements.txt ä¸ºå…¶ä»–æŒ‡å®šè·¯å¾„ï¼Œ è¿™æ ·ä¾èµ–åŒ…ä¿¡æ¯ä¼šç”Ÿæˆåˆ°æŒ‡å®šçš„ç›®å½•ä¸‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerç›¸å…³çŸ¥è¯†ç‚¹</title>
      <link href="/2022/02/28/Docker/Docker%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
      <url>/2022/02/28/Docker/Docker%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="1-docker-run-it-centos-x2F-bin-x2F-bash-åé¢çš„-bin-x2F-bashçš„ä½œç”¨"><a href="#1-docker-run-it-centos-x2F-bin-x2F-bash-åé¢çš„-bin-x2F-bashçš„ä½œç”¨" class="headerlink" title="1. docker run -it centos &#x2F;bin&#x2F;bash åé¢çš„ bin&#x2F;bashçš„ä½œç”¨"></a>1. docker run -it centos &#x2F;bin&#x2F;bash åé¢çš„ bin&#x2F;bashçš„ä½œç”¨</h3><hr><p>é¦–å…ˆï¼Œdocker run -it centos çš„æ„æ€æ˜¯ï¼Œä¸ºcentosè¿™ä¸ªé•œåƒåˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œ -iå’Œ-tè¿™ä¸¤ä¸ªå‚æ•°çš„ä½œç”¨æ˜¯ï¼Œä¸ºè¯¥dockeråˆ›å»ºä¸€ä¸ªä¼ªç»ˆç«¯ï¼Œè¿™æ ·å°±å¯ä»¥è¿›å…¥åˆ°å®¹å™¨çš„äº¤äº’æ¨¡å¼ï¼Ÿï¼ˆä¹Ÿå°±æ˜¯ç›´æ¥è¿›å…¥åˆ°å®¹å™¨é‡Œé¢ï¼‰åé¢çš„&#x2F;bin&#x2F;bashçš„ä½œç”¨æ˜¯è¡¨ç¤ºè½½å…¥å®¹å™¨åè¿è¡Œbash ,dockerä¸­å¿…é¡»è¦ä¿æŒä¸€ä¸ªè¿›ç¨‹çš„è¿è¡Œï¼Œè¦ä¸ç„¶æ•´ä¸ªå®¹å™¨å¯åŠ¨åå°±ä¼šé©¬ä¸Škill itselfï¼Œè¿™æ ·å½“ä½ ä½¿ç”¨docker ps æŸ¥çœ‹å¯åŠ¨çš„å®¹å™¨æ—¶ï¼Œå°±ä¼šå‘ç°ä½ åˆšåˆšåˆ›å»ºçš„é‚£ä¸ªå®¹å™¨å¹¶ä¸åœ¨å·²å¯åŠ¨çš„å®¹å™¨é˜Ÿåˆ—ä¸­ã€‚è¿™ä¸ª&#x2F;bin&#x2F;bashå°±è¡¨ç¤ºå¯åŠ¨å®¹å™¨åå¯åŠ¨bashã€‚</p><h3 id="2-äº¤äº’å¼å®¹å™¨ä¸å®ˆæŠ¤å¼å®¹å™¨çš„åŒºåˆ«"><a href="#2-äº¤äº’å¼å®¹å™¨ä¸å®ˆæŠ¤å¼å®¹å™¨çš„åŒºåˆ«" class="headerlink" title="2.äº¤äº’å¼å®¹å™¨ä¸å®ˆæŠ¤å¼å®¹å™¨çš„åŒºåˆ«"></a>2.äº¤äº’å¼å®¹å™¨ä¸å®ˆæŠ¤å¼å®¹å™¨çš„åŒºåˆ«</h3><hr><ul><li>ä»€ä¹ˆæ˜¯äº¤äº’å¼å®¹å™¨ï¼Ÿ</li></ul><p>å®¹å™¨è¿è¡Œåç›´æ¥è¿›å…¥åˆ°å®¹å™¨å†…éƒ¨ï¼Œé€€å‡ºå®¹å™¨å†…éƒ¨åï¼Œå®¹å™¨ç›´æ¥å…³é—­</p><ul><li>å¦‚ä½•å¯åŠ¨äº¤äº’å¼å®¹å™¨ï¼Ÿ</li></ul><p>docker run -it â€“name å®¹å™¨å é•œåƒå</p><ul><li>ä»€ä¹ˆæ˜¯å®ˆæŠ¤å¼å®¹å™¨ï¼Ÿ</li></ul><p>æ˜¯ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„å®¹å™¨ï¼Œé€‚åˆè¿è¡Œåº”ç”¨ç¨‹åºå’ŒæœåŠ¡</p><ul><li>å¦‚ä½•å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼Ÿ</li></ul><p>docker run -d å®¹å™¨å</p><p>-d: ä»¥åå°è¿è¡Œçš„æ–¹å¼è¿è¡Œå®¹å™¨ï¼Œè¿”å›å®¹å™¨idï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--äºŒç»´æ•°ç»„è½¬ä¸ºä¸€ç»´æ•°ç»„</title>
      <link href="/2022/02/21/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E8%BD%AC%E4%B8%BA%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84/"/>
      <url>/2022/02/21/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E8%BD%AC%E4%B8%BA%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="ç¬¬ä¸€ç§ï¼š"><a href="#ç¬¬ä¸€ç§ï¼š" class="headerlink" title="ç¬¬ä¸€ç§ï¼š"></a>ç¬¬ä¸€ç§ï¼š</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨åº“å‡½æ•°</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> chain</span><br><span class="line">b = <span class="built_in">list</span>(chain.from_iterable(a))</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># ç»“æœï¼š[1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure><h3 id="ç¬¬äºŒç§ï¼š"><a href="#ç¬¬äºŒç§ï¼š" class="headerlink" title="ç¬¬äºŒç§ï¼š"></a>ç¬¬äºŒç§ï¼š</h3><p>flattenï¼šè¿”å›ä¸€ä¸ªæŠ˜å æˆä¸€ç»´çš„æ•°ç»„ã€‚ä½†æ˜¯è¯¥å‡½æ•°åªèƒ½é€‚ç”¨äºnumpyå¯¹è±¡ï¼Œå³arrayæˆ–è€…matï¼Œæ™®é€šçš„liståˆ—è¡¨æ˜¯ä¸è¡Œçš„ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">a = np.array([1,2],[3,4],[5,6])</span><br><span class="line">b = a.flatten()</span><br><span class="line">print(b)</span><br><span class="line"># ç»“æœï¼š[1 2 3 4 9 8]</span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨åœ¨listä¸Šåˆ™ä¼šæŠ¥é”™ï¼Œå¯ä»¥é€‰æ‹©ç”¨åˆ—è¡¨è¡¨è¾¾å¼ï¼š</p><pre><code>[y for x in a for y in x]</code></pre><p>ç»“æœï¼š[1,2,3,4,5,6]</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSæ¨¡å—--è·å–è·¯å¾„å¸¸ç”¨æ–¹æ³•</title>
      <link href="/2022/02/21/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2022/02/21/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E8%8E%B7%E5%8F%96%E8%B7%AF%E5%BE%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="import-os"><a href="#import-os" class="headerlink" title="import os"></a>import os</h2><ol><li><p>ç”¨äºè·å–å½“å‰æ‰€åœ¨ç›®å½•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.dirname(&quot;/mnt/hgfs/123.txt&quot;) # /mnt/hgfs</span><br></pre></td></tr></table></figure></li><li><p>ç”¨äºè·å–æ–‡ä»¶åï¼ˆåŒ…æ¶µåç¼€ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.basename(&quot;/mnt/hgfs/123.txt&quot;) # 123.txt</span><br></pre></td></tr></table></figure></li><li><p>ç”¨äºåˆ†ç¦»æ–‡ä»¶åå’Œåç¼€åï¼ˆæ•ˆç‡ä¼˜äºsplitåˆ†ç¦»ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.splitext(123.txt)  # (&#x27;123&#x27;,&#x27;.txt&#x27;)</span><br></pre></td></tr></table></figure></li><li><p>ç”¨äºåˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">os.path.exists(&quot;/mnt/hgfs/123.txt&quot;)</span><br></pre></td></tr></table></figure></li><li><p>ç”¨äºè·å–å½“å‰çš„ç»å¯¹è·¯å¾„(å¦‚æœæœ‰è½¯é“¾åˆ™ä¼šè¿”å›è½¯é“¾ä¸Šçš„è·¯å¾„)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">os.path.abspath(__file__)  # å®Œæ•´çš„å½“å‰è·¯å¾„  </span><br><span class="line">ä¾‹å¦‚ï¼š/mnt/hgfs/123.txt</span><br><span class="line"></span><br><span class="line">os.path.abspath(&quot;123.txt&quot;)  # å½“å‰è·¯å¾„çš„ä¸Šä¸€çº§ç›®å½• å’Œ 123.txt æ‹¼æ¥ </span><br><span class="line">ä¾‹å¦‚ï¼š/mnt/123.txt</span><br><span class="line"></span><br><span class="line">æºç è§£é‡Šï¼šæ ¹æ®ä¼ å…¥çš„å‚æ•°ç¼–ç ä¸åŒï¼Œæ‰§è¡Œçš„æ–¹æ³•ä¸åŒ</span><br></pre></td></tr></table></figure></li></ol><p>6.ç”¨äºè·å–å½“å‰æ‰§è¡Œè„šæœ¬çš„ç»å¯¹è·¯å¾„ï¼ˆè¶Šè¿‡è½¯é“¾è·¯å¾„ç›´æ¥è¿”å›çœŸå®çš„å®Œæ•´è·¯å¾„ï¼‰</p><pre><code>os.path.realpath(__file__)</code></pre><p>7.ç”¨äºè·¯å¾„æ‹¼æ¥</p><pre><code>os.path.join(&quot;/mnt/hgfs&quot;,&quot;123.txt&quot;) # /mnt/hgfs/123.txt</code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-os </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--whereæ¡ä»¶ç­›é€‰</title>
      <link href="/2022/02/16/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--where%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89/"/>
      <url>/2022/02/16/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--where%E6%9D%A1%E4%BB%B6%E7%AD%9B%E9%80%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="å½“æ•°ç»„æ˜¯ä¸€ç»´æ•°ç»„æ—¶"><a href="#å½“æ•°ç»„æ˜¯ä¸€ç»´æ•°ç»„æ—¶" class="headerlink" title="å½“æ•°ç»„æ˜¯ä¸€ç»´æ•°ç»„æ—¶"></a>å½“æ•°ç»„æ˜¯ä¸€ç»´æ•°ç»„æ—¶</h3><p> è¿”å›çš„å€¼æ˜¯ä¸€ç»´çš„ç´¢å¼•ï¼Œæ‰€ä»¥åªæœ‰ä¸€ç»„ç´¢å¼•æ•°ç»„</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">8</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment"># array([0, 1, 2, 3, 4, 5, 6, 7])</span></span><br><span class="line"> </span><br><span class="line">np.where(a&gt;<span class="number">4</span>)</span><br><span class="line"><span class="comment"># (array([5, 6, 7], dtype=int64),)</span></span><br></pre></td></tr></table></figure><h3 id="å½“æ•°ç»„æ˜¯äºŒç»´æ•°ç»„æ—¶"><a href="#å½“æ•°ç»„æ˜¯äºŒç»´æ•°ç»„æ—¶" class="headerlink" title="å½“æ•°ç»„æ˜¯äºŒç»´æ•°ç»„æ—¶"></a>å½“æ•°ç»„æ˜¯äºŒç»´æ•°ç»„æ—¶</h3><p>æ»¡è¶³æ¡ä»¶çš„æ•°ç»„å€¼è¿”å›çš„æ˜¯å€¼çš„ä½ç½®ç´¢å¼•ï¼Œå› æ­¤ä¼šæœ‰ä¸¤ç»„ç´¢å¼•æ•°ç»„æ¥è¡¨ç¤ºå€¼çš„ä½ç½®ï¼Œè¿”å›çš„ç¬¬ä¸€ä¸ªarrayè¡¨ç¤ºè¡Œåæ ‡ï¼Œç¬¬äºŒä¸ªarrayè¡¨ç¤ºçºµåæ ‡ï¼Œä¸¤è€…ä¸€ä¸€å¯¹åº”</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">b = np.arange(<span class="number">4</span>*<span class="number">5</span>).reshape(<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment"># array([[ 0,  1,  2,  3,  4],</span></span><br><span class="line">       [ <span class="number">5</span>,  <span class="number">6</span>,  <span class="number">7</span>,  <span class="number">8</span>,  <span class="number">9</span>],</span><br><span class="line">       [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>],</span><br><span class="line">       [<span class="number">15</span>, <span class="number">16</span>, <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>]])</span><br><span class="line"> </span><br><span class="line">c = np.where(b&gt;<span class="number">14</span>)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment"># (array([3, 3, 3, 3, 3], dtype=int64), array([0, 1, 2, 3, 4], dtype=int64))</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c)) <span class="comment"># &lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"><span class="comment"># äºŒç»´æ•°ç»„è¿”å›çš„æ˜¯ä¸¤ä¸ªå…ƒç»„</span></span><br></pre></td></tr></table></figure><h5 id="å–å€¼ï¼š"><a href="#å–å€¼ï¼š" class="headerlink" title="å–å€¼ï¼š"></a>å–å€¼ï¼š</h5><p>é€šè¿‡ a[c] ä¾¿å¯ä»¥å–åˆ°&gt;0çš„å€¼ï¼š[4 5 6 7 8 9]</p><h3 id="æ ¹æ®åˆ¤æ–­çš„æ¡ä»¶ä¿®æ”¹å€¼"><a href="#æ ¹æ®åˆ¤æ–­çš„æ¡ä»¶ä¿®æ”¹å€¼" class="headerlink" title="æ ¹æ®åˆ¤æ–­çš„æ¡ä»¶ä¿®æ”¹å€¼"></a>æ ¹æ®åˆ¤æ–­çš„æ¡ä»¶ä¿®æ”¹å€¼</h3><p>1ã€numpy.whereçš„è¿”å›ç»“æœ</p><p>numpy.whereè°ƒç”¨æ–¹å¼ä¸ºnumpy.where(condition,1,2)</p><p>æ»¡è¶³æ¡ä»¶çš„ä½ç½®ä¸Šè¿”å›ç»“æœ1ï¼Œä¸æ»¡è¶³çš„ä½ç½®ä¸Šè¿”å›ç»“æœ2</p><p> ä¾‹å¦‚ï¼šé€šè¿‡where()å‡½æ•°å°†aæ•°ç»„ä¸­è´Ÿå€¼è®¾ä¸º0ï¼Œæ­£å€¼ä¸å˜<br>(å›¾åƒ)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([-<span class="number">1</span>,-<span class="number">2</span>,-<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#[[1 2 3]</span></span><br><span class="line"><span class="comment"># [4 5 6]</span></span><br><span class="line"><span class="comment"># [7 8 9]]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">b = np.where(a&gt;<span class="number">0</span>,a,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment">#[[0 0 0]</span></span><br><span class="line"><span class="comment"># [4 5 6]</span></span><br><span class="line"><span class="comment"># [7 8 9]]</span></span><br></pre></td></tr></table></figure><h3 id="å½“ç­›é€‰æ•°æ®ä¸ºå¸ƒå°”å€¼æ—¶"><a href="#å½“ç­›é€‰æ•°æ®ä¸ºå¸ƒå°”å€¼æ—¶" class="headerlink" title="å½“ç­›é€‰æ•°æ®ä¸ºå¸ƒå°”å€¼æ—¶"></a>å½“ç­›é€‰æ•°æ®ä¸ºå¸ƒå°”å€¼æ—¶</h3><p>ç¬¬ä¸€ä¸ªå€¼ä»[1,9]ä¸­é€‰ï¼Œå› ä¸ºæ¡ä»¶ä¸ºTrueï¼Œæ‰€ä»¥æ˜¯é€‰1ã€‚ç¬¬äºŒä¸ªå€¼ä»[2,8]ä¸­é€‰ï¼Œå› ä¸ºæ¡ä»¶ä¸ºFalseï¼Œæ‰€ä»¥é€‰8ï¼Œåé¢ä»¥æ­¤ç±»æ¨ã€‚ç±»ä¼¼çš„é—®é¢˜å¯ä»¥å†çœ‹ä¸ªä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">np.where([[<span class="literal">True</span>,<span class="literal">False</span>], [<span class="literal">True</span>,<span class="literal">True</span>]],    <span class="comment"># å®˜ç½‘ä¸Šçš„ä¾‹å­</span></span><br><span class="line"> [[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">3</span>,<span class="number">4</span>]],</span><br><span class="line">             [[<span class="number">9</span>,<span class="number">8</span>], [<span class="number">7</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="comment"># ç»“æœï¼šarray([[1, 8],[3, 4]])</span></span><br></pre></td></tr></table></figure><h3 id="å½“ç­›é€‰æ¡ä»¶ä¸ºå¤šæ¡ä»¶æ—¶"><a href="#å½“ç­›é€‰æ¡ä»¶ä¸ºå¤šæ¡ä»¶æ—¶" class="headerlink" title="å½“ç­›é€‰æ¡ä»¶ä¸ºå¤šæ¡ä»¶æ—¶"></a>å½“ç­›é€‰æ¡ä»¶ä¸ºå¤šæ¡ä»¶æ—¶</h3><p>å¤šæ¡ä»¶æ—¶conditionï¼Œ&amp;è¡¨ç¤ºä¸ï¼Œ|è¡¨ç¤ºæˆ–ã€‚å¦‚a &#x3D; np.where((0&lt;a)&amp;(a&lt;5), x, y)ï¼Œå½“0&lt;aä¸a&lt;5æ»¡è¶³æ—¶ï¼Œè¿”å›xçš„å€¼ï¼Œå½“0&lt;aä¸a&lt;5ä¸æ»¡è¶³æ—¶ï¼Œè¿”å›yçš„å€¼ã€‚æ³¨æ„x, yå¿…é¡»å’Œaä¿æŒç›¸åŒå°ºå¯¸ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sql--å»é‡</title>
      <link href="/2022/02/15/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%8E%BB%E9%87%8D/"/>
      <url>/2022/02/15/MySQL/SQL%E8%AF%AD%E5%8F%A5/sql--%E5%8E%BB%E9%87%8D/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> å­—æ®µå <span class="keyword">from</span> table_name</span><br></pre></td></tr></table></figure><h4 id="é“¾æ¥æ•°æ®åº“"><a href="#é“¾æ¥æ•°æ®åº“" class="headerlink" title="é“¾æ¥æ•°æ®åº“"></a>é“¾æ¥æ•°æ®åº“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> sessionmaker</span><br><span class="line"></span><br><span class="line">config = &#123;</span><br><span class="line">    <span class="string">&#x27;host&#x27;</span>:<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;port&#x27;</span>:<span class="number">3306</span>,</span><br><span class="line">    <span class="string">&#x27;username&#x27;</span>:<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;password&#x27;</span>:<span class="string">&#x27;wanghan...&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;database&#x27;</span>:<span class="string">&#x27;test&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">URL = <span class="string">&#x27;mysql+pymysql://&#123;username&#125;:&#123;password&#125;@&#123;host&#125;:&#123;port&#125;/&#123;database&#125;?charset=utf8&#x27;</span>.<span class="built_in">format</span>(**config)</span><br><span class="line">engine = create_engine(URL)</span><br><span class="line">session = sessionmaker(engine)()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="sqlè¯­å¥"><a href="#sqlè¯­å¥" class="headerlink" title="sqlè¯­å¥"></a>sqlè¯­å¥</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sql</span> <span class="operator">=</span> <span class="string">&#x27;select distinct name from Persion&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="æäº¤å¹¶å…³é—­é“¾æ¥"><a href="#æäº¤å¹¶å…³é—­é“¾æ¥" class="headerlink" title="æäº¤å¹¶å…³é—­é“¾æ¥"></a>æäº¤å¹¶å…³é—­é“¾æ¥</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data = session.execute(sql)</span><br><span class="line"><span class="built_in">print</span>(data.fetchall())</span><br><span class="line">session.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--ç»˜å›¾ä¸­æ–‡ä¹±ç é—®é¢˜</title>
      <link href="/2022/02/15/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--%E7%BB%98%E5%9B%BE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/"/>
      <url>/2022/02/15/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--%E7%BB%98%E5%9B%BE%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Pythonä¸­é»˜è®¤çš„ç¼–ç æ ¼å¼æ˜¯ ASCII æ ¼å¼ï¼Œåœ¨æ²¡ä¿®æ”¹ç¼–ç æ ¼å¼æ—¶æ— æ³•æ­£ç¡®æ‰“å°æ±‰å­—ï¼Œæ‰€ä»¥åœ¨è¯»å–ä¸­æ–‡æ—¶ä¼šæŠ¥é”™ã€‚</p><p>è§£å†³æ–¹æ³•ä¸ºåªè¦åœ¨æ–‡ä»¶å¼€å¤´åŠ å…¥ # â€“ coding: UTF-8 â€“ æˆ–è€… #coding&#x3D;utf-8 å°±è¡Œäº†<br>è¿™æ˜¯è§£å†³printçš„ä¸­æ–‡ä¹±ç çš„é—®é¢˜,å¹¶ä¸”è¿˜æ˜¯ä½ç‰ˆæœ¬python,å®æµ‹pythonçš„matplotlibç”»å›¾æ—¶,å¦‚æœæœ‰ä¸­æ–‡ä¼šå‡ºç°ä¹±ç é—®é¢˜, å¦‚å›¾ï¼š<br><img src="https://s4.ax1x.com/2022/02/15/Hg3Dvq.png" alt="Hg3Dvq.png"></p><p>æœ€å¸¸è§çš„è§£å†³æ–¹æ³•ï¼š</p><pre><code>plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;] # è§£å†³ä¸­æ–‡ä¹±ç plt.rcParams[&#39;axes.unicode_minus&#39;]=False # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</code></pre><p>æ•ˆæœï¼š<br><img src="https://s4.ax1x.com/2022/02/15/Hg3vRA.png" alt="Hg3vRA.png"></p><h2 id="å¦‚æœè¿™ç§æ–¹æ³•æ²¡èµ·ä½œç”¨ï¼Œé‚£å¾€ä¸‹çœ‹"><a href="#å¦‚æœè¿™ç§æ–¹æ³•æ²¡èµ·ä½œç”¨ï¼Œé‚£å¾€ä¸‹çœ‹" class="headerlink" title="å¦‚æœè¿™ç§æ–¹æ³•æ²¡èµ·ä½œç”¨ï¼Œé‚£å¾€ä¸‹çœ‹"></a>å¦‚æœè¿™ç§æ–¹æ³•æ²¡èµ·ä½œç”¨ï¼Œé‚£å¾€ä¸‹çœ‹</h2><h2 id="å¦‚ä½•ä½¿ç”¨-matplotlib-å…¨å±€å­—ä½“çš„è‡ªå®šä¹‰è·¯å¾„è®¾ç½®è‡ªå®šä¹‰å­—ä½“ï¼Ÿ"><a href="#å¦‚ä½•ä½¿ç”¨-matplotlib-å…¨å±€å­—ä½“çš„è‡ªå®šä¹‰è·¯å¾„è®¾ç½®è‡ªå®šä¹‰å­—ä½“ï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿ç”¨ matplotlib å…¨å±€å­—ä½“çš„è‡ªå®šä¹‰è·¯å¾„è®¾ç½®è‡ªå®šä¹‰å­—ä½“ï¼Ÿ"></a>å¦‚ä½•ä½¿ç”¨ matplotlib å…¨å±€å­—ä½“çš„è‡ªå®šä¹‰è·¯å¾„è®¾ç½®è‡ªå®šä¹‰å­—ä½“ï¼Ÿ</h2><p>æˆ‘çš„åº”ç”¨ç¨‹åºä¸­æœ‰ä¸€ä¸ªè‡ªå®šä¹‰å­—ä½“</p><pre><code>base_dir = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))font_dirs = os.path.join(base_dir, &quot;font/SourceHanSansSC-Bold.otf&quot;)# /mng/hgfs/upar_tlogp_draw/font/SourceHanSansSC-Bold.otf</code></pre><p>ä¸ºäº†å°†globalå­—ä½“è®¾ç½®ä¸ºmatplotlibï¼Œæ–‡æ¡£æ˜¯è¿™æ ·è¯´çš„ï¼š</p><pre><code>plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;xxx font&#39;]</code></pre><p>ä½†å®ƒåªåœ¨å­—ä½“å·²ç»åœ¨ç³»ç»Ÿå­—ä½“è·¯å¾„ä¸­æ—¶æ‰æœ‰æ•ˆï¼Œå¹¶ä¸”æˆ‘å¿…é¡»åœ¨æˆ‘çš„åº”ç”¨ç¨‹åºè·¯å¾„â€&#x2F;mng&#x2F;hgfs&#x2F;upar_tlogp_draw&#x2F;font&#x2F;SourceHanSansSC-Bold.otfâ€ä¸­ä½¿ç”¨æˆ‘çš„è‡ªå®šä¹‰å­—ä½“ã€‚</p><p>æˆ‘çŸ¥é“æœ‰è¿™æ ·ä¸€ç§æ–¹æ³•ï¼š</p><pre><code>import matplotlib.font_manager as font_managerbase_dir = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))zhfont1 = font_manager.FontProperties(fname=os.path.join(base_dir, &quot;font/SourceHanSansSC-Bold.otf&quot;))ax1.set_title(&#39;ä¸­æ–‡&#39;,fontproperties=zhfont1)</code></pre><p>ä½†è¿™ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œæˆ‘ä¸æƒ³ä¸€ç›´è®¾ç½®â€å­—ä½“å±æ€§â€ï¼Œå› ä¸ºæœ‰å¾ˆå¤šä»£ç éœ€è¦æ›´æ”¹</p><h2 id="äº²æµ‹-é‡ç‚¹ï¼ï¼ï¼-ï¼š"><a href="#äº²æµ‹-é‡ç‚¹ï¼ï¼ï¼-ï¼š" class="headerlink" title="äº²æµ‹(é‡ç‚¹ï¼ï¼ï¼)ï¼š"></a><font color="red">äº²æµ‹(é‡ç‚¹ï¼ï¼ï¼)</font>ï¼š</h2><h4 id="æˆ‘æœ€è¿‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°è¿™æ˜¯å¤„ç†å®ƒçš„æœ€ç®€å•æ–¹æ³•ã€‚"><a href="#æˆ‘æœ€è¿‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°è¿™æ˜¯å¤„ç†å®ƒçš„æœ€ç®€å•æ–¹æ³•ã€‚" class="headerlink" title="æˆ‘æœ€è¿‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°è¿™æ˜¯å¤„ç†å®ƒçš„æœ€ç®€å•æ–¹æ³•ã€‚"></a>æˆ‘æœ€è¿‘é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œå‘ç°è¿™æ˜¯å¤„ç†å®ƒçš„æœ€ç®€å•æ–¹æ³•ã€‚</h4><h4 id="æ·»åŠ å­—ä½“æ˜¯é‡è¦çš„éƒ¨åˆ†ï¼Œå¦åˆ™ï¼Œå­—ä½“å°†æ— æ³•è¢«æ£€æµ‹åˆ°ï¼š"><a href="#æ·»åŠ å­—ä½“æ˜¯é‡è¦çš„éƒ¨åˆ†ï¼Œå¦åˆ™ï¼Œå­—ä½“å°†æ— æ³•è¢«æ£€æµ‹åˆ°ï¼š" class="headerlink" title="æ·»åŠ å­—ä½“æ˜¯é‡è¦çš„éƒ¨åˆ†ï¼Œå¦åˆ™ï¼Œå­—ä½“å°†æ— æ³•è¢«æ£€æµ‹åˆ°ï¼š"></a>æ·»åŠ å­—ä½“æ˜¯é‡è¦çš„éƒ¨åˆ†ï¼Œå¦åˆ™ï¼Œå­—ä½“å°†æ— æ³•è¢«æ£€æµ‹åˆ°ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">from matplotlib import font_manager</span><br><span class="line"># å…¨å±€å˜é‡</span><br><span class="line">base_dir = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))</span><br><span class="line">font_dirs = os.path.join(base_dir, &quot;font/SourceHanSansSC-Bold.otf&quot;)</span><br><span class="line"></span><br><span class="line"># å†™å…¥ç»˜å›¾ç¨‹åºä¸­</span><br><span class="line">font_manager.fontManager.addfont(font_dirs)</span><br><span class="line">prop = font_manager.FontProperties(fname=font_dirs)</span><br><span class="line">plt.rcParams[&#x27;font.family&#x27;] = [&#x27;sans-serif&#x27;]  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span><br><span class="line">plt.rcParams[&#x27;font.sans-serif&#x27;] = prop.get_name()  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span><br><span class="line">plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False  # ç”¨æ¥æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span><br></pre></td></tr></table></figure><p>åé¢æˆ‘åˆåœ¨stackoverflowæ‰¾åˆ°äº†å¦ä¸€ç§æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.font_manager as font_manager</span><br><span class="line">font_dirs = [&#x27;/my/custom/font/dir&#x27;, ]</span><br><span class="line">font_files = font_manager.findSystemFonts(fontpaths=font_dirs)</span><br><span class="line">font_list = font_manager.createFontList(font_files)</span><br><span class="line">font_manager.fontManager.ttflist.extend(font_list)</span><br><span class="line">mpl.rcParams[&#x27;font.family&#x27;] = &#x27;My Custom Font&#x27;</span><br><span class="line"></span><br><span class="line"># kwarg ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥é˜²æ‚¨åªæœ‰ä¸€ä¸ªç›®å½•è¦ä»ä¸­å¯¼å…¥ã€‚fontpaths</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä¸Šé¢çš„æ–¹æ³•ï¼Œåœ¨å¯¹äºæ¯”è¾ƒæ–°çš„matplotlibæ¨¡å—ï¼ˆä¾‹å¦‚ç‰ˆæœ¬&gt;&#x3D;3.2ï¼‰æ—¶ï¼ŒcreateFontListå·²å¼ƒç”¨</p><p>Hoeverï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ttfæ–‡ä»¶è·¯å¾„å’Œè‡ªå®šä¹‰åç§°åˆ›å»ºä¸€ä¸ªå­—ä½“æ¡ç›®ï¼Œ<br>ç„¶åå°†å…¶æ·»åŠ åˆ°fontManager.ttflistï¼Œå¹¶å°†matplotlib.rcParams[â€˜font.familtâ€™]åˆ†é…ç»™è¯¥åç§°ã€‚<br>ç°åœ¨ï¼Œæ‚¨å¯ä»¥å¼€å§‹åˆ¶ä½œæ²¡æœ‰â€å­—ä½“å±æ€§â€ç­‰çš„æƒ…èŠ‚ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib as mpl</span><br><span class="line">import matplotlib.font_manager as fm</span><br><span class="line"></span><br><span class="line">fe = fm.FontEntry(</span><br><span class="line">    fname=&#x27;your custom ttf file path&#x27;,</span><br><span class="line">    name=&#x27;your custom ttf font name&#x27;)</span><br><span class="line">fm.fontManager.ttflist.insert(0, fe) # or append is fine</span><br><span class="line">mpl.rcParams[&#x27;font.family&#x27;] = fe.name # = &#x27;your custom ttf font name&#x27;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PyMySQLè¿æ¥æ•°æ®åº“ï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰</title>
      <link href="/2022/02/15/Python/%E6%A8%A1%E5%9D%97/PyMySQL/PyMySQL%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%EF%BC%89/"/>
      <url>/2022/02/15/Python/%E6%A8%A1%E5%9D%97/PyMySQL/PyMySQL%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="æ­¥éª¤ï¼š"><a href="#æ­¥éª¤ï¼š" class="headerlink" title="æ­¥éª¤ï¼š"></a>æ­¥éª¤ï¼š</h4><ol><li>è¿æ¥æ•°æ®åº“</li><li>ç”Ÿæˆæ¸¸æ ‡å¯¹è±¡</li><li>æ‰§è¡ŒSQLè¯­å¥</li><li>å…³é—­æ¸¸æ ‡</li><li>å…³é—­è¿æ¥</li></ol><p>PyMySQL ï¼š</p><p>æ˜¯å°è£…äº†MySQLé©±åŠ¨çš„Pythoné©±åŠ¨ï¼Œä¸€ä¸ªèƒ½ä½¿Pythonè¿æ¥åˆ°MySQLçš„åº“</p><p>ç¯å¢ƒè¦æ±‚ï¼šPython version &gt;&#x3D; 3.4</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line">#è¿æ¥æ•°æ®åº“</span><br><span class="line">conn=pymysql.connect(host = &#x27;127.0.0.1&#x27; # è¿æ¥åç§°ï¼Œé»˜è®¤127.0.0.1</span><br><span class="line">,user = &#x27;root&#x27; # ç”¨æˆ·å</span><br><span class="line">,passwd=&#x27;password&#x27; # å¯†ç </span><br><span class="line">,port= 3306 # ç«¯å£ï¼Œé»˜è®¤ä¸º3306</span><br><span class="line">,db=&#x27;test&#x27; # æ•°æ®åº“åç§°</span><br><span class="line">,charset=&#x27;utf8&#x27; # å­—ç¬¦ç¼–ç </span><br><span class="line">)</span><br><span class="line">cur = conn.cursor() # ç”Ÿæˆæ¸¸æ ‡å¯¹è±¡</span><br><span class="line">sql=&quot;select * from `student` &quot; # SQLè¯­å¥</span><br><span class="line">cur.execute(sql) # æ‰§è¡ŒSQLè¯­å¥</span><br><span class="line">data = cur.fetchall() # é€šè¿‡fetchallæ–¹æ³•è·å¾—æ•°æ®</span><br><span class="line">for i in data[:2]: # æ‰“å°è¾“å‡ºå‰2æ¡æ•°æ®</span><br><span class="line">print (i)</span><br><span class="line">cur.close() # å…³é—­æ¸¸æ ‡</span><br><span class="line">conn.close() # å…³é—­è¿æ¥</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œå®ç°äº†é€šè¿‡Pythonè¿æ¥MySQLæŸ¥è¯¢æ‰€æœ‰çš„æ•°æ®ï¼Œå¹¶è¾“å‡ºå‰2æ¡æ•°æ®çš„åŠŸèƒ½ã€‚æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š</p><p>(â€˜aâ€™, â€˜èµµå¤§â€™, â€˜16â€™)<br>(â€˜bâ€™, â€˜é’±äºŒâ€™, â€˜16â€™)</p><h2 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line">#è¿æ¥æ•°æ®åº“</span><br><span class="line">conn=pymysql.connect(host = &#x27;127.0.0.1&#x27; # è¿æ¥åç§°ï¼Œé»˜è®¤127.0.0.1</span><br><span class="line">,user = &#x27;root&#x27; # ç”¨æˆ·å</span><br><span class="line">,passwd=&#x27;password&#x27; # å¯†ç </span><br><span class="line">,port= 3306 # ç«¯å£ï¼Œé»˜è®¤ä¸º3306</span><br><span class="line">,db=&#x27;test&#x27; # æ•°æ®åº“åç§°</span><br><span class="line">,charset=&#x27;utf8&#x27; # å­—ç¬¦ç¼–ç </span><br><span class="line">)</span><br><span class="line">cur = conn.cursor() # ç”Ÿæˆæ¸¸æ ‡å¯¹è±¡</span><br><span class="line">#=============æ’å…¥è¯­å¥===============================</span><br><span class="line">sql= &quot;INSERT INTO student VALUES (&#x27;p&#x27;,&#x27;é­å…­&#x27;,&#x27;17&#x27;)&quot;</span><br><span class="line">#===================================================</span><br><span class="line">try:</span><br><span class="line">    cur.execute(sql1) # æ‰§è¡Œæ’å…¥çš„sqlè¯­å¥</span><br><span class="line">    conn.commit() # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ</span><br><span class="line">except:</span><br><span class="line">    coon.rollback()# å¦‚æœå‘ç”Ÿé”™è¯¯åˆ™å›æ»š</span><br><span class="line">    conn.close() # å…³é—­æ•°æ®åº“è¿æ¥</span><br></pre></td></tr></table></figure><h2 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line">#è¿æ¥æ•°æ®åº“</span><br><span class="line">conn=pymysql.connect(host = &#x27;127.0.0.1&#x27; # è¿æ¥åç§°ï¼Œé»˜è®¤127.0.0.1</span><br><span class="line">    ,user = &#x27;root&#x27; # ç”¨æˆ·å</span><br><span class="line">    ,passwd=&#x27;password&#x27; # å¯†ç </span><br><span class="line">    ,port= 3306 # ç«¯å£ï¼Œé»˜è®¤ä¸º3306</span><br><span class="line">    ,db=&#x27;test&#x27; # æ•°æ®åº“åç§°</span><br><span class="line">    ,charset=&#x27;utf8&#x27; # å­—ç¬¦ç¼–ç </span><br><span class="line">)</span><br><span class="line">cur = conn.cursor() # ç”Ÿæˆæ¸¸æ ‡å¯¹è±¡</span><br><span class="line">#=============åˆ é™¤è¯­å¥===============================</span><br><span class="line">sql = &quot;DELETE FROM student WHERE `å­¦å·` = &quot;a&quot;</span><br><span class="line">#===================================================</span><br><span class="line">try:</span><br><span class="line">    cur.execute(sql) # æ‰§è¡Œæ’å…¥çš„sqlè¯­å¥</span><br><span class="line">    conn.commit() # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ</span><br><span class="line">except:</span><br><span class="line">    coon.rollback()# å¦‚æœå‘ç”Ÿé”™è¯¯åˆ™å›æ»š</span><br><span class="line">    conn.close() # å…³é—­æ•°æ®åº“è¿æ¥</span><br></pre></td></tr></table></figure><h2 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line">#è¿æ¥æ•°æ®åº“</span><br><span class="line">conn=pymysql.connect(host = &#x27;127.0.0.1&#x27; # è¿æ¥åç§°ï¼Œé»˜è®¤127.0.0.1</span><br><span class="line">,user = &#x27;root&#x27; # ç”¨æˆ·å</span><br><span class="line">,passwd=&#x27;password&#x27; # å¯†ç </span><br><span class="line">,port= 3306 # ç«¯å£ï¼Œé»˜è®¤ä¸º3306</span><br><span class="line">,db=&#x27;test&#x27; # æ•°æ®åº“åç§°</span><br><span class="line">,charset=&#x27;utf8&#x27; # å­—ç¬¦ç¼–ç </span><br><span class="line">)</span><br><span class="line">cur = conn.cursor() # ç”Ÿæˆæ¸¸æ ‡å¯¹è±¡</span><br><span class="line">#=============åˆ é™¤è¯­å¥===============================</span><br><span class="line">sql =&quot;UPDATE student SET `å­¦å‘˜å§“å` = &#x27;æ¬§é˜³&#x27; WHERE `å­¦å·` = &#x27;b&#x27; &quot;</span><br><span class="line">#===================================================</span><br><span class="line">try:</span><br><span class="line">    cur.execute(sql) # æ‰§è¡Œæ’å…¥çš„sqlè¯­å¥</span><br><span class="line">    conn.commit() # æäº¤åˆ°æ•°æ®åº“æ‰§è¡Œ</span><br><span class="line">except:</span><br><span class="line">    coon.rollback()# å¦‚æœå‘ç”Ÿé”™è¯¯åˆ™å›æ»š</span><br><span class="line">    conn.close() # å…³é—­æ•°æ®åº“è¿æ¥</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…³äºæ•°æ®åº“ä¿¡æ¯æ”¹å…¥é…ç½®æ–‡ä»¶å¦‚ä½•è¿æ¥"><a href="#å…³äºæ•°æ®åº“ä¿¡æ¯æ”¹å…¥é…ç½®æ–‡ä»¶å¦‚ä½•è¿æ¥" class="headerlink" title="å…³äºæ•°æ®åº“ä¿¡æ¯æ”¹å…¥é…ç½®æ–‡ä»¶å¦‚ä½•è¿æ¥"></a>å…³äºæ•°æ®åº“ä¿¡æ¯æ”¹å…¥é…ç½®æ–‡ä»¶å¦‚ä½•è¿æ¥</h2><p>CONFIG.pyï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql_conn = &#123;</span><br><span class="line">    &quot;host&quot;:&quot;192.168.30.50&quot;,</span><br><span class="line">    &quot;port&quot;:3306,</span><br><span class="line">    &quot;database&quot;:&quot;aviation_ezhou&quot;,</span><br><span class="line">    &quot;user&quot;:&quot;root&quot;,</span><br><span class="line">    &quot;password&quot;:&quot;Ecoweather@2022&quot;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿æ¥.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> CONFIG <span class="keyword">import</span> mysql_conn</span><br><span class="line"></span><br><span class="line">db = pymysql.connect(**mysql_conn)</span><br><span class="line">cursor = db.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç„¶åæ‰§è¡Œsqlè¯­å¥</span></span><br><span class="line">sql1 = <span class="string">f&#x27;SELECT distinct datetime,tem,prs_hwc,rhu from <span class="subst">&#123;uparData_tablename+yearMon&#125;</span> where station_name =&quot;<span class="subst">&#123;station_name&#125;</span>&quot; and datetime = &quot;<span class="subst">&#123;qqsj&#125;</span>&quot; ORDER BY prs_hwc;&#x27;</span></span><br><span class="line">cursor.execute(sql1)</span><br><span class="line">data = cursor.fetchall()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-PyMySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--æœ€å¤§æœ€å°å€¼</title>
      <link href="/2022/02/12/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC/"/>
      <url>/2022/02/12/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æœ€å¤§å€¼ï¼šnp.max()</p><p>æœ€å°å€¼ï¼šnp.min()</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python--[ï¼š-1]å’Œ[ï¼šï¼š-1]</title>
      <link href="/2022/02/10/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/python--%5B%EF%BC%9A-1%5D%E5%92%8C%5B%EF%BC%9A%EF%BC%9A-1%5D/"/>
      <url>/2022/02/10/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/python--%5B%EF%BC%9A-1%5D%E5%92%8C%5B%EF%BC%9A%EF%BC%9A-1%5D/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="python-ä¸­çš„-1-å’Œ-1"><a href="#python-ä¸­çš„-1-å’Œ-1" class="headerlink" title="python ä¸­çš„[:-1]å’Œ[::-1]"></a>python ä¸­çš„[:-1]å’Œ[::-1]</h3><h4 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h4><p>pythoné‡Œé¢çš„ç´¢å¼•çš„ç‰¹å¾æ˜¯åŒ…å«èµ·ç‚¹ï¼Œä½†æ˜¯ä¸åŒ…å«ç»“æŸçš„ç´¢å¼•å€¼ï¼Œ-1è¡¨ç¤ºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œä½†æ˜¯-1æ˜¯ç»“å°¾çš„indexï¼Œæ‰€ä»¥å«ä¹‰å°±æ˜¯å–åŸå§‹æ•°æ®çš„é™¤æœ€åä¸€ä¸ªå…ƒç´ ä¹‹å¤–çš„å€¼</p><h4 id="1-é¡ºåºç›¸åæ“ä½œ"><a href="#1-é¡ºåºç›¸åæ“ä½œ" class="headerlink" title="[::-1] é¡ºåºç›¸åæ“ä½œ"></a><font color="red">[::-1] é¡ºåºç›¸åæ“ä½œ</font></h4><h4 id="1-è¯»å–å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ "><a href="#1-è¯»å–å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ " class="headerlink" title="[-1] è¯»å–å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ "></a><font color="red">[-1] è¯»å–å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´ </font></h4><h4 id="1ã€æ¡ˆä¾‹è§£é‡Š"><a href="#1ã€æ¡ˆä¾‹è§£é‡Š" class="headerlink" title="1ã€æ¡ˆä¾‹è§£é‡Š"></a>1ã€æ¡ˆä¾‹è§£é‡Š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a=&#x27;python&#x27;</span><br><span class="line"> </span><br><span class="line">b=a[::-1]</span><br><span class="line"> </span><br><span class="line">print(b) #nohtyp</span><br><span class="line"> </span><br><span class="line">c=a[::-2]</span><br><span class="line"> </span><br><span class="line">print(c) #nhy</span><br><span class="line"> </span><br><span class="line">#ä»åå¾€å‰æ•°çš„è¯ï¼Œæœ€åä¸€ä¸ªä½ç½®ä¸º-1</span><br><span class="line">d=a[:-1]  #ä»ä½ç½®0åˆ°ä½ç½®-1ä¹‹å‰çš„æ•°</span><br><span class="line"> </span><br><span class="line">print(d)  #pytho</span><br><span class="line"> </span><br><span class="line">e=a[:-2]  #ä»ä½ç½®0åˆ°ä½ç½®-2ä¹‹å‰çš„æ•°</span><br><span class="line"> </span><br><span class="line">print(e)  #pyth</span><br></pre></td></tr></table></figure><h4 id="2ã€ç”¨æ³•è¯´æ˜"><a href="#2ã€ç”¨æ³•è¯´æ˜" class="headerlink" title="2ã€ç”¨æ³•è¯´æ˜"></a>2ã€ç”¨æ³•è¯´æ˜</h4><p>b &#x3D; a[i:j]<br>è¡¨ç¤ºå¤åˆ¶a[i]åˆ°a[j-1]ï¼Œä»¥ç”Ÿæˆæ–°çš„listå¯¹è±¡</p><p>æ¡ˆä¾‹ï¼š<br>a &#x3D; [0,1,2,3,4,5,6,7,8,9]<br>b &#x3D; a[1:3]   # [1,2]</p><p>æ³¨æ„</p><p>å½“iç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º0ï¼Œå³ a[:3]ç›¸å½“äº a[0:3]</p><p>å½“jç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸ºlen(alist), å³a[1:]ç›¸å½“äºa[1:10]</p><p>å½“iï¼Œjéƒ½ç¼ºçœæ—¶ï¼Œa[:] å°±ç›¸å½“äºå®Œæ•´å¤åˆ¶ä¸€ä»½a</p><p>b &#x3D; a[i:j:s]<br>è¡¨ç¤ºï¼ši,jä¸ä¸Šé¢çš„ä¸€æ ·ï¼Œä½†sè¡¨ç¤ºæ­¥è¿›ï¼Œç¼ºçœä¸º1.<br>æ‰€ä»¥ a[i:j:1] ç›¸å½“äº a[i:j]</p><p>æ³¨æ„</p><p>å½“s&lt;0æ—¶ï¼Œiç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º-1. jç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º-len(a)-1</p><p>æ‰€ä»¥a[::-1]ç›¸å½“äº a[-1:-len(a)-1:-1]ï¼Œä¹Ÿå°±æ˜¯ä»æœ€åä¸€ä¸ªå…ƒç´ åˆ°ç¬¬ä¸€ä¸ªå…ƒç´ å¤åˆ¶ä¸€éï¼Œå³å€’åºã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--dates.Dateformatter(å¤„ç†æ—¥æœŸæ ¼å¼çš„xè½´)</title>
      <link href="/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--dates.Dateformatter(%E5%A4%84%E7%90%86%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9A%84x%E8%BD%B4)/"/>
      <url>/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--dates.Dateformatter(%E5%A4%84%E7%90%86%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E7%9A%84x%E8%BD%B4)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Matplotlibæ˜¯Pythonä¸­ä»¤äººæƒŠå¹çš„å¯è§†åŒ–åº“ï¼Œç”¨äºæ•°ç»„çš„äºŒç»´å›¾ã€‚ Matplotlibæ˜¯ä¸€ä¸ªåŸºäºNumPyæ•°ç»„çš„å¤šå¹³å°æ•°æ®å¯è§†åŒ–åº“ï¼Œæ—¨åœ¨ä¸æ›´å¹¿æ³›çš„SciPyå †æ ˆé…åˆä½¿ç”¨ã€‚</p><html><h4><center>Matplotlib.dates.DateFormatter</center></h4><hr></html><p>è¿™ä¸ªmatplotlib.dates.DateFormatterclassç”¨äºä½¿ç”¨strftimeæ ¼å¼çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–åˆ»åº¦(è‡ªçºªå…ƒä»¥æ¥çš„ç§’æ•°)ã€‚å®ƒçš„åŸºç±»æ˜¯matplotlib.ticker.Formatterã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç”¨æ³•ï¼š class matplotlib.dates.DateFormatter(fmt, tz=None)</span><br></pre></td></tr></table></figure><h4 id="å‚æ•°ï¼š"><a href="#å‚æ•°ï¼š" class="headerlink" title="å‚æ•°ï¼š"></a>å‚æ•°ï¼š</h4><ol><li>fmt:å®ƒæ¥å—strftimeæ ¼å¼å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–ï¼Œå¹¶ä¸”æ˜¯å¿…éœ€çš„å‚æ•°ã€‚</li><li>tz:å®ƒä¿å­˜æœ‰å…³æ—¶åŒºçš„ä¿¡æ¯ã€‚å¦‚æœè®¾ç½®ä¸ºnoneï¼Œåˆ™åœ¨æ ¼å¼åŒ–æ—¥æœŸå­—ç¬¦ä¸²æ—¶å°†å¿½ç•¥æ—¶åŒºä¿¡æ¯ã€‚</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># äº‘ä½“åšåº¦æ—¶é—´å˜åŒ–å›¾</span><br><span class="line">def Cloud_Formation_Thickness(inpath,outpath):</span><br><span class="line"></span><br><span class="line">    Ymd = inpath.split(&quot;/&quot;)[-1].split(&quot;_&quot;)[0]</span><br><span class="line">    Ymd = datetime.strptime(Ymd, &quot;%Y%m%d&quot;)</span><br><span class="line">    Ymd = Ymd.strftime(&quot;%Y-%m-%d &quot;)</span><br><span class="line"></span><br><span class="line">    data = pd.read_csv(inpath, encoding=&#x27;GBK&#x27;)</span><br><span class="line"></span><br><span class="line">    df1 = data[[&quot;æ—¶é—´&quot;, &quot;äº‘åš1(m)&quot;]]</span><br><span class="line"></span><br><span class="line">    date_time = (Ymd + df1[&quot;æ—¶é—´&quot;]).astype(&#x27;datetime64&#x27;)</span><br><span class="line">    print(date_time)</span><br><span class="line"></span><br><span class="line">    plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;]</span><br><span class="line">    plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False</span><br><span class="line">    plt.figure(1, figsize=(8, 6), dpi=100)</span><br><span class="line"></span><br><span class="line">    plt.subplot(111)</span><br><span class="line">    plt.plot(date_time, df1[&quot;äº‘åš1(m)&quot;], color=&quot;red&quot;, linewidth=1, alpha=0.8, label=&quot;äº‘ä½“åšåº¦&quot;)</span><br><span class="line">    plt.xlabel(&quot;æ—¶é—´ï¼ˆminï¼‰&quot;, size=15)</span><br><span class="line">    # äº‘ä½“åšåº¦å•ä½éœ€è¦æ”¹</span><br><span class="line">    plt.ylabel(&quot;ç±³ï¼ˆmï¼‰&quot;, size=15)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # è®¾ç½®xè½´ å¹¶å°†xè½´ä¸Šçš„æ—¥æœŸæ ¼å¼åŒ–                   &lt;&lt;&lt;&lt;&lt;-------------------------</span><br><span class="line">    plt.gca().xaxis.set_major_formatter(mdates.DateFormatter(&#x27;%y/%m/%d %H:%M&#x27;))  #å…·ä½“çš„æ ¼å¼å¯ä»¥å˜åŒ–</span><br><span class="line">    plt.gca().xaxis.set_major_locator(mdates.HourLocator())</span><br><span class="line">    plt.gcf().autofmt_xdate()</span><br><span class="line">    plt.legend(loc=&quot;best&quot;, fontsize=15)</span><br><span class="line">    plt.title(&#x27;äº‘ä½“åšåº¦æ—¶é—´å˜åŒ–å›¾&#x27;, size=15)</span><br><span class="line">    plt.tight_layout()</span><br><span class="line"></span><br><span class="line">    begin = date_time.tolist()[0]</span><br><span class="line">    end = date_time.tolist()[-1]</span><br><span class="line">    outpathplot = &quot;%s/%s-æ¿€å…‰äº‘é«˜ä»ªäº‘ä½“åšåº¦æ—¶é—´å˜åŒ–å›¾.png&quot; % (outpath, &#x27;%s-%s&#x27; % (int(begin.strftime(&#x27;%Y%m%d%H%M%S&#x27;)), int(end.strftime(&#x27;%Y%m%d%H%M%S&#x27;))))</span><br><span class="line">    plt.savefig(outpathplot)</span><br><span class="line"></span><br><span class="line">    return outpathplot</span><br></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š</p><p><img src="https://s4.ax1x.com/2021/12/30/T2hOjP.png" alt="T2hOjP.png"></p><h4 id="ç¤ºä¾‹2ï¼š"><a href="#ç¤ºä¾‹2ï¼š" class="headerlink" title="ç¤ºä¾‹2ï¼š"></a>ç¤ºä¾‹2ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">from datetime import datetime</span><br><span class="line">import matplotlib.dates as mdates</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># ç”Ÿæˆæ¨ªçºµåæ ‡ä¿¡æ¯</span><br><span class="line">dates = [&#x27;2016-12-20 09:52:54&#x27;, &#x27;2016-12-20 15:52:54&#x27;, &#x27;2016-12-20 21:52:54&#x27;, &#x27;2016-12-21 03:52:54&#x27;]</span><br><span class="line">xs = [datetime.strptime(m,&#x27;%Y-%m-%d %H:%M:%S&#x27;).date() for m in dates]</span><br><span class="line">ys = range(len(xs))</span><br><span class="line">print(xs)</span><br><span class="line">print(ys)</span><br><span class="line"># é…ç½®æ¨ªåæ ‡</span><br><span class="line">plt.gca().xaxis.set_major_formatter(mdates.DateFormatter(&#x27;%Y-%m-%d&#x27;))</span><br><span class="line">plt.gca().xaxis.set_major_locator(mdates.DayLocator())</span><br><span class="line"># Plot</span><br><span class="line">plt.plot(xs, ys)</span><br><span class="line">plt.gcf().autofmt_xdate()  # è‡ªåŠ¨æ—‹è½¬æ—¥æœŸæ ‡è®°</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>å¦‚å›¾ï¼š<br><img src="https://s4.ax1x.com/2021/12/30/T24j2R.png" alt="T24j2R.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--subplots()å‡½æ•°</title>
      <link href="/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--subplots()%E5%87%BD%E6%95%B0/"/>
      <url>/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--subplots()%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>åœ¨matplotlibä¸€èˆ¬ä½¿ç”¨plt.figureæ¥è®¾ç½®çª—å£å°ºå¯¸ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(a, b)) </span><br></pre></td></tr></table></figure><p>å…¶ä¸­figsizeç”¨æ¥è®¾ç½®å›¾å½¢çš„å¤§å°ï¼Œaä¸ºå›¾å½¢çš„å®½ï¼Œ bä¸ºå›¾å½¢çš„é«˜ï¼Œå•ä½ä¸ºè‹±å¯¸ã€‚</p><p>ä½†æ˜¯å¦‚æœä½¿ç”¨plt.subplotsï¼Œå°±ä¸ä¸€æ ·äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(figsize = (a, b))</span><br></pre></td></tr></table></figure><p>figä»£è¡¨ç»˜å›¾çª—å£(Figure)ï¼›axä»£è¡¨è¿™ä¸ªç»˜å›¾çª—å£ä¸Šçš„åæ ‡ç³»(axis)ï¼Œä¸€èˆ¬ä¼šç»§ç»­å¯¹axè¿›è¡Œæ“ä½œã€‚</p><blockquote><p>fig,ax &#x3D; plt.subplots()ç­‰ä»·äºï¼š</p><ol><li>fig &#x3D; plt.figure()</li><li>ax &#x3D; fig.add_subplot(1,1,1)</li></ol></blockquote><h4 id="å®ä¾‹1ï¼š"><a href="#å®ä¾‹1ï¼š" class="headerlink" title="å®ä¾‹1ï¼š"></a>å®ä¾‹1ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, ax = plt.subplots(1, 3, 1)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ª1å‚æ•°æ˜¯å­å›¾çš„è¡Œæ•°ï¼Œç¬¬äºŒä¸ª3å‚æ•°æ˜¯å­å›¾çš„åˆ—æ•°ï¼Œç¬¬ä¸‰ä¸ª1å‚æ•°æ˜¯ä»£è¡¨ç¬¬ä¸€ä¸ªå­å›¾ï¼Œå¦‚æœæƒ³è¦è®¾ç½®å­å›¾çš„å®½åº¦å’Œé«˜åº¦å¯ä»¥åœ¨å‡½æ•°å†…åŠ å…¥figsizeå€¼ã€‚</p><h4 id="å®ä¾‹2ï¼š"><a href="#å®ä¾‹2ï¼š" class="headerlink" title="å®ä¾‹2ï¼š"></a>å®ä¾‹2ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># åš1*1ä¸ªå­å›¾ï¼Œç­‰ä»·äº&quot;fig, ax = plt.subplot()&quot;ï¼Œç­‰ä»·äº&quot;fig, ax = plt.subplots()&quot;</span><br><span class="line">fig, ax = plt.subplots(1, 1)</span><br><span class="line">ax2 = ax.twinx()  # è®©2ä¸ªå­å›¾çš„xè½´ä¸€æ ·ï¼ŒåŒæ—¶åˆ›å»ºå‰¯åæ ‡è½´ã€‚</span><br><span class="line"></span><br><span class="line"># ä½œy=sin(x)å‡½æ•°</span><br><span class="line">x1 = np.linspace(0, 2 * np.pi, 100)  # è¡¨ç¤ºåœ¨åŒºé—´[0, 2Ï€]ä¹‹é—´å–100ä¸ªç‚¹ä½œä¸ºæ¨ªåæ ‡</span><br><span class="line">y1 = np.sin(x1)</span><br><span class="line">ax.plot(x1, y1)</span><br><span class="line"></span><br><span class="line"># ä½œy=cos(x)å‡½æ•°</span><br><span class="line">x2 = np.linspace(0, 2 * np.pi, 100)</span><br><span class="line">y2 = np.cos(x2)</span><br><span class="line">ax2.plot(x2, y2)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å®ä¾‹3ï¼š"><a href="#å®ä¾‹3ï¼š" class="headerlink" title="å®ä¾‹3ï¼š"></a>å®ä¾‹3ï¼š</h4><p>fig, ax &#x3D; plt.subplots(1,3),å…¶ä¸­å‚æ•°1å’Œ3åˆ†åˆ«ä»£è¡¨å­å›¾çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œä¸€å…±æœ‰ 1x3 ä¸ªå­å›¾åƒã€‚å‡½æ•°è¿”å›ä¸€ä¸ªfigureå›¾åƒå’Œå­å›¾axçš„arrayåˆ—è¡¨ã€‚</p><p>fig, ax &#x3D; plt.subplots(1,3,1),æœ€åä¸€ä¸ªå‚æ•°1ä»£è¡¨ç¬¬ä¸€ä¸ªå­å›¾ã€‚</p><p>å¦‚æœæƒ³è¦è®¾ç½®å­å›¾çš„å®½åº¦å’Œé«˜åº¦å¯ä»¥åœ¨å‡½æ•°å†…åŠ å…¥figsizeå€¼</p><p>fig, ax &#x3D; plt.subplots(1,3,figsize&#x3D;(15,7))ï¼Œè¿™æ ·å°±ä¼šæœ‰1è¡Œ3ä¸ª15x7å¤§å°çš„å­å›¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--ndimã€shapeã€dtypeã€astypeã€sizeç”¨æ³•(ä»¥åŠä¸ type çš„åŒºåˆ«)</title>
      <link href="/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--ndim%E3%80%81shape%E3%80%81dtype%E3%80%81astype%E3%80%81size%E7%94%A8%E6%B3%95(%E4%BB%A5%E5%8F%8A%E4%B8%8E%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB)/"/>
      <url>/2021/12/30/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--ndim%E3%80%81shape%E3%80%81dtype%E3%80%81astype%E3%80%81size%E7%94%A8%E6%B3%95(%E4%BB%A5%E5%8F%8A%E4%B8%8E%20type%20%E7%9A%84%E5%8C%BA%E5%88%AB)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data1= [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">data2 = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]</span><br><span class="line">data3 = [[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]],[[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],[<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]]]</span><br><span class="line">arr1 = np.array(data1)</span><br><span class="line">arr2 = np.array(data2)</span><br><span class="line">arr3 = np.array(data3)</span><br></pre></td></tr></table></figure><h3 id="1-ndim-è¿”å›çš„æ˜¯æ•°ç»„çš„ç»´åº¦ï¼Œè¿”å›çš„åªæœ‰ä¸€ä¸ªæ•°ï¼Œè¯¥æ•°å³è¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ã€‚"><a href="#1-ndim-è¿”å›çš„æ˜¯æ•°ç»„çš„ç»´åº¦ï¼Œè¿”å›çš„åªæœ‰ä¸€ä¸ªæ•°ï¼Œè¯¥æ•°å³è¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ã€‚" class="headerlink" title="1. ndim è¿”å›çš„æ˜¯æ•°ç»„çš„ç»´åº¦ï¼Œè¿”å›çš„åªæœ‰ä¸€ä¸ªæ•°ï¼Œè¯¥æ•°å³è¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ã€‚"></a>1. ndim è¿”å›çš„æ˜¯æ•°ç»„çš„ç»´åº¦ï¼Œè¿”å›çš„åªæœ‰ä¸€ä¸ªæ•°ï¼Œè¯¥æ•°å³è¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ã€‚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(arr1.ndim,arr2.ndim,arr3.ndim) </span><br><span class="line"># 1, 2, 3 ï¼ˆè¡¨ç¤ºæ•°ç»„çš„ç»´åº¦ï¼‰</span><br></pre></td></tr></table></figure><p><br><br><br><br><br></p><h3 id="2-shapeï¼šè¡¨ç¤ºå„ä½ç»´åº¦å¤§å°çš„å…ƒç»„ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„"><a href="#2-shapeï¼šè¡¨ç¤ºå„ä½ç»´åº¦å¤§å°çš„å…ƒç»„ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„" class="headerlink" title="2. shapeï¼šè¡¨ç¤ºå„ä½ç»´åº¦å¤§å°çš„å…ƒç»„ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„"></a>2. shapeï¼šè¡¨ç¤ºå„ä½ç»´åº¦å¤§å°çš„å…ƒç»„ã€‚è¿”å›çš„æ˜¯ä¸€ä¸ªå…ƒç»„</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(arr1.shape,arr2.shape,arr3.shape)</span><br><span class="line"># (5,) (2, 3) (2, 2, 3) ï¼ˆè¡¨ç¤ºæ•°ç»„ç»´åº¦çš„å…ƒç»„ï¼‰</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸€ç»´æ•°ç»„ï¼šæœ‰ç–‘é—®çš„æ˜¯ä¸ºä»€ä¹ˆä¸æ˜¯ï¼ˆ1ï¼Œ6ï¼‰ï¼Œå› ä¸ºarr1.ndimç»´åº¦ä¸º1ï¼Œå…ƒç»„å†…åªè¿”å›ä¸€ä¸ªæ•°ã€‚</p><hr><hr><p><br></br><br>å‰è¨€ï¼š</p><blockquote><p>ï¼ˆ1ï¼‰type()æ˜¯pythonå†…ç½®çš„å‡½æ•°ã€‚type()  è¿”å›æ•°æ®ç»“æ„ç±»å‹ï¼ˆlistã€dictã€numpy.ndarray ç­‰ï¼‰<br><br>ï¼ˆ2ï¼‰dtype è¿”å›æ•°æ®å…ƒç´ çš„æ•°æ®ç±»å‹ï¼ˆintã€floatç­‰ï¼‰<br><br>ï¼ˆ3ï¼‰astype() æ”¹å˜np.arrayä¸­æ‰€æœ‰æ•°æ®å…ƒç´ çš„æ•°æ®ç±»å‹ã€‚<br><br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”<br>å¤‡æ³¨ï¼š<br><br>1ï¼‰ç”±äº listã€dict ç­‰å¯ä»¥åŒ…å«ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œå› æ­¤æ²¡æœ‰dtypeå±æ€§<br><br>2ï¼‰np.array ä¸­è¦æ±‚æ‰€æœ‰å…ƒç´ å±äºåŒä¸€æ•°æ®ç±»å‹ï¼Œå› æ­¤æœ‰dtypeå±æ€§<br><br>å¤‡æ³¨ï¼šèƒ½ç”¨dtype() æ‰èƒ½ç”¨ astype()</p></blockquote><br><br><br><br><br><h3 id="3-dtypeï¼šä¸€ä¸ªç”¨äºè¯´æ˜æ•°ç»„æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚è¿”å›çš„æ˜¯è¯¥æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚ç”±äºå›¾ä¸­çš„æ•°æ®éƒ½ä¸ºæ•´å½¢ï¼Œæ‰€ä»¥è¿”å›çš„éƒ½æ˜¯int64ã€‚å¦‚æœæ•°ç»„ä¸­æœ‰æ•°æ®å¸¦æœ‰å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›float64ã€‚"><a href="#3-dtypeï¼šä¸€ä¸ªç”¨äºè¯´æ˜æ•°ç»„æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚è¿”å›çš„æ˜¯è¯¥æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚ç”±äºå›¾ä¸­çš„æ•°æ®éƒ½ä¸ºæ•´å½¢ï¼Œæ‰€ä»¥è¿”å›çš„éƒ½æ˜¯int64ã€‚å¦‚æœæ•°ç»„ä¸­æœ‰æ•°æ®å¸¦æœ‰å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›float64ã€‚" class="headerlink" title="3. dtypeï¼šä¸€ä¸ªç”¨äºè¯´æ˜æ•°ç»„æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚è¿”å›çš„æ˜¯è¯¥æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚ç”±äºå›¾ä¸­çš„æ•°æ®éƒ½ä¸ºæ•´å½¢ï¼Œæ‰€ä»¥è¿”å›çš„éƒ½æ˜¯int64ã€‚å¦‚æœæ•°ç»„ä¸­æœ‰æ•°æ®å¸¦æœ‰å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›float64ã€‚"></a>3. dtypeï¼šä¸€ä¸ªç”¨äºè¯´æ˜æ•°ç»„æ•°æ®ç±»å‹çš„å¯¹è±¡ã€‚è¿”å›çš„æ˜¯è¯¥æ•°ç»„çš„æ•°æ®ç±»å‹ã€‚ç”±äºå›¾ä¸­çš„æ•°æ®éƒ½ä¸ºæ•´å½¢ï¼Œæ‰€ä»¥è¿”å›çš„éƒ½æ˜¯int64ã€‚å¦‚æœæ•°ç»„ä¸­æœ‰æ•°æ®å¸¦æœ‰å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›float64ã€‚</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(arr1.dtype,arr2.dtype,arr3.dtype)</span><br><span class="line"># int64 int64 int64</span><br></pre></td></tr></table></figure><p><br><br><br><br></p><h3 id="4-astypeï¼šè½¬æ¢numpyæ•°ç»„çš„æ•°æ®ç±»å‹"><a href="#4-astypeï¼šè½¬æ¢numpyæ•°ç»„çš„æ•°æ®ç±»å‹" class="headerlink" title="4. astypeï¼šè½¬æ¢numpyæ•°ç»„çš„æ•°æ®ç±»å‹"></a>4. astypeï¼šè½¬æ¢numpyæ•°ç»„çš„æ•°æ®ç±»å‹</h3><p>int32 â€“&gt; float64        å®Œå…¨ojbk</p><p>float64 â€“&gt; int32        ä¼šå°†å°æ•°éƒ¨åˆ†æˆªæ–­</p><p>string_ â€“&gt; float64       å¦‚æœå­—ç¬¦ä¸²æ•°ç»„è¡¨ç¤ºçš„å…¨æ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥ç”¨astypeè½¬åŒ–ä¸ºæ•°å€¼ç±»å‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ar1 = np.arange(10,dtype=float)</span><br><span class="line">ar2 = ar1.astype(np.int)</span><br><span class="line">print(ar1,ar1.dtype)</span><br><span class="line"># [0. 1. 2. 3. 4. 5. 6. 7. 8. 9.] float64</span><br><span class="line">print(ar2,ar2.dtype)</span><br><span class="line"># [0 1 2 3 4 5 6 7 8 9] int64</span><br></pre></td></tr></table></figure><p>æ³¨æ„å…¶ä¸­çš„floatï¼Œå®ƒæ˜¯pythonå†…ç½®çš„ç±»å‹ï¼Œä½†æ˜¯Numpyå¯ä»¥ä½¿ç”¨ã€‚Numpyä¼šå°†Pythonç±»å‹æ˜ å°„åˆ°ç­‰ä»·çš„dtypeä¸Šã€‚</p><p><br><br><br><br></p><h3 id="5-size"><a href="#5-size" class="headerlink" title="5. size"></a>5. size</h3><h4 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h4><p>size()å‡½æ•°ä¸»è¦æ˜¯ç”¨æ¥ç»Ÿè®¡çŸ©é˜µå…ƒç´ ä¸ªæ•°ï¼Œæˆ–çŸ©é˜µæŸä¸€ç»´ä¸Šçš„å…ƒç´ ä¸ªæ•°çš„å‡½æ•°ã€‚</p><h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><p>numpy.size(a, axis&#x3D;None)</p><p>aï¼šè¾“å…¥çš„çŸ©é˜µ</p><p>axisï¼šintå‹çš„å¯é€‰å‚æ•°ï¼ŒæŒ‡å®šè¿”å›å“ªä¸€ç»´çš„å…ƒç´ ä¸ªæ•°ã€‚å½“æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œè¿”å›æ•´ä¸ªçŸ©é˜µçš„å…ƒç´ ä¸ªæ•°ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; a = np.array([[1,2,3],[4,5,6]])</span><br><span class="line">&gt;&gt;&gt; np.size(a)</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt; np.size(a,1)</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt; np.size(a,0)</span><br><span class="line">2</span><br></pre></td></tr></table></figure><p>axisçš„å€¼æ²¡æœ‰è®¾å®šï¼Œè¿”å›çŸ©é˜µçš„å…ƒç´ ä¸ªæ•°</p><p>axis &#x3D; 0ï¼Œè¿”å›è¯¥äºŒç»´çŸ©é˜µçš„è¡Œæ•°</p><p>axis &#x3D; 1ï¼Œè¿”å›è¯¥äºŒç»´çŸ©é˜µçš„åˆ—æ•°</p><p>æ³¨ï¼šç¬¬äºŒä¸ªå‚æ•°axisä»0å¼€å§‹ï¼Œä¸æ˜¯ä»1å¼€å§‹</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--autofmt_xdate()å‡½æ•°(è‡ªåŠ¨æ—‹è½¬Xè½´)</title>
      <link href="/2021/12/29/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--autofmt_xdate()%E5%87%BD%E6%95%B0(%E8%87%AA%E5%8A%A8%E6%97%8B%E8%BD%ACX%E8%BD%B4)/"/>
      <url>/2021/12/29/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--autofmt_xdate()%E5%87%BD%E6%95%B0(%E8%87%AA%E5%8A%A8%E6%97%8B%E8%BD%ACX%E8%BD%B4)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib as plt</span><br><span class="line">plt.figure.autofmt_xdate() # ï¼ˆè‡ªåŠ¨æ—‹è½¬ï¼‰</span><br></pre></td></tr></table></figure><p>æ”¹å˜xè½´åæ ‡çš„æ˜¾ç¤ºæ–¹æ³•å¯ä»¥æ–œç€è¡¨ç¤º,ä¸ç”¨å¹³ç€æŒ¤ä¸€å †</p><h4 id="å®ä¾‹ï¼š"><a href="#å®ä¾‹ï¼š" class="headerlink" title="å®ä¾‹ï¼š"></a>å®ä¾‹ï¼š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.dates <span class="keyword">as</span> mdates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">xfmt = mdates.DateFormatter(<span class="string">&#x27;%y/%m/%d %H:%M&#x27;</span>)</span><br><span class="line"><span class="comment"># è®¾ç½®xè½´</span></span><br><span class="line">plt.gca().xaxis.set_major_formatter(xfmt)</span><br><span class="line"><span class="comment"># mdates.HourLocator: è®©xè½´ä»¥1å°æ—¶é—´éš”ä¸ºåˆ»åº¦</span></span><br><span class="line">plt.gca().xaxis.set_major_locator(mdates.HourLocator())</span><br><span class="line"><span class="string">&quot;&quot;&quot; autofmt_xdate: æ”¹å˜xè½´åæ ‡çš„æ˜¾ç¤ºæ–¹æ³•å¯ä»¥æ–œç€è¡¨ç¤º,ä¸ç”¨å¹³ç€æŒ¤ä¸€å †ï¼ˆè‡ªåŠ¨æ—‹è½¬ï¼‰!!!&quot;&quot;&quot;</span></span><br><span class="line">plt.gcf().autofmt_xdate()</span><br><span class="line"><span class="string">&quot;&quot;&quot; xticksï¼šæ‰‹åŠ¨è®¾ç½®xè½´æ—‹è½¬ï¼šå€¾æ–œåº¦/å°ºå¯¸ &quot;&quot;&quot;</span></span><br><span class="line">plt.xticks(rotation=<span class="number">10</span>, size=<span class="number">12</span>)</span><br></pre></td></tr></table></figure><h4 id="æ‹“å±•ï¼š"><a href="#æ‹“å±•ï¼š" class="headerlink" title="æ‹“å±•ï¼š"></a>æ‹“å±•ï¼š</h4><p>plt.gcf()ã€plt.gca()çš„åŒºåˆ«?</p><p>igureå°±æ˜¯ä¸€ä¸ªå›¾ï¼Œaxesè¡¨ç¤ºå›¾ä¸Šçš„ä¸€ä¸ªç”»å›¾åŒºåŸŸï¼Œä¸€ä¸ªå›¾ä¸Šå¯ä»¥æœ‰å¤šä¸ªç”»å›¾åŒºåŸŸï¼Œæ„æ€å°±æ˜¯è¯´ï¼Œä¸€ä¸ªå›¾ä¸Šå¯ä»¥æœ‰å¤šä¸ªå­å›¾ã€‚</p><p>ç”¨å‡½æ•°gcf(ï¼‰ä¸gca()åˆ†åˆ«å¾—åˆ°å½“å‰çš„figureä¸axesã€‚ï¼ˆå¾—åˆ°å½“å‰çš„å›¾, å¾—åˆ°å½“å‰çš„è½´).</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Matplotlib--xtickså‡½æ•°(è®¾ç½®Xè½´æ–¹æ³•--åˆ»åº¦ã€æ ‡ç­¾)</title>
      <link href="/2021/12/29/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--xticks%E5%87%BD%E6%95%B0(%E8%AE%BE%E7%BD%AEX%E8%BD%B4%E6%96%B9%E6%B3%95--%E5%88%BB%E5%BA%A6%E3%80%81%E6%A0%87%E7%AD%BE)/"/>
      <url>/2021/12/29/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/matplotlib/Matplotlib--xticks%E5%87%BD%E6%95%B0(%E8%AE%BE%E7%BD%AEX%E8%BD%B4%E6%96%B9%E6%B3%95--%E5%88%BB%E5%BA%A6%E3%80%81%E6%A0%87%E7%AD%BE)/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="xticks-å‡½æ•°åŸå‹ï¼š"><a href="#xticks-å‡½æ•°åŸå‹ï¼š" class="headerlink" title="xticks()å‡½æ•°åŸå‹ï¼š"></a>xticks()å‡½æ•°åŸå‹ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xticks(ticks, [labels], **kwargs)</span><br></pre></td></tr></table></figure><h4 id="å‚æ•°è¯´æ˜ï¼š"><a href="#å‚æ•°è¯´æ˜ï¼š" class="headerlink" title="å‚æ•°è¯´æ˜ï¼š"></a>å‚æ•°è¯´æ˜ï¼š</h4><p>ticksï¼šæ•°ç»„ç±»å‹ï¼Œç”¨äºè®¾ç½®Xè½´åˆ»åº¦é—´éš”</p><p>[labels]ï¼šæ•°ç»„ç±»å‹ï¼Œç”¨äºè®¾ç½®æ¯ä¸ªé—´éš”çš„æ˜¾ç¤ºæ ‡ç­¾, å¯ä¸æ·»åŠ è¯¥å‚æ•°ï¼Œä¸èµ‹å€¼ï¼Œåœ¨è¿™äº›ä½ç½®æ·»åŠ çš„æ•°å€¼å³ä¸ºticksæ•°ç»„ä¸­çš„æ•°</p><p>**kwargsï¼šç”¨äºè®¾ç½®æ ‡ç­¾å­—ä½“å€¾æ–œåº¦å’Œé¢œè‰²ç­‰å¤–è§‚å±æ€§ã€‚ï¼ˆæ³¨ï¼špythoné‡Œçš„åŒæ˜Ÿå·ä»£è¡¨è¿™ä¸ªä½ç½®æ¥æ”¶ä»»æ„å¤šä¸ªå…³é”®å­—å‚æ•°.</p><p><br></br><br>ä¾‹å¦‚ä¸‹å›¾ï¼ŒXè½´é—´éš”2æ˜¾ç¤ºä¸€ä¸ªåˆ»åº¦ï¼Œç”±tickså‚æ•°è®¾ç½®<br>Xè½´ä¸Šçš„æ•°å­—2ã€4ã€6ç­‰å°±ç§°ä¸ºæ ‡ç­¾ï¼Œå…·ä½“æ˜¾ç¤ºå†…å®¹ç”±labelså‚æ•°å†³å®š<br><img src="https://s4.ax1x.com/2021/12/29/Tg3zEd.png" alt="Tg3zEd.png"></p><h4 id="ä¸¾ä¾‹ï¼š"><a href="#ä¸¾ä¾‹ï¼š" class="headerlink" title="ä¸¾ä¾‹ï¼š"></a>ä¸¾ä¾‹ï¼š</h4><h6 id="1-å…ˆçœ‹ä¸ä½¿ç”¨xtickså‡½æ•°çš„æ•ˆæœ"><a href="#1-å…ˆçœ‹ä¸ä½¿ç”¨xtickså‡½æ•°çš„æ•ˆæœ" class="headerlink" title="1. å…ˆçœ‹ä¸ä½¿ç”¨xtickså‡½æ•°çš„æ•ˆæœ"></a>1. å…ˆçœ‹ä¸ä½¿ç”¨xtickså‡½æ•°çš„æ•ˆæœ</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">x = range(1,13,1)</span><br><span class="line">y = range(1,13,1)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://s4.ax1x.com/2021/12/29/Tg3zEd.png" alt="Tg3zEd.png"></p><p>æ­¤æ—¶çš„xè½´å’Œyè½´éƒ½æ˜¯åªæ˜¾ç¤ºå¶æ•°ï¼Œå…¶å®ƒçš„å¥‡æ•°æœªæ˜¾ç¤ºï¼Œè¿™æ ·åœ¨å±•ç¤ºå®éªŒæ•ˆæœæˆ–æ”¾å…¥æ–‡ç« ä¸­éƒ½ä¼šå½±å“å…¶å¯è¯»æ€§ã€‚<br>ä¸ºäº†è®¾ç½®åæ ‡è½´çš„å€¼ï¼Œå¢åŠ å…¶å¯è¯»æ€§ï¼Œæœ‰å¤šç§æ–¹æ³•ã€‚è¿™é‡Œä»‹ç»çš„æ˜¯matplotlibçš„å‡½æ•°xticks()å’Œyticks()ã€‚</p><p>ä½¿ç”¨xtickså‡½æ•°åï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">x = range(1,13,1)</span><br><span class="line">y = range(1,13,1)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.xticks(x, x,color=&#x27;blue&#x27;,rotation=60)  #å‚æ•°xç©ºå€¼Xè½´çš„é—´éš”ï¼Œç¬¬äºŒä¸ªå‚æ•°æ§åˆ¶æ¯ä¸ªé—´éš”æ˜¾ç¤ºçš„æ–‡æœ¬ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ§åˆ¶æ ‡ç­¾çš„é¢œè‰²å’Œæ—‹è½¬è§’åº¦</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://s4.ax1x.com/2021/12/29/Tg88rF.png" alt="Tg88rF.png"></p><p>xticks()å‡½æ•°ä¸­ï¼Œtickså‚æ•°ä¸ºæ•°ç»„xï¼Œå³1åˆ°12æ‰€æœ‰çš„æ•´æ•°ï¼Œ å³ç”»å‡ºçš„å›¾åƒä¼šåœ¨è¿™12ä¸ªä½ç½®ç”»å‡ºticksï¼Œå³ä¸Šå›¾ä¸­çš„åˆ»åº¦çº¿ã€‚<br><br></br></p><h6 id="2-å½“èµ‹äºˆlabelsçš„å€¼ä¸ºç©ºæ—¶ï¼Œåˆ™åœ¨locså†³å®šçš„ä½ç½®ä¸Šè™½ç„¶ä¼šç”»å‡ºticksï¼Œä½†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å€¼ã€‚å¦‚ä¸‹ï¼š"><a href="#2-å½“èµ‹äºˆlabelsçš„å€¼ä¸ºç©ºæ—¶ï¼Œåˆ™åœ¨locså†³å®šçš„ä½ç½®ä¸Šè™½ç„¶ä¼šç”»å‡ºticksï¼Œä½†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å€¼ã€‚å¦‚ä¸‹ï¼š" class="headerlink" title="2. å½“èµ‹äºˆlabelsçš„å€¼ä¸ºç©ºæ—¶ï¼Œåˆ™åœ¨locså†³å®šçš„ä½ç½®ä¸Šè™½ç„¶ä¼šç”»å‡ºticksï¼Œä½†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å€¼ã€‚å¦‚ä¸‹ï¼š"></a>2. å½“èµ‹äºˆlabelsçš„å€¼ä¸ºç©ºæ—¶ï¼Œåˆ™åœ¨locså†³å®šçš„ä½ç½®ä¸Šè™½ç„¶ä¼šç”»å‡ºticksï¼Œä½†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å€¼ã€‚å¦‚ä¸‹ï¼š</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">x = range(1,13,1)</span><br><span class="line">y = range(1,13,1)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.xticks(x,(),color=&#x27;blue&#x27;,rotation=60)  #å‚æ•°xç©ºå€¼Xè½´çš„é—´éš”ï¼Œç¬¬äºŒä¸ªå‚æ•°æ§åˆ¶æ¯ä¸ªé—´éš”æ˜¾ç¤ºçš„æ–‡æœ¬ï¼Œåé¢ä¸¤ä¸ªå‚æ•°æ§åˆ¶æ ‡ç­¾çš„é¢œè‰²å’Œæ—‹è½¬è§’åº¦</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://s4.ax1x.com/2021/12/29/TgGvtA.png" alt="TgGvtA.png"></p><p>è¯¥ä¾‹å­ä¸­ï¼Œä¼šæ˜æ˜¾çœ‹åˆ°tickså’Œlabelsçš„å…³ç³»ï¼Œticksè¡¨ç¤ºä½ç½®ï¼Œlabelså†³å®šè¿™äº›ä½ç½®ä¸Šçš„æ ‡ç­¾ï¼Œlabelsçš„é»˜è®¤å€¼ä¸ºå’Œticksç›¸åŒã€‚</p><h6 id="3-æ‰€ä»¥ï¼Œå¯¹äºlabelså‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆå…¶ä»»æ„å…¶å®ƒçš„å€¼ï¼Œå¦‚äººåï¼Œæœˆä»½ç­‰ç­‰ã€‚"><a href="#3-æ‰€ä»¥ï¼Œå¯¹äºlabelså‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆå…¶ä»»æ„å…¶å®ƒçš„å€¼ï¼Œå¦‚äººåï¼Œæœˆä»½ç­‰ç­‰ã€‚" class="headerlink" title="3. æ‰€ä»¥ï¼Œå¯¹äºlabelså‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆå…¶ä»»æ„å…¶å®ƒçš„å€¼ï¼Œå¦‚äººåï¼Œæœˆä»½ç­‰ç­‰ã€‚"></a>3. æ‰€ä»¥ï¼Œå¯¹äºlabelså‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥èµ‹äºˆå…¶ä»»æ„å…¶å®ƒçš„å€¼ï¼Œå¦‚äººåï¼Œæœˆä»½ç­‰ç­‰ã€‚</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">x = range(1,13,1)</span><br><span class="line">y = range(1,13,1)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.xticks(x, (&#x27;Tom&#x27;,&#x27;Dick&#x27;,&#x27;Harry&#x27;,&#x27;Sally&#x27;,&#x27;Sue&#x27;,&#x27;Lily&#x27;,&#x27;Ava&#x27;,&#x27;Isla&#x27;,&#x27;Rose&#x27;,&#x27;Jack&#x27;,&#x27;Leo&#x27;,&#x27;Charlie&#x27;))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://s4.ax1x.com/2021/12/29/TgJJhR.png" alt="TgJJhR.png"></p><p>è¿˜å¯ä»¥æ˜¾ç¤ºæœˆä»½ï¼š</p><p><img src="https://s4.ax1x.com/2021/12/29/TgJwnO.png" alt="TgJwnO.png"></p><p>è¿™é‡Œæ·»åŠ äº† calendar æ¨¡å—ï¼Œç”¨äºæ˜¾ç¤ºæœˆä»½çš„åç§°ã€‚calendar.month_name[1:13]å³1æœˆä»½åˆ°12æœˆä»½æ¯ä¸ªæœˆä»½çš„åç§°çš„æ•°ç»„ã€‚åé¢çš„å‚æ•°color&#x3D;â€™blueâ€™è¡¨ç¤ºå°†æ ‡ç­¾é¢œè‰²ç½®ä¸ºè“è‰²ï¼Œrotationè¡¨ç¤ºæ ‡ç­¾é€†æ—¶é’ˆæ—‹è½¬60åº¦ã€‚</p><p>é€šè¿‡ä¸Šä¸ªç¤ºä¾‹ï¼Œå¯çœ‹å‡ºç¬¬3ä¸ªå‚æ•°å…³é”®å­—å‚æ•°**kwargsç”¨äºæ§åˆ¶labelsï¼Œå…·ä½“å¯é€šè¿‡Textå±æ€§ä¸­çš„å®šä¹‰ï¼Œæ·»åŠ åˆ°è¯¥å‚æ•°ä¸­ï¼Œå…³äºå…¶å®šä¹‰å¯å‚è€ƒåœ¨ <a href="https://matplotlib.org/stable/api/text_api.html">Text</a> æŸ¥è¯¢ã€‚</p><h6 id="4-å¦å¤–ï¼Œé€šè¿‡ç¬¬1ä¸ªå‚æ•°tickså¯ä»¥çœ‹å‡ºï¼Œxticks-å‡½æ•°è¿˜å¯ä»¥ç”¨æ¥è®¾ç½®ä½¿xè½´ä¸Štickséšè—ï¼Œå³å°†ç©ºæ•°ç»„èµ‹äºˆå®ƒï¼Œåˆ™æ²¡æœ‰tickä¼šæ˜¾ç¤ºåœ¨xè½´ä¸Šï¼Œæ­¤å¤„å‚è€ƒï¼šxè½´æ•°å€¼éšè—ã€‚"><a href="#4-å¦å¤–ï¼Œé€šè¿‡ç¬¬1ä¸ªå‚æ•°tickså¯ä»¥çœ‹å‡ºï¼Œxticks-å‡½æ•°è¿˜å¯ä»¥ç”¨æ¥è®¾ç½®ä½¿xè½´ä¸Štickséšè—ï¼Œå³å°†ç©ºæ•°ç»„èµ‹äºˆå®ƒï¼Œåˆ™æ²¡æœ‰tickä¼šæ˜¾ç¤ºåœ¨xè½´ä¸Šï¼Œæ­¤å¤„å‚è€ƒï¼šxè½´æ•°å€¼éšè—ã€‚" class="headerlink" title="4. å¦å¤–ï¼Œé€šè¿‡ç¬¬1ä¸ªå‚æ•°tickså¯ä»¥çœ‹å‡ºï¼Œxticks()å‡½æ•°è¿˜å¯ä»¥ç”¨æ¥è®¾ç½®ä½¿xè½´ä¸Štickséšè—ï¼Œå³å°†ç©ºæ•°ç»„èµ‹äºˆå®ƒï¼Œåˆ™æ²¡æœ‰tickä¼šæ˜¾ç¤ºåœ¨xè½´ä¸Šï¼Œæ­¤å¤„å‚è€ƒï¼šxè½´æ•°å€¼éšè—ã€‚"></a>4. å¦å¤–ï¼Œé€šè¿‡ç¬¬1ä¸ªå‚æ•°tickså¯ä»¥çœ‹å‡ºï¼Œxticks()å‡½æ•°è¿˜å¯ä»¥ç”¨æ¥è®¾ç½®ä½¿xè½´ä¸Štickséšè—ï¼Œå³å°†ç©ºæ•°ç»„èµ‹äºˆå®ƒï¼Œåˆ™æ²¡æœ‰tickä¼šæ˜¾ç¤ºåœ¨xè½´ä¸Šï¼Œæ­¤å¤„å‚è€ƒï¼šxè½´æ•°å€¼éšè—ã€‚</h6><p>å¯çœ‹å‡ºxè½´ä¸Šæ²¡æœ‰tickæ˜¾ç¤ºï¼š</p><p><img src="https://s4.ax1x.com/2021/12/29/TgJoNj.png" alt="TgJoNj.png"></p><h6 id="5-åŒç†ï¼Œå¯¹äºyticks-å‡½æ•°å®šä¹‰å’Œxticks-å‡½æ•°å®šä¹‰å®Œå…¨ç›¸åŒã€‚å¯¹äºç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœå¸Œæœ›åœ¨yè½´ä¸Šçš„åˆ»åº¦çº¿ä¹Ÿæ˜¾ç¤º1åˆ°12æ‰€æœ‰çš„æ•´æ•°ï¼Œåˆ™å°†lens-1-13-1-èµ‹äºˆyticks-çš„locså‚æ•°å³å¯ï¼š"><a href="#5-åŒç†ï¼Œå¯¹äºyticks-å‡½æ•°å®šä¹‰å’Œxticks-å‡½æ•°å®šä¹‰å®Œå…¨ç›¸åŒã€‚å¯¹äºç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœå¸Œæœ›åœ¨yè½´ä¸Šçš„åˆ»åº¦çº¿ä¹Ÿæ˜¾ç¤º1åˆ°12æ‰€æœ‰çš„æ•´æ•°ï¼Œåˆ™å°†lens-1-13-1-èµ‹äºˆyticks-çš„locså‚æ•°å³å¯ï¼š" class="headerlink" title="5. åŒç†ï¼Œå¯¹äºyticks()å‡½æ•°å®šä¹‰å’Œxticks()å‡½æ•°å®šä¹‰å®Œå…¨ç›¸åŒã€‚å¯¹äºç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœå¸Œæœ›åœ¨yè½´ä¸Šçš„åˆ»åº¦çº¿ä¹Ÿæ˜¾ç¤º1åˆ°12æ‰€æœ‰çš„æ•´æ•°ï¼Œåˆ™å°†lens(1,13,1)èµ‹äºˆyticks()çš„locså‚æ•°å³å¯ï¼š"></a>5. åŒç†ï¼Œå¯¹äºyticks()å‡½æ•°å®šä¹‰å’Œxticks()å‡½æ•°å®šä¹‰å®Œå…¨ç›¸åŒã€‚å¯¹äºç¬¬ä¸€ä¸ªä¾‹å­ï¼Œå¦‚æœå¸Œæœ›åœ¨yè½´ä¸Šçš„åˆ»åº¦çº¿ä¹Ÿæ˜¾ç¤º1åˆ°12æ‰€æœ‰çš„æ•´æ•°ï¼Œåˆ™å°†lens(1,13,1)èµ‹äºˆyticks()çš„locså‚æ•°å³å¯ï¼š</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> calendar</span><br><span class="line">x = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">13</span>,<span class="number">1</span>)</span><br><span class="line">y = <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">13</span>,<span class="number">1</span>)</span><br><span class="line">plt.plot(x,y)</span><br><span class="line">plt.xticks(x)</span><br><span class="line">plt.yticks(y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="https://s4.ax1x.com/2021/12/30/T2DgN6.png" alt="T2DgN6.png"></p><p> ç»¼ä¸Šï¼Œå¯ä»¥è®¾è®¡ä¸€ä¸ªxè½´ä¸ºæœˆä»½ï¼Œyä¸ºæ˜ŸæœŸçš„å›¾åƒï¼š</p><p><img src="https://s4.ax1x.com/2021/12/30/T2ri5V.png" alt="T2ri5V.png"></p><p>å¯¹åº”ä¸€æœˆä»½é€‰æ‹©æ˜ŸæœŸä¸€ï¼ŒäºŒæœˆä»½é€‰æ‹©æ˜ŸæœŸäºŒï¼Œå¾€åä¾æ¬¡ç±»æ¨ï¼Œç›´è‡³å°†12ä¸ªæœˆå®‰æ’å®Œã€‚ </p><p>ã€‚ </p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-matplotlib </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>virtualenv--è™šæ‹Ÿç¯å¢ƒæ­å»º</title>
      <link href="/2021/12/26/Python/%E6%A8%A1%E5%9D%97/virtualenv/virtualenv--%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/12/26/Python/%E6%A8%A1%E5%9D%97/virtualenv/virtualenv--%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ä¸€ã€è™šæ‹Ÿç¯å¢ƒ"><a href="#ä¸€ã€è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="ä¸€ã€è™šæ‹Ÿç¯å¢ƒ"></a>ä¸€ã€è™šæ‹Ÿç¯å¢ƒ</h4><p>è™šæ‹Ÿç¯å¢ƒå¯ä»¥æ­å»ºç‹¬ç«‹çš„Pythonè¿è¡Œç¯å¢ƒï¼Œä½¿å¾—å•ä¸ªé¡¹ç›®çš„è¿è¡Œç¯å¢ƒä¸å…¶ä»–é¡¹ç›®äº’ä¸å½±å“ã€‚</p><h4 id="äºŒã€ç¯å¢ƒæ­å»º"><a href="#äºŒã€ç¯å¢ƒæ­å»º" class="headerlink" title="äºŒã€ç¯å¢ƒæ­å»º"></a>äºŒã€ç¯å¢ƒæ­å»º</h4><p>1ã€å®‰è£…è™šæ‹Ÿç¯å¢ƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pip install virtualenv</span><br><span class="line">sudo pip install virtualenvwrapper</span><br></pre></td></tr></table></figure><p> å®‰è£…å®Œè™šæ‹Ÿç¯å¢ƒåï¼Œå¦‚æœæç¤ºæ‰¾ä¸åˆ°mkvirtualenvå‘½ä»¤ï¼Œé¡»é…ç½®ç¯å¢ƒå˜é‡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 1ã€åœ¨~ï¼ˆå®¶ç›®å½•ï¼‰ä¸‹åˆ›å»ºç›®å½•ç”¨æ¥å­˜æ”¾è™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">mkdir .virtualenvs</span><br><span class="line"></span><br><span class="line"># 2ã€æ‰“å¼€~/.bashrcæ–‡ä»¶ï¼Œå¹¶æ·»åŠ å¦‚ä¸‹ï¼š</span><br><span class="line">export WORKON_HOME=$HOME/.virtualenvs</span><br><span class="line">source /usr/local/bin/virtualenvwrapper.sh</span><br><span class="line"></span><br><span class="line"># 3ã€è¿è¡Œ</span><br><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure><p>2ã€é€šè¿‡å‘½ä»¤åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</p><p>å¦‚æœä¸æŒ‡å®šPythonç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…çš„æ˜¯Python2çš„è™šæ‹Ÿç¯å¢ƒ!!!</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># åœ¨python2ä¸­ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">mkvirtualenv è™šæ‹Ÿç¯å¢ƒåç§°</span><br><span class="line">ä¾‹ ï¼š</span><br><span class="line">mkvirtualenv py_flask</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯åœ¨python3ä¸­ï¼Œåˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œéœ€è¦æŒ‡å®šç‰ˆæœ¬!!!</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkvirtualenv -p python3 è™šæ‹Ÿç¯å¢ƒåç§°</span><br><span class="line">ä¾‹ ï¼š</span><br><span class="line">mkvirtualenv -p python3 py3_flask</span><br></pre></td></tr></table></figure><p>æç¤ºï¼š</p><p>æ‰€æœ‰çš„è™šæ‹Ÿç¯å¢ƒéƒ½ä½äº&#x2F;home&#x2F;ä¸‹çš„éšè—ç›®å½•.virtualenvsä¸‹</p><p>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒéœ€è¦è”ç½‘</p><p>åˆ›å»ºæˆåŠŸå, ä¼šè‡ªåŠ¨å·¥ä½œåœ¨è¿™ä¸ªè™šæ‹Ÿç¯å¢ƒä¸Š</p><p>å·¥ä½œåœ¨è™šæ‹Ÿç¯å¢ƒä¸Š, æç¤ºç¬¦æœ€å‰é¢ä¼šå‡ºç° â€œè™šæ‹Ÿç¯å¢ƒåç§°â€</p><h4 id="å››ã€å¦‚ä½•ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"><a href="#å››ã€å¦‚ä½•ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="å››ã€å¦‚ä½•ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ"></a>å››ã€å¦‚ä½•ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒ</h4><p>1ã€æŸ¥çœ‹æ‰€æœ‰çš„è™šæ‹Ÿç¯å¢ƒå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">workon</span><br></pre></td></tr></table></figure><p>2ã€è¿›å…¥ï¼ˆä½¿ç”¨ï¼‰è™šæ‹Ÿç¯å¢ƒå‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">workon è™šæ‹Ÿç¯å¢ƒåç§°</span><br><span class="line"></span><br><span class="line">ä¾‹ ï¼šä½¿ç”¨python2çš„è™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">workon py_flask</span><br><span class="line"></span><br><span class="line">ä¾‹ ï¼šä½¿ç”¨python3çš„è™šæ‹Ÿç¯å¢ƒ</span><br><span class="line">workon py3_flask</span><br></pre></td></tr></table></figure><p>3ã€é€€å‡ºè™šæ‹Ÿç¯å¢ƒçš„å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure><p>4ã€åˆ é™¤è™šæ‹Ÿç¯å¢ƒçš„å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rmvirtualenv è™šæ‹Ÿç¯å¢ƒåç§°</span><br><span class="line"></span><br><span class="line">ä¾‹ ï¼šåˆ é™¤è™šæ‹Ÿç¯å¢ƒpy3_flask</span><br><span class="line"></span><br><span class="line">å…ˆé€€å‡ºï¼šdeactivate</span><br><span class="line">å†åˆ é™¤ï¼šrmvirtualenv py3_flask</span><br></pre></td></tr></table></figure><h4 id="äº”ã€å¦‚ä½•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å·¥å…·åŒ…"><a href="#äº”ã€å¦‚ä½•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å·¥å…·åŒ…" class="headerlink" title="äº”ã€å¦‚ä½•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å·¥å…·åŒ…"></a>äº”ã€å¦‚ä½•åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…å·¥å…·åŒ…</h4><p>å·¥å…·åŒ…å®‰è£…çš„ä½ç½®ï¼Œpython3ç‰ˆæœ¬ä¸‹ï¼š</p><p>~&#x2F;.virtualenvs&#x2F;py3_flask&#x2F;lib&#x2F;python3.5&#x2F;site-packages</p><p>python3ç‰ˆæœ¬ä¸‹å®‰è£…flask-0.10.1çš„åŒ… :</p><p>è¿›å…¥å¯¹åº”çš„python3çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pip install åŒ…åç§°</span><br><span class="line"></span><br><span class="line">ä¾‹ : å®‰è£…flask-0.10.1çš„åŒ…</span><br><span class="line">pip install flask==0.10.1</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…çš„åŒ… :</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip freeze</span><br><span class="line">pip list</span><br></pre></td></tr></table></figure><h4 id="å…­ã€å¦‚ä½•åœ¨Pycharmä¸­è®¾ç½®è™šæ‹Ÿç¯å¢ƒ"><a href="#å…­ã€å¦‚ä½•åœ¨Pycharmä¸­è®¾ç½®è™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="å…­ã€å¦‚ä½•åœ¨Pycharmä¸­è®¾ç½®è™šæ‹Ÿç¯å¢ƒ"></a>å…­ã€å¦‚ä½•åœ¨Pycharmä¸­è®¾ç½®è™šæ‹Ÿç¯å¢ƒ</h4><p>1ã€è·å–è™šæ‹Ÿç¯å¢ƒçš„è·¯å¾„ï¼Œå¯ä»¥é€šè¿‡åœ¨æŒ‡å®šè™šæ‹Ÿç¯å¢ƒä¸‹ï¼Œè¾“å…¥ which python è·å¾—</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-virtualenv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤šçº¿ç¨‹</title>
      <link href="/2021/11/16/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2021/11/16/Python/%E6%A8%A1%E5%9D%97/%E5%A4%9A%E7%BA%BF%E7%A8%8B/%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Lock,Thread</span><br><span class="line"><span class="keyword">import</span> time,os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                                      pythonå¤šçº¿ç¨‹è¯¦è§£</span></span><br><span class="line"><span class="string">      ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ</span></span><br><span class="line"><span class="string">      çº¿ç¨‹ä¹Ÿå«è½»é‡çº§è¿›ç¨‹ï¼Œæ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ï¼Œå®ƒè¢«åŒ…æ¶µåœ¨è¿›ç¨‹ä¹‹ä¸­ï¼Œæ˜¯è¿›ç¨‹ä¸­çš„å®é™…è¿ä½œå•ä½ã€‚</span></span><br><span class="line"><span class="string">      çº¿ç¨‹è‡ªå·±ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼Œåªæ‹¥æœ‰ä¸€ç‚¹å„¿åœ¨è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼Œä½†å®ƒå¯ä¸åŒå±ä¸€ä¸ªè¿›ç¨‹çš„å…¶ä»–çº¿ç¨‹å…±äº«è¿›ç¨‹æ‰€</span></span><br><span class="line"><span class="string">      æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºã€‚ä¸€ä¸ªçº¿ç¨‹å¯ä»¥åˆ›å»ºå’Œæ’¤é”€å¦ä¸€ä¸ªçº¿ç¨‹ï¼ŒåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ</span></span><br><span class="line"><span class="string">    çº¿ç¨‹åœ¨ç¨‹åºä¸­æ˜¯ç‹¬ç«‹çš„ã€å¹¶å‘çš„æ‰§è¡Œæµã€‚ä¸åˆ†éš”çš„è¿›ç¨‹ç›¸æ¯”ï¼Œè¿›ç¨‹ä¸­çº¿ç¨‹ä¹‹é—´çš„éš”ç¦»ç¨‹åº¦è¦å°ï¼Œå®ƒä»¬å…±äº«å†…å­˜ã€æ–‡ä»¶å¥æŸ„</span></span><br><span class="line"><span class="string">    å’Œå…¶ä»–è¿›ç¨‹åº”æœ‰çš„çŠ¶æ€ã€‚</span></span><br><span class="line"><span class="string">    å› ä¸ºçº¿ç¨‹çš„åˆ’åˆ†å°ºåº¦å°äºè¿›ç¨‹ï¼Œä½¿å¾—å¤šçº¿ç¨‹ç¨‹åºçš„å¹¶å‘æ€§é«˜ã€‚è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¹‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒï¼Œè€Œå¤šä¸ªçº¿ç¨‹å…±äº«</span></span><br><span class="line"><span class="string">    å†…å­˜ï¼Œä»è€Œæå¤§çš„æå‡äº†ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</span></span><br><span class="line"><span class="string">    çº¿ç¨‹æ¯”è¿›ç¨‹å…·æœ‰æ›´é«˜çš„æ€§èƒ½ï¼Œè¿™æ˜¯ç”±äºåŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„çº¿ç¨‹éƒ½æœ‰å…±æ€§ï¼Œå¤šä¸ªçº¿ç¨‹å…±äº«ä¸€ä¸ªè¿›ç¨‹çš„è™šæ‹Ÿç©ºé—´ã€‚çº¿ç¨‹çš„å…±äº«ç¯å¢ƒ</span></span><br><span class="line"><span class="string">    åŒ…æ‹¬è¿›ç¨‹ä»£ç æ®µã€è¿›ç¨‹çš„å…±æœ‰æ•°æ®ç­‰ï¼Œåˆ©ç”¨è¿™äº›å…±äº«çš„æ•°æ®ï¼Œçº¿ç¨‹ä¹‹é—´å¾ˆå®¹æ˜“å®ç°é€šä¿¡ã€‚</span></span><br><span class="line"><span class="string">    æ“ä½œç³»ç»Ÿåœ¨åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œå¿…é¡»ä¸ºæ”¹è¿›ç¨‹åˆ†é…ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œå¹¶åˆ†é…å¤§é‡çš„ç›¸å…³èµ„æºï¼Œä½†åˆ›å»ºçº¿ç¨‹åˆ™ç®€å•å¾—å¤šã€‚å› æ­¤ï¼Œä½¿ç”¨å¤šçº¿ç¨‹</span></span><br><span class="line"><span class="string">    æ¥å®ç°å¹¶å‘æ¯”ä½¿ç”¨å¤šè¿›ç¨‹çš„æ€§èƒ½é«˜å¾—è¦å¤šã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    æ€»ç»“èµ·æ¥ï¼Œä½¿ç”¨å¤šçº¿ç¨‹ç¼–ç¨‹å…·æœ‰å¦‚ä¸‹å‡ ä¸ªä¼˜ç‚¹ï¼š</span></span><br><span class="line"><span class="string">    è¿›ç¨‹ä¹‹é—´ä¸èƒ½å…±äº«å†…å­˜ï¼Œä½†çº¿ç¨‹ä¹‹é—´å…±äº«å†…å­˜éå¸¸å®¹æ˜“ã€‚</span></span><br><span class="line"><span class="string">    æ“ä½œç³»ç»Ÿåœ¨åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œéœ€è¦ä¸ºè¯¥è¿›ç¨‹é‡æ–°åˆ†é…ç³»ç»Ÿèµ„æºï¼Œä½†åˆ›å»ºçº¿ç¨‹çš„ä»£ä»·åˆ™å°å¾—å¤šã€‚å› æ­¤ä½¿ç”¨å¤šçº¿ç¨‹æ¥å®ç°å¤šä»»åŠ¡å¹¶å‘æ‰§è¡Œæ¯”ä½¿ç”¨å¤šè¿›ç¨‹çš„æ•ˆç‡é«˜</span></span><br><span class="line"><span class="string">    pythonè¯­è¨€å†…ç½®äº†å¤šçº¿ç¨‹åŠŸèƒ½æ”¯æŒï¼Œè€Œä¸æ˜¯å•çº¯åœ°ä½œä¸ºåº•å±‚æ“ä½œç³»ç»Ÿçš„è°ƒåº¦æ–¹å¼ï¼Œä»è€Œç®€åŒ–äº†pythonçš„å¤šçº¿ç¨‹ç¼–ç¨‹ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    æ™®é€šåˆ›å»ºæ–¹å¼</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def run(n):</span></span><br><span class="line"><span class="comment">#     print(&#x27;task&#x27;,n)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;2s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;1s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;0s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t1 = threading.Thread(target=run,args=(&#x27;t1&#x27;,))     # targetæ˜¯è¦æ‰§è¡Œçš„å‡½æ•°åï¼ˆä¸æ˜¯å‡½æ•°ï¼‰ï¼Œargsæ˜¯å‡½æ•°å¯¹åº”çš„å‚æ•°ï¼Œä»¥å…ƒç»„çš„å½¢å¼å­˜åœ¨</span></span><br><span class="line"><span class="comment">#     t2 = threading.Thread(target=run,args=(&#x27;t2&#x27;,))</span></span><br><span class="line"><span class="comment">#     t1.start()</span></span><br><span class="line"><span class="comment">#     t2.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    è‡ªå®šä¹‰çº¿ç¨‹ï¼šç»§æ‰¿threading.Threadæ¥å®šä¹‰çº¿ç¨‹ç±»ï¼Œå…¶æœ¬è´¨æ˜¯é‡æ„Threadç±»ä¸­çš„runæ–¹æ³•</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># class MyThread(threading.Thread):</span></span><br><span class="line"><span class="comment">#     def __init__(self,n):</span></span><br><span class="line"><span class="comment">#         super(MyThread,self).__init__()   #é‡æ„runå‡½æ•°å¿…é¡»å†™</span></span><br><span class="line"><span class="comment">#         self.n = n</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#     def run(self):</span></span><br><span class="line"><span class="comment">#         print(&#x27;task&#x27;,self.n)</span></span><br><span class="line"><span class="comment">#         time.sleep(1)</span></span><br><span class="line"><span class="comment">#         print(&#x27;2s&#x27;)</span></span><br><span class="line"><span class="comment">#         time.sleep(1)</span></span><br><span class="line"><span class="comment">#         print(&#x27;1s&#x27;)</span></span><br><span class="line"><span class="comment">#         time.sleep(1)</span></span><br><span class="line"><span class="comment">#         print(&#x27;0s&#x27;)</span></span><br><span class="line"><span class="comment">#         time.sleep(1)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t1 = MyThread(&#x27;t1&#x27;)</span></span><br><span class="line"><span class="comment">#     t2 = MyThread(&#x27;t2&#x27;)</span></span><br><span class="line"><span class="comment">#     t1.start()</span></span><br><span class="line"><span class="comment">#     t2.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å®ˆæŠ¤çº¿ç¨‹</span></span><br><span class="line"><span class="string">    ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œè¿™é‡Œä½¿ç”¨setDaemon(True)æŠŠæ‰€æœ‰çš„å­çº¿ç¨‹éƒ½å˜æˆäº†ä¸»çº¿ç¨‹çš„å®ˆæŠ¤çº¿ç¨‹ï¼Œ</span></span><br><span class="line"><span class="string">    å› æ­¤å½“ä¸»çº¿ç¨‹ç»“æŸåï¼Œå­çº¿ç¨‹ä¹Ÿä¼šéšä¹‹ç»“æŸï¼Œæ‰€ä»¥å½“ä¸»çº¿ç¨‹ç»“æŸåï¼Œæ•´ä¸ªç¨‹åºå°±é€€å‡ºäº†ã€‚</span></span><br><span class="line"><span class="string">    æ‰€è°“â€™çº¿ç¨‹å®ˆæŠ¤â€™ï¼Œå°±æ˜¯ä¸»çº¿ç¨‹ä¸ç®¡è¯¥çº¿ç¨‹çš„æ‰§è¡Œæƒ…å†µï¼Œåªè¦æ˜¯å…¶ä»–å­çº¿ç¨‹ç»“æŸä¸”ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œä¸»çº¿ç¨‹éƒ½ä¼šå…³é—­ã€‚ä¹Ÿå°±æ˜¯è¯´:ä¸»çº¿ç¨‹ä¸ç­‰å¾…è¯¥å®ˆæŠ¤çº¿ç¨‹çš„æ‰§è¡Œå®Œå†å»å…³é—­ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def run(n):</span></span><br><span class="line"><span class="comment">#     print(&#x27;task&#x27;,n)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;3s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;2s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(&#x27;1s&#x27;)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t=threading.Thread(target=run,args=(&#x27;t1&#x27;,))</span></span><br><span class="line"><span class="comment">#     t.setDaemon(True)</span></span><br><span class="line"><span class="comment">#     t.start()</span></span><br><span class="line"><span class="comment">#     print(&#x27;end&#x27;)</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    é€šè¿‡æ‰§è¡Œç»“æœå¯ä»¥çœ‹å‡ºï¼Œè®¾ç½®å®ˆæŠ¤çº¿ç¨‹ä¹‹åï¼Œå½“ä¸»çº¿ç¨‹ç»“æŸæ—¶ï¼Œå­çº¿ç¨‹ä¹Ÿå°†ç«‹å³ç»“æŸï¼Œä¸å†æ‰§è¡Œ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span></span><br><span class="line"><span class="string">    ä¸ºäº†è®©å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œç»“æŸä¹‹åï¼Œä¸»çº¿ç¨‹å†ç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨joinæ–¹æ³•ï¼Œè®©ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œ</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def run(n):</span></span><br><span class="line"><span class="comment">#     print(&#x27;task&#x27;,n)</span></span><br><span class="line"><span class="comment">#     time.sleep(2)</span></span><br><span class="line"><span class="comment">#     print(&#x27;5s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(2)</span></span><br><span class="line"><span class="comment">#     print(&#x27;3s&#x27;)</span></span><br><span class="line"><span class="comment">#     time.sleep(2)</span></span><br><span class="line"><span class="comment">#     print(&#x27;1s&#x27;)</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t=threading.Thread(target=run,args=(&#x27;t1&#x27;,))</span></span><br><span class="line"><span class="comment">#     t.setDaemon(True)    #æŠŠå­çº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼Œå¿…é¡»åœ¨start()ä¹‹å‰è®¾ç½®</span></span><br><span class="line"><span class="comment">#     t.start()</span></span><br><span class="line"><span class="comment">#     t.join()     #è®¾ç½®ä¸»çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹ç»“æŸ</span></span><br><span class="line"><span class="comment">#     print(&#x27;end&#x27;)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å¤šçº¿ç¨‹å…±äº«å…¨å±€å˜é‡</span></span><br><span class="line"><span class="string">    çº¿ç¨‹æ—¶è¿›ç¨‹çš„æ‰§è¡Œå•å…ƒï¼Œè¿›ç¨‹æ—¶ç³»ç»Ÿåˆ†é…èµ„æºçš„æœ€å°æ‰§è¡Œå•ä½ï¼Œæ‰€ä»¥åœ¨åŒä¸€ä¸ªè¿›ç¨‹ä¸­çš„å¤šçº¿ç¨‹æ˜¯å…±äº«èµ„æºçš„</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># g_num = 100</span></span><br><span class="line"><span class="comment"># def work1():</span></span><br><span class="line"><span class="comment">#     global  g_num</span></span><br><span class="line"><span class="comment">#     for i in range(3):</span></span><br><span class="line"><span class="comment">#         g_num+=1</span></span><br><span class="line"><span class="comment">#     print(&#x27;in work1 g_num is : %d&#x27; % g_num)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def work2():</span></span><br><span class="line"><span class="comment">#     global g_num</span></span><br><span class="line"><span class="comment">#     print(&#x27;in work2 g_num is : %d&#x27; % g_num)</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     t1 = threading.Thread(target=work1)</span></span><br><span class="line"><span class="comment">#     t1.start()</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     t2=threading.Thread(target=work2)</span></span><br><span class="line"><span class="comment">#     t2.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        ç”±äºçº¿ç¨‹ä¹‹é—´æ˜¯è¿›è¡Œéšæœºè°ƒåº¦ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹å¯èƒ½åªæ‰§è¡Œnæ¡æ‰§è¡Œä¹‹åï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€æ¡æ•°æ®æ—¶å¯èƒ½ä¼šå‡ºç°è„æ•°æ®ï¼Œ</span></span><br><span class="line"><span class="string">    æ‰€ä»¥å‡ºç°äº†çº¿ç¨‹é”ï¼Œå³åŒä¸€æ—¶åˆ»å…è®¸ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œæ“ä½œã€‚çº¿ç¨‹é”ç”¨äºé”å®šèµ„æºï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªé”ï¼Œåƒä¸‹é¢çš„ä»£ç ï¼Œå½“éœ€è¦ç‹¬å </span></span><br><span class="line"><span class="string">    æŸä¸€ä¸ªèµ„æºæ—¶ï¼Œä»»ä½•ä¸€ä¸ªé”éƒ½å¯ä»¥é”å®šè¿™ä¸ªèµ„æºï¼Œå°±å¥½æ¯”ä½ ç”¨ä¸åŒçš„é”éƒ½å¯ä»¥æŠŠè¿™ä¸ªç›¸åŒçš„é—¨é”ä½ä¸€æ ·ã€‚</span></span><br><span class="line"><span class="string">        ç”±äºçº¿ç¨‹ä¹‹é—´æ˜¯è¿›è¡Œéšæœºè°ƒåº¦çš„ï¼Œå¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰å¾ˆå¥½åœ°ä¿æŠ¤è¯¥å¯¹è±¡ï¼Œä¼šé€ æˆç¨‹åºç»“æœçš„ä¸å¯é¢„æœŸï¼Œ</span></span><br><span class="line"><span class="string">    æˆ‘ä»¬å› æ­¤ä¹Ÿç§°ä¸ºâ€œçº¿ç¨‹ä¸å®‰å…¨â€ã€‚</span></span><br><span class="line"><span class="string">        ä¸ºäº†é˜²æ­¢ä¸Šé¢æƒ…å†µçš„å‘ç”Ÿï¼Œå°±å‡ºç°äº†äº’æ–¥é”ï¼ˆLockï¼‰</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def work():</span></span><br><span class="line"><span class="comment">#     global n</span></span><br><span class="line"><span class="comment">#     lock.acquire()</span></span><br><span class="line"><span class="comment">#     temp = n</span></span><br><span class="line"><span class="comment">#     time.sleep(0.1)</span></span><br><span class="line"><span class="comment">#     n = temp-1</span></span><br><span class="line"><span class="comment">#     lock.release()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     lock = Lock()</span></span><br><span class="line"><span class="comment">#     n = 100</span></span><br><span class="line"><span class="comment">#     l = []</span></span><br><span class="line"><span class="comment">#     for i in range(100):</span></span><br><span class="line"><span class="comment">#         p = Thread(target=work)</span></span><br><span class="line"><span class="comment">#         l.append(p)</span></span><br><span class="line"><span class="comment">#         p.start()</span></span><br><span class="line"><span class="comment">#     for p in l:</span></span><br><span class="line"><span class="comment">#         p.join()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    é€’å½’é”ï¼šRLcokç±»çš„ç”¨æ³•å’ŒLockç±»ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å®ƒæ”¯æŒåµŒå¥—ï¼Œåœ¨å¤šä¸ªé”æ²¡æœ‰é‡Šæ”¾çš„æ—¶å€™ä¸€èˆ¬ä¼šä½¿ç”¨RLockç±»</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def func(lock):</span></span><br><span class="line"><span class="comment">#     global gl_num</span></span><br><span class="line"><span class="comment">#     lock.acquire()</span></span><br><span class="line"><span class="comment">#     gl_num += 1</span></span><br><span class="line"><span class="comment">#     time.sleep(1)</span></span><br><span class="line"><span class="comment">#     print(gl_num)</span></span><br><span class="line"><span class="comment">#     lock.release()</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__ == &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     gl_num = 0</span></span><br><span class="line"><span class="comment">#     lock = threading.RLock()</span></span><br><span class="line"><span class="comment">#     for i in range(10):</span></span><br><span class="line"><span class="comment">#         t = threading.Thread(target=func,args=(lock,))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ä¿¡å·é‡ï¼ˆBoundedSemaphoreç±»ï¼‰</span></span><br><span class="line"><span class="string">    äº’æ–¥é”åŒæ—¶åªå…è®¸ä¸€ä¸ªçº¿ç¨‹æ›´æ”¹æ•°æ®ï¼Œè€ŒSemaphoreæ˜¯åŒæ—¶å…è®¸ä¸€å®šæ•°é‡çš„çº¿ç¨‹æ›´æ”¹æ•°æ®ï¼Œæ¯”å¦‚å•æ‰€æœ‰3ä¸ªå‘ï¼Œ</span></span><br><span class="line"><span class="string">    é‚£æœ€å¤šåªå…è®¸3ä¸ªäººä¸Šå•æ‰€ï¼Œåé¢çš„äººåªèƒ½ç­‰é‡Œé¢æœ‰äººå‡ºæ¥äº†æ‰èƒ½å†è¿›å»</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># def run(n,semaphore):</span></span><br><span class="line"><span class="comment">#     semaphore.acquire()   #åŠ é”</span></span><br><span class="line"><span class="comment">#     time.sleep(3)</span></span><br><span class="line"><span class="comment">#     print(&#x27;run the thread:%s\n&#x27; % n)</span></span><br><span class="line"><span class="comment">#     semaphore.release()    #é‡Šæ”¾</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># if __name__== &#x27;__main__&#x27;:</span></span><br><span class="line"><span class="comment">#     num=0</span></span><br><span class="line"><span class="comment">#     semaphore = threading.BoundedSemaphore(5)   #æœ€å¤šå…è®¸5ä¸ªçº¿ç¨‹åŒæ—¶è¿è¡Œ</span></span><br><span class="line"><span class="comment">#     for i in range(22):</span></span><br><span class="line"><span class="comment">#         t = threading.Thread(target=run,args=(&#x27;t-%s&#x27; % i,semaphore))</span></span><br><span class="line"><span class="comment">#         t.start()</span></span><br><span class="line"><span class="comment">#     while threading.active_count() !=1:</span></span><br><span class="line"><span class="comment">#         pass</span></span><br><span class="line"><span class="comment">#     else:</span></span><br><span class="line"><span class="comment">#         print(&#x27;----------all threads done-----------&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    pythonçº¿ç¨‹çš„äº‹ä»¶ç”¨äºä¸»çº¿ç¨‹æ§åˆ¶å…¶ä»–çº¿ç¨‹çš„æ‰§è¡Œï¼Œäº‹ä»¶æ˜¯ä¸€ä¸ªç®€å•çš„çº¿ç¨‹åŒæ­¥å¯¹è±¡ï¼Œå…¶ä¸»è¦æä¾›ä»¥ä¸‹çš„å‡ ä¸ªæ–¹æ³•ï¼š</span></span><br><span class="line"><span class="string">        clearå°†flagè®¾ç½®ä¸º False</span></span><br><span class="line"><span class="string">        setå°†flagè®¾ç½®ä¸º True</span></span><br><span class="line"><span class="string">        is_setåˆ¤æ–­æ˜¯å¦è®¾ç½®äº†flag</span></span><br><span class="line"><span class="string">        waitä¼šä¸€ç›´ç›‘å¬flagï¼Œå¦‚æœæ²¡æœ‰æ£€æµ‹åˆ°flagå°±ä¸€ç›´å¤„äºé˜»å¡çŠ¶æ€</span></span><br><span class="line"><span class="string">    äº‹ä»¶å¤„ç†çš„æœºåˆ¶ï¼šå…¨å±€å®šä¹‰äº†ä¸€ä¸ªFlagï¼Œå½“Flagçš„å€¼ä¸ºFalseï¼Œé‚£ä¹ˆevent.wait()å°±ä¼šé˜»å¡ï¼Œå½“flagå€¼ä¸ºTrueï¼Œ</span></span><br><span class="line"><span class="string">    é‚£ä¹ˆevent.wait()ä¾¿ä¸å†é˜»å¡</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">event = threading.Event()</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">lighter</span>():</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    event.<span class="built_in">set</span>()         <span class="comment">#åˆå§‹è€…ä¸ºç»¿ç¯</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="number">5</span> &lt; count &lt;=<span class="number">10</span>:</span><br><span class="line">            event.clear()  <span class="comment">#çº¢ç¯ï¼Œæ¸…é™¤æ ‡å¿—ä½</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;\33[41;lmred light is on...\033[0m]&quot;</span>)</span><br><span class="line">        <span class="keyword">elif</span> count &gt; <span class="number">10</span>:</span><br><span class="line">            event.<span class="built_in">set</span>()    <span class="comment">#ç»¿ç¯ï¼Œè®¾ç½®æ ‡å¿—ä½</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;\33[42;lmgreen light is on...\033[0m&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">car</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> event.is_set():     <span class="comment">#åˆ¤æ–­æ˜¯å¦è®¾ç½®äº†æ ‡å¿—ä½</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[%s] running.....&#x27;</span>%name)</span><br><span class="line">            time.sleep(<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[%s] sees red light,waiting...&#x27;</span>%name)</span><br><span class="line">            event.wait()</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[%s] green light is on,start going...&#x27;</span>%name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># startTime = time.time()</span></span><br><span class="line">light = threading.Thread(target=lighter,)</span><br><span class="line">light.start()</span><br><span class="line"></span><br><span class="line">car = threading.Thread(target=car,args=(<span class="string">&#x27;MINT&#x27;</span>,))</span><br><span class="line">car.start()</span><br><span class="line">endTime = time.time()</span><br><span class="line"><span class="comment"># print(&#x27;ç”¨æ—¶ï¼š&#x27;,endTime-startTime)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                           GIL  å…¨å±€è§£é‡Šå™¨</span></span><br><span class="line"><span class="string">        åœ¨épythonç¯å¢ƒä¸­ï¼Œå•æ ¸æƒ…å†µä¸‹ï¼ŒåŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚å¤šæ ¸æ—¶å¯ä»¥æ”¯æŒå¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œã€‚ä½†æ˜¯åœ¨pythonä¸­ï¼Œæ— è®ºæœ‰å¤šå°‘ä¸ªæ ¸</span></span><br><span class="line"><span class="string">        åŒæ—¶åªèƒ½æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ã€‚ç©¶å…¶åŸå› ï¼Œè¿™å°±æ˜¯ç”±äºGILçš„å­˜åœ¨å¯¼è‡´çš„ã€‚</span></span><br><span class="line"><span class="string">        GILçš„å…¨ç¨‹æ˜¯å…¨å±€è§£é‡Šå™¨ï¼Œæ¥æºæ˜¯pythonè®¾è®¡ä¹‹åˆçš„è€ƒè™‘ï¼Œä¸ºäº†æ•°æ®å®‰å…¨æ‰€åšçš„å†³å®šã€‚æŸä¸ªçº¿ç¨‹æƒ³è¦æ‰§è¡Œï¼Œå¿…é¡»å…ˆæ‹¿åˆ°GILï¼Œæˆ‘ä»¬å¯ä»¥</span></span><br><span class="line"><span class="string">        æŠŠGILçœ‹åšæ˜¯â€œé€šè¡Œè¯â€ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªpythonè¿›ç¨‹ä¹‹ä¸­ï¼ŒGILåªæœ‰ä¸€ä¸ªã€‚æ‹¿ä¸åˆ°çº¿ç¨‹çš„é€šè¡Œè¯ï¼Œå¹¶ä¸”åœ¨ä¸€ä¸ªpythonè¿›ç¨‹ä¸­ï¼ŒGILåªæœ‰ä¸€ä¸ªï¼Œ</span></span><br><span class="line"><span class="string">        æ‹¿ä¸åˆ°é€šè¡Œè¯çš„çº¿ç¨‹ï¼Œå°±ä¸å…è®¸è¿›å…¥CPUæ‰§è¡Œã€‚GILåªåœ¨cpythonä¸­æ‰æœ‰ï¼Œå› ä¸ºcpythonè°ƒç”¨çš„æ˜¯cè¯­è¨€çš„åŸç”Ÿçº¿ç¨‹ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ç›´æ¥æ“</span></span><br><span class="line"><span class="string">        ä½œcpuï¼Œè€Œåªèƒ½åˆ©ç”¨GILä¿è¯åŒä¸€æ—¶é—´åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°æ•°æ®ã€‚è€Œåœ¨pypyå’Œjpythonä¸­æ˜¯æ²¡æœ‰GILçš„</span></span><br><span class="line"><span class="string">        pythonåœ¨ä½¿ç”¨å¤šçº¿ç¨‹çš„æ—¶å€™ï¼Œè°ƒç”¨çš„æ˜¯cè¯­è¨€çš„åŸç”Ÿè¿‡ç¨‹ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">                            pythoné’ˆå¯¹ä¸åŒç±»å‹çš„ä»£ç æ‰§è¡Œæ•ˆç‡ä¹Ÿæ˜¯ä¸åŒçš„</span></span><br><span class="line"><span class="string">        1ã€CPUå¯†é›†å‹ä»£ç ï¼ˆå„ç§å¾ªç¯å¤„ç†ã€è®¡ç®—ç­‰ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”±äºè®¡ç®—å·¥ä½œå¤šï¼ŒticksæŠ€æœ¯å¾ˆå¿«å°±ä¼šè¾¾åˆ°é˜€å€¼ï¼Œç„¶åå‡ºå‘GILçš„</span></span><br><span class="line"><span class="string">        é‡Šæ”¾ä¸å†ç«äº‰ï¼ˆå¤šä¸ªçº¿ç¨‹æ¥å›åˆ‡æ¢å½“ç„¶æ˜¯éœ€è¦æ¶ˆè€—èµ„æºçš„ï¼‰ï¼Œæ‰€ä»¥pythonä¸‹çš„å¤šçº¿ç¨‹å¯¹CPUå¯†é›†å‹ä»£ç å¹¶ä¸å‹å¥½ã€‚</span></span><br><span class="line"><span class="string">        2ã€IOå¯†é›†å‹ä»£ç ï¼ˆæ–‡ä»¶å¤„ç†ã€ç½‘ç»œçˆ¬è™«ç­‰è®¾è®¡æ–‡ä»¶è¯»å†™æ“ä½œï¼‰ï¼Œå¤šçº¿ç¨‹èƒ½å¤Ÿæœ‰æ•ˆæå‡æ•ˆç‡ï¼ˆå•çº¿ç¨‹ä¸‹æœ‰IOæ“ä½œä¼šè¿›è¡ŒIOç­‰å¾…ï¼Œ</span></span><br><span class="line"><span class="string">        é€ æˆä¸å¿…è¦çš„æ—¶é—´æµªè´¹ï¼Œè€Œå¼€å¯å¤šçº¿ç¨‹èƒ½åœ¨çº¿ç¨‹Aç­‰å¾…æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°çº¿ç¨‹Bï¼Œå¯ä»¥ä¸æµªè´¹CPUçš„èµ„æºï¼Œä»è€Œèƒ½æå‡ç¨‹åºçš„æ‰§è¡Œ</span></span><br><span class="line"><span class="string">        æ•ˆç‡ï¼‰ã€‚æ‰€ä»¥pythonçš„å¤šçº¿ç¨‹å¯¹IOå¯†é›†å‹ä»£ç æ¯”è¾ƒå‹å¥½ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    ä¸»è¦è¦çœ‹ä»»åŠ¡çš„ç±»å‹ï¼Œæˆ‘ä»¬æŠŠä»»åŠ¡åˆ†ä¸ºI/Oå¯†é›†å‹å’Œè®¡ç®—å¯†é›†å‹ï¼Œè€Œå¤šçº¿ç¨‹åœ¨åˆ‡æ¢ä¸­åˆåˆ†ä¸ºI/Oåˆ‡æ¢å’Œæ—¶é—´åˆ‡æ¢ã€‚å¦‚æœä»»åŠ¡å±äºæ˜¯I/Oå¯†é›†å‹ï¼Œ</span></span><br><span class="line"><span class="string">    è‹¥ä¸é‡‡ç”¨å¤šçº¿ç¨‹ï¼Œæˆ‘ä»¬åœ¨è¿›è¡ŒI/Oæ“ä½œæ—¶ï¼ŒåŠ¿å¿…è¦ç­‰å¾…å‰é¢ä¸€ä¸ªI/Oä»»åŠ¡å®Œæˆåé¢çš„I/Oä»»åŠ¡æ‰èƒ½è¿›è¡Œï¼Œåœ¨è¿™ä¸ªç­‰å¾…çš„è¿‡ç¨‹ä¸­ï¼ŒCPUå¤„äºç­‰å¾…</span></span><br><span class="line"><span class="string">    çŠ¶æ€ï¼Œè¿™æ—¶å¦‚æœé‡‡ç”¨å¤šçº¿ç¨‹çš„è¯ï¼Œåˆšå¥½å¯ä»¥åˆ‡æ¢åˆ°è¿›è¡Œå¦ä¸€ä¸ªI/Oä»»åŠ¡ã€‚è¿™æ ·å°±åˆšå¥½å¯ä»¥å……åˆ†åˆ©ç”¨CPUé¿å…CPUå¤„äºé—²ç½®çŠ¶æ€ï¼Œæé«˜æ•ˆç‡ã€‚ä½†æ˜¯</span></span><br><span class="line"><span class="string">    å¦‚æœå¤šçº¿ç¨‹ä»»åŠ¡éƒ½æ˜¯è®¡ç®—å‹ï¼ŒCPUä¼šä¸€ç›´åœ¨è¿›è¡Œå·¥ä½œï¼Œç›´åˆ°ä¸€å®šçš„æ—¶é—´åé‡‡å–å¤šçº¿ç¨‹æ—¶é—´åˆ‡æ¢çš„æ–¹å¼è¿›è¡Œåˆ‡æ¢çº¿ç¨‹ï¼Œæ­¤æ—¶CPUä¸€ç›´å¤„äºå·¥ä½œçŠ¶æ€ï¼Œ</span></span><br><span class="line"><span class="string">    æ­¤ç§æƒ…å†µä¸‹å¹¶ä¸èƒ½æé«˜æ€§èƒ½ï¼Œç›¸ååœ¨åˆ‡æ¢å¤šçº¿ç¨‹ä»»åŠ¡æ—¶ï¼Œå¯èƒ½è¿˜ä¼šé€ æˆæ—¶é—´å’Œèµ„æºçš„æµªè´¹ï¼Œå¯¼è‡´æ•ˆèƒ½ä¸‹é™ã€‚è¿™å°±æ˜¯é€ æˆä¸Šé¢ä¸¤ç§å¤šçº¿ç¨‹ç»“æœä¸èƒ½çš„è§£é‡Šã€‚</span></span><br><span class="line"><span class="string">ç»“è®º:I/Oå¯†é›†å‹ä»»åŠ¡ï¼Œå»ºè®®é‡‡å–å¤šçº¿ç¨‹ï¼Œè¿˜å¯ä»¥é‡‡ç”¨å¤šè¿›ç¨‹+åç¨‹çš„æ–¹å¼(ä¾‹å¦‚:çˆ¬è™«å¤šé‡‡ç”¨å¤šçº¿ç¨‹å¤„ç†çˆ¬å–çš„æ•°æ®)ï¼›å¯¹äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œpythonæ­¤æ—¶å°±ä¸é€‚ç”¨äº†ã€‚</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">```ï¿½ï¿½</span><br><span class="line">ç»“è®º:I/Oå¯†é›†å‹ä»»åŠ¡ï¼Œå»ºè®®é‡‡å–å¤šçº¿ç¨‹ï¼Œè¿˜å¯ä»¥é‡‡ç”¨å¤šè¿›ç¨‹+åç¨‹çš„æ–¹å¼(ä¾‹å¦‚:çˆ¬è™«å¤šé‡‡ç”¨å¤šçº¿ç¨‹å¤„ç†çˆ¬å–çš„æ•°æ®)ï¼›å¯¹äºè®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼Œpythonæ­¤æ—¶å°±ä¸é€‚ç”¨äº†ã€‚</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-å¤šçº¿ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python--æ‰¹é‡è§£å‹bz2ã€zip</title>
      <link href="/2021/11/10/Python/%E6%A8%A1%E5%9D%97/bz2/python--%E6%89%B9%E9%87%8F%E8%A7%A3%E5%8E%8Bbz2%E3%80%81zip/"/>
      <url>/2021/11/10/Python/%E6%A8%A1%E5%9D%97/bz2/python--%E6%89%B9%E9%87%8F%E8%A7%A3%E5%8E%8Bbz2%E3%80%81zip/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="è§£å‹bz2"><a href="#è§£å‹bz2" class="headerlink" title="è§£å‹bz2"></a>è§£å‹bz2</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line"></span><br><span class="line">import bz2</span><br><span class="line"></span><br><span class="line"># bz2æ–‡ä»¶è·¯å¾„</span><br><span class="line">path = &quot;C:/Users/ll/Desktop/ecdata/bz2&quot;</span><br><span class="line"></span><br><span class="line"># è§£å‹æ–‡ä»¶è¾“å‡ºè·¯å¾„</span><br><span class="line">un_path = &quot;C:/Users/ll/Desktop/ecdata/bz2&quot;</span><br><span class="line"></span><br><span class="line">for (dirpath, dirnames, files) in os.walk(path):</span><br><span class="line"></span><br><span class="line">    for filename in files:</span><br><span class="line"></span><br><span class="line">        filepath = os.path.join(dirpath, filename)</span><br><span class="line">        # è§£å‹åçš„æ–‡ä»¶å</span><br><span class="line">        newfilepath = os.path.join(un_path, filename.split(&#x27;.&#x27;)[0])</span><br><span class="line">        # ä»¥å­—èŠ‚æµçš„æ–¹å¼è¯»å–bz2æ–‡ä»¶å¹¶å†™å…¥æ–°çš„æ–‡ä»¶</span><br><span class="line">        with open(newfilepath, &#x27;wb&#x27;) as new_file, bz2.BZ2File(filepath, &#x27;rb&#x27;) as file:</span><br><span class="line">            for data in iter(lambda: file.read(100 * 1024), b&#x27;&#x27;):</span><br><span class="line">                new_file.write(data)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="è§£å‹zip"><a href="#è§£å‹zip" class="headerlink" title="è§£å‹zip"></a>è§£å‹zip</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line"></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">åŸºæœ¬æ ¼å¼ï¼šzipfile.ZipFile(filename[,mode[,compression[,allowZip64]]])</span><br><span class="line">modeï¼šå¯é€‰ r,w,a ä»£è¡¨ä¸åŒçš„æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼ï¼›r åªè¯»ï¼›w é‡å†™ï¼›a æ·»åŠ </span><br><span class="line">compressionï¼šæŒ‡å‡ºè¿™ä¸ª zipfile ç”¨ä»€ä¹ˆå‹ç¼©æ–¹æ³•ï¼Œé»˜è®¤æ˜¯ ZIP_STOREDï¼Œå¦ä¸€ç§é€‰æ‹©æ˜¯ ZIP_DEFLATEDï¼›</span><br><span class="line">allowZip64ï¼šboolå‹å˜é‡ï¼Œå½“è®¾ç½®ä¸ºTrueæ—¶å¯ä»¥åˆ›å»ºå¤§äº 2G çš„ zip æ–‡ä»¶ï¼Œé»˜è®¤å€¼ Trueï¼›</span><br><span class="line"></span><br><span class="line">&#x27;&#x27;&#x27;</span><br><span class="line">zip_file = zipfile.ZipFile(path)</span><br><span class="line">zip_list = zip_file.namelist() # å¾—åˆ°å‹ç¼©åŒ…é‡Œæ‰€æœ‰æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">for f in zip_list:</span><br><span class="line">    zip_file.extract(f, output) # å¾ªç¯è§£å‹æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•output</span><br><span class="line"> </span><br><span class="line">zip_file.close() # å…³é—­æ–‡ä»¶ï¼Œå¿…é¡»æœ‰ï¼Œé‡Šæ”¾å†…å­˜</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-bz2 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockeræœ¬åœ°æ›´æ¢å­˜å‚¨ç›®å½•</title>
      <link href="/2021/11/09/Docker/Docker%E6%9C%AC%E5%9C%B0%E6%9B%B4%E6%8D%A2%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95/"/>
      <url>/2021/11/09/Docker/Docker%E6%9C%AC%E5%9C%B0%E6%9B%B4%E6%8D%A2%E5%AD%98%E5%82%A8%E7%9B%AE%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="Dockerå°†æœ¬åœ°dockerçš„å­˜å‚¨ç›®å½•æ›´æ¢åˆ°æœ¬åœ°"><a href="#Dockerå°†æœ¬åœ°dockerçš„å­˜å‚¨ç›®å½•æ›´æ¢åˆ°æœ¬åœ°" class="headerlink" title="Dockerå°†æœ¬åœ°dockerçš„å­˜å‚¨ç›®å½•æ›´æ¢åˆ°æœ¬åœ°"></a>Dockerå°†æœ¬åœ°dockerçš„å­˜å‚¨ç›®å½•æ›´æ¢åˆ°æœ¬åœ°</h3><p>Docker é»˜è®¤å®‰è£…çš„æƒ…å†µä¸‹ï¼Œä¼šä½¿ç”¨ &#x2F;var&#x2F;lib&#x2F;docker&#x2F; ç›®å½•ä½œä¸ºå­˜å‚¨ç›®å½•ï¼Œç”¨ä»¥å­˜æ”¾æ‹‰å–çš„é•œåƒå’Œåˆ›å»ºçš„å®¹å™¨ç­‰ã€‚ä¸è¿‡ç”±äºæ­¤ç›®å½•ä¸€èˆ¬éƒ½ä½äºç³»ç»Ÿç›˜ï¼Œé‡åˆ°ç³»ç»Ÿç›˜æ¯”è¾ƒå°ï¼Œè€Œé•œåƒå’Œå®¹å™¨å¤šäº†åå°±å®¹æ˜“å°´å°¬ï¼Œè¿™é‡Œè¯´æ˜ä¸€ä¸‹å¦‚ä½•ä¿®æ”¹ Docker çš„å­˜å‚¨ç›®å½•ã€‚</p><p>å¼€å‘ç¯å¢ƒä¸­, Dockeræµ‹è¯•æœåŠ¡å™¨è¿è¡Œçš„å®¹å™¨,é•œåƒå¤ªå¤šäº†, å¯¼è‡´ä¹‹å‰é…ç½®çš„50Gç£ç›˜ç©ºé—´ç»å¸¸æ€§å æ»¡,å†³å®šæŠŠdockerçš„å­˜å‚¨ç›®å½•æ›´æ¢åˆ°æ–°çš„æŒ‚è½½ç‚¹ä¸­.ä»¥ä½œè®°å½•.</p><h4 id="1-æŸ¥çœ‹Docker-ç£ç›˜ä½¿ç”¨æƒ…å†µ"><a href="#1-æŸ¥çœ‹Docker-ç£ç›˜ä½¿ç”¨æƒ…å†µ" class="headerlink" title="1. æŸ¥çœ‹Docker ç£ç›˜ä½¿ç”¨æƒ…å†µ"></a>1. æŸ¥çœ‹Docker ç£ç›˜ä½¿ç”¨æƒ…å†µ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker system df</span><br></pre></td></tr></table></figure><h4 id="2-æŸ¥çœ‹dockerçš„å­˜å‚¨ç›®å½•"><a href="#2-æŸ¥çœ‹dockerçš„å­˜å‚¨ç›®å½•" class="headerlink" title="2. æŸ¥çœ‹dockerçš„å­˜å‚¨ç›®å½•"></a>2. æŸ¥çœ‹dockerçš„å­˜å‚¨ç›®å½•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/11/09/IYZ1rF.png" alt="IYZ1rF.png"></p><h4 id="3-æ¸…ç†ç£ç›˜-å¯é€‰æ‹©æ‰‹åŠ¨åˆ é™¤"><a href="#3-æ¸…ç†ç£ç›˜-å¯é€‰æ‹©æ‰‹åŠ¨åˆ é™¤" class="headerlink" title="3. æ¸…ç†ç£ç›˜(å¯é€‰æ‹©æ‰‹åŠ¨åˆ é™¤)"></a>3. æ¸…ç†ç£ç›˜(å¯é€‰æ‹©æ‰‹åŠ¨åˆ é™¤)</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docke system prune</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤å…³é—­çš„å®¹å™¨</li><li>æ— ç”¨çš„æ•°æ®å·å’Œç½‘ç»œ</li><li>æ— TAGçš„é•œåƒ</li><li>-a å‚æ•° æ— ç”¨çš„é•œåƒä¹Ÿä¼šåˆ é™¤ (æ…ç”¨)</li></ul><h4 id="4-åœæ­¢Docker-æœåŠ¡"><a href="#4-åœæ­¢Docker-æœåŠ¡" class="headerlink" title="4. åœæ­¢Docker æœåŠ¡"></a>4. åœæ­¢Docker æœåŠ¡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop docker</span><br></pre></td></tr></table></figure><h4 id="5-è¿ç§»æ•°æ®ç›®å½•"><a href="#5-è¿ç§»æ•°æ®ç›®å½•" class="headerlink" title="5. è¿ç§»æ•°æ®ç›®å½•"></a>5. è¿ç§»æ•°æ®ç›®å½•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># /shardfile/docker/ dockerç›®å½•éœ€è¦è‡ªå»º</span><br><span class="line">rsync -avz /var/lib/docker /shardfile/docker/</span><br></pre></td></tr></table></figure><h4 id="6-ä¿®æ”¹é…ç½®æ–‡ä»¶"><a href="#6-ä¿®æ”¹é…ç½®æ–‡ä»¶" class="headerlink" title="6.ä¿®æ”¹é…ç½®æ–‡ä»¶"></a>6.ä¿®æ”¹é…ç½®æ–‡ä»¶</h4><p>æœ€ç®€å•ç²—æš´çš„åŠæ³•ï¼Œå½“ç„¶å°±æ˜¯ç›´æ¥æŠŠæ•°æ®ç›˜æŒ‚è½½åˆ°&#x2F;var&#x2F;lib&#x2F;docker ç›®å½•ä¸‹ï¼Œä¸è¿‡è¿™æ ·å¯¹æ•´ä½“å½±å“å¤ªå¤§ï¼Œå…¶ä»–ç¨‹åºéœ€è¦ä½¿ç”¨æ•°æ®ç›˜æ—¶å¾ˆä¸æ–¹ä¾¿ï¼Œæ‰€ä»¥è¿˜æ˜¯ä» Docker ç«¯çš„ä¿®æ”¹å…¥æ‰‹ã€‚</p><p>å®˜æ–¹æ–‡æ¡£çš„ä¿®æ”¹åŠæ³•æ˜¯ç¼–è¾‘ &#x2F;etc&#x2F;docker&#x2F;daemon.json æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/docker/daemon.json </span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯æ²¡æœ‰çš„ï¼Œè¿™é‡Œå®é™…ä¹Ÿå°±æ˜¯æ–°å»ºä¸€ä¸ªï¼Œç„¶åå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;data-root&quot;: &quot;/shardfile/docker&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ–‡ä»¶è¿˜æ¶‰åŠé»˜è®¤æºçš„è®¾å®šï¼Œå¦‚æœè®¾å®šäº†å›½å†…æºï¼Œé‚£ä¹ˆå®é™…å°±æ˜¯åœ¨æºåœ°å€ä¸‹æ–¹åŠ ä¸€è¡Œï¼Œå†™æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;http://hub-mirror.c.163.com&quot;],</span><br><span class="line">  &quot;data-root&quot;: &quot;/shardfile/docker&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="7-é‡å¯dockeræœåŠ¡"><a href="#7-é‡å¯dockeræœåŠ¡" class="headerlink" title="7.é‡å¯dockeræœåŠ¡"></a>7.é‡å¯dockeræœåŠ¡</h4><p>ä¿å­˜é€€å‡ºï¼Œç„¶åé‡å¯ docker æœåŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h4 id="8-æ£€æŸ¥"><a href="#8-æ£€æŸ¥" class="headerlink" title="8. æ£€æŸ¥"></a>8. æ£€æŸ¥</h4><p>å†æ¬¡æŸ¥çœ‹ docke info ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ç›®å½•å·²ç»å˜æˆäº†è®¾å®šçš„&#x2F;shardfile&#x2F;docker</p><p>&#x3D;&#x3D;ç›¸å…³é“¾æ¥&#x3D;&#x3D;ï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/95533274">ä¿®æ”¹ Docker çš„é»˜è®¤å­˜å‚¨è·¯å¾„</a></p><p><a href="https://blog.csdn.net/u011420410/article/details/99845765">Dockerå­˜å‚¨ç›®å½•æ›´æ¢</a></p><p><a href="https://www.cnblogs.com/ooops/p/12886815.html">dockeré…ç½®æ–‡ä»¶</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CentOSæŒ‚è½½windowså…±äº«æ–‡ä»¶å¤¹</title>
      <link href="/2021/11/08/Linux/CentOS%E6%8C%82%E8%BD%BDwindows%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/2021/11/08/Linux/CentOS%E6%8C%82%E8%BD%BDwindows%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>CentOSæŒ‚è½½windowså…±äº«æ–‡ä»¶å¤¹</p><p>1ã€æŒ‚è½½å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mount -t æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿ ç”¨æˆ·åï¼Œå¯†ç  //æœåŠ¡å™¨ip/å…±äº«ç›®å½• Centosæœ¬åœ°ç›®å½•</span><br><span class="line">mount -t cifs -o username=user,password=123456 //&#123;ip&#125;/upload /share/upload</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t cifs -o username=&quot;wanghan&quot;,password=&quot;wanghan123&quot; //127.0.0.1/sharedata /data/Ecoweather/DATA</span><br></pre></td></tr></table></figure><p>ç›¸å…³æŠ¥é”™æ–‡æ¡£ï¼š<br><a href="https://blog.csdn.net/fengaodlw/article/details/80863823">https://blog.csdn.net/fengaodlw/article/details/80863823</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysql+rediså¤šæ¡ä»¶æŸ¥è¯¢æ¥å£</title>
      <link href="/2021/11/02/MySQL/mysql+redis%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3/"/>
      <url>/2021/11/02/MySQL/mysql+redis%E5%A4%9A%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">å­—æ®µ</span><br><span class="line">åç§° å¤§å° æ—¶é—´ </span><br><span class="line"></span><br><span class="line">å¤šæ¡ä»¶æŸ¥è¯¢ï¼šåŸºäºå•ä¸€æ—¶é—´ æ ‡è¯† 1.ç­‰äºè¿™ä¸ªæ—¶é—´ 2.ç¦»æŸ¥è¯¢æ—¶é—´æœ€è¿‘çš„æ—¶é—´</span><br><span class="line">æŸ¥è¯¢æ—¶é—´æ®µ</span><br><span class="line">åç§°æ¨¡ç³ŠæŸ¥è¯¢</span><br><span class="line">æ•°å€¼ å¤§äºå°äº æ ‡è¯†</span><br><span class="line">æœ‰çš„ä¸ºç©ºæŸ¥è¯¢å…¨éƒ¨</span><br><span class="line">æ¥å£é€Ÿåº¦</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æ·»åŠ æ•°æ®</span><br><span class="line">æŸ¥è¯¢ä¹‹åæ·»åŠ redis åˆ é™¤redis</span><br></pre></td></tr></table></figure><h2 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> flask</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"><span class="keyword">import</span> redis</span><br><span class="line">server = flask.Flask(__name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@server.route(<span class="params"><span class="string">&#x27;/query&#x27;</span>,methods=[<span class="string">&#x27;get&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">query</span>():</span><br><span class="line">    T1 = time.time()</span><br><span class="line">    args = <span class="built_in">list</span>()</span><br><span class="line">    name = flask.request.values.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">    number = flask.request.values.get(<span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">    date_time = flask.request.values.get(<span class="string">&#x27;date_time&#x27;</span>)</span><br><span class="line">    number_id = flask.request.values.get(<span class="string">&#x27;number_id&#x27;</span>)</span><br><span class="line">    date_time_id = flask.request.values.get(<span class="string">&#x27;date_time_id&#x27;</span>)</span><br><span class="line">    res = &#123;<span class="string">&quot;code&quot;</span>: <span class="number">200</span>, <span class="string">&quot;messages&quot;</span>: <span class="string">&quot;æˆåŠŸ&quot;</span>&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> name:</span><br><span class="line">        args.append(<span class="string">&quot;name LIKE &#x27;&#123;&#125;&#x27;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;%&quot;</span>+name+<span class="string">&quot;%&quot;</span>))</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">if</span> number:</span><br><span class="line">        <span class="keyword">if</span> number_id == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">            args.append(<span class="string">&quot;number&gt;=&#x27;&#123;&#125;&#x27;&quot;</span>.<span class="built_in">format</span>(number))</span><br><span class="line">        <span class="keyword">elif</span> number_id == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            args.append(<span class="string">&quot;number&lt;=&#x27;&#123;&#125;&#x27;&quot;</span>.<span class="built_in">format</span>(number))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = &#123;<span class="string">&quot;code&quot;</span>: <span class="number">500</span>, <span class="string">&quot;messages&quot;</span>: <span class="string">&quot;ç¼ºå°‘number_idå‚æ•°&quot;</span>&#125;</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">if</span> date_time:</span><br><span class="line">        <span class="keyword">if</span> date_time.split(<span class="string">&quot;,&quot;</span>):</span><br><span class="line">            date_time_id = <span class="number">0</span></span><br><span class="line">            args.append(<span class="string">&quot;time&gt;&#x27;&#123;&#125;&#x27; AND time &lt; &#x27;&#123;&#125;&#x27;&quot;</span>.<span class="built_in">format</span>(date_time.split(<span class="string">&quot;,&quot;</span>)[<span class="number">0</span>],date_time.split(<span class="string">&quot;,&quot;</span>)[<span class="number">1</span>]))</span><br><span class="line">        <span class="keyword">elif</span> date_time_id==<span class="string">&quot;1&quot;</span> <span class="keyword">or</span> date_time_id==<span class="string">&quot;2&quot;</span>:</span><br><span class="line">            args.append(<span class="string">&quot;time=&#x27;&#123;&#125;&#x27;&quot;</span>.<span class="built_in">format</span>(date_time))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = &#123;<span class="string">&quot;code&quot;</span>: <span class="number">500</span>, <span class="string">&quot;messages&quot;</span>: <span class="string">&quot;ç¼ºå°‘date_time_idå‚æ•°&quot;</span>&#125;</span><br><span class="line">            </span><br><span class="line">    data_list = r.lrange(args, <span class="number">0</span>, -<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> data_list:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> data_list:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;ä»ç¼“å­˜ä¸­è¯»åˆ°æ•°æ®&quot;</span>,i)</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> args <span class="keyword">and</span> date_time_id != <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            where_sql = <span class="string">&quot;SELECT name,number,time FROM pyp_test where &quot;</span> + <span class="string">&quot; and &quot;</span>.join(args)</span><br><span class="line">            cursors.execute(where_sql)</span><br><span class="line">            results = cursors.fetchall()</span><br><span class="line">            <span class="comment"># r.rpush(args,results)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(results) == <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;æœªåŒ¹é…åˆ°æ•°æ®&quot;</span>)</span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">                <span class="built_in">print</span>(row)</span><br><span class="line">                <span class="comment"># print(type(row))</span></span><br><span class="line">        <span class="keyword">elif</span> args <span class="keyword">and</span> date_time_id == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            where_sql = <span class="string">&quot;SELECT *,ABS(%s - time ) AS diffTime FROM pyp_test WHERE name = %s AND number = %s ORDER BY diffTime ASC LIMIT 0,1&quot;</span>%(args[<span class="number">2</span>].split(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>],args[<span class="number">0</span>].split(<span class="string">&quot; &quot;</span>)[<span class="number">2</span>],args[<span class="number">1</span>].split(<span class="string">&quot;=&quot;</span>)[<span class="number">1</span>])</span><br><span class="line">            cursors.execute(where_sql)</span><br><span class="line">            results = cursors.fetchall()</span><br><span class="line">            <span class="comment">#å°†å€¼æ’å…¥åˆ—è¡¨å°¾éƒ¨</span></span><br><span class="line">            <span class="comment"># r.rpush(args,results)</span></span><br><span class="line">            <span class="keyword">for</span> row <span class="keyword">in</span> results:</span><br><span class="line">                <span class="built_in">print</span>(row)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            where_sql = <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(where_sql)</span><br><span class="line">    <span class="comment"># for i in r.keys():</span></span><br><span class="line">    <span class="comment"># åˆ é™¤</span></span><br><span class="line">    <span class="comment">#     r.rpop(i)</span></span><br><span class="line">    <span class="comment"># print(r.keys())</span></span><br><span class="line"></span><br><span class="line">    T2 = time.time()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ç¨‹åºè¿è¡Œæ—¶é—´:%sæ¯«ç§’&#x27;</span> % ((T2 - T1) * <span class="number">1000</span>))</span><br><span class="line">    <span class="keyword">return</span> json.dumps(res, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@server.route(<span class="params"><span class="string">&#x27;/adddata&#x27;</span>, methods=[<span class="string">&#x27;post&#x27;</span>]</span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">adddata</span>():</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        name = flask.request.values.get(<span class="string">&#x27;name&#x27;</span>)</span><br><span class="line">        number = flask.request.values.get(<span class="string">&#x27;number&#x27;</span>)</span><br><span class="line">        date_time = flask.request.values.get(<span class="string">&#x27;date_time&#x27;</span>)</span><br><span class="line">        sql = <span class="string">&quot;REPLACE INTO pyp_test (name,number,time) VALUES (&#x27;%s&#x27;,%s,%s)&quot;</span>% (name, number, date_time)</span><br><span class="line">        cursors.execute(sql)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        connect.rollback()</span><br><span class="line">        res = &#123;<span class="string">&#x27;messages&#x27;</span>: <span class="built_in">str</span>(e), <span class="string">&#x27;code&#x27;</span>: <span class="number">1001</span>&#125;</span><br><span class="line">        <span class="keyword">return</span> json.dumps(res, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        connect.commit()</span><br><span class="line">        <span class="comment"># for i in r.keys():</span></span><br><span class="line">        <span class="comment">#     r.rpop(i)</span></span><br><span class="line">        <span class="comment"># print(r.keys())</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;äº‹åŠ¡å¤„ç†æˆåŠŸ&quot;</span>)</span><br><span class="line">        res = &#123;<span class="string">&quot;code&quot;</span>: <span class="number">200</span>, <span class="string">&quot;messages&quot;</span>: <span class="string">&quot;æ’å…¥æ•°æ®æˆåŠŸï¼&quot;</span>&#125;</span><br><span class="line">        <span class="keyword">return</span> json.dumps(res, ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    pool = redis.ConnectionPool(host=<span class="string">&#x27;172.17.152.205&#x27;</span>, db=<span class="number">10</span>, decode_responses=<span class="literal">True</span>)</span><br><span class="line">    r = redis.StrictRedis(connection_pool=pool)</span><br><span class="line"></span><br><span class="line">    connect = pymysql.connect(</span><br><span class="line">        host=<span class="string">&quot;rm-2ze72mtf4661y9szq.mysql.rds.aliyuncs.com&quot;</span>,</span><br><span class="line">        port=<span class="number">3306</span>,</span><br><span class="line">        user=<span class="string">&quot;algorithm_factor&quot;</span>,</span><br><span class="line">        passwd=<span class="string">&quot;Nn#aDyrWG84!&quot;</span>,</span><br><span class="line">        db=<span class="string">&quot;intelligent_grid&quot;</span>,</span><br><span class="line">        <span class="comment"># charset=&quot;utf-8&quot;</span></span><br><span class="line">        charset=<span class="string">&#x27;utf8mb4&#x27;</span></span><br><span class="line">    )</span><br><span class="line">    <span class="comment"># pymysql.cursors.DictCursoræŒ‡å®šè¿”å›å­—å…¸ç±»å‹</span></span><br><span class="line">    cursors = connect.cursor(pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    server.run(port=<span class="number">5001</span>, debug=<span class="literal">True</span>,</span><br><span class="line">               host=<span class="string">&#x27;0.0.0.0&#x27;</span>)  <span class="comment"># ç«¯å£å·è¦æ˜¯ä¸æŒ‡å®šï¼Œé»˜è®¤ä¸º5000.debug=True,æ”¹äº†ä»£ç ä¹‹åä¸ç”¨é‡å¯ï¼Œä¼šè‡ªåŠ¨é‡å¯ä¸€æ¬¡ã€‚åé¢å¢åŠ host=&#x27;0.0.0.0&#x27;ï¼Œåˆ«äººå¯ä»¥è®¿é—®</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¤„ç†å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢çš„é€»è¾‘å¤„ç†æ–¹æ³•</title>
      <link href="/2021/11/02/Python/%E5%A4%84%E7%90%86%E5%A4%9A%E6%9D%A1%E4%BB%B6%E7%BB%84%E5%90%88%E6%9F%A5%E8%AF%A2%E7%9A%84%E9%80%BB%E8%BE%91%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/"/>
      <url>/2021/11/02/Python/%E5%A4%84%E7%90%86%E5%A4%9A%E6%9D%A1%E4%BB%B6%E7%BB%84%E5%90%88%E6%9F%A5%E8%AF%A2%E7%9A%84%E9%80%BB%E8%BE%91%E5%A4%84%E7%90%86%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æœ€è¿‘ä¸€æ®µæ—¶é—´ç»å¸¸è¦å†™ä¸€äº›è”åˆæŸ¥è¯¢çš„é€»è¾‘,åŒæ—¶è¦æ»¡è¶³é€»è¾‘a,b,cæˆ–æ˜¯å…¶ä¸­ä¸€ç§,å†™èµ·æ¥å¾ˆæ˜¯éº»çƒ¦.<br>æœ‰ä¸€å¤©çªç„¶æƒ³åˆ°ä¸€ä¸ªç®€å•æ–¹æ³•,å°†æ¯ä¸€ä¸ªå­å¥å…ˆæ”¾ç½®äºlistä¸­,ç„¶åå°†listä¸­çš„å­å¥ç”¨â€ and â€œæ‹¼æ¥èµ·æ¥,æœ€å¤–å±‚åˆ¤æ–­listæ˜¯å¦ä¸ºç©º,ä¸ä¸ºç©ºåœ¨æœ€å‰é¢åŠ ä¸Šâ€where â€œçš„æ¡ä»¶å¤´å³å¯.</p><h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­:"></a>ä¾‹å­:</h2><p>æœ‰ä¸€ä¸ªè¯·æ±‚ä»»åŠ¡,å…¶ä¸­æœ‰2ä¸ªè¯·æ±‚å­—æ®µ:<br>status_code:ä¸ºç©ºå­—ç¬¦ä¸²,è¡¨ç¤ºè¯·æ±‚å…¨éƒ¨çŠ¶æ€,ä¸ºâ€8â€è¡¨ç¤ºå…¨éƒ¨æˆåŠŸ,ä¸ºâ€-4â€è¡¨ç¤ºåœ¨é»‘åå•ä¸­<br>symbol:ä¸ºç©ºè¡¨ç¤ºæ‰€æœ‰åˆçº¦,æˆ–è€…è¡¨ç¤ºå…·ä½“çš„åˆçº¦å</p><p>é¦–å…ˆç”³æ˜ä¸€ä¸ªlistä¸ºç©º<br>s_list &#x3D; list()<br>ç„¶ååˆ¤æ–­å¦‚æœsymbolä¸ºçœŸ,åˆ™å°†å…¶åŠ å…¥åˆ°listä¸­<br>if symbol:<br>s_list.append(â€œsymbol&#x3D;â€™{}â€™â€.format(symbol))<br>å†åˆ¤æ–­å¦‚æœstatus_codeä¸ºçœŸ,ä¹Ÿå°†å…¶åŠ å…¥åˆ°listä¸­<br>if status_code:<br>s_list.append(â€œstatus_code&#x3D;{}â€.format(status_code))<br>åœ¨å¤–å±‚åˆ¤æ–­listçš„çŠ¶æ€,ä¸ºçœŸåˆ™whereå­å¥å­˜åœ¨,å¦åˆ™whereå­å¥ä¸ºç©ºå­—ç¬¦ä¸²<br>if s_list:<br>where_sub_sql &#x3D; â€œwhere â€œ + â€œ and â€œ.join(s_list)<br>else:<br>where_sub_sql &#x3D; â€œâ€</p><p>å®Œæ•´ä»£ç ç‰‡æ®µå¦‚ä¸‹:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">s_list = list()</span><br><span class="line">if symbol:</span><br><span class="line">    s_list.append(&quot;symbol=&#x27;&#123;&#125;&#x27;&quot;.format(symbol))</span><br><span class="line">if status_code:</span><br><span class="line">    s_list.append(&quot;status_code=&#123;&#125;&quot;.format(status_code))</span><br><span class="line">if s_list:</span><br><span class="line">    where_sub_sql = &quot;where &quot; + &quot; and &quot;.join(s_list)</span><br><span class="line">else:</span><br><span class="line">    where_sub_sql = &quot;&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>listã€dict--åˆ—è¡¨ä¸å­—å…¸çš„å¤šå±‚åµŒå¥—æ¡ˆä¾‹</title>
      <link href="/2021/11/02/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/list%E3%80%81dict--%E5%88%97%E8%A1%A8%E4%B8%8E%E5%AD%97%E5%85%B8%E7%9A%84%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E6%A1%88%E4%BE%8B/"/>
      <url>/2021/11/02/Python/%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/list%E3%80%81dict--%E5%88%97%E8%A1%A8%E4%B8%8E%E5%AD%97%E5%85%B8%E7%9A%84%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E6%A1%88%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><details>  <summary>éœ€æ±‚</summary>  å°†dataæ•°æ®è§£æï¼Œè¿”å›ç»™å‰ç«¯ï¼šç»Ÿè®¡æ¯ä¸ªå›¢é˜Ÿä¸€ä¸ªæœˆä¸­ï¼Œæ¯å¤©æ‰€æœ‰å›¢é˜Ÿæˆå‘˜çš„ä»»åŠ¡æ€»å’Œ  <p>  å…¶ä¸­taskPeriod !&#x3D; 3 åˆ™ä¸€å¾‹è§†ä¸ºå½“å¤©æœ‰ä»»åŠ¡</p></details><details>  <summary>dataæ•°æ®</summary>  <pre><code>      data = &#123;    "contentInfo": [        &#123;            "team": "åŠå…¬å®¤",            "subInfo": [                &#123;                    "userName": "æå³°",                    "userId": "3",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ›¹æ™“å",                    "userId": "5",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é½å¥‡",                    "userId": "6",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "èµµæ¯…",                    "userId": "7",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éƒ­å‡€å¤©",                    "userId": "8",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å­™ä¼Ÿæ¶›",                    "userId": "9",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é¡¾é’",                    "userId": "10",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éƒ‘å¼º",                    "userId": "11",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é™ˆå…‰è¾‰",                    "userId": "13",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "åˆ˜é–",                    "userId": "27",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å­™æ˜­æ˜Œ",                    "userId": "52",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ä½•é¹",                    "userId": "59",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å­™æŒ¯æµ·",                    "userId": "134",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‰Ÿç£Š",                    "userId": "135",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹é»",                    "userId": "136",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "å˜ç”µæ£€ä¿®ä¸€ç­",            "subInfo": [                &#123;                    "userName": "å­™åˆš",                    "userId": "12",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ¯›å›½æ˜",                    "userId": "14",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éŸ©æ¸­å¾·",                    "userId": "15",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ å¤ªæ£®",                    "userId": "16",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æœæ´ªæ¶›",                    "userId": "17",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "äºæ°´æ”¿",                    "userId": "18",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å§œæ°",                    "userId": "19",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è†å…ƒå¤«",                    "userId": "20",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ¨é¹",                    "userId": "21",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å§œé¹",                    "userId": "22",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹ç»§é”‹",                    "userId": "23",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‰¾æ–‡è±ª",                    "userId": "123",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å´è‰ºæ˜",                    "userId": "126",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "å˜ç”µæ£€ä¿®äº”ç­",            "subInfo": [                &#123;                    "userName": "å­™ä¼Ÿ",                    "userId": "24",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "äºå¤§æµ·",                    "userId": "38",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "å˜ç”µæ£€ä¿®äºŒç­",            "subInfo": [                &#123;                    "userName": "é­å®",                    "userId": "25",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å­™æŒ¯å‹‡",                    "userId": "26",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "äºæµ·æ¶›",                    "userId": "28",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‹‘ç»´ç¦",                    "userId": "29",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¸¸æ’",                    "userId": "30",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é‚¢æ–‡å³°",                    "userId": "31",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç§¦ç»§ä¹™",                    "userId": "32",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ¨æ´",                    "userId": "33",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¾æ³¢",                    "userId": "34",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æé¸£é’",                    "userId": "35",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é™ˆæ™“ç²",                    "userId": "36",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "åˆ˜å†°",                    "userId": "53",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "å˜ç”µæ£€ä¿®ä¸‰ç­",            "subInfo": [                &#123;                    "userName": "å´”å»º",                    "userId": "37",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "èµµæ°",                    "userId": "39",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å§œæ¶›",                    "userId": "40",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å²ä¼Ÿ",                    "userId": "41",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ åµ‹",                    "userId": "42",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ¯•æ˜¾æ¶›",                    "userId": "43",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å®‹æœ‰æ³¢",                    "userId": "44",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è™å’é’",                    "userId": "45",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "å˜ç”µæ£€ä¿®å››ç­",            "subInfo": [                &#123;                    "userName": "äºç»å³°",                    "userId": "46",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "åˆ˜æ°",                    "userId": "47",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æä¼Ÿ",                    "userId": "48",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‹å±•",                    "userId": "49",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹æ´‹",                    "userId": "50",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ­¥é›…æ¥ ",                    "userId": "51",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ å€©",                    "userId": "54",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "çŸ³å³¥",                    "userId": "55",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è¢å®",                    "userId": "124",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ½˜å®œå¸…",                    "userId": "125",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "äºŒæ¬¡ä¿æŠ¤ç­",            "subInfo": [                &#123;                    "userName": "åˆ˜çƒ¨",                    "userId": "56",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é»„é”",                    "userId": "57",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é©¬æ™“è·¯",                    "userId": "58",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ–‡å®æˆ",                    "userId": "60",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æŸ¯å¹¿æ‰",                    "userId": "61",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹æ ‘ç‰¢",                    "userId": "62",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹è”š",                    "userId": "63",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‘£ç»æ¯…",                    "userId": "64",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç”°æŒ¯éœ„",                    "userId": "65",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ¨å£«æµ·",                    "userId": "66",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ å¼˜",                    "userId": "67",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç„¦é˜³",                    "userId": "68",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¾é¾™æ±Ÿ",                    "userId": "70",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å½­å¯…",                    "userId": "71",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å®‹å½¦è‡»",                    "userId": "72",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "åˆ˜å¼º",                    "userId": "73",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éƒ­å»ºæ°",                    "userId": "74",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é«˜å¥",                    "userId": "75",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "åº„å½¦",                    "userId": "76",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ®µæ™“ç‡•",                    "userId": "77",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éƒ­ä¸°é­",                    "userId": "78",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é—«æ–°",                    "userId": "80",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å®«é‚¦æ¶¦",                    "userId": "81",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ»•å¥‡å›",                    "userId": "82",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ ç»´æ¡",                    "userId": "83",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‘£ç»æ¯…",                    "userId": "130",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "éŸ©å…´ç£Š",                    "userId": "137",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç§¦æ–‡åº·",                    "userId": "143",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‡§é¹",                    "userId": "144",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;,        &#123;            "team": "ç”µæ°”è¯•éªŒç­",            "subInfo": [                &#123;                    "userName": "å´å¯¿å±±",                    "userId": "84",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é›·æ•",                    "userId": "85",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç™½å¿—è½©",                    "userId": "86",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 1                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 2                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¼ ç‚",                    "userId": "87",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å´å¨Ÿ",                    "userId": "88",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "ç‹å¨",                    "userId": "89",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é™ˆä¸–æ•",                    "userId": "90",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‘›å­¦æ˜",                    "userId": "91",                    "isDirector": 0,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æ²™åˆ©",                    "userId": "92",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "å¾å¥èŠ",                    "userId": "93",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è§£é¹",                    "userId": "94",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é™ˆä¼Ÿ",                    "userId": "95",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "è‘›æƒ é˜³",                    "userId": "96",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "é™ˆä¼Ÿå¤",                    "userId": "97",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;,                &#123;                    "userName": "æå®—",                    "userId": "98",                    "isDirector": 1,                    "dateInfo": [                        &#123;                            "date": "2021-04-01",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-02",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-03",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-04",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-05",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-06",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-07",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-08",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-09",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-10",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-11",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-12",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-13",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-14",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-15",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-16",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-17",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-18",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-19",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-20",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-21",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-22",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-23",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-24",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-25",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-26",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-27",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-28",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-29",                            "taskPeriod": 3                        &#125;,                        &#123;                            "date": "2021-04-30",                            "taskPeriod": 3                        &#125;                    ]                &#125;            ]        &#125;    ]&#125;  </code></pre></details><h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># å®šä¹‰è¿”å›æ•°æ®é›†</span><br><span class="line">res_team = &#123;&#125;</span><br><span class="line">for i in data[&#x27;contentInfo&#x27;]:</span><br><span class="line">    # è·å–å›¢é˜Ÿåç§°</span><br><span class="line">    team = &#123;i[&quot;team&quot;]:[]&#125;</span><br><span class="line">    # å°†å›¢é˜Ÿåç§°æ·»åŠ è¿›æ•°æ®é›†</span><br><span class="line">    res_team.update(team)</span><br><span class="line">    for subInfo in i[&quot;subInfo&quot;]:</span><br><span class="line">        # æ ¹æ®æ•°æ®åˆå§‹åŒ–è¿”å›å€¼</span><br><span class="line">        for j in subInfo[&quot;dateInfo&quot;]:</span><br><span class="line">            date = &#123;&#125;</span><br><span class="line">            date[&quot;date&quot;] = j[&quot;date&quot;]</span><br><span class="line">            date[&quot;count&quot;] = 0</span><br><span class="line">            # åˆ¤æ–­åˆå§‹åŒ–çš„æ•°æ®æ˜¯å¦å·²å­˜åœ¨ å’Œ é˜²æ­¢å¾ªç¯åˆ°ç¬¬äºŒæ¬¡æ—¶æ’å…¥ç›¸åŒæ—¶é—´çš„æ•°æ®é€ æˆåˆå§‹åŒ–æ•°æ®æ··ä¹±</span><br><span class="line">            # åˆ™ç”¨é™åˆ¶æ·»åŠ çš„é•¿åº¦ï¼Œæ¥é˜²æ­¢æ•°æ®æ··ä¹±ã€‚</span><br><span class="line">            # å¦‚ï¼š&#123;&#x27;åŠå…¬å®¤&#x27;: [&#123;&#x27;date&#x27;: &#x27;2021-04-01&#x27;, &#x27;count&#x27;: 0&#125;, &#123;&#x27;date&#x27;: &#x27;2021-04-01&#x27;, &#x27;count&#x27;: 1&#125;]&#125;</span><br><span class="line">            # æ­¤æ—¶çš„dateç›¸åŒcountä¸åŒï¼Œåˆ™æ˜¯ç¬¬äºŒæ¬¡å¾ªç¯æ—¶ï¼Œåˆ¤æ–­çš„ç¬¬ä¸€å±‚å¹¶ä¸èƒ½è¯†åˆ«ï¼Œé€ æˆæ’å…¥æ–°çš„æ•°æ® </span><br><span class="line">            if date not in res_team[i[&quot;team&quot;]] and len(res_team[i[&quot;team&quot;]])!=30:</span><br><span class="line">                res_team[i[&quot;team&quot;]].append(date)</span><br><span class="line">        # ç»Ÿè®¡æ¯ä¸ªå›¢é˜Ÿæ¯å¤©çš„ä»»åŠ¡æ¬¡æ•°</span><br><span class="line">        for d in subInfo[&quot;dateInfo&quot;]:</span><br><span class="line">            if d[&#x27;taskPeriod&#x27;] != 3:</span><br><span class="line">                for e in res_team[i[&quot;team&quot;]]:</span><br><span class="line">                    e[&quot;count&quot;] += 1</span><br><span class="line">print(res_team)</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">&#123;&quot;team&quot;:[&#123;&#x27;date&#x27;: &#x27;2021-04-01&#x27;, &#x27;count&#x27;: 3&#125;,&#123;&#x27;date&#x27;: &#x27;2021-04-02&#x27;, &#x27;count&#x27;: 3&#125;]&#125;</span><br><span class="line">&quot;&quot;&quot;</span><br></pre></td></tr></table></figure><details>  <summary>è¾“å‡ºç»“æœ</summary>  <pre><code>      &#123;'åŠå…¬å®¤': [&#123;'date': '2021-04-01', 'count': 1&#125;, &#123;'date': '2021-04-02', 'count': 1&#125;, &#123;'date': '2021-04-03', 'count': 1&#125;, &#123;'date': '2021-04-04', 'count': 1&#125;, &#123;'date': '2021-04-05', 'count': 1&#125;, &#123;'date': '2021-04-06', 'count': 1&#125;, &#123;'date': '2021-04-07', 'count': 1&#125;, &#123;'date': '2021-04-08', 'count': 1&#125;, &#123;'date': '2021-04-09', 'count': 1&#125;, &#123;'date': '2021-04-10', 'count': 1&#125;, &#123;'date': '2021-04-11', 'count': 1&#125;, &#123;'date': '2021-04-12', 'count': 1&#125;, &#123;'date': '2021-04-13', 'count': 1&#125;, &#123;'date': '2021-04-14', 'count': 1&#125;, &#123;'date': '2021-04-15', 'count': 1&#125;, &#123;'date': '2021-04-16', 'count': 1&#125;, &#123;'date': '2021-04-17', 'count': 1&#125;, &#123;'date': '2021-04-18', 'count': 1&#125;, &#123;'date': '2021-04-19', 'count': 1&#125;, &#123;'date': '2021-04-20', 'count': 1&#125;, &#123;'date': '2021-04-21', 'count': 1&#125;, &#123;'date': '2021-04-22', 'count': 1&#125;, &#123;'date': '2021-04-23', 'count': 1&#125;, &#123;'date': '2021-04-24', 'count': 1&#125;, &#123;'date': '2021-04-25', 'count': 1&#125;, &#123;'date': '2021-04-26', 'count': 1&#125;, &#123;'date': '2021-04-27', 'count': 1&#125;, &#123;'date': '2021-04-28', 'count': 1&#125;, &#123;'date': '2021-04-29', 'count': 1&#125;, &#123;'date': '2021-04-30', 'count': 1&#125;], 'å˜ç”µæ£€ä¿®ä¸€ç­': [&#123;'date': '2021-04-01', 'count': 4&#125;, &#123;'date': '2021-04-02', 'count': 4&#125;, &#123;'date': '2021-04-03', 'count': 4&#125;, &#123;'date': '2021-04-04', 'count': 4&#125;, &#123;'date': '2021-04-05', 'count': 4&#125;, &#123;'date': '2021-04-06', 'count': 4&#125;, &#123;'date': '2021-04-07', 'count': 4&#125;, &#123;'date': '2021-04-08', 'count': 4&#125;, &#123;'date': '2021-04-09', 'count': 4&#125;, &#123;'date': '2021-04-10', 'count': 4&#125;, &#123;'date': '2021-04-11', 'count': 4&#125;, &#123;'date': '2021-04-12', 'count': 4&#125;, &#123;'date': '2021-04-13', 'count': 4&#125;, &#123;'date': '2021-04-14', 'count': 4&#125;, &#123;'date': '2021-04-15', 'count': 4&#125;, &#123;'date': '2021-04-16', 'count': 4&#125;, &#123;'date': '2021-04-17', 'count': 4&#125;, &#123;'date': '2021-04-18', 'count': 4&#125;, &#123;'date': '2021-04-19', 'count': 4&#125;, &#123;'date': '2021-04-20', 'count': 4&#125;, &#123;'date': '2021-04-21', 'count': 4&#125;, &#123;'date': '2021-04-22', 'count': 4&#125;, &#123;'date': '2021-04-23', 'count': 4&#125;, &#123;'date': '2021-04-24', 'count': 4&#125;, &#123;'date': '2021-04-25', 'count': 4&#125;, &#123;'date': '2021-04-26', 'count': 4&#125;, &#123;'date': '2021-04-27', 'count': 4&#125;, &#123;'date': '2021-04-28', 'count': 4&#125;, &#123;'date': '2021-04-29', 'count': 4&#125;, &#123;'date': '2021-04-30', 'count': 4&#125;], 'å˜ç”µæ£€ä¿®äº”ç­': [&#123;'date': '2021-04-01', 'count': 0&#125;, &#123;'date': '2021-04-02', 'count': 0&#125;, &#123;'date': '2021-04-03', 'count': 0&#125;, &#123;'date': '2021-04-04', 'count': 0&#125;, &#123;'date': '2021-04-05', 'count': 0&#125;, &#123;'date': '2021-04-06', 'count': 0&#125;, &#123;'date': '2021-04-07', 'count': 0&#125;, &#123;'date': '2021-04-08', 'count': 0&#125;, &#123;'date': '2021-04-09', 'count': 0&#125;, &#123;'date': '2021-04-10', 'count': 0&#125;, &#123;'date': '2021-04-11', 'count': 0&#125;, &#123;'date': '2021-04-12', 'count': 0&#125;, &#123;'date': '2021-04-13', 'count': 0&#125;, &#123;'date': '2021-04-14', 'count': 0&#125;, &#123;'date': '2021-04-15', 'count': 0&#125;, &#123;'date': '2021-04-16', 'count': 0&#125;, &#123;'date': '2021-04-17', 'count': 0&#125;, &#123;'date': '2021-04-18', 'count': 0&#125;, &#123;'date': '2021-04-19', 'count': 0&#125;, &#123;'date': '2021-04-20', 'count': 0&#125;, &#123;'date': '2021-04-21', 'count': 0&#125;, &#123;'date': '2021-04-22', 'count': 0&#125;, &#123;'date': '2021-04-23', 'count': 0&#125;, &#123;'date': '2021-04-24', 'count': 0&#125;, &#123;'date': '2021-04-25', 'count': 0&#125;, &#123;'date': '2021-04-26', 'count': 0&#125;, &#123;'date': '2021-04-27', 'count': 0&#125;, &#123;'date': '2021-04-28', 'count': 0&#125;, &#123;'date': '2021-04-29', 'count': 0&#125;, &#123;'date': '2021-04-30', 'count': 0&#125;], 'å˜ç”µæ£€ä¿®äºŒç­': [&#123;'date': '2021-04-01', 'count': 8&#125;, &#123;'date': '2021-04-02', 'count': 8&#125;, &#123;'date': '2021-04-03', 'count': 8&#125;, &#123;'date': '2021-04-04', 'count': 8&#125;, &#123;'date': '2021-04-05', 'count': 8&#125;, &#123;'date': '2021-04-06', 'count': 8&#125;, &#123;'date': '2021-04-07', 'count': 8&#125;, &#123;'date': '2021-04-08', 'count': 8&#125;, &#123;'date': '2021-04-09', 'count': 8&#125;, &#123;'date': '2021-04-10', 'count': 8&#125;, &#123;'date': '2021-04-11', 'count': 8&#125;, &#123;'date': '2021-04-12', 'count': 8&#125;, &#123;'date': '2021-04-13', 'count': 8&#125;, &#123;'date': '2021-04-14', 'count': 8&#125;, &#123;'date': '2021-04-15', 'count': 8&#125;, &#123;'date': '2021-04-16', 'count': 8&#125;, &#123;'date': '2021-04-17', 'count': 8&#125;, &#123;'date': '2021-04-18', 'count': 8&#125;, &#123;'date': '2021-04-19', 'count': 8&#125;, &#123;'date': '2021-04-20', 'count': 8&#125;, &#123;'date': '2021-04-21', 'count': 8&#125;, &#123;'date': '2021-04-22', 'count': 8&#125;, &#123;'date': '2021-04-23', 'count': 8&#125;, &#123;'date': '2021-04-24', 'count': 8&#125;, &#123;'date': '2021-04-25', 'count': 8&#125;, &#123;'date': '2021-04-26', 'count': 8&#125;, &#123;'date': '2021-04-27', 'count': 8&#125;, &#123;'date': '2021-04-28', 'count': 8&#125;, &#123;'date': '2021-04-29', 'count': 8&#125;, &#123;'date': '2021-04-30', 'count': 8&#125;], 'å˜ç”µæ£€ä¿®ä¸‰ç­': [&#123;'date': '2021-04-01', 'count': 7&#125;, &#123;'date': '2021-04-02', 'count': 7&#125;, &#123;'date': '2021-04-03', 'count': 7&#125;, &#123;'date': '2021-04-04', 'count': 7&#125;, &#123;'date': '2021-04-05', 'count': 7&#125;, &#123;'date': '2021-04-06', 'count': 7&#125;, &#123;'date': '2021-04-07', 'count': 7&#125;, &#123;'date': '2021-04-08', 'count': 7&#125;, &#123;'date': '2021-04-09', 'count': 7&#125;, &#123;'date': '2021-04-10', 'count': 7&#125;, &#123;'date': '2021-04-11', 'count': 7&#125;, &#123;'date': '2021-04-12', 'count': 7&#125;, &#123;'date': '2021-04-13', 'count': 7&#125;, &#123;'date': '2021-04-14', 'count': 7&#125;, &#123;'date': '2021-04-15', 'count': 7&#125;, &#123;'date': '2021-04-16', 'count': 7&#125;, &#123;'date': '2021-04-17', 'count': 7&#125;, &#123;'date': '2021-04-18', 'count': 7&#125;, &#123;'date': '2021-04-19', 'count': 7&#125;, &#123;'date': '2021-04-20', 'count': 7&#125;, &#123;'date': '2021-04-21', 'count': 7&#125;, &#123;'date': '2021-04-22', 'count': 7&#125;, &#123;'date': '2021-04-23', 'count': 7&#125;, &#123;'date': '2021-04-24', 'count': 7&#125;, &#123;'date': '2021-04-25', 'count': 7&#125;, &#123;'date': '2021-04-26', 'count': 7&#125;, &#123;'date': '2021-04-27', 'count': 7&#125;, &#123;'date': '2021-04-28', 'count': 7&#125;, &#123;'date': '2021-04-29', 'count': 7&#125;, &#123;'date': '2021-04-30', 'count': 7&#125;], 'å˜ç”µæ£€ä¿®å››ç­': [&#123;'date': '2021-04-01', 'count': 9&#125;, &#123;'date': '2021-04-02', 'count': 9&#125;, &#123;'date': '2021-04-03', 'count': 9&#125;, &#123;'date': '2021-04-04', 'count': 9&#125;, &#123;'date': '2021-04-05', 'count': 9&#125;, &#123;'date': '2021-04-06', 'count': 9&#125;, &#123;'date': '2021-04-07', 'count': 9&#125;, &#123;'date': '2021-04-08', 'count': 9&#125;, &#123;'date': '2021-04-09', 'count': 9&#125;, &#123;'date': '2021-04-10', 'count': 9&#125;, &#123;'date': '2021-04-11', 'count': 9&#125;, &#123;'date': '2021-04-12', 'count': 9&#125;, &#123;'date': '2021-04-13', 'count': 9&#125;, &#123;'date': '2021-04-14', 'count': 9&#125;, &#123;'date': '2021-04-15', 'count': 9&#125;, &#123;'date': '2021-04-16', 'count': 9&#125;, &#123;'date': '2021-04-17', 'count': 9&#125;, &#123;'date': '2021-04-18', 'count': 9&#125;, &#123;'date': '2021-04-19', 'count': 9&#125;, &#123;'date': '2021-04-20', 'count': 9&#125;, &#123;'date': '2021-04-21', 'count': 9&#125;, &#123;'date': '2021-04-22', 'count': 9&#125;, &#123;'date': '2021-04-23', 'count': 9&#125;, &#123;'date': '2021-04-24', 'count': 9&#125;, &#123;'date': '2021-04-25', 'count': 9&#125;, &#123;'date': '2021-04-26', 'count': 9&#125;, &#123;'date': '2021-04-27', 'count': 9&#125;, &#123;'date': '2021-04-28', 'count': 9&#125;, &#123;'date': '2021-04-29', 'count': 9&#125;, &#123;'date': '2021-04-30', 'count': 9&#125;], 'äºŒæ¬¡ä¿æŠ¤ç­': [&#123;'date': '2021-04-01', 'count': 0&#125;, &#123;'date': '2021-04-02', 'count': 0&#125;, &#123;'date': '2021-04-03', 'count': 0&#125;, &#123;'date': '2021-04-04', 'count': 0&#125;, &#123;'date': '2021-04-05', 'count': 0&#125;, &#123;'date': '2021-04-06', 'count': 0&#125;, &#123;'date': '2021-04-07', 'count': 0&#125;, &#123;'date': '2021-04-08', 'count': 0&#125;, &#123;'date': '2021-04-09', 'count': 0&#125;, &#123;'date': '2021-04-10', 'count': 0&#125;, &#123;'date': '2021-04-11', 'count': 0&#125;, &#123;'date': '2021-04-12', 'count': 0&#125;, &#123;'date': '2021-04-13', 'count': 0&#125;, &#123;'date': '2021-04-14', 'count': 0&#125;, &#123;'date': '2021-04-15', 'count': 0&#125;, &#123;'date': '2021-04-16', 'count': 0&#125;, &#123;'date': '2021-04-17', 'count': 0&#125;, &#123;'date': '2021-04-18', 'count': 0&#125;, &#123;'date': '2021-04-19', 'count': 0&#125;, &#123;'date': '2021-04-20', 'count': 0&#125;, &#123;'date': '2021-04-21', 'count': 0&#125;, &#123;'date': '2021-04-22', 'count': 0&#125;, &#123;'date': '2021-04-23', 'count': 0&#125;, &#123;'date': '2021-04-24', 'count': 0&#125;, &#123;'date': '2021-04-25', 'count': 0&#125;, &#123;'date': '2021-04-26', 'count': 0&#125;, &#123;'date': '2021-04-27', 'count': 0&#125;, &#123;'date': '2021-04-28', 'count': 0&#125;, &#123;'date': '2021-04-29', 'count': 0&#125;, &#123;'date': '2021-04-30', 'count': 0&#125;], 'ç”µæ°”è¯•éªŒç­': [&#123;'date': '2021-04-01', 'count': 8&#125;, &#123;'date': '2021-04-02', 'count': 8&#125;, &#123;'date': '2021-04-03', 'count': 8&#125;, &#123;'date': '2021-04-04', 'count': 8&#125;, &#123;'date': '2021-04-05', 'count': 8&#125;, &#123;'date': '2021-04-06', 'count': 8&#125;, &#123;'date': '2021-04-07', 'count': 8&#125;, &#123;'date': '2021-04-08', 'count': 8&#125;, &#123;'date': '2021-04-09', 'count': 8&#125;, &#123;'date': '2021-04-10', 'count': 8&#125;, &#123;'date': '2021-04-11', 'count': 8&#125;, &#123;'date': '2021-04-12', 'count': 8&#125;, &#123;'date': '2021-04-13', 'count': 8&#125;, &#123;'date': '2021-04-14', 'count': 8&#125;, &#123;'date': '2021-04-15', 'count': 8&#125;, &#123;'date': '2021-04-16', 'count': 8&#125;, &#123;'date': '2021-04-17', 'count': 8&#125;, &#123;'date': '2021-04-18', 'count': 8&#125;, &#123;'date': '2021-04-19', 'count': 8&#125;, &#123;'date': '2021-04-20', 'count': 8&#125;, &#123;'date': '2021-04-21', 'count': 8&#125;, &#123;'date': '2021-04-22', 'count': 8&#125;, &#123;'date': '2021-04-23', 'count': 8&#125;, &#123;'date': '2021-04-24', 'count': 8&#125;, &#123;'date': '2021-04-25', 'count': 8&#125;, &#123;'date': '2021-04-26', 'count': 8&#125;, &#123;'date': '2021-04-27', 'count': 8&#125;, &#123;'date': '2021-04-28', 'count': 8&#125;, &#123;'date': '2021-04-29', 'count': 8&#125;, &#123;'date': '2021-04-30', 'count': 8&#125;]&#125;  </code></pre></details>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®ç±»å‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>format--æ ¼å¼åŒ–å‡½æ•°</title>
      <link href="/2021/11/02/Python/%E6%A8%A1%E5%9D%97/format/format--%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0/"/>
      <url>/2021/11/02/Python/%E6%A8%A1%E5%9D%97/format/format--%E6%A0%BC%E5%BC%8F%E5%8C%96%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•°-str-format"><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•°-str-format" class="headerlink" title="æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•° str.format()"></a>æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‡½æ•° str.format()</h2><p>å®ƒå¢å¼ºäº†å­—ç¬¦ä¸²æ ¼å¼åŒ–çš„åŠŸèƒ½ã€‚</p><p>åŸºæœ¬è¯­æ³•æ˜¯é€šè¿‡ {} å’Œ : æ¥ä»£æ›¿ä»¥å‰çš„ % ã€‚</p><p>format å‡½æ•°å¯ä»¥æ¥å—ä¸é™ä¸ªå‚æ•°ï¼Œä½ç½®å¯ä»¥ä¸æŒ‰é¡ºåºã€‚</p><h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><blockquote><p>â€œ{} {}â€.format(â€œhelloâ€, â€œworldâ€)    # ä¸è®¾ç½®æŒ‡å®šä½ç½®ï¼ŒæŒ‰é»˜è®¤é¡ºåº<br>â€˜hello worldâ€™</p></blockquote><blockquote><p>â€œ{0} {1}â€.format(â€œhelloâ€, â€œworldâ€)  # è®¾ç½®æŒ‡å®šä½ç½®<br>â€˜hello worldâ€™</p></blockquote><blockquote><p>â€œ{1} {0} {1}â€.format(â€œhelloâ€, â€œworldâ€)  # è®¾ç½®æŒ‡å®šä½ç½®<br>â€˜world hello worldâ€™</p></blockquote><h4 id="ä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ï¼š"><a href="#ä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ï¼š" class="headerlink" title="ä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ï¼š"></a>ä¹Ÿå¯ä»¥è®¾ç½®å‚æ•°ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"> </span><br><span class="line">print(&quot;ç½‘ç«™åï¼š&#123;name&#125;, åœ°å€ &#123;url&#125;&quot;.format(name=&quot;èœé¸Ÿæ•™ç¨‹&quot;, url=&quot;www.runoob.com&quot;))</span><br><span class="line"> </span><br><span class="line"># é€šè¿‡å­—å…¸è®¾ç½®å‚æ•°</span><br><span class="line">site = &#123;&quot;name&quot;: &quot;èœé¸Ÿæ•™ç¨‹&quot;, &quot;url&quot;: &quot;www.runoob.com&quot;&#125;</span><br><span class="line">print(&quot;ç½‘ç«™åï¼š&#123;name&#125;, åœ°å€ &#123;url&#125;&quot;.format(**site))</span><br><span class="line"> </span><br><span class="line"># é€šè¿‡åˆ—è¡¨ç´¢å¼•è®¾ç½®å‚æ•°</span><br><span class="line">my_list = [&#x27;èœé¸Ÿæ•™ç¨‹&#x27;, &#x27;www.runoob.com&#x27;]</span><br><span class="line">print(&quot;ç½‘ç«™åï¼š&#123;0[0]&#125;, åœ°å€ &#123;0[1]&#125;&quot;.format(my_list))  # &quot;0&quot; æ˜¯å¿…é¡»çš„</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç½‘ç«™åï¼šèœé¸Ÿæ•™ç¨‹, åœ°å€ www.runoob.com</span><br><span class="line">ç½‘ç«™åï¼šèœé¸Ÿæ•™ç¨‹, åœ°å€ www.runoob.com</span><br><span class="line">ç½‘ç«™åï¼šèœé¸Ÿæ•™ç¨‹, åœ°å€ www.runoob.com</span><br></pre></td></tr></table></figure><h4 id="ä¹Ÿå¯ä»¥å‘-str-format-ä¼ å…¥å¯¹è±¡ï¼š"><a href="#ä¹Ÿå¯ä»¥å‘-str-format-ä¼ å…¥å¯¹è±¡ï¼š" class="headerlink" title="ä¹Ÿå¯ä»¥å‘ str.format() ä¼ å…¥å¯¹è±¡ï¼š"></a>ä¹Ÿå¯ä»¥å‘ str.format() ä¼ å…¥å¯¹è±¡ï¼š</h4><p>å®ä¾‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/python</span><br><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line"> </span><br><span class="line">class AssignValue(object):</span><br><span class="line">    def __init__(self, value):</span><br><span class="line">        self.value = value</span><br><span class="line">my_value = AssignValue(6)</span><br><span class="line">print(&#x27;value ä¸º: &#123;0.value&#125;&#x27;.format(my_value))  # &quot;0&quot; æ˜¯å¯é€‰çš„</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">value ä¸º: 6</span><br></pre></td></tr></table></figure><h4 id="æ•°å­—æ ¼å¼åŒ–-æ•™ç¨‹é“¾æ¥"><a href="#æ•°å­—æ ¼å¼åŒ–-æ•™ç¨‹é“¾æ¥" class="headerlink" title="æ•°å­—æ ¼å¼åŒ– æ•™ç¨‹é“¾æ¥"></a>æ•°å­—æ ¼å¼åŒ– <a href="https://www.runoob.com/python/att-string-format.html">æ•™ç¨‹é“¾æ¥</a></h4><p>ä¸‹è¡¨å±•ç¤ºäº† str.format() æ ¼å¼åŒ–æ•°å­—çš„å¤šç§æ–¹æ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; print(&quot;&#123;:.2f&#125;&quot;.format(3.1415926))</span><br><span class="line">3.14</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-format </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¸…ç†Docker æ—¥å¿— èŠ‚çœç£ç›˜ç©ºé—´</title>
      <link href="/2021/10/08/Docker/%E6%B8%85%E7%90%86Docker%20%E6%97%A5%E5%BF%97%20%E8%8A%82%E7%9C%81%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4/"/>
      <url>/2021/10/08/Docker/%E6%B8%85%E7%90%86Docker%20%E6%97%A5%E5%BF%97%20%E8%8A%82%E7%9C%81%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><p>æ™®é€šçš„ä¸€å¤©ï¼Œæ‰“å¼€æ™®é€šçš„ç”µè„‘ï¼Œç™»å½•ä¸€å°æ™®é€šçš„æœåŠ¡å™¨ï¼Œæ•²ä¸‹ä¸€æ¡æ™®é€šçš„å‘½ä»¤ã€‚</p><p>åœ¨æˆ‘ä½¿ç”¨å‘½ä»¤è¡¥å…¨æ—¶ï¼Œå‡ºç°äº†ä¸€æ¡ä¸æ™®é€šçš„æç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-bash: cannot create temp file for here-document: No space left on device ls -bash </span><br></pre></td></tr></table></figure><p>æ€ä¹ˆç£ç›˜æ»¡äº†?</p><p>ä½¿ç”¨ df -h ä¸€çœ‹è¿˜çœŸæ˜¯ã€‚</p><p>ä»€ä¹ˆåŸå› å‘¢?</p><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><p>é¦–å…ˆï¼ŒæŸ¥æ‰¾ä¸€ä¸‹ç³»ç»Ÿé‡Œçš„å¤§æ–‡ä»¶ï¼Œçœ‹çœ‹æ˜¯å“ªä¸ªå°å¯çˆ±æçš„é¬¼ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -sh /* | grep G </span><br></pre></td></tr></table></figure><p>å¾ˆå¿«å°±å®šä½åˆ°äº†è¿™ä¸ªç›®å½•ï¼š&#x2F;var&#x2F;lib&#x2F;docker&#x2F;containersã€‚</p><p>åŸæ¥æ˜¯ Docker è¿™å®¶ä¼™ï¼Œè¿™ä¸ªç›®å½•ä¸‹å­˜æ”¾çš„éƒ½æ˜¯å®¹å™¨è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ—¥å¿—ã€‚</p><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤æ¥ç»™è¿™äº›æ–‡ä»¶æŒ‰å¤§å°æ’ä¸ªåºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du -d1 -h /var/lib/docker/containers | sort -h </span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">32K    /var/lib/docker/containers/d607c06e475191fff1abd0c2b4b672e7fe8a96cb197f4e8557b18600de2e60af </span><br><span class="line">36K    /var/lib/docker/containers/0d4321106721b9d26335fefef7b9e8e23629691684a4da2f953ac8223c8240c3 </span><br><span class="line">36K    /var/lib/docker/containers/7525aab4aa917aa1016169114762261726ac7b9cc712bef35cdc7035b50d20ce </span><br><span class="line">36K    /var/lib/docker/containers/9252e1c373d59ef5613c2b6122eb6e43aa2bd822bd2c199aa67d6eb659c4adb7 </span><br><span class="line">142M    /var/lib/docker/containers </span><br><span class="line">142M    /var/lib/docker/containers/15700ee92cd2831554b9a1e78127df0f07248c1498d35c17525407bc8a98bc1a</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶åç§°å°±æ˜¯å®¹å™¨ IDï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€ä¸ªå®¹å™¨ï¼Œä¹Ÿå°±å¯ä»¥å®šä½åˆ°ï¼Œå…·ä½“æ˜¯å“ªä¸ªå®¹å™¨äº§ç”Ÿäº†å¤§é‡çš„æ—¥å¿—ã€‚</p><p>ä½¿ç”¨è¿™ä¸ªå‘½ä»¤å¯ä»¥å°†å¤§æ–‡ä»¶å¿«é€Ÿæ¸…ç©ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sh -c &quot;cat /dev/null &gt; $&#123;log_file_name&#125;&quot; </span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æ¸…ç©ºäº†æ–‡ä»¶å“ªç®—è§£å†³é—®é¢˜ï¼Œæ–°çš„æ—¥å¿—è¿˜åœ¨æºæºä¸æ–­å¾€æ—¥å¿—é‡Œæ‰“å‘¢ã€‚çœ‹äº†çœ‹æ—¥å¿—å†…å®¹ï¼Œå¾ˆç†Ÿæ‚‰ã€‚å‰ä¸¤å¤©ä¸ºäº†è°ƒè¯•ç¨‹åºï¼ŒåˆšåŠ çš„ä¸€æ¡ printã€‚</p><p>ç¼–è¾‘ä»£ç ï¼Œåˆ é™¤ printï¼Œé‡å¯å®¹å™¨ã€‚å¥½äº†ï¼Œæ—¥å¿—ä¸å†ç–¯ç‹‚è¿½åŠ äº†ã€‚</p><p>ä¸ºä»€ä¹ˆ print è¯­å¥å°†æ—¥å¿—éƒ½è¾“å‡ºåˆ°æ–‡ä»¶é‡Œäº†å‘¢?åˆ«ç€æ€¥ï¼Œåé¢å†æ¥è¯¦ç»†ä»‹ç»ã€‚</p><p>å…ˆå¤„ç†ä¸€ä¸‹çœ¼å‰çš„é—®é¢˜ï¼Œæ”¾ä»»æ—¥å¿—æ— é™å¢é•¿æ˜¯è‚¯å®šä¸è¡Œçš„ï¼Œéœ€è¦æœ‰ä¸€ä¸ªå•ä¸ªæ–‡ä»¶å¤§å°é™åˆ¶ã€‚å¦åˆ™ï¼Œæ˜å¤©å¼ ä¸‰å†åŠ ä¸€æ¡ printï¼Œç£ç›˜åˆæ»¡äº†ã€‚</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªæ–¹æ¡ˆï¼š</p><ol><li>å•ä¸€å®¹å™¨é…ç½®</li><li>å…¨å±€é…ç½®</li></ol><h2 id="å•ä¸€å®¹å™¨é…ç½®"><a href="#å•ä¸€å®¹å™¨é…ç½®" class="headerlink" title="å•ä¸€å®¹å™¨é…ç½®"></a>å•ä¸€å®¹å™¨é…ç½®</h2><p>å¯åŠ¨å®¹å™¨æ—¶ï¼Œé€šè¿‡å‚æ•°æ¥æ§åˆ¶æ—¥å¿—çš„æ–‡ä»¶ä¸ªæ•°å’Œå•ä¸ªæ–‡ä»¶çš„å¤§å°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it --log-opt max-size=10m --log-opt max-file=3 redis </span><br></pre></td></tr></table></figure><p>ä½†è¿™æ ·åšæ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæ›´å¤šçš„é‡‡ç”¨çš„æ˜¯å…¨å±€é…ç½®çš„æ–¹å¼ã€‚</p><p>33 å…¨å±€é…ç½®<br>ç¼–è¾‘ &#x2F;etc&#x2F;docker&#x2F;daemon.jsonï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    &quot;log-driver&quot;:&quot;json-file&quot;, </span><br><span class="line">    &quot;log-opts&quot;:&#123; </span><br><span class="line">        &quot;max-size&quot; :&quot;50m&quot;, </span><br><span class="line">        &quot;max-file&quot;:&quot;3&quot; </span><br><span class="line">    &#125; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>é‡å¯ Docker æœåŠ¡ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload </span><br><span class="line">systemctl restart docker </span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š å·²å­˜åœ¨çš„å®¹å™¨ä¸ä¼šç”Ÿæ•ˆï¼Œéœ€è¦é‡å»ºæ‰å¯ä»¥ã€‚</p><p>æ¥ä¸‹æ¥å†è¯´è¯´ä¸Šæ–‡æåˆ°çš„ print é—®é¢˜ã€‚</p><h2 id="Docker-æ—¥å¿—"><a href="#Docker-æ—¥å¿—" class="headerlink" title="Docker æ—¥å¿—"></a>Docker æ—¥å¿—</h2><p>Docker æ—¥å¿—åˆ†ä¸ºä¸¤ç±»ï¼š</p><ol><li>Docker å¼•æ“æ—¥å¿—(ä¹Ÿå°±æ˜¯ dockerd è¿è¡Œæ—¶çš„æ—¥å¿—)</li><li>å®¹å™¨çš„æ—¥å¿—ï¼Œå®¹å™¨å†…çš„æœåŠ¡äº§ç”Ÿçš„æ—¥å¿—<h2 id="å¼•æ“æ—¥å¿—"><a href="#å¼•æ“æ—¥å¿—" class="headerlink" title="å¼•æ“æ—¥å¿—"></a>å¼•æ“æ—¥å¿—</h2>Docker å¼•æ“æ—¥å¿—ä¸€èˆ¬æ˜¯äº¤ç»™äº† Upstart(Ubuntu 14.04) æˆ–è€… systemd (CentOS 7, Ubuntu 16.04)ã€‚å‰è€…ä¸€èˆ¬ä½äº &#x2F;var&#x2F;log&#x2F;upstart&#x2F;docker.log ä¸‹ï¼Œåè€…ä¸€èˆ¬é€šè¿‡ journalctl -u docker è¿›è¡ŒæŸ¥çœ‹ã€‚</li></ol><p>ä¸åŒç³»ç»Ÿçš„ä½ç½®éƒ½ä¸ä¸€æ ·ï¼Œç½‘ä¸Šæœ‰äººæ€»ç»“äº†ä¸€ä»½åˆ—è¡¨ï¼Œæˆ‘ä¿®æ­£äº†ä¸€ä¸‹ï¼Œå¯ä»¥å‚è€ƒï¼š<br><img src="https://z3.ax1x.com/2021/10/08/5PPOIS.png" alt="5PPOIS.png"></p><h2 id="å®¹å™¨æ—¥å¿—"><a href="#å®¹å™¨æ—¥å¿—" class="headerlink" title="å®¹å™¨æ—¥å¿—"></a>å®¹å™¨æ—¥å¿—</h2><p>ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¯ä»¥æ˜¾ç¤ºå½“å‰è¿è¡Œçš„å®¹å™¨çš„æ—¥å¿—ä¿¡æ¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs CONTAINER </span><br></pre></td></tr></table></figure><p>UNIX å’Œ Linux å‘½ä»¤æœ‰ä¸‰ç§è¾“å…¥è¾“å‡ºï¼Œåˆ†åˆ«æ˜¯ STDINã€STDOUT å’Œ STDERRã€‚docker logs æ˜¾ç¤ºçš„å†…å®¹åŒ…å« STDOUT å’Œ STDERRã€‚</p><p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ï¼Œå¦‚æœæˆ‘ä»¬çš„åº”ç”¨è¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶é‡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨ä½¿ç”¨ docker logs æ—¶ä¸€èˆ¬æ”¶é›†ä¸åˆ°å¤ªå¤šé‡è¦çš„ä¿¡æ¯ã€‚</p><p>è¿™é‡Œæ¥çœ‹ä¸€ä¸‹ nginx å’Œ httpd æ˜¯æ€ä¹ˆåšçš„ï¼š</p><ul><li>nginx å®˜æ–¹é•œåƒï¼Œä½¿ç”¨äº†ä¸€ç§æ–¹å¼ï¼Œè®©æ—¥å¿—è¾“å‡ºåˆ° STDOUTï¼Œä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªç¬¦å·é“¾æ¥ &#x2F;var&#x2F;log&#x2F;nginx&#x2F;access.log åˆ° &#x2F;dev&#x2F;stdoutã€‚</li><li>httpd ä½¿ç”¨çš„æ˜¯è®©å…¶è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ï¼Œæ­£å¸¸æ—¥å¿—è¾“å‡ºåˆ° &#x2F;proc&#x2F;self&#x2F;fd&#x2F;1 (STDOUT) ï¼Œé”™è¯¯æ—¥å¿—è¾“å‡ºåˆ° &#x2F;proc&#x2F;self&#x2F;fd&#x2F;2 (STDERR)ã€‚<br>å½“æ—¥å¿—é‡æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œä½¿ç”¨ docker logs æ¥æŸ¥çœ‹æ—¥å¿—ï¼Œä¼šå¯¹ docker daemon é€ æˆæ¯”è¾ƒå¤§çš„å‹åŠ›ï¼Œå®¹æ˜“å¯¼è‡´å®¹å™¨åˆ›å»ºæ…¢ç­‰ä¸€ç³»åˆ—é—®é¢˜ã€‚</li></ul><p>åªæœ‰ä½¿ç”¨äº† local ã€json-fileã€journald æ—¥å¿—é©±åŠ¨çš„å®¹å™¨æ‰å¯ä»¥ä½¿ç”¨ docker logs æ•è·æ—¥å¿—ï¼Œä½¿ç”¨å…¶ä»–æ—¥å¿—é©±åŠ¨æ— æ³•ä½¿ç”¨ docker logsã€‚</p><p>Docker é»˜è®¤ä½¿ç”¨ json-file ä½œä¸ºæ—¥å¿—é©±åŠ¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Docker export ã€importå’Œdocker saveã€loadçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</title>
      <link href="/2021/09/29/Docker/Docker%20export%20%E3%80%81import%E5%92%8Cdocker%20save%E3%80%81load%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/"/>
      <url>/2021/09/29/Docker/Docker%20export%20%E3%80%81import%E5%92%8Cdocker%20save%E3%80%81load%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><blockquote><p>åŒºåˆ«ï¼š<br>docker loadå‘½ä»¤å¯¼å…¥é•œåƒåº“å­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒåº“ï¼›docker importå‘½ä»¤å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°é•œåƒåº“ã€‚å®¹å™¨å¿«ç…§å°†ä¼šä¸¢å¼ƒæ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•ï¼Œä½“ç§¯ä¹Ÿä¼šæ›´å¤§ã€‚</p></blockquote><p>é¦–å…ˆï¼Œæƒ³è¦æ¸…æ¥šçš„äº†è§£<font color="red">docker load</font>ä¸<font color="red">docker import</font>å‘½ä»¤çš„åŒºåˆ«ï¼Œå°±å¿…é¡»äº†è§£é•œåƒä¸å®¹å™¨çš„åŒºåˆ«ï¼š</p><ul><li>é•œåƒï¼šç”¨æ¥å¯åŠ¨å®¹å™¨çš„åªè¯»æ¨¡æ¿ï¼Œæ˜¯å®¹å™¨å¯åŠ¨æ‰€éœ€çš„rootfsï¼Œç±»ä¼¼äºè™šæ‹Ÿæœºæ‰€ä½¿ç”¨çš„é•œåƒã€‚</li><li>å®¹å™¨ï¼šDocker å®¹å™¨æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„Linuxæœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚</li></ul><blockquote><p>é•œåƒæ˜¯å®¹å™¨çš„åŸºç¡€ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºé•œåƒæ˜¯æˆ‘ä»¬å¯åŠ¨è™šæ‹Ÿæœºæ—¶éœ€è¦çš„é•œåƒï¼Œå®¹å™¨æ—¶è™šæ‹Ÿæœºæˆ<br>åŠŸå¯åŠ¨åï¼Œè¿è¡Œçš„æœåŠ¡ã€‚</p></blockquote><p>æƒ³è¦äº†è§£<font color="red">docker load</font>ä¸<font color="red">docker import</font>å‘½ä»¤çš„åŒºåˆ«ï¼Œè¿˜å¿…é¡»çŸ¥é“docker saveä¸docker exportå‘½ä»¤ï¼š</p><ul><li><p><font color="red">docker save images_name</font>ï¼šå°†ä¸€ä¸ªé•œåƒå¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œå†ä½¿ç”¨<font color="red">docker load</font>å‘½ä»¤å°†æ–‡ä»¶å¯¼å…¥ä¸ºä¸€ä¸ªé•œåƒï¼Œä¼šä¿å­˜è¯¥é•œåƒçš„çš„æ‰€æœ‰å†å²è®°å½•ã€‚æ¯”<font color="red">docker export</font>å‘½ä»¤å¯¼å‡ºçš„æ–‡ä»¶å¤§ï¼Œå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºä¼šä¿å­˜é•œåƒçš„æ‰€æœ‰å†å²è®°å½•ã€‚</p></li><li><p><font color="red">docker export container_id</font>ï¼šå°†ä¸€ä¸ªå®¹å™¨å¯¼å‡ºä¸ºæ–‡ä»¶ï¼Œå†ä½¿ç”¨<font color="red">docker import</font> å‘½ä»¤å°†å®¹å™¨å¯¼å…¥æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒï¼Œä½†æ˜¯ç›¸æ¯”<font color="red">docker save</font>å‘½ä»¤ï¼Œå®¹å™¨æ–‡ä»¶ä¼šä¸¢å¤±æ‰€æœ‰å…ƒæ•°æ®å’Œå†å²è®°å½•ï¼Œä»…ä¿å­˜å®¹å™¨å½“æ—¶çš„çŠ¶æ€ï¼Œç›¸å½“äºè™šæ‹Ÿæœºå¿«ç…§ã€‚</p></li></ul><p><strong>docker importå’Œdocker loadçš„åŒºåˆ«</strong></p><p>å®é™…ä¸Šï¼Œæ—¢å¯ä»¥ä½¿ç”¨docker loadå‘½ä»¤æ¥å¯¼å…¥é•œåƒåº“å­˜å‚¨æ–‡ä»¶åˆ°æœ¬åœ°é•œåƒåº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨docker importå‘½ä»¤æ¥å¯¼å…¥ä¸€ä¸ªå®¹å™¨å¿«ç…§åˆ°æœ¬åœ°é•œåƒåº“ã€‚</p><p>ä¸¤è€…çš„åŒºåˆ«åœ¨äºå®¹å™¨å¿«ç…§å°†ä¼šä¸¢å¼ƒæ‰€æœ‰çš„å†å²è®°å½•å’Œå…ƒæ•°æ®ä¿¡æ¯ï¼Œè€Œé•œåƒå­˜å‚¨æ–‡ä»¶å°†ä¿å­˜å®Œæ•´è®°å½•ï¼Œä½“ç§¯ä¹Ÿä¼šæ›´å¤§ã€‚æ­¤å¤–ä»å®¹å™¨å¿«ç…§æ–‡ä»¶å¯¼å…¥æ—¶ï¼Œä¹Ÿå¯ä»¥é‡æ–°æŒ‡å®šæ ‡ç­¾ç­‰å…ƒæ•°æ®ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonåˆ¤æ–­mysqlä¸­æŸå¼ è¡¨æ˜¯å¦å­˜åœ¨</title>
      <link href="/2021/09/17/MySQL/python%E5%88%A4%E6%96%ADmysql%E4%B8%AD%E6%9F%90%E5%BC%A0%E8%A1%A8%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/"/>
      <url>/2021/09/17/MySQL/python%E5%88%A4%E6%96%ADmysql%E4%B8%AD%E6%9F%90%E5%BC%A0%E8%A1%A8%E6%98%AF%E5%90%A6%E5%AD%98%E5%9C%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>å½“å‘æ•°æ®åº“æ·»åŠ è¡¨æ˜¯ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦é¦–å…ˆåˆ¤æ–­è¯¥è¡¨æ˜¯å¦å·²ç»å­˜åœ¨äº†ï¼Œåœ¨ç»§ç»­åé¢çš„å·¥ä½œã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line">import re</span><br><span class="line"> </span><br><span class="line">def table_exists(con,table_name):        #è¿™ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­è¡¨æ˜¯å¦å­˜åœ¨</span><br><span class="line">    sql = &quot;show tables;&quot;</span><br><span class="line">    con.execute(sql)</span><br><span class="line">    tables = [con.fetchall()]</span><br><span class="line">    table_list = re.findall(&#x27;(\&#x27;.*?\&#x27;)&#x27;,str(tables))</span><br><span class="line">    table_list = [re.sub(&quot;&#x27;&quot;,&#x27;&#x27;,each) for each in table_list]</span><br><span class="line">    if table_name in table_list:</span><br><span class="line">        return 1        #å­˜åœ¨è¿”å›1</span><br><span class="line">    else:</span><br><span class="line">        return 0        #ä¸å­˜åœ¨è¿”å›0</span><br><span class="line"> </span><br><span class="line">connect = pymysql.connect(</span><br><span class="line">        user = &#x27;root&#x27;,</span><br><span class="line">        password = &#x27;password&#x27;,</span><br><span class="line">        db = &#x27;MYSQL&#x27;,</span><br><span class="line">        host = &#x27;127.0.0.1&#x27;,</span><br><span class="line">        port = 3306,</span><br><span class="line">        charset = &#x27;utf8&#x27;</span><br><span class="line">        )</span><br><span class="line">con = connect.cursor()</span><br><span class="line">con.execute(&#x27;use database&#x27;)</span><br><span class="line"> </span><br><span class="line">table_name = &#x27;animal&#x27;</span><br><span class="line">if(table_exists(con,table_name) != 1):</span><br><span class="line">    print(&quot;è¡¨ä¸å­˜åœ¨ï¼Œå¯ä»¥æ·»åŠ ä¸€å¼ &quot;)</span><br><span class="line"> </span><br><span class="line">con.close()</span><br><span class="line">connect.close()</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4K95Ks.png" alt="4K95Ks.png"></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•æ¸…ç©ºè¡¨ä¸­çš„æ•°æ®</title>
      <link href="/2021/09/17/MySQL/%E5%A6%82%E4%BD%95%E6%B8%85%E7%A9%BA%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE/"/>
      <url>/2021/09/17/MySQL/%E5%A6%82%E4%BD%95%E6%B8%85%E7%A9%BA%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="æ–¹æ³•1ï¼š"><a href="#æ–¹æ³•1ï¼š" class="headerlink" title="æ–¹æ³•1ï¼š"></a>æ–¹æ³•1ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">delete from è¡¨å;</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•2ï¼š"><a href="#æ–¹æ³•2ï¼š" class="headerlink" title="æ–¹æ³•2ï¼š"></a>æ–¹æ³•2ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truncate table è¡¨å;</span><br></pre></td></tr></table></figure><h2 id="æ¯”-è¾ƒï¼š"><a href="#æ¯”-è¾ƒï¼š" class="headerlink" title="æ¯”  è¾ƒï¼š"></a>æ¯”  è¾ƒï¼š</h2><ol><li>ä¸å¸¦whereå‚æ•°çš„deleteè¯­å¥å¯ä»¥åˆ é™¤mysqlè¡¨ä¸­æ‰€æœ‰å†…å®¹ï¼Œä½¿ç”¨truncate tableä¹Ÿå¯ä»¥æ¸…ç©ºmysqlè¡¨ä¸­æ‰€æœ‰å†…å®¹ã€‚</li><li>æ•ˆç‡ä¸Štruncateæ¯”deleteå¿«ï¼Œä½†truncateåˆ é™¤åä¸è®°å½•mysqlæ—¥å¿—ï¼Œä¸å¯ä»¥æ¢å¤æ•°æ®ã€‚</li><li>deleteçš„æ•ˆæœæœ‰ç‚¹åƒå°†mysqlè¡¨ä¸­æ‰€æœ‰è®°å½•ä¸€æ¡ä¸€æ¡åˆ é™¤åˆ°åˆ å®Œï¼Œè€Œtruncateç›¸å½“äºä¿ç•™mysqlè¡¨çš„ç»“æ„ï¼Œé‡æ–°åˆ›å»ºäº†è¿™ä¸ªè¡¨ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ç›¸å½“äºæ–°è¡¨ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆä¸ƒï¼‰å”¯ä¸€ç´¢å¼•</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%83%EF%BC%89%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%83%EF%BC%89%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Mysqlç´¢å¼•å¤§æ¦‚æœ‰äº”ç§ç±»å‹ï¼š</p><p>æ™®é€šç´¢å¼•(INDEX)ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶</p><p><strong>å”¯ä¸€ç´¢å¼•(UNIQUE)ï¼šä¸â€æ™®é€šç´¢å¼•â€ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚</strong></p><p>ä¸»é”®ç´¢å¼•(PRIMARY)ï¼šå®ƒ æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚</p><p>å…¨æ–‡ç´¢å¼•(FULLTEXT )ï¼šå¯ç”¨äº MyISAM è¡¨ï¼Œmysql5.6ä¹‹åä¹Ÿå¯ç”¨äºinnodbè¡¨ï¼Œ</p><p>ç”¨äºåœ¨ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæ£€ç´¢æ–‡æœ¬ä¿¡æ¯çš„, é’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å’Œç©ºé—´ã€‚</p><p>è”åˆï¼ˆç»„åˆï¼‰ç´¢å¼•ï¼šä¸ºäº†æ›´å¤šçš„æé«˜mysqlæ•ˆç‡å¯å»ºç«‹ç»„åˆç´¢å¼•ï¼Œéµå¾ªâ€æœ€å·¦å‰ç¼€â€œåŸåˆ™ã€‚</p><hr><p>è¿™é‡Œæˆ‘ä»¬æ¥çœ‹ä¸‹å”¯ä¸€ç´¢å¼•ã€‚</p><p>ä¹‹å‰æˆ‘ä»¬çœ‹äº†ä¸»é”®ç´¢å¼•ï¼Œä»–æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼ŒäºŒè€…çš„åŒºåˆ«æ˜¯ï¼Œä¸»é”®ç´¢å¼•ä¸èƒ½æœ‰ç©ºå€¼ï¼Œä½†æ˜¯å”¯ä¸€ç´¢å¼•å¯ä»¥æœ‰ç©ºå€¼ã€‚</p><h2 id="ä¸€ï¼šåŸºæœ¬ä½¿ç”¨"><a href="#ä¸€ï¼šåŸºæœ¬ä½¿ç”¨" class="headerlink" title="ä¸€ï¼šåŸºæœ¬ä½¿ç”¨"></a>ä¸€ï¼šåŸºæœ¬ä½¿ç”¨</h2><p><strong>1ï¼šå”¯ä¸€ç´¢å¼•å¯ä»¥æ˜¯å•åˆ—ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šåˆ—ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸‹åˆ›å»ºè¯­å¥ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºå•åˆ—å”¯ä¸€ç´¢å¼•</span><br><span class="line"></span><br><span class="line">alter table sc add unique (name);</span><br><span class="line"># åˆ›å»ºå¤šåˆ—å”¯ä¸€ç´¢å¼•</span><br><span class="line"></span><br><span class="line">alter table sc add unique key `name_score` (`name`,`score`);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2ï¼šåˆ é™¤å”¯ä¸€ç´¢å¼•è¯­å¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter table è¡¨å drop index name;</span><br></pre></td></tr></table></figure><h2 id="äºŒï¼šå”¯ä¸€ç´¢å¼•ä½œç”¨"><a href="#äºŒï¼šå”¯ä¸€ç´¢å¼•ä½œç”¨" class="headerlink" title="äºŒï¼šå”¯ä¸€ç´¢å¼•ä½œç”¨"></a>äºŒï¼šå”¯ä¸€ç´¢å¼•ä½œç”¨</h2><p><strong>1ï¼šæœ€å¤§çš„æ‰€ç”¨å°±æ˜¯ç¡®ä¿å†™å…¥æ•°æ®åº“çš„æ•°æ®æ˜¯å”¯ä¸€å€¼ã€‚</strong></p><p>å•åˆ—å”¯ä¸€å€¼åŸºæœ¬ä¸Šå°±æ˜¯ä¸»é”®ã€‚</p><p>å¸¸ç”¨çš„ä¸€èˆ¬éƒ½æ˜¯å¤šåˆ—çš„å”¯ä¸€ç´¢å¼•ï¼Œæ¯”å¦‚ï¼šå½“å‰å•†å“ï¼Œä¸€ä¸ªç”¨æˆ·åªèƒ½è´­ä¹°ä¸€ä»¶ã€‚æˆ‘ä»¬å°†ç”¨æˆ·idåŠå•†å“idåˆ—è®¾ç½®æˆå”¯ä¸€ç´¢å¼•ã€‚é‚£ä¹ˆå°±å¯ä»¥é¿å…ä¸€ä¸ªç”¨æˆ·å‡ºç°é‡å¤è´­ä¹°çš„æƒ…å†µã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>åˆ›å»ºæ•°æ®è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; CREATE TABLE t(</span><br><span class="line">    -&gt; c1 CHAR(1) not null,</span><br><span class="line">    -&gt; c2 CHAR(1) not null,</span><br><span class="line">    -&gt; c3 CHAR(1) not null,</span><br><span class="line">    -&gt; c4 CHAR(1) not null,</span><br><span class="line">    -&gt; c5 CHAR(1) not null</span><br><span class="line">    -&gt; )ENGINE myisam CHARSET UTF8;</span><br><span class="line">Query OK, 0 rows affected (0.09 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ·»åŠ å‡ æ¡æ•°æ®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into t VALUES(&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;),(&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;),(&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;),(&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;),(&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;);</span><br><span class="line">Query OK, 5 rows affected (0.00 sec)</span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; alter table t add unique key `name_score` (`c2`,`c3`);</span><br><span class="line">Query OK, 5 rows affected (0.01 sec)              </span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å†™å…¥é‡å¤æ•°æ®å¤±è´¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into t (c1,c2,c3,c4,c5) values (&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;);</span><br><span class="line">ERROR 1062 (23000): Duplicate entry &#x27;1-1&#x27; for key &#x27;name_score&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>2ï¼šæé«˜æŸ¥è¯¢é€Ÿåº¦</strong></p><p>ä½¿ç”¨indexç´¢å¼•æ—¶,ç»å¸¸å¯¼è‡´æ…¢æŸ¥è¯¢,è€—æ—¶2ç§’å·¦å³,é‡å¿™æ—¶æ›´æœ‰è¾¾åˆ°5ç§’çš„</p><p>æ”¹ç”¨uniqueä¹‹å,æŸ¥è¯¢è€—æ—¶åœ¨0.0003ç§’ åŸºæœ¬å¯ä»¥å¿½ç•¥ä¸è®¡</p><h2 id="ä¸‰ï¼šå”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„å…·ä½“åŒºåˆ«"><a href="#ä¸‰ï¼šå”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„å…·ä½“åŒºåˆ«" class="headerlink" title="ä¸‰ï¼šå”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„å…·ä½“åŒºåˆ«"></a>ä¸‰ï¼šå”¯ä¸€ç´¢å¼•å’Œä¸»é”®ç´¢å¼•çš„å…·ä½“åŒºåˆ«</h2><p><strong>1ï¼šå”¯ä¸€æ€§çº¦æŸæ‰€åœ¨çš„åˆ—å…è®¸ç©ºå€¼ï¼Œä½†æ˜¯ä¸»é”®çº¦æŸæ‰€åœ¨çš„åˆ—ä¸å…è®¸ç©ºå€¼ã€‚</strong><br><br><strong>2ï¼šå¯ä»¥æŠŠå”¯ä¸€æ€§çº¦æŸæ”¾åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ—ä¸Šï¼Œè¿™äº›åˆ—æˆ–åˆ—çš„ç»„åˆå¿…é¡»æœ‰å”¯ä¸€çš„ã€‚ä½†æ˜¯ï¼Œå”¯ä¸€æ€§çº¦æŸæ‰€åœ¨çš„åˆ—å¹¶ä¸æ˜¯è¡¨çš„ä¸»é”®åˆ—ã€‚</strong><br><br><strong>3ï¼šå”¯ä¸€æ€§çº¦æŸå¼ºåˆ¶åœ¨æŒ‡å®šçš„åˆ—ä¸Šåˆ›å»ºä¸€ä¸ªå”¯ä¸€æ€§ç´¢å¼•ã€‚åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºå”¯ä¸€æ€§çš„éèšç°‡ç´¢å¼•ï¼Œä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæ‰€åˆ›å»ºçš„ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ã€‚</strong><br><br><strong>4ï¼šå»ºç«‹ä¸»é”®çš„ç›®çš„æ˜¯è®©å¤–é”®æ¥å¼•ç”¨.</strong><br><br><strong>5ï¼š ä¸€ä¸ªè¡¨æœ€å¤šåªæœ‰ä¸€ä¸ªä¸»é”®ï¼Œä½†å¯ä»¥æœ‰å¾ˆå¤šå”¯ä¸€é”®</strong></p><h2 id="å››ï¼šå­˜åœ¨å”¯ä¸€é”®å†²çªæ—¶ï¼Œé¿å…ç­–ç•¥"><a href="#å››ï¼šå­˜åœ¨å”¯ä¸€é”®å†²çªæ—¶ï¼Œé¿å…ç­–ç•¥" class="headerlink" title="å››ï¼šå­˜åœ¨å”¯ä¸€é”®å†²çªæ—¶ï¼Œé¿å…ç­–ç•¥"></a>å››ï¼šå­˜åœ¨å”¯ä¸€é”®å†²çªæ—¶ï¼Œé¿å…ç­–ç•¥</h2><p><strong>1ï¼šä½¿ç”¨insert ignoreè¯­å¥</strong></p><p>insert ignoreä¼šå¿½ç•¥æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨çš„æ•°æ®(æ ¹æ®ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•åˆ¤æ–­)ï¼Œå¦‚æœæ•°æ®åº“æ²¡æœ‰æ•°æ®ï¼Œå°±æ’å…¥æ–°çš„æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®çš„è¯å°±è·³è¿‡è¿™æ¡æ•°æ®.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert ignore into t (c1,c2,c3,c4,c5) values (&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;2&#x27;);</span><br><span class="line">Query OK, 0 rows affected, 1 warning (0.00 sec)</span><br><span class="line"> </span><br><span class="line">MariaDB [test]&gt; select * from t;</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| c1 | c2 | c3 | c4 | c5 |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| 1  | 1  | 1  | 1  | 1  |</span><br><span class="line">| 2  | 2  | 2  | 2  | 2  |</span><br><span class="line">| 3  | 3  | 3  | 3  | 3  |</span><br><span class="line">| 4  | 4  | 4  | 4  | 4  |</span><br><span class="line">| 5  | 5  | 5  | 5  | 5  |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Sqlæ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯æˆ‘ä»¬æŸ¥è¯¢è¡¨çš„æ•°æ®ï¼Œå‘ç°å¹¶æ²¡æœ‰å†™å…¥æˆåŠŸã€‚æ˜¯å› ä¸ºå”¯ä¸€ç´¢å¼•å·²ç»å­˜åœ¨ã€‚è·³è¿‡äº†è¿™æ¡å†™å…¥çš„å‘½ä»¤ã€‚</p><h4 id="2ï¼šä½¿ç”¨replace-intoè¯­å¥"><a href="#2ï¼šä½¿ç”¨replace-intoè¯­å¥" class="headerlink" title="2ï¼šä½¿ç”¨replace intoè¯­å¥"></a>2ï¼šä½¿ç”¨replace intoè¯­å¥</h4><p>replace into é¦–å…ˆå°è¯•æ’å…¥æ•°æ®åˆ°è¡¨ä¸­ã€‚ å¦‚æœå‘ç°è¡¨ä¸­å·²ç»æœ‰æ­¤è¡Œæ•°æ®(æ ¹æ®ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•åˆ¤æ–­)åˆ™å…ˆåˆ é™¤æ­¤è¡Œæ•°æ®ï¼Œç„¶åæ’å…¥æ–°çš„æ•°æ®ï¼Œå¦åˆ™ï¼Œç›´æ¥æ’å…¥æ–°æ•°æ®ã€‚</p><p>ä½¿ç”¨replace intoï¼Œä½ å¿…é¡»å…·æœ‰deleteå’Œinsertæƒé™</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; replace into t (c1,c2,c3,c4,c5) values (&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;2&#x27;);</span><br><span class="line">Query OK, 2 rows affected (0.00 sec)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># å…ˆæ‰§è¡Œåˆ é™¤ï¼Œå†æ‰§è¡Œå†™å…¥</span><br><span class="line"> </span><br><span class="line">MariaDB [test]&gt; select * from t;</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| c1 | c2 | c3 | c4 | c5 |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| 1  | 1  | 1  | 1  | 2  |</span><br><span class="line">| 2  | 2  | 2  | 2  | 2  |</span><br><span class="line">| 3  | 3  | 3  | 3  | 3  |</span><br><span class="line">| 4  | 4  | 4  | 4  | 4  |</span><br><span class="line">| 5  | 5  | 5  | 5  | 5  |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>3ï¼šä½¿ç”¨insert on duplicate key updateè¯­å¥</strong></p><p>å¦‚æœåœ¨insert into è¯­å¥æœ«å°¾æŒ‡å®šäº†on duplicate key updateï¼Œå¹¶ä¸”æ’å…¥è¡Œåä¼šå¯¼è‡´åœ¨ä¸€ä¸ªUNIQUEç´¢å¼•æˆ–PRIMARY KEYä¸­å‡ºç°é‡å¤å€¼ï¼Œåˆ™åœ¨å‡ºç°é‡å¤å€¼çš„è¡Œæ‰§è¡ŒUPDATEï¼›å¦‚æœä¸ä¼šå¯¼è‡´é‡å¤çš„é—®é¢˜ï¼Œåˆ™æ’å…¥æ–°è¡Œï¼Œè·Ÿæ™®é€šçš„insert intoä¸€æ ·ã€‚</p><p>ä½¿ç”¨insert intoï¼Œä½ å¿…é¡»å…·æœ‰insertå’Œupdateæƒé™</p><p>å¦‚æœæœ‰æ–°è®°å½•è¢«æ’å…¥ï¼Œåˆ™å—å½±å“è¡Œçš„å€¼æ˜¾ç¤º1ï¼›å¦‚æœåŸæœ‰çš„è®°å½•è¢«æ›´æ–°ï¼Œåˆ™å—å½±å“è¡Œçš„å€¼æ˜¾ç¤º2ï¼›å¦‚æœè®°å½•è¢«æ›´æ–°å‰åå€¼æ˜¯ä¸€æ ·çš„ï¼Œåˆ™å—å½±å“è¡Œæ•°çš„å€¼æ˜¾ç¤º0</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into t (c1,c2,c3,c4,c5) values (&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;2&#x27;) on duplicate key update c2 = 5;</span><br><span class="line">Query OK, 2 rows affected (0.00 sec)</span><br><span class="line"> </span><br><span class="line">MariaDB [test]&gt; select * from t;</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| c1 | c2 | c3 | c4 | c5 |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">| 1  | 5  | 1  | 1  | 2  |</span><br><span class="line">| 2  | 2  | 2  | 2  | 2  |</span><br><span class="line">| 3  | 3  | 3  | 3  | 3  |</span><br><span class="line">| 4  | 4  | 4  | 4  | 4  |</span><br><span class="line">| 5  | 5  | 5  | 5  | 5  |</span><br><span class="line">+----+----+----+----+----+</span><br><span class="line">5 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼š</p><p>insert â€¦ on duplicate key åœ¨æ‰§è¡Œæ—¶ï¼Œinnodbå¼•æ“ä¼šå…ˆåˆ¤æ–­æ’å…¥çš„è¡Œæ˜¯å¦äº§ç”Ÿé‡å¤keyé”™è¯¯ï¼Œ<br>å¦‚æœå­˜åœ¨ï¼Œåœ¨å¯¹è¯¥ç°æœ‰çš„è¡ŒåŠ ä¸ŠS(å…±äº«é”)é”ï¼Œå¦‚æœè¿”å›è¯¥è¡Œæ•°æ®ç»™mysql,ç„¶åmysqlæ‰§è¡Œå®Œduplicateåçš„updateæ“ä½œï¼Œ<br>ç„¶åå¯¹è¯¥è®°å½•åŠ ä¸ŠX(æ’ä»–é”)ï¼Œæœ€åè¿›è¡Œupdateå†™å…¥ã€‚</p><p>å¦‚æœæœ‰ä¸¤ä¸ªäº‹åŠ¡å¹¶å‘çš„æ‰§è¡ŒåŒæ ·çš„è¯­å¥ï¼Œ<br>é‚£ä¹ˆå°±ä¼šäº§ç”Ÿdeath lockï¼ˆæ­»é”ï¼‰</p><p>å› æ­¤åœ¨ä½¿ç”¨çš„æ—¶å€™å°½é‡é¿å…ï¼š</p><p>å°½é‡å¯¹å­˜åœ¨å¤šä¸ªå”¯ä¸€é”®çš„tableä½¿ç”¨è¯¥è¯­å¥</p><p>åœ¨æœ‰å¯èƒ½æœ‰å¹¶å‘äº‹åŠ¡æ‰§è¡Œçš„insert çš„å†…å®¹ä¸€æ ·æƒ…å†µä¸‹ä¸ä½¿ç”¨è¯¥è¯­å¥</p><p><strong>4ï¼šæ€»ç»“</strong><br>è¿™ä¸‰ç§æ–¹æ³•éƒ½èƒ½é¿å…ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•é‡å¤å¯¼è‡´çš„æ’å…¥å¤±è´¥é—®é¢˜ã€‚</p><p>insert ignoreèƒ½å¿½ç•¥é‡å¤æ•°æ®ï¼Œåªæ’å…¥ä¸é‡å¤çš„æ•°æ®ã€‚</p><p>replace intoå’Œinsert â€¦ on duplicate key updateï¼Œéƒ½æ˜¯æ›¿æ¢åŸæœ‰çš„é‡å¤æ•°æ®ï¼ŒåŒºåˆ«åœ¨äºreplace intoæ˜¯åˆ é™¤åŸæœ‰çš„è¡Œåï¼Œåœ¨æ’å…¥æ–°è¡Œï¼Œå¦‚æœ‰è‡ªå¢idï¼Œè¿™ä¸ªä¼šé€ æˆè‡ªå¢idçš„æ”¹å˜ï¼›insert â€¦ on duplicate key updateåœ¨é‡åˆ°é‡å¤è¡Œæ—¶ï¼Œä¼šç›´æ¥æ›´æ–°åŸæœ‰çš„è¡Œï¼Œå…·ä½“æ›´æ–°å“ªäº›å­—æ®µæ€ä¹ˆæ›´æ–°ï¼Œå–å†³äºupdateåçš„è¯­å¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆä¸‰ï¼‰èšé›†ç´¢å¼•ä¸éèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%89%EF%BC%89%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E4%B8%8E%E9%9D%9E%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%EF%BC%88%E8%BE%85%E5%8A%A9%E7%B4%A2%E5%BC%95%EF%BC%89/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%89%EF%BC%89%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%E4%B8%8E%E9%9D%9E%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95%EF%BC%88%E8%BE%85%E5%8A%A9%E7%B4%A2%E5%BC%95%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Mysqlä¸­å¸¸ç”¨çš„ä¸¤ä¸ªå­˜å‚¨å¼•æ“innodbå’Œmysiamçš„ç´¢å¼•æ˜¯ä¸åŒçš„ã€‚</p><p>èšé›†ç´¢å¼•å°±æ˜¯ä»¥ä¸»é”®åˆ›å»ºçš„ç´¢å¼•</p><p>éèšé›†ç´¢å¼•å°±æ˜¯é™¤äº†ä¸»é”®ä»¥å¤–çš„ç´¢å¼•ã€‚</p><p>éèšé›†ç´¢å¼•ä¹Ÿå«åšäºŒçº§ç´¢å¼•ï¼Œä¸ç”¨çº ç»“é‚£ä¹ˆå¤šåè¯ï¼Œå°†å…¶ç­‰ä»·å°±è¡Œäº†ã€‚éèšé›†ç´¢å¼•åœ¨å»ºç«‹çš„æ—¶å€™ä¹Ÿæœªå¿…æ˜¯å•åˆ—çš„ï¼Œå¯ä»¥å¤šä¸ªåˆ—æ¥åˆ›å»ºç´¢å¼•ã€‚</p><p>å…³äºmysiamå’ŒinnoDBçš„ç‰¹æ€§åŠåŒºåˆ«ï¼Œæˆ‘åœ¨ä¸‹è¾¹æ”¾äº†ä¸€å¼ å›¾ï¼š</p><p><img src="https://z3.ax1x.com/2021/09/17/4uv7sx.png" alt="4uv7sx.png"></p><p>åœ¨æ•°æ®åº“ä¸­ï¼ŒB+æ ‘çš„é«˜åº¦ä¸€èˆ¬éƒ½åœ¨2åˆ°4å±‚ï¼Œè¿™ä¹Ÿå°±æ˜¯è¯´æŸ¥æ‰¾æŸä¸€ä¸ªé”®å€¼çš„è¡Œè®°å½•æ—¶æœ€å¤šåªéœ€è¦2åˆ°4æ¬¡IOï¼Œè¿™å€’ä¸é”™ã€‚å› ä¸ºå½“å‰ä¸€èˆ¬çš„æœºæ¢°ç¡¬ç›˜æ¯ç§’è‡³å°‘å¯ä»¥åš100æ¬¡IOï¼Œ24æ¬¡çš„IOæ„å‘³ç€æŸ¥è¯¢æ—¶é—´åªéœ€è¦0.02~0.04ç§’ã€‚</p><p>æ•°æ®åº“ä¸­çš„B+æ ‘ç´¢å¼•å¯ä»¥åˆ†ä¸ºèšé›†ç´¢å¼•ï¼ˆclustered indexï¼‰å’Œè¾…åŠ©ç´¢å¼•ï¼ˆsecondary indexï¼‰ã€‚</p><p>èšé›†ç´¢å¼•ä¸è¾…åŠ©ç´¢å¼•ç›¸åŒçš„æ˜¯ï¼šä¸ç®¡æ˜¯èšé›†ç´¢å¼•è¿˜æ˜¯è¾…åŠ©ç´¢å¼•ï¼Œå…¶å†…éƒ¨éƒ½æ˜¯B+æ ‘çš„å½¢å¼ï¼Œå³é«˜åº¦æ˜¯å¹³è¡¡çš„ï¼Œå¶å­ç»“ç‚¹å­˜æ”¾ç€æ‰€æœ‰çš„æ•°æ®ã€‚</p><p>èšé›†ç´¢å¼•ä¸è¾…åŠ©ç´¢å¼•ä¸åŒçš„æ˜¯ï¼šè¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸åŒ…å«è¡Œè®°å½•çš„å…¨éƒ¨æ•°æ®</p><h2 id="ä¸€ï¼šéèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰"><a href="#ä¸€ï¼šéèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰" class="headerlink" title="ä¸€ï¼šéèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰"></a>ä¸€ï¼šéèšé›†ç´¢å¼•ï¼ˆè¾…åŠ©ç´¢å¼•ï¼‰</h2><p>Mysiamåˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™ï¼Œä¼šåœ¨ç£ç›˜ä¸Šç”Ÿæˆä¸‰ä¸ª.frm.MYD.MYIç»“å°¾çš„ä¸‰ä¸ªæ–‡ä»¶ï¼Œfrmç»“å°¾çš„æ˜¯è¡¨ç»“æ„ï¼ŒMYDç»“å°¾çš„æ˜¯æ•°æ®æ–‡ä»¶ï¼ŒMYIç»“å°¾çš„å°±æ˜¯ç´¢å¼•æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ç´¢å¼•ä¹Ÿæ˜¯å­˜åœ¨ç¡¬ç›˜ä¸Šçš„ã€‚</p><p>å¶å­èŠ‚ç‚¹å­˜æ”¾çš„æ˜¯å¯¹åº”çš„é‚£æ¡æ•°æ®çš„ä¸»é”®å­—æ®µçš„å€¼ï¼Œé™¤äº†åŒ…å«é”®å€¼ä»¥å¤–ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹ä¸­çš„ç´¢å¼•è¡Œä¸­è¿˜åŒ…å«ä¸€ä¸ªä¹¦ç­¾ï¼ˆbookmarkï¼‰ï¼Œå…¶å®è¿™ä¸ªä¹¦ç­¾ä½ å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ä¸ª{â€˜nameå­—æ®µâ€™ï¼Œnameçš„å€¼ï¼Œä¸»é”®idå€¼}çš„è¿™ä¹ˆä¸€ä¸ªæ•°æ®ã€‚</p><p>è¯¥ä¹¦ç­¾ç”¨æ¥å‘Šè¯‰InnoDBå­˜å‚¨å¼•æ“å»å“ªé‡Œå¯ä»¥æ‰¾åˆ°ä¸ç´¢å¼•ç›¸å¯¹åº”çš„è¡Œæ•°æ®ã€‚å¦‚æœæˆ‘ä»¬select åé¢è¦çš„æ˜¯nameï¼Œæˆ‘ä»¬ç›´æ¥å°±å¯ä»¥åœ¨è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹æ‰¾åˆ°å¯¹åº”çš„nameå€¼ï¼Œæ¯”å¦‚ï¼šselect name from tb1 where name&#x3D;â€˜xxâ€™ï¼›</p><p>è¿™ä¸ªxxå€¼ä½ ç›´æ¥å°±åœ¨è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å°±èƒ½æ‰¾åˆ°ï¼Œè¿™ç§æˆ‘ä»¬ä¹Ÿå¯ä»¥ç§°ä¸ºè¦†ç›–ç´¢å¼•ã€‚å¦‚æœä½ selectåé¢çš„å­—æ®µä¸æ˜¯nameï¼Œä¾‹å¦‚ï¼šselect age from tb1 where name&#x3D;â€˜xxâ€™ï¼›</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘é€šè¿‡è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸èƒ½ç›´æ¥æ‹¿åˆ°ageçš„å€¼ï¼Œéœ€è¦é€šè¿‡è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­ä¿å­˜çš„ä¸»é”®idçš„å€¼å†å»é€šè¿‡èšé›†ç´¢å¼•æ¥æ‰¾åˆ°å®Œæ•´çš„ä¸€æ¡è®°å½•ï¼Œç„¶åä»è¿™ä¸ªè®°å½•é‡Œé¢æ‹¿å‡ºageçš„å€¼ï¼Œè¿™ç§æ“ä½œæœ‰æ—¶å€™ä¹Ÿæˆä¸ºå›è¡¨æ“ä½œï¼Œå°±æ˜¯ä»å¤´å†å›å»æŸ¥ä¸€éï¼Œè¿™ç§çš„æŸ¥è¯¢æ•ˆç‡ä¹Ÿå¾ˆé«˜ï¼Œä½†æ˜¯æ¯”è¦†ç›–ç´¢å¼•ä½ä¸€äº›ï¼Œå†è¯´ä¸€ä¸‹æ˜‚ï¼Œå†è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å°±èƒ½æ‰¾åˆ°ä½ æƒ³æ‰¾çš„æ•°æ®å¯ç§°ä¸ºè¦†ç›–ç´¢å¼•ã€‚</p><h2 id="äºŒï¼šèšé›†æ€§ç´¢å¼•"><a href="#äºŒï¼šèšé›†æ€§ç´¢å¼•" class="headerlink" title="äºŒï¼šèšé›†æ€§ç´¢å¼•"></a>äºŒï¼šèšé›†æ€§ç´¢å¼•</h2><p>InnoDB åœ¨ B+ æ ‘æ•°æ®ç»“æ„ä¸­ç´¢å¼•åˆåˆ†ä¸ºèšé›†ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•</p><p>InnoDBåˆ›å»ºæ•°æ®è¡¨çš„æ—¶å€™ï¼Œä¼šåœ¨ç£ç›˜ä¸Šç”Ÿæˆ.frm.idbç»“å°¾çš„ä¸¤ä¸ªæ–‡ä»¶ã€‚</p><p>ç´¢å¼•å­˜å‚¨åœ¨.idbç»“å°¾çš„æ•°æ®æ–‡ä»¶ä¸­ï¼ŒInnoDBå¼•æ“çš„è¡¨ï¼Œå®ƒçš„ç´¢å¼•å’Œæ•°æ®éƒ½åœ¨åŒä¸€ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œæ‰€ä»¥æˆ‘ä¸€ç›´å¼ºè°ƒï¼Œä½¿ç”¨InnoDBå­˜å‚¨å¼•æ“çš„æ—¶å€™ï¼Œæ¯å»ºä¸€ä¸ªè¡¨ï¼Œå°±éœ€è¦ç»™ä¸€ä¸ªä¸»é”®ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªä¸»é”®æ˜¯InnoDBå­˜å‚¨å¼•æ“çš„.idbæ–‡ä»¶æ¥ç»„ç»‡å­˜å‚¨æ•°æ®çš„ä¾æ®æˆ–è€…è¯´æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯è¯´InnoDBå­˜å‚¨å¼•æ“åœ¨å­˜å‚¨æ•°æ®çš„æ—¶å€™é»˜è®¤å°±æŒ‰ç…§ç´¢å¼•çš„é‚£ç§æ ‘å½¢ç»“æ„æ¥å¸®ä½ å­˜ã€‚</p><p>è¿™ç§ç´¢å¼•ï¼Œæˆ‘ä»¬å°±ç§°ä¸ºèšé›†ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯åœ¨èšé›†æ•°æ®ç»„ç»‡æ•°æ®çš„æ—¶å€™ï¼Œå°±ç”¨è¿™ç§ç´¢å¼•ã€‚</p><p>InnoDBè¿™ä¹ˆåšå°±æ˜¯ä¸ºäº†åŠ é€ŸæŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºä½ ç»å¸¸ä¼šé‡åˆ°åŸºäºä¸»é”®æ¥æŸ¥è¯¢æ•°æ®çš„æƒ…å†µï¼Œå¹¶ä¸”é€šå¸¸æˆ‘ä»¬æŠŠidå­—æ®µä½œä¸ºä¸»é”®ï¼Œç¬¬ä¸€ç‚¹æ˜¯å› ä¸ºidå ç”¨çš„æ•°æ®ç©ºé—´ä¸å¤§ï¼Œç¬¬äºŒç‚¹æ˜¯ä½ ç»å¸¸ä¼šç”¨åˆ°idæ¥æŸ¥æ•°æ®ã€‚</p><p>å¦‚æœä½ çš„è¡¨æœ‰ä¸¤ä¸ªå­—æ®µï¼Œä¸€ä¸ªidä¸€ä¸ªnameï¼Œidä¸ºä¸»é”®ï¼Œå½“ä½ æŸ¥è¯¢çš„æ—¶å€™å¦‚æœwhereåé¢çš„æ¡ä»¶æ˜¯name&#x3D;å¤šå°‘å¤šå°‘ï¼Œé‚£ä¹ˆä½ å°±æ²¡æœ‰ç”¨åˆ°ä¸»é”®ç»™ä½ å¸¦æ¥çš„åŠ é€ŸæŸ¥è¯¢çš„æ•ˆæœï¼ˆéœ€è¦ä¸»é”®ä¹‹å¤–çš„è¾…åŠ©ç´¢å¼•ï¼‰ï¼Œå¦‚æœä½ ç”¨where id&#x3D;å¤šå°‘å¤šå°‘ï¼Œå°±ä¼šæŒ‰ç…§æˆ‘ä»¬åˆšæ‰ä¸Šé¢è¯´çš„å“ªç§æ ‘å½¢ç»“æ„æ¥ç»™ä½ æ‰¾å¯»æ•°æ®äº†ï¼ˆå½“ç„¶ä¸ä»…ä»…æœ‰è¿™ç§æ ‘å½¢ç»“æ„çš„æ•°æ®ç»“æ„ç±»å‹ï¼‰ï¼Œèƒ½å¤Ÿå¿«é€Ÿçš„å¸®ä½ å®šä½åˆ°æ•°æ®å—ã€‚</p><p>è¿™ç§èšé›†ç´¢å¼•çš„ç‰¹ç‚¹æ˜¯å®ƒä¼šä»¥idå­—æ®µä½œä¸ºä¾æ®ï¼Œå»å»ºç«‹æ ‘å½¢ç»“æ„ï¼Œä½†æ˜¯å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯ä½ è¡¨ä¸­çš„ä¸€æ¡å®Œæ•´è®°å½•ï¼Œä¸€æ¡å®Œæ•´çš„æ•°æ®ã€‚</p><p>èšé›†ç´¢å¼•çš„ç‰¹æ€§ï¼š</p><ol><li><p>InnoDBå­˜å‚¨å¼•æ“è¡¨ç¤ºç´¢å¼•ç»„ç»‡è¡¨ï¼Œå³è¡¨ä¸­æ•°æ®æŒ‰ç…§ä¸»é”®é¡ºåºå­˜æ”¾ã€‚è€Œèšé›†ç´¢å¼•ï¼ˆclustered indexï¼‰å°±æ˜¯æŒ‰ç…§æ¯å¼ è¡¨çš„ä¸»é”®æ„é€ ä¸€æ£µB+æ ‘ï¼ŒåŒæ—¶å¶å­ç»“ç‚¹å­˜æ”¾çš„å³ä¸ºæ•´å¼ è¡¨çš„è¡Œè®°å½•æ•°æ®ï¼Œä¹Ÿå°†èšé›†ç´¢å¼•çš„å¶å­ç»“ç‚¹ç§°ä¸ºæ•°æ®é¡µã€‚èšé›†ç´¢å¼•çš„è¿™ä¸ªç‰¹æ€§å†³å®šäº†ç´¢å¼•ç»„ç»‡è¡¨ä¸­æ•°æ®ä¹Ÿæ˜¯ç´¢å¼•çš„ä¸€éƒ¨åˆ†ã€‚åŒB+æ ‘æ•°æ®ç»“æ„ä¸€æ ·ï¼Œæ¯ä¸ªæ•°æ®é¡µéƒ½é€šè¿‡ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥è¿›è¡Œé“¾æ¥ã€‚</p></li><li><p>å¦‚æœæœªå®šä¹‰ä¸»é”®ï¼ŒMySQLå–ç¬¬ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ï¼ˆuniqueï¼‰è€Œä¸”åªå«éç©ºåˆ—ï¼ˆNOT NULLï¼‰ä½œä¸ºä¸»é”®ï¼ŒInnoDBä½¿ç”¨å®ƒä½œä¸ºèšç°‡ç´¢å¼•ã€‚</p></li><li><p>å¦‚æœæ²¡æœ‰è¿™æ ·çš„åˆ—ï¼ŒInnoDBå°±è‡ªå·±äº§ç”Ÿä¸€ä¸ªè¿™æ ·çš„IDå€¼ï¼Œå®ƒæœ‰å…­ä¸ªå­—èŠ‚ï¼Œè€Œä¸”æ˜¯éšè—çš„ï¼Œä½¿å…¶ä½œä¸ºèšç°‡ç´¢å¼•ã€‚</p></li><li><p>ç”±äºå®é™…çš„æ•°æ®é¡µåªèƒ½æŒ‰ç…§ä¸€æ£µB+æ ‘è¿›è¡Œæ’åºï¼Œå› æ­¤æ¯å¼ è¡¨åªèƒ½æ‹¥æœ‰ä¸€ä¸ªèšé›†ç´¢å¼•ã€‚åœ¨å¤šå°‘æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨å€¾å‘äºé‡‡ç”¨èšé›†ç´¢å¼•ã€‚å› ä¸ºèšé›†ç´¢å¼•èƒ½å¤Ÿåœ¨B+æ ‘ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šç›´æ¥æ‰¾åˆ°æ•°æ®ã€‚æ­¤å¤–ç”±äºå®šä¹‰äº†æ•°æ®çš„é€»è¾‘é¡ºåºï¼Œèšé›†ç´¢å¼•èƒ½å¤Ÿç‰¹åˆ«å¿«åœ°è®¿é—®é’ˆå¯¹èŒƒå›´å€¼å¾—æŸ¥è¯¢ã€‚</p></li></ol><h2 id="ä¸‰ï¼šå…³äºç´¢å¼•çš„å»ºè®®"><a href="#ä¸‰ï¼šå…³äºç´¢å¼•çš„å»ºè®®" class="headerlink" title="ä¸‰ï¼šå…³äºç´¢å¼•çš„å»ºè®®"></a>ä¸‰ï¼šå…³äºç´¢å¼•çš„å»ºè®®</h2><p>1ï¼šå•è¡¨ç´¢å¼•ä¸è¶…è¿‡å…­ä¸ª</p><p>2ï¼š ä¸å»ºè®®ä½¿ç”¨è¿‡é•¿çš„å­—æ®µä½œä¸ºä¸»é”®ï¼Œå› ä¸ºæ‰€æœ‰è¾…åŠ©ç´¢å¼•éƒ½å¼•ç”¨ä¸»ç´¢å¼•ï¼Œè¿‡é•¿çš„ä¸»ç´¢å¼•ä¼šä»¤è¾…åŠ©ç´¢å¼•å˜å¾—è¿‡å¤§ã€‚</p><p>3ï¼šç”¨éå•è°ƒçš„å­—æ®µä½œä¸ºä¸»é”®åœ¨InnoDBä¸­ä¸æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œå› ä¸ºInnoDBæ•°æ®æ–‡ä»¶æœ¬èº«æ˜¯ä¸€é¢—B+Treeï¼Œéå•è°ƒçš„ä¸»é”®ä¼šé€ æˆåœ¨æ’å…¥æ–°è®°å½•æ—¶æ•°æ®æ–‡ä»¶ä¸ºäº†ç»´æŒB+Treeçš„ç‰¹æ€§è€Œé¢‘ç¹çš„åˆ†è£‚è°ƒæ•´ï¼Œååˆ†ä½æ•ˆï¼Œè€Œä½¿ç”¨è‡ªå¢å­—æ®µä½œä¸ºä¸»é”®åˆ™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆäºŒï¼‰ç´¢å¼•çš„æ•°æ®ç»“æ„B+TREE</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%BA%8C%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84B+TREE/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%BA%8C%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84B+TREE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>ç´¢å¼•æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œè®©æˆ‘ä»¬åœ¨æŸ¥è¯¢æ•°æ®çš„æ—¶å€™å°½é‡å‡å°‘ç£ç›˜I&#x2F;Oã€‚</p><p>å‰è¾¹å¤§æ¦‚çœ‹äº†ç´¢å¼•çš„åŸç†ã€‚æ•°æ®åº“çš„å¤æ‚æ€§ï¼Œä»¥åŠè¯»å–ç£ç›˜æ—¶ï¼Œç£ç›˜I&#x2F;Oç­‰ã€‚ä»»ä½•ä¸€ç§æ•°æ®ç»“æ„éƒ½ä¸æ˜¯å‡­ç©ºäº§ç”Ÿçš„ï¼Œä¸€å®šä¼šæœ‰å®ƒçš„èƒŒæ™¯å’Œä½¿ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬ç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è¿™ç§æ•°æ®ç»“æ„èƒ½å¤Ÿåšäº›ä»€ä¹ˆï¼Œå…¶å®å¾ˆç®€å•ï¼Œé‚£å°±æ˜¯ï¼šæ¯æ¬¡æŸ¥æ‰¾æ•°æ®æ—¶æŠŠç£ç›˜IOæ¬¡æ•°æ§åˆ¶åœ¨ä¸€ä¸ªå¾ˆå°çš„æ•°é‡çº§ï¼Œæœ€å¥½æ˜¯å¸¸æ•°æ•°é‡çº§ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬å°±æƒ³åˆ°å¦‚æœä¸€ä¸ªé«˜åº¦å¯æ§çš„å¤šè·¯æœç´¢æ ‘æ˜¯å¦èƒ½æ»¡è¶³éœ€æ±‚å‘¢ï¼Ÿå°±è¿™æ ·ï¼Œb+æ ‘åº”è¿è€Œç”Ÿ</p><p><img src="https://z3.ax1x.com/2021/09/17/4KpXnI.png" alt="4KpXnI.png"></p><p>B+æ ‘å¤§æ¦‚å°±æ˜¯ä¸Šè¾¹è¿™ä¸ªç©æ„ã€‚</p><p>å¦‚ä¸Šå›¾ï¼Œæ˜¯ä¸€é¢—b+æ ‘ï¼Œæœ€ä¸Šå±‚æ˜¯æ ‘æ ¹ï¼Œä¸­é—´çš„æ˜¯æ ‘æï¼Œæœ€ä¸‹é¢æ˜¯å¶å­èŠ‚ç‚¹ï¼Œå…³äºb+æ ‘åè¾¹ä¼šçœ‹åˆ°ï¼Œè¿™é‡Œåªè¯´ä¸€äº›é‡ç‚¹ï¼Œæµ…è“è‰²çš„å—æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€ä¸ªç£ç›˜å—æˆ–è€…å«åšä¸€ä¸ªblockå—ï¼Œè¿™æ˜¯æ“ä½œç³»ç»Ÿä¸€æ¬¡IOå¾€å†…å­˜ä¸­è¯»çš„å†…å®¹ï¼Œä¸€ä¸ªå—å¯¹åº”å››ä¸ªæ‰‡åŒºï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªç£ç›˜å—åŒ…å«å‡ ä¸ªæ•°æ®é¡¹ï¼ˆæ·±è“è‰²æ‰€ç¤ºï¼Œä¸€ä¸ªç£ç›˜å—é‡Œé¢åŒ…å«å¤šå°‘æ•°æ®ï¼Œä¸€ä¸ªæ·±è“è‰²çš„å—è¡¨ç¤ºä¸€ä¸ªæ•°æ®ï¼Œå…¶å®ä¸æ˜¯æ•°æ®ï¼Œåé¢æœ‰è§£é‡Šï¼‰å’ŒæŒ‡é’ˆï¼ˆé»„è‰²æ‰€ç¤ºï¼Œçœ‹æœ€ä¸Šé¢ä¸€ä¸ªï¼Œp1è¡¨ç¤ºæ¯”ä¸Šé¢æ·±è“è‰²çš„é‚£ä¸ª17å°çš„æ•°æ®çš„ä½ç½®åœ¨å“ªï¼Œçœ‹å®ƒæŒ‡é’ˆæŒ‡å‘çš„å·¦è¾¹é‚£ä¸ªå—ï¼Œé‡Œé¢çš„æ•°æ®éƒ½æ¯”17å°ï¼Œp2æŒ‡å‘çš„æ˜¯æ¯”17å¤§æ¯”35å°çš„ç£ç›˜å—ï¼‰ï¼Œå¦‚ç£ç›˜å—1åŒ…å«æ•°æ®é¡¹17å’Œ35ï¼ŒåŒ…å«æŒ‡é’ˆP1ã€P2ã€P3ï¼ŒP1è¡¨ç¤ºå°äº17çš„ç£ç›˜å—ï¼ŒP2è¡¨ç¤ºåœ¨17å’Œ35ä¹‹é—´çš„ç£ç›˜å—ï¼ŒP3è¡¨ç¤ºå¤§äº35çš„ç£ç›˜å—ã€‚</p><p>çœŸå®çš„æ•°æ®å­˜åœ¨äºå¶å­èŠ‚ç‚¹å³3ã€5ã€9ã€10ã€13ã€15ã€28ã€29ã€36ã€60ã€75ã€79ã€90ã€99ã€‚</p><p>éå¶å­èŠ‚ç‚¹åªä¸å­˜å‚¨çœŸå®çš„æ•°æ®ï¼Œåªå­˜å‚¨æŒ‡å¼•æœç´¢æ–¹å‘çš„æ•°æ®é¡¹ï¼Œå¦‚17ã€35å¹¶ä¸çœŸå®å­˜åœ¨äºæ•°æ®è¡¨ä¸­ã€‚</p><p>B+æ ‘çš„æŸ¥æ‰¾è¿‡ç¨‹</p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå¦‚æœè¦æŸ¥æ‰¾æ•°æ®é¡¹29ï¼Œé‚£ä¹ˆé¦–å…ˆä¼šæŠŠç£ç›˜å—1ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼Œæ­¤æ—¶å‘ç”Ÿä¸€æ¬¡IOï¼Œåœ¨å†…å­˜ä¸­ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®š29åœ¨17å’Œ35ä¹‹é—´ï¼Œé”å®šç£ç›˜å—1çš„P2æŒ‡é’ˆï¼Œå†…å­˜æ—¶é—´å› ä¸ºéå¸¸çŸ­ï¼ˆç›¸æ¯”ç£ç›˜çš„IOï¼‰å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œé€šè¿‡ç£ç›˜å—1çš„P2æŒ‡é’ˆçš„ç£ç›˜åœ°å€æŠŠç£ç›˜å—3ç”±ç£ç›˜åŠ è½½åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬äºŒæ¬¡IOï¼Œ29åœ¨26å’Œ30ä¹‹é—´ï¼Œé”å®šç£ç›˜å—3çš„P2æŒ‡é’ˆï¼Œé€šè¿‡æŒ‡é’ˆåŠ è½½ç£ç›˜å—8åˆ°å†…å­˜ï¼Œå‘ç”Ÿç¬¬ä¸‰æ¬¡IOï¼ŒåŒæ—¶å†…å­˜ä¸­åšäºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°29ï¼Œç»“æŸæŸ¥è¯¢ï¼Œæ€»è®¡ä¸‰æ¬¡IOã€‚</p><p>çœŸå®çš„æƒ…å†µæ˜¯ï¼Œ3å±‚çš„b+æ ‘å¯ä»¥è¡¨ç¤ºä¸Šç™¾ä¸‡çš„æ•°æ®ï¼Œå¦‚æœä¸Šç™¾ä¸‡çš„æ•°æ®æŸ¥æ‰¾åªéœ€è¦ä¸‰æ¬¡IOï¼Œæ€§èƒ½æé«˜å°†æ˜¯å·¨å¤§çš„ï¼Œå¦‚æœæ²¡æœ‰ç´¢å¼•ï¼Œæ¯ä¸ªæ•°æ®é¡¹éƒ½è¦å‘ç”Ÿä¸€æ¬¡IOï¼Œé‚£ä¹ˆæ€»å…±éœ€è¦ç™¾ä¸‡æ¬¡çš„IOï¼Œæ˜¾ç„¶æˆæœ¬éå¸¸éå¸¸é«˜ã€‚</p><p>b+æ ‘æ€§è´¨</p><h4 id="1-ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼š"><a href="#1-ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼š" class="headerlink" title="1.ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼š"></a>1.ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼š</h4><p>é€šè¿‡ä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬çŸ¥é“IOæ¬¡æ•°å–å†³äºb+æ•°çš„é«˜åº¦hæˆ–è€…è¯´å±‚çº§ï¼Œè¿™ä¸ªé«˜åº¦æˆ–è€…å±‚çº§å°±æ˜¯ä½ æ¯æ¬¡æŸ¥è¯¢æ•°æ®çš„IOæ¬¡æ•°ï¼Œå‡è®¾å½“å‰æ•°æ®è¡¨çš„æ•°æ®ä¸ºNï¼Œæ¯ä¸ªç£ç›˜å—çš„æ•°æ®é¡¹çš„æ•°é‡æ˜¯mï¼Œåˆ™æœ‰h&#x3D;ã’(m+1)Nï¼Œå½“æ•°æ®é‡Nä¸€å®šçš„æƒ…å†µä¸‹ï¼Œmè¶Šå¤§ï¼Œhè¶Šå°ï¼›</p><p>è€Œm &#x3D; ç£ç›˜å—çš„å¤§å° &#x2F; æ•°æ®é¡¹çš„å¤§å°ï¼Œç£ç›˜å—çš„å¤§å°ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°æ®é¡µçš„å¤§å°ï¼Œæ˜¯å›ºå®šçš„ï¼Œå¦‚æœæ•°æ®é¡¹å çš„ç©ºé—´è¶Šå°ï¼Œæ•°æ®é¡¹çš„æ•°é‡è¶Šå¤šï¼Œæ ‘çš„é«˜åº¦è¶Šä½ã€‚</p><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ¯ä¸ªæ•°æ®é¡¹ï¼Œå³ç´¢å¼•å­—æ®µè¦å°½é‡çš„å°ï¼Œæ¯”å¦‚intå 4å­—èŠ‚ï¼Œè¦æ¯”bigint8å­—èŠ‚å°‘ä¸€åŠã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆb+æ ‘è¦æ±‚æŠŠçœŸå®çš„æ•°æ®æ”¾åˆ°å¶å­èŠ‚ç‚¹è€Œä¸æ˜¯å†…å±‚èŠ‚ç‚¹ï¼Œä¸€æ—¦æ”¾åˆ°å†…å±‚èŠ‚ç‚¹ï¼Œç£ç›˜å—çš„æ•°æ®é¡¹ä¼šå¤§å¹…åº¦ä¸‹é™ï¼Œå¯¼è‡´æ ‘å¢é«˜ã€‚å½“æ•°æ®é¡¹ç­‰äº1æ—¶å°†ä¼šé€€åŒ–æˆçº¿æ€§è¡¨ã€‚</p><h4 id="2ï¼šç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ï¼š"><a href="#2ï¼šç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ï¼š" class="headerlink" title="2ï¼šç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ï¼š"></a>2ï¼šç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ï¼š</h4><p>ç®€å•æ¥è¯´å°±æ˜¯ä½ çš„æ•°æ®æ¥äº†ä»¥åï¼Œä»æ•°æ®å—çš„å·¦è¾¹å¼€å§‹åŒ¹é…ï¼Œåœ¨åŒ¹é…å³è¾¹çš„ï¼ŒçŸ¥é“è¿™å¥è¯å°±è¡Œå•¦ï¼Œæˆ‘ä»¬ç»§ç»­å­¦ä¸‹é¢çš„å†…å®¹ã€‚å½“b+æ ‘çš„æ•°æ®é¡¹æ˜¯å¤åˆçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚(name,age,sex)çš„æ—¶å€™ï¼Œb+æ•°æ˜¯æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºæ¥å»ºç«‹æœç´¢æ ‘çš„ï¼Œæ¯”å¦‚å½“(å¼ ä¸‰,20,F)è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢çš„æ—¶å€™ï¼Œb+æ ‘ä¼šä¼˜å…ˆæ¯”è¾ƒnameæ¥ç¡®å®šä¸‹ä¸€æ­¥çš„æ‰€æœæ–¹å‘ï¼Œå¦‚æœnameç›¸åŒå†ä¾æ¬¡æ¯”è¾ƒageå’Œsexï¼Œæœ€åå¾—åˆ°æ£€ç´¢çš„æ•°æ®ï¼›</p><p>ä½†å½“(20,F)è¿™æ ·çš„æ²¡æœ‰nameçš„æ•°æ®æ¥çš„æ—¶å€™ï¼Œb+æ ‘å°±ä¸çŸ¥é“ä¸‹ä¸€æ­¥è¯¥æŸ¥å“ªä¸ªèŠ‚ç‚¹ï¼Œå› ä¸ºå»ºç«‹æœç´¢æ ‘çš„æ—¶å€™nameå°±æ˜¯ç¬¬ä¸€ä¸ªæ¯”è¾ƒå› å­ï¼Œå¿…é¡»è¦å…ˆæ ¹æ®nameæ¥æœç´¢æ‰èƒ½çŸ¥é“ä¸‹ä¸€æ­¥å»å“ªé‡ŒæŸ¥è¯¢ã€‚</p><p>æ¯”å¦‚å½“(å¼ ä¸‰,F)è¿™æ ·çš„æ•°æ®æ¥æ£€ç´¢æ—¶ï¼Œb+æ ‘å¯ä»¥ç”¨nameæ¥æŒ‡å®šæœç´¢æ–¹å‘ï¼Œä½†ä¸‹ä¸€ä¸ªå­—æ®µageçš„ç¼ºå¤±ï¼Œæ‰€ä»¥åªèƒ½æŠŠåå­—ç­‰äºå¼ ä¸‰çš„æ•°æ®éƒ½æ‰¾åˆ°ï¼Œç„¶åå†åŒ¹é…æ€§åˆ«æ˜¯Fçš„æ•°æ®äº†ï¼Œ è¿™ä¸ªæ˜¯éå¸¸é‡è¦çš„æ€§è´¨ï¼Œå³ç´¢å¼•çš„æœ€å·¦åŒ¹é…ç‰¹æ€§ã€‚</p><h2 id="B-Treeç´¢å¼•çš„ç‰¹ç‚¹"><a href="#B-Treeç´¢å¼•çš„ç‰¹ç‚¹" class="headerlink" title="B-Treeç´¢å¼•çš„ç‰¹ç‚¹"></a>B-Treeç´¢å¼•çš„ç‰¹ç‚¹</h2><h4 id="1ã€B-treeç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦"><a href="#1ã€B-treeç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦" class="headerlink" title="1ã€B-treeç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦"></a>1ã€B-treeç´¢å¼•å¯ä»¥åŠ å¿«æ•°æ®çš„æŸ¥è¯¢é€Ÿåº¦</h4><p>å­˜å‚¨å¼•æ“ä¸éœ€è¦è¿›è¡Œå…¨è¡¨æ‰«ææ¥è·å¾—éœ€è¦çš„æ•°æ®ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä»ç´¢å¼•çš„æ ¹èŠ‚ç‚¹å¼€å§‹è¿›è¡Œæœç´¢ã€‚ç„¶åæ ¹æ®æŒ‡é’ˆé€å±‚å‘ä¸‹æŸ¥æ‰¾ï¼Œé€šè¿‡æ¯”è¾ƒèŠ‚ç‚¹é¡µçš„å€¼å’Œæœ‰ç›®æ ‡å€¼å°±å¯ä»¥æ‰¾åˆ°åˆé€‚çš„æŒ‡é’ˆè¿›å…¥ä¸‹å±‚èŠ‚ç‚¹ï¼Œè€Œè¿™äº›æŒ‡é’ˆå®é™…ä¸Šå®šä¹‰äº†å­èŠ‚ç‚¹é¡µä¸­å€¼çš„ä¸Šé™å’Œä¸‹é™ã€‚</p><h4 id="2ã€B-treeç´¢å¼•æ›´é€‚åˆè¿›è¡ŒèŒƒå›´æŸ¥è¯¢"><a href="#2ã€B-treeç´¢å¼•æ›´é€‚åˆè¿›è¡ŒèŒƒå›´æŸ¥è¯¢" class="headerlink" title="2ã€B-treeç´¢å¼•æ›´é€‚åˆè¿›è¡ŒèŒƒå›´æŸ¥è¯¢"></a>2ã€B-treeç´¢å¼•æ›´é€‚åˆè¿›è¡ŒèŒƒå›´æŸ¥è¯¢</h4><p>å› ä¸ºå‰é¢è¯´è¿‡ï¼ŒB-treeå¯¹ç´¢å¼•æ˜¯é¡ºåºç»„ç»‡å­˜å‚¨çš„ï¼Œæ‰€ä»¥å°±å¾ˆé€‚åˆè¿›è¡ŒæŸ¥æ‰¾èŒƒå›´æ•°æ®ã€‚</p><h2 id="B-treeç´¢å¼•çš„ä½¿ç”¨åœºæ™¯"><a href="#B-treeç´¢å¼•çš„ä½¿ç”¨åœºæ™¯" class="headerlink" title="B-treeç´¢å¼•çš„ä½¿ç”¨åœºæ™¯"></a>B-treeç´¢å¼•çš„ä½¿ç”¨åœºæ™¯</h2><h4 id="1ã€-å…¨å€¼åŒ¹é…çš„æŸ¥è¯¢"><a href="#1ã€-å…¨å€¼åŒ¹é…çš„æŸ¥è¯¢" class="headerlink" title="1ã€ å…¨å€¼åŒ¹é…çš„æŸ¥è¯¢"></a>1ã€ å…¨å€¼åŒ¹é…çš„æŸ¥è¯¢</h4><p>æŒ‡çš„æ˜¯å’Œç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—è¿›è¡ŒåŒ¹é…ï¼Œæ¯”å¦‚æŸ¥è¯¢å­—æ®µ name &#x3D; â€˜tomâ€™;</p><h4 id="2ã€åŒ¹é…æœ€å·¦å‰ç¼€çš„æŸ¥è¯¢"><a href="#2ã€åŒ¹é…æœ€å·¦å‰ç¼€çš„æŸ¥è¯¢" class="headerlink" title="2ã€åŒ¹é…æœ€å·¦å‰ç¼€çš„æŸ¥è¯¢"></a>2ã€åŒ¹é…æœ€å·¦å‰ç¼€çš„æŸ¥è¯¢</h4><p>æ¯”å¦‚ä¸ºï½åˆ—å’Œï½‚åˆ—è®¾ç½®è”åˆç´¢å¼•ï¼Œåªè¦è”åˆç´¢å¼•çš„ç¬¬ä¸€åˆ—ï¼ˆï½åˆ—ï¼‰ç¬¦åˆæŸ¥è¯¢æ¡ä»¶ï¼Œç´¢å¼•å°±ä¼šè¢«ç”¨åˆ°ï¼Œè‹¥åªæ˜¯ç¬¬äºŒåˆ—ï¼ˆï½‚åˆ—ï¼‰ç¬¦åˆæ¡ä»¶åˆ™ä¸ä¼šè¢«ç”¨åˆ°è¯¥ç´¢å¼•ã€‚</p><h4 id="ï¼“ã€åŒ¹é…åˆ—å‰ç¼€çš„æŸ¥è¯¢"><a href="#ï¼“ã€åŒ¹é…åˆ—å‰ç¼€çš„æŸ¥è¯¢" class="headerlink" title="ï¼“ã€åŒ¹é…åˆ—å‰ç¼€çš„æŸ¥è¯¢"></a>ï¼“ã€åŒ¹é…åˆ—å‰ç¼€çš„æŸ¥è¯¢</h4><p>åªåŒ¹é…æŸä¸€åˆ—çš„å€¼çš„å¼€å¤´éƒ¨åˆ†</p><h4 id="4ã€åŒ¹é…èŒƒå›´å€¼"><a href="#4ã€åŒ¹é…èŒƒå›´å€¼" class="headerlink" title="4ã€åŒ¹é…èŒƒå›´å€¼"></a>4ã€åŒ¹é…èŒƒå›´å€¼</h4><h4 id="5ã€ç²¾å‡†åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—"><a href="#5ã€ç²¾å‡†åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—" class="headerlink" title="5ã€ç²¾å‡†åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—"></a>5ã€ç²¾å‡†åŒ¹é…æŸä¸€åˆ—å¹¶èŒƒå›´åŒ¹é…å¦å¤–ä¸€åˆ—</h4><h4 id="6ã€åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢"><a href="#6ã€åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢" class="headerlink" title="6ã€åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢"></a>6ã€åªè®¿é—®ç´¢å¼•çš„æŸ¥è¯¢</h4><p>åœ¨è¿™é‡ŒæŒ‡çš„å°±æ˜¯è¦†ç›–ç´¢å¼•ï¼Œå³åªéœ€è¦è®¿é—®ç´¢å¼•ï¼Œè€Œæ— éœ€è®¿é—®æ•°æ®è¡Œ</p><h4 id="7ã€ç”¨äºæŸ¥è¯¢ä¸­çš„order-by-æ“ä½œ"><a href="#7ã€ç”¨äºæŸ¥è¯¢ä¸­çš„order-by-æ“ä½œ" class="headerlink" title="7ã€ç”¨äºæŸ¥è¯¢ä¸­çš„order by æ“ä½œ"></a>7ã€ç”¨äºæŸ¥è¯¢ä¸­çš„order by æ“ä½œ</h4><p>ç´¢å¼•æ ‘ä¸­çš„èŠ‚ç‚¹æ˜¯æœ‰åºçš„ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè‹¥B-Treeå¯ä»¥æŒ‰ç…§æŸç§æ–¹å¼æŸ¥æ‰¾åˆ°è¯¥å€¼ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹å¼ç”¨äºæ’åºã€‚æ‰€ä»¥ï¼Œå¦‚æœ order by å­å¥ä¸­æ»¡è¶³å‰é¢åˆ—å‡ºçš„å‡ ç§æŸ¥è¯¢ç±»å‹ï¼Œåˆ™è¿™ä¸ªç´¢å¼•ä¹Ÿå¯ä»¥æ»¡è¶³å¯¹åº”çš„æ’åºéœ€æ±‚ã€‚</p><h2 id="B-Treeç´¢å¼•çš„é™åˆ¶"><a href="#B-Treeç´¢å¼•çš„é™åˆ¶" class="headerlink" title="B-Treeç´¢å¼•çš„é™åˆ¶"></a>B-Treeç´¢å¼•çš„é™åˆ¶</h2><h4 id="1ã€-è‹¥ä¸æ˜¯æŒ‰ç…§ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•"><a href="#1ã€-è‹¥ä¸æ˜¯æŒ‰ç…§ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•" class="headerlink" title="1ã€ è‹¥ä¸æ˜¯æŒ‰ç…§ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•"></a>1ã€ è‹¥ä¸æ˜¯æŒ‰ç…§ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹æŸ¥æ‰¾ï¼Œåˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•</h4><p>æ¯”å¦‚å»ºç«‹è”åˆç´¢å¼•ï¼ˆname ã€phone_numï¼‰ï¼Œè‹¥æœç´¢phone_numåˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•</p><h4 id="2ã€ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—"><a href="#2ã€ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—" class="headerlink" title="2ã€ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—"></a>2ã€ä½¿ç”¨ç´¢å¼•æ—¶ï¼Œä¸èƒ½è·³è¿‡ç´¢å¼•ä¸­çš„åˆ—</h4><p>æ¯”å¦‚å»ºç«‹è”åˆç´¢å¼•ï¼ˆname ã€phone_num ã€addrï¼‰ï¼Œè‹¥æœç´¢nameå’Œaddr åˆ™æ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•åªèƒ½ä½¿ç”¨é‚£ä¹ˆè¿‡æ»¤</p><h4 id="3ã€not-in-å’Œ-lt-gt-æ“ä½œæ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•"><a href="#3ã€not-in-å’Œ-lt-gt-æ“ä½œæ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•" class="headerlink" title="3ã€not in å’Œ &lt;&gt; æ“ä½œæ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•"></a>3ã€not in å’Œ &lt;&gt; æ“ä½œæ— æ³•ä½¿ç”¨è¯¥ç´¢å¼•</h4><h4 id="4ã€è‹¥æŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å…¶å³è¾¹çš„æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•"><a href="#4ã€è‹¥æŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å…¶å³è¾¹çš„æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•" class="headerlink" title="4ã€è‹¥æŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å…¶å³è¾¹çš„æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•"></a>4ã€è‹¥æŸ¥è¯¢ä¸­æœ‰æŸä¸ªåˆ—çš„èŒƒå›´æŸ¥è¯¢ï¼Œåˆ™å…¶å³è¾¹çš„æ‰€æœ‰åˆ—éƒ½æ— æ³•ä½¿ç”¨ç´¢å¼•</h4><p>æ³¨æ„ï¼šå­˜å‚¨å¼•æ“ç”¨ä¸åŒçš„æ–¹å¼ä½¿ç”¨B-Treeç´¢å¼•ï¼Œæ€§èƒ½ä¹Ÿå„æœ‰ä¸åŒï¼Œå„æœ‰ä¼˜åŠ£ã€‚ä¾‹å¦‚ï¼ŒMyISAMä½¿ç”¨å‰ç¼€å‹ç¼©çš„æŠ€æœ¯ä½¿å¾—ç´¢å¼•æ›´å°ï¼Œä½†InnoDBåˆ™æŒ‰ç…§åŸæ•°æ®æ ¼å¼è¿›è¡Œå­˜å‚¨ã€‚<br>MyISAMç´¢å¼•é€šè¿‡æ•°æ®çš„ç‰©ç†ä½ç½®å¼•ç”¨è¢«ç´¢å¼•çš„è¡Œï¼Œè€ŒInnoDBåˆ™æ ¹æ®é€æ¸å¼•ç”¨è¢«ç´¢å¼•çš„è¡Œ</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆäº”ï¼‰è”åˆç´¢å¼•</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%BA%94%EF%BC%89%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%BA%94%EF%BC%89%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Mysqlç´¢å¼•å¤§æ¦‚æœ‰äº”ç§ç±»å‹ï¼š</p><p><strong>æ™®é€šç´¢å¼•(INDEX)ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶</strong></p><p><strong>å”¯ä¸€ç´¢å¼•(UNIQUE)ï¼šä¸â€æ™®é€šç´¢å¼•â€ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚</strong></p><p><strong>ä¸»é”®ç´¢å¼•(PRIMARY)ï¼šå®ƒ æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚</strong></p><p><strong>å…¨æ–‡ç´¢å¼•(FULLTEXT )ï¼šå¯ç”¨äº MyISAM è¡¨ï¼Œmysql5.6ä¹‹åä¹Ÿå¯ç”¨äºinnodbè¡¨</strong>ï¼Œ</p><p><strong>ç”¨äºåœ¨ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæ£€ç´¢æ–‡æœ¬ä¿¡æ¯çš„, é’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å’Œç©ºé—´ã€‚</strong></p><p><strong><font size=4>è”åˆï¼ˆç»„åˆï¼‰ç´¢å¼•ï¼šä¸ºäº†æ›´å¤šçš„æé«˜mysqlæ•ˆç‡å¯å»ºç«‹ç»„åˆç´¢å¼•ï¼Œéµå¾ªâ€æœ€å·¦å‰ç¼€â€œåŸåˆ™ã€‚</font></strong></p><hr><p>è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çœ‹è”åˆç´¢å¼•ï¼ˆç»„åˆç´¢å¼•ï¼‰ã€‚</p><p>æ¯”è¾ƒç®€å•çš„æ˜¯å•åˆ—ç´¢å¼•ï¼ˆb+treeï¼‰ã€‚è¿™ä¸ªå°±ä¸åšè§£é‡Šã€‚</p><p>é‡åˆ°å¤šæ¡ä»¶æŸ¥è¯¢æ—¶ï¼Œä¸å¯é¿å…ä¼šä½¿ç”¨åˆ°å¤šåˆ—ç´¢å¼•ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªä¾‹å­æ¥ç†è§£è”åˆç´¢å¼•çš„ä½¿ç”¨æ–¹æ³•ï¼š</p><p>æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œé‡Œè¾¹æœ‰äº”ä¸ªå­—æ®µc1,c2,c3,c4,c5ã€‚è¿™ä¸ªæ•°æ®è¡¨æœ‰ä¸€ä¸ªç»„åˆç´¢å¼•(c1,c2,c3,c4)</p><p>åˆ›å»ºæ•°æ®è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; CREATE TABLE t(</span><br><span class="line">    -&gt; c1 CHAR(1) not null,</span><br><span class="line">    -&gt; c2 CHAR(1) not null,</span><br><span class="line">    -&gt; c3 CHAR(1) not null,</span><br><span class="line">    -&gt; c4 CHAR(1) not null,</span><br><span class="line">    -&gt; c5 CHAR(1) not null</span><br><span class="line">    -&gt; )ENGINE myisam CHARSET UTF8;</span><br><span class="line">Query OK, 0 rows affected (0.09 sec)</span><br></pre></td></tr></table></figure><p>æ·»åŠ è”åˆç´¢å¼•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; alter table t add index c1234(c1,c2,c3,c4);</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)              </span><br><span class="line">Records: 0  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p>æ·»åŠ å‡ æ¡æ•°æ®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MariaDB [test]&gt; insert into t VALUES(&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;,&#x27;1&#x27;),(&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;,&#x27;2&#x27;),(&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;,&#x27;3&#x27;),(&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;,&#x27;4&#x27;),(&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;,&#x27;5&#x27;);</span><br><span class="line">Query OK, 5 rows affected (0.00 sec)</span><br><span class="line">Records: 5  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨MySql Explainå¼€å§‹åˆ†ææˆ‘ä»¬å„ç§æƒ…å†µçš„æŸ¥è¯¢è¯­å¥æ˜¯å¦ç”¨åˆ°äº†è”åˆç´¢å¼•ã€‚ä¸”ç”¨åˆ°äº†è”åˆç´¢å¼•ä¸­çš„é‚£å‡ ä¸ªå…ƒç´ ã€‚</p><h4 id="1ï¼šæ•ˆç‡æœ€é«˜ï¼ŒåŒæ—¶èµ°å››ä¸ªç´¢å¼•"><a href="#1ï¼šæ•ˆç‡æœ€é«˜ï¼ŒåŒæ—¶èµ°å››ä¸ªç´¢å¼•" class="headerlink" title="1ï¼šæ•ˆç‡æœ€é«˜ï¼ŒåŒæ—¶èµ°å››ä¸ªç´¢å¼•"></a>1ï¼šæ•ˆç‡æœ€é«˜ï¼ŒåŒæ—¶èµ°å››ä¸ªç´¢å¼•</h4><p>ï¼ˆ1ï¼‰ï¼šæŒ‰é¡ºåºå†™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 = &#x27;1&#x27; and c2 = &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uX9yV.png" alt="4uX9yV.png"></p><p>ï¼ˆ2ï¼‰ï¼šä¸æŒ‰é¡ºåºå†™ï¼Œç»è¿‡mysqlçš„ä¼˜åŒ–ï¼Œä¹Ÿæ˜¯èµ°å…¨éƒ¨ç´¢å¼•çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where  c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27; and c1 = &#x27;1&#x27; and c2 = &#x27;1&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uXmS1.png" alt="4uXmS1.png"></p><h2 id="2ï¼šæœ€å·¦å‰ç¼€åŸåˆ™"><a href="#2ï¼šæœ€å·¦å‰ç¼€åŸåˆ™" class="headerlink" title="2ï¼šæœ€å·¦å‰ç¼€åŸåˆ™"></a>2ï¼šæœ€å·¦å‰ç¼€åŸåˆ™</h2><p>ï¼ˆ1ï¼‰ï¼šä¸èµ°ç´¢å¼•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c2 = &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uX1Te.png" alt="4uX1Te.png"></p><p>å› ä¸ºç»„åˆç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œè€Œï¼Œæˆ‘ä»¬çš„ç»„åˆç´¢å¼•ç¬¬ä¸€ä¸ªå­—æ®µæ˜¯c1ï¼Œå¦‚æœæˆ‘ä»¬çš„whereæŸ¥è¯¢æ¡ä»¶ä¸­æ²¡æœ‰c1è¿™ä¸ªç­›é€‰æ¡ä»¶ï¼Œé‚£ä¹ˆmysqlé»˜è®¤è®¤ä¸ºæˆ‘ä»¬ä¸å¸Œæœ›é€šè¿‡ç´¢å¼•æŸ¥è¯¢ã€‚</p><p>ï¼ˆ2ï¼‰ï¼šè¦†ç›–éƒ¨åˆ†ç´¢å¼•</p><p><img src="https://z3.ax1x.com/2021/09/17/4uX8FH.png" alt="4uX8FH.png"></p><p>æˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸Šè¾¹ä¸¤æ¬¡æŸ¥è¯¢çš„ç»“æœï¼Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br></pre></td></tr></table></figure><p>åªèµ°äº†C1ç´¢å¼•ï¼Œå› ä¸ºç»„åˆç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™ã€‚</p><p>explain select * from t where c1 &#x3D; â€˜1â€™ and c2 &#x3D; â€˜1â€™;<br>è¿™æ¡æŸ¥è¯¢è¯­å¥èµ°äº†C1å’ŒC2ä¸¤ä¸ªç´¢å¼•ï¼ŒåŒæ ·ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™çš„ç»“æœã€‚</p><p>é€šè¿‡ä¸Šè¾¹çš„å¯¹æ¯”ï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨è”åˆç´¢å¼•çš„æ—¶å€™éœ€è¦æ³¨æ„ç´¢å¼•çš„ä½¿ç”¨é¡ºåºé—®é¢˜ã€‚</p><h4 id="3ï¼šå½“æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰èŒƒå›´æŸ¥è¯¢åŠæ¨¡ç³ŠæŸ¥è¯¢çš„æƒ…å†µ"><a href="#3ï¼šå½“æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰èŒƒå›´æŸ¥è¯¢åŠæ¨¡ç³ŠæŸ¥è¯¢çš„æƒ…å†µ" class="headerlink" title="3ï¼šå½“æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰èŒƒå›´æŸ¥è¯¢åŠæ¨¡ç³ŠæŸ¥è¯¢çš„æƒ…å†µ"></a>3ï¼šå½“æŸ¥è¯¢æ¡ä»¶ä¸­æœ‰èŒƒå›´æŸ¥è¯¢åŠæ¨¡ç³ŠæŸ¥è¯¢çš„æƒ…å†µ</h4><p>ï¼ˆ1ï¼‰ï¼šç¬¬ä¸€ä¸ªå­—æ®µä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 like &#x27;3&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uXtSI.png" alt="4uXtSI.png"></p><p>ï¼ˆ2ï¼‰ï¼šç¬¬ä¸€ä¸ªå­—æ®µä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢å¹¶ä¸”å…¶åè¾¹è¿˜æœ‰æŸ¥è¯¢æ¡ä»¶çš„æ—¶å€™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 like &#x27;3&#x27; and c2 = &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uXglq.png" alt="4uXglq.png"></p><p>ä»ä¸Šè¾¹çš„æŸ¥è¯¢ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œç¬¬ä¸€ä¸ªå­—æ®µä½¿ç”¨æ¨¡ç³ŠæŸ¥è¯¢å¯¹ä¹‹åçš„æŸ¥è¯¢æ¡ä»¶ä½¿ç”¨ç´¢å¼•æ˜¯æ²¡æœ‰å½±å“çš„ã€‚</p><p>ï¼ˆ3ï¼‰ï¼šä½¿ç”¨betweenå…³é”®å­—èŒƒå›´æŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 between &#x27;1&#x27; and &#x27;3&#x27; and c2 = &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4ujeAg.png" alt="4ujeAg.png"></p><p>å…¨ç´¢å¼•åŒ¹é…ã€‚</p><p>ï¼ˆ4ï¼‰ï¼šä½¿ç”¨â€œ&gt;â€â€œ&lt;â€è¿›è¡ŒèŒƒå›´æŸ¥è¯¢</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 &gt; &#x27;3&#x27; and c2 = &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4ujM3n.png" alt="4ujM3n.png"></p><p>ä½¿ç”¨ &gt; &lt; çš„æ—¶å€™ï¼Œä¼šå¯¹ç´¢å¼•äº§ç”Ÿå½±å“ï¼Œé€šè¿‡ä¸Šè¾¹çš„æŸ¥è¯¢ç»“æœæˆ‘ä»¬å¯ä»¥å‘ç°å½“ç¬¬ä¸€ä¸ªå­—æ®µä½¿ç”¨èŒƒå›´æŸ¥è¯¢ä¹‹åï¼Œåè¾¹çš„æ¡ä»¶ä¾¿ä¸ä¼šå†èµ°ç´¢å¼•äº†ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain select * from t where c1 = &#x27;1&#x27; and c2 &gt; &#x27;1&#x27; and c3 = &#x27;1&#x27; and c4 = &#x27;1&#x27;;</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4ujtN4.png" alt="4ujtN4.png"></p><p>è¿™æ¬¡å°±æ˜¯èµ°ä¸¤ä¸ªç´¢å¼•C1å’ŒC2ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆå…­ï¼‰ä¸»é”®ç´¢å¼•</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E5%85%AD%EF%BC%89%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E5%85%AD%EF%BC%89%E4%B8%BB%E9%94%AE%E7%B4%A2%E5%BC%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>Mysqlç´¢å¼•å¤§æ¦‚æœ‰äº”ç§ç±»å‹ï¼š</p><p><strong>æ™®é€šç´¢å¼•(INDEX)ï¼šæœ€åŸºæœ¬çš„ç´¢å¼•ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶</strong></p><p><strong>å”¯ä¸€ç´¢å¼•(UNIQUE)ï¼šä¸â€æ™®é€šç´¢å¼•â€ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚</strong></p><p>**<font size=4><strong>ä¸»é”®ç´¢å¼•(PRIMARY)ï¼šå®ƒ æ˜¯ä¸€ç§ç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼Œä¸å…è®¸æœ‰ç©ºå€¼ã€‚</font></strong></p><p><strong>å…¨æ–‡ç´¢å¼•(FULLTEXT )ï¼šå¯ç”¨äº MyISAM è¡¨ï¼Œmysql5.6ä¹‹åä¹Ÿå¯ç”¨äºinnodbè¡¨</strong>ï¼Œ</p><p><strong>ç”¨äºåœ¨ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæ£€ç´¢æ–‡æœ¬ä¿¡æ¯çš„, é’ˆå¯¹è¾ƒå¤§çš„æ•°æ®ï¼Œç”Ÿæˆå…¨æ–‡ç´¢å¼•å¾ˆè€—æ—¶å’Œç©ºé—´ã€‚</strong></p><p><strong>è”åˆï¼ˆç»„åˆï¼‰ç´¢å¼•ï¼šä¸ºäº†æ›´å¤šçš„æé«˜mysqlæ•ˆç‡å¯å»ºç«‹ç»„åˆç´¢å¼•ï¼Œéµå¾ªâ€æœ€å·¦å‰ç¼€â€œåŸåˆ™ã€‚</strong></p><hr><p>è¿™é‡Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä¸»é”®ç´¢å¼•ï¼ˆç‰¹æ®Šçš„å”¯ä¸€ç´¢å¼•ï¼‰ã€‚</p><p>ä¸»é”®ç´¢å¼•ä¸€èˆ¬å»ºè®®ä½¿ç”¨æ•°æ®è¡¨çš„è‡ªå¢å”¯ä¸€ä¸»é”®æ¥ä½œä¸ºä¸»é”®ç´¢å¼•ä½¿ç”¨ã€‚</p><p>ä¸»é”®ç´¢å¼•ï¼Œç®€ç§°ä¸»é”®ï¼ŒåŸæ–‡æ˜¯PRIMARY KEYï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—ç»„æˆï¼Œç”¨äºå”¯ä¸€æ€§æ ‡è¯†æ•°æ®è¡¨ä¸­çš„æŸä¸€æ¡è®°å½•ã€‚ä¸€ä¸ªè¡¨å¯ä»¥æ²¡æœ‰ä¸»é”®ï¼Œä½†æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œå¹¶ä¸”ä¸»é”®å€¼ä¸èƒ½åŒ…å«NULLã€‚</p><p>åœ¨MySQLä¸­ï¼ŒInnoDBæ•°æ®è¡¨çš„ä¸»é”®è®¾è®¡æˆ‘ä»¬é€šå¸¸éµå¾ªå‡ ä¸ªåŸåˆ™ï¼š</p><p>1ã€é‡‡ç”¨ä¸€ä¸ªæ²¡æœ‰ä¸šåŠ¡ç”¨é€”çš„è‡ªå¢å±æ€§åˆ—ä½œä¸ºä¸»é”®ï¼›<br>2ã€ä¸»é”®å­—æ®µå€¼æ€»æ˜¯ä¸æ›´æ–°ï¼Œåªæœ‰æ–°å¢æˆ–è€…åˆ é™¤ä¸¤ç§æ“ä½œï¼›<br>3ã€ä¸é€‰æ‹©ä¼šåŠ¨æ€æ›´æ–°çš„ç±»å‹ï¼Œæ¯”å¦‚å½“å‰æ—¶é—´æˆ³ç­‰ã€‚</p><p>åœ¨MyISAMå¼•æ“ä¸­ï¼Œå”¯ä¸€ç´¢å¼•é™¤äº†keyå€¼å…è®¸å­˜åœ¨NULLå¤–ï¼Œå…¶ä½™çš„å’Œä¸»é”®ç´¢å¼•æ²¡æœ‰æœ¬è´¨æ€§åŒºåˆ«ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨MyISAMå¼•æ“ä¸­ï¼Œä¸å…è®¸å­˜åœ¨NULLå€¼çš„å”¯ä¸€ç´¢å¼•ï¼Œæœ¬è´¨ä¸Šå’Œä¸»é”®ç´¢å¼•æ˜¯ä¸€å›äº‹ã€‚</p><p>è€Œåœ¨InnoDBå¼•æ“ä¸­ï¼Œä¸»é”®ç´¢å¼•å’Œè¾…åŠ©ç´¢å¼•çš„åŒºåˆ«å°±å¾ˆå¤§äº†ã€‚ä¸»é”®ç´¢å¼•ä¼šè¢«é€‰ä¸­ä½œä¸ºèšé›†ç´¢å¼•ï¼Œè€Œå”¯ä¸€ç´¢å¼•å’Œæ™®é€šè¾…åŠ©ç´¢å¼•é—´é™¤äº†å”¯ä¸€æ€§çº¦æŸå¤–ï¼Œåœ¨å­˜å‚¨ä¸Šæ²¡æœ¬è´¨åŒºåˆ«ã€‚</p><p>ä»æŸ¥è¯¢æ€§èƒ½ä¸Šæ¥è¯´ï¼Œåœ¨MyISAMè¡¨ä¸­ä¸»é”®ç´¢å¼•å’Œä¸å…è®¸æœ‰NULLçš„å”¯ä¸€ç´¢å¼•çš„æŸ¥è¯¢æ€§èƒ½æ˜¯ç›¸å½“çš„ï¼Œåœ¨InnoDBè¡¨é€šè¿‡å”¯ä¸€ç´¢å¼•æŸ¥è¯¢åˆ™éœ€è¦å¤šä¸€æ¬¡ä»è¾…åŠ©ç´¢å¼•åˆ°ä¸»é”®ç´¢å¼•çš„è½¬æ¢è¿‡ç¨‹ã€‚InnoDBè¡¨åŸºäºæ™®é€šç´¢å¼•çš„æŸ¥æ‰¾ä»£ä»·æ›´é«˜ï¼Œå› ä¸ºæ¯æ¬¡æ£€ç´¢åˆ°ç»“æœåï¼Œè¿˜éœ€è¦è‡³å°‘å†å¤šæ£€ç´¢ä¸€æ¬¡æ‰èƒ½ç¡®è®¤æ˜¯å¦è¿˜æœ‰æ›´å¤šç¬¦åˆæ¡ä»¶çš„ç»“æœï¼Œä¸»é”®ç´¢å¼•å’Œå”¯ä¸€ç´¢å¼•å°±ä¸éœ€è¦è¿™ä¹ˆåšäº†ã€‚</p><p>å…³äºä¸»é”®ç´¢å¼•ï¼Œæˆ‘èƒ½æƒ³åˆ°çš„åŸºæœ¬ä¸Šå°±æ˜¯è¿™äº›äº†ã€‚è¿™ä¸ªæ²¡æœ‰sqlçš„éªŒè¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆå››ï¼‰ç´¢å¼•çš„æ•°æ®ç»“æ„HASH</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E5%9B%9B%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84HASH/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E5%9B%9B%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84HASH/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æˆ‘ä»¬å¸¸ç”¨çš„ç´¢å¼•æ•°æ®ç»“æ„æ¯”è¾ƒå¤šçš„æ˜¯B+TREEã€‚</p><p>è¿˜æœ‰å¦ä¸€ç§ç´¢å¼•æ•°æ®ç»“æ„æ˜¯hashï¼Œä½†æ˜¯innoDBã€mysiamæ•°æ®å¼•æ“ä¸æ”¯æŒhashæ•°æ®ç»“æ„ã€‚</p><p>ä¸åŒçš„å­˜å‚¨å¼•æ“æ”¯æŒçš„ç´¢å¼•ç±»å‹ä¹Ÿä¸ä¸€æ ·ï¼š</p><p>InnoDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•ï¼›</p><p>MyISAM ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Hash ç´¢å¼•ï¼›</p><p>Memory ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œæ”¯æŒ B-treeã€Hash ç­‰ç´¢å¼•ï¼Œä¸æ”¯æŒ Full-text ç´¢å¼•ï¼›</p><p>NDB æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡Œçº§åˆ«é”å®šï¼Œæ”¯æŒ Hash ç´¢å¼•ï¼Œä¸æ”¯æŒ B-treeã€Full-text ç­‰ç´¢å¼•ï¼›</p><p>Archive ä¸æ”¯æŒäº‹åŠ¡ï¼Œæ”¯æŒè¡¨çº§åˆ«é”å®šï¼Œä¸æ”¯æŒ B-treeã€Hashã€Full-text ç­‰ç´¢å¼•ï¼›</p><p>è¿™ä¸ªç©æ„ï¼Œmysiamå’Œinnodbæ˜¯ä¸æ”¯æŒçš„ï¼Œæ‰€ä»¥ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ç”¨ä¸ä¸Šäº†è§£å°±å¥½ã€‚</p><h2 id="ä¸€ï¼šhashç®—æ³•å¤æ‚åº¦"><a href="#ä¸€ï¼šhashç®—æ³•å¤æ‚åº¦" class="headerlink" title="ä¸€ï¼šhashç®—æ³•å¤æ‚åº¦"></a>ä¸€ï¼šhashç®—æ³•å¤æ‚åº¦</h2><p>å“ˆå¸Œç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ï¼Œä¸”ä¸åªå­˜åœ¨äºç´¢å¼•ä¸­ï¼Œæ¯ä¸ªæ•°æ®åº“åº”ç”¨ä¸­éƒ½å­˜åœ¨è¯¥æ•°æ®ç»“æ„ã€‚</p><h2 id="äºŒï¼šHASHç´¢å¼•ç‰¹æ€§"><a href="#äºŒï¼šHASHç´¢å¼•ç‰¹æ€§" class="headerlink" title="äºŒï¼šHASHç´¢å¼•ç‰¹æ€§"></a>äºŒï¼šHASHç´¢å¼•ç‰¹æ€§</h2><p>åœ¨MySQLçš„å­˜å‚¨å¼•æ“ä¸­ï¼ŒMyISAMä¸æ”¯æŒå“ˆå¸Œç´¢å¼•ï¼Œè€ŒInnoDBä¸­çš„hashç´¢å¼•æ˜¯å­˜å‚¨å¼•æ“æ ¹æ®B-Treeç´¢å¼•è‡ªå»ºçš„ï¼Œåé¢ä¼šå¯¹å…¶åšå…·ä½“è¯´æ˜ã€‚</p><p>hashç´¢å¼•çš„ç‰¹ç‚¹</p><p><strong>1ã€ hashç´¢å¼•æ˜¯åŸºäºhashè¡¨å®ç°çš„ï¼Œåªæœ‰æŸ¥è¯¢æ¡ä»¶ç²¾ç¡®åŒ¹é…hashç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—çš„æ—¶å€™ï¼Œæ‰èƒ½ç”¨åˆ°hashç´¢å¼•ã€‚</strong></p><p><strong>2ã€ å¯¹äºhashç´¢å¼•ä¸­çš„æ‰€æœ‰åˆ—ï¼Œå­˜å‚¨å¼•æ“éƒ½ä¼šä¸ºæ¯ä¸€è¡Œè®¡ç®—ä¸€ä¸ªhashç ï¼Œhashç´¢å¼•ä¸­å­˜å‚¨çš„å°±æ˜¯hashç ã€‚</strong></p><p><strong>3ã€ hashç´¢å¼•åŒ…æ‹¬é”®å€¼ã€hashç å’ŒæŒ‡é’ˆ ã€‚</strong></p><p>å› ä¸ºhashç´¢å¼•æœ¬èº«åªéœ€è¦å­˜å‚¨å¯¹åº”çš„hashå€¼ï¼Œæ‰€ä»¥ç´¢å¼•çš„ç»“æ„ååˆ†ç´§å‡‘ï¼Œè¿™ä¹Ÿè®©hashç´¢å¼•æŸ¥æ‰¾çš„é€Ÿåº¦éå¸¸å¿«ã€‚ç„¶è€Œï¼Œhashç´¢å¼•ä¹Ÿæ˜¯å­˜åœ¨å…¶é™åˆ¶çš„ï¼š</p><h2 id="ä¸‰ï¼šhashç´¢å¼•çš„é™åˆ¶"><a href="#ä¸‰ï¼šhashç´¢å¼•çš„é™åˆ¶" class="headerlink" title="ä¸‰ï¼šhashç´¢å¼•çš„é™åˆ¶"></a>ä¸‰ï¼šhashç´¢å¼•çš„é™åˆ¶</h2><p><strong>1ã€ Hashç´¢å¼•å¿…é¡»è¿›è¡ŒäºŒæ¬¡æŸ¥æ‰¾</strong></p><p>ä½¿ç”¨å“ˆå¸‚ç´¢å¼•ä¸¤æ¬¡æŸ¥æ‰¾ï¼Œç¬¬ä¸€æ¬¡æ‰¾åˆ°ç›¸åº”çš„è¡Œï¼Œç¬¬äºŒæ¬¡è¯»å–æ•°æ®ï¼Œä½†æ˜¯è¢«é¢‘ç¹è®¿é—®åˆ°çš„è¡Œä¸€èˆ¬ä¼šç¼“å­˜åœ¨å†…å­˜ä¸­ï¼Œè¿™ç‚¹å¯¹æ•°æ®åº“æ€§èƒ½çš„å½±å“ä¸å¤§ã€‚<br>ã€€ã€€<br><strong>2ã€hashç´¢å¼•ä¸èƒ½ç”¨äºå¤–æ’åº</strong><br>hashç´¢å¼•å­˜å‚¨çš„æ˜¯hashç è€Œä¸æ˜¯é”®å€¼ï¼Œæ‰€ä»¥æ— æ³•ç”¨äºå¤–æ’åº<br>ã€€ã€€<br><strong>3ã€hashç´¢å¼•ä¸æ”¯æŒéƒ¨åˆ†ç´¢å¼•æŸ¥æ‰¾ä¹Ÿä¸æ”¯æŒèŒƒå›´æŸ¥æ‰¾</strong></p><p>åªèƒ½ç”¨åˆ°ç­‰å€¼æŸ¥è¯¢ï¼Œä¸èƒ½èŒƒå›´å’Œæ¨¡ç³ŠæŸ¥è¯¢<br>ã€€ã€€<br><strong>4ã€hashç´¢å¼•ä¸­çš„hashç çš„è®¡ç®—å¯èƒ½å­˜åœ¨hashå†²çª</strong></p><p>å½“å‡ºç°hashå†²çªçš„æ—¶å€™ï¼Œå­˜å‚¨å¼•æ“å¿…é¡»éå†æ•´ä¸ªé“¾è¡¨ä¸­çš„æ‰€æœ‰è¡ŒæŒ‡é’ˆï¼Œé€è¡Œæ¯”è¾ƒï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æœ‰çš„ç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œè‹¥hashå†²çªå¾ˆå¤šçš„è¯ï¼Œä¸€äº›ç´¢å¼•çš„ç»´æŠ¤ä»£ä»·æœºä¼šå¾ˆé«˜ï¼Œæ‰€ä»¥è¯´hashç´¢å¼•ä¸é€‚ç”¨äºé€‰æ‹©æ€§å¾ˆå·®çš„åˆ—ä¸Šï¼ˆé‡å¤å€¼å¾ˆå¤šï¼‰ã€‚å§“åã€æ€§åˆ«ã€èº«ä»½è¯ï¼ˆåˆé€‚ï¼‰</p><p>ä¸Šé¢è¯´åˆ°InnoDBçš„â€œè‡ªé€‚åº”hashç´¢å¼•â€ã€‚å°±æ˜¯å½“InnoDBæ³¨æ„åˆ°æŸäº›ç´¢å¼•å€¼è¢«ä½¿ç”¨çš„éå¸¸é¢‘ç¹æ—¶ï¼Œå®ƒä¼šåœ¨å†…å­˜ä¸­åŸºäºB-Treeç´¢å¼•ä¸Šåœ¨åˆ›å»ºä¸€ä¸ªhashç´¢å¼•ï¼Œè¿™æ ·å°±è®©B-treeç´¢å¼•ä¹Ÿå…·æœ‰hashç´¢å¼•çš„ä¸€äº›ä¼˜ç‚¹ã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨è‡ªåŠ¨çš„å†…éƒ¨çš„è¡Œä¸ºï¼Œç”¨æˆ·æ— æ³•æ§åˆ¶æˆ–é…ç½®ï¼Œä¸è¿‡ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œå®Œå…¨å¯ä»¥å…³é—­è¯¥åŠŸèƒ½ã€‚</p><h2 id="å››ï¼šåˆ›å»ºè‡ªå®šä¹‰hashç´¢å¼•"><a href="#å››ï¼šåˆ›å»ºè‡ªå®šä¹‰hashç´¢å¼•" class="headerlink" title="å››ï¼šåˆ›å»ºè‡ªå®šä¹‰hashç´¢å¼•"></a>å››ï¼šåˆ›å»ºè‡ªå®šä¹‰hashç´¢å¼•</h2><p>è‹¥å­˜å‚¨å¼•æ“ä¸æ”¯æŒhashç´¢å¼•ï¼Œåˆæƒ³æ‹¥æœ‰hashç´¢å¼•æ‰€å¸¦æ¥çš„æ€§èƒ½æå‡ï¼Œåˆ™å¯ä»¥æ¨¡æ‹ŸInnoDBä¸€æ ·åˆ›å»ºå“ˆå¸Œç´¢å¼•ã€‚</p><p>æ€è·¯ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯åœ¨B-treeåŸºç¡€ä¸Šåˆ›å»ºä¸€ä¸ªä¼ªå“ˆå¸Œç´¢å¼•ã€‚è¿™å’ŒçœŸæ­£çš„hashç´¢å¼•ä¸æ˜¯ä¸€å›äº‹ï¼Œå› ä¸ºè¿˜æ˜¯é‡‡ç”¨B-Treeè¿›è¡ŒæŸ¥æ‰¾ï¼Œä½†æ˜¯å®ƒä½¿ç”¨çš„æ˜¯hashå€¼è€Œä¸æ˜¯é”®æœ¬èº«è¿›è¡ŒæŸ¥æ‰¾ã€‚åªéœ€è¦åœ¨æŸ¥è¯¢çš„whereå­å¥ä¸­æ‰‹åŠ¨æŒ‡å®šä½¿ç”¨hashå‡½æ•°å³å¯ã€‚ä¸‹é¢ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><p>æ¯”å¦‚ï¼šå½“æˆ‘ä»¬éœ€è¦å­˜å‚¨å¤§é‡çš„URLï¼Œå¹¶éœ€è¦æ ¹æ®URLè¿›è¡Œæœç´¢æŸ¥æ‰¾ã€‚è‹¥ç”¨B-Treeæ¥å­˜å‚¨URLï¼Œå­˜å‚¨çš„å†…å®¹å°±ä¼šå¾ˆå¤§ã€‚æ­¤æ—¶çš„æŸ¥è¯¢è¯­å¥å°±æ˜¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select id from url where url = &quot;www.baidu.com&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è‹¥åˆ é™¤åŸæ¥çš„urlåˆ—ä¸Šçš„ç´¢å¼•ï¼Œè€Œæ–°å¢ä¸€ä¸ªè¢«ç´¢å¼•çš„url_crcåˆ—ï¼Œä½¿ç”¨crc32åšhashå‡½æ•°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æŸ¥è¯¢ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select id from url where url = &quot;www.baidu.com&quot; and url_crc=CRC32(&quot;www.baidu.com&quot;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·åšçš„è¯ï¼Œæ€§èƒ½å°±ä¼šæœ‰å¾ˆå¤§æå‡ï¼Œå› ä¸ºmysqlä¼˜åŒ–å™¨ä¼šä½¿ç”¨è¿™ä¸ªé€‰æ‹©æ€§é«˜è€Œä½“ç§¯å¾ˆå°çš„åŸºäºurl_crcåˆ—çš„å¤šéŸ³æ¥å®ŒæˆæŸ¥æ‰¾ã€‚å³ä½¿æœ‰å¤šä¸ªè®°å½•ç›¸åŒçš„ç´¢å¼•å€¼ï¼ŒæŸ¥æ‰¾ä»ç„¶å¾ˆå¿«ï¼Œåªéœ€è¦æ ¹æ®hashå€¼åšå¿«é€Ÿçš„æ•´æ•°æ¯”è¾ƒå°±èƒ½æ‰¾åˆ°ç´¢å¼•æ¡ç›®ï¼Œç„¶åä¸€ä¸€è¿”å›å¯¹åº”çš„è¡Œã€‚</p><h2 id="äº”ï¼šHashç¼ºç‚¹"><a href="#äº”ï¼šHashç¼ºç‚¹" class="headerlink" title="äº”ï¼šHashç¼ºç‚¹"></a>äº”ï¼šHashç¼ºç‚¹</h2><p><strong>1ã€éœ€è¦ç»´æŠ¤hashå€¼ï¼Œå¯ä»¥æ‰‹åŠ¨ç»´æŠ¤ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è§¦å‘å™¨å®ç°ã€‚</strong><br><br><strong>2ã€è‹¥æ•°æ®è¡¨éå¸¸å¤§çš„è¯ï¼ŒCRC32ï¼ˆï¼‰ä¼šå‡ºç°å¤§é‡hashå†²çªï¼Œåˆ™å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ª64ä½çš„hashå‡½æ•°ï¼Œè¿™ä¸ªè‡ªå®šä¹‰çš„hashå‡½æ•°è¦è¿”å›æ•´æ•°è€Œä¸æ˜¯å­—ç¬¦ä¸²ï¼Œå› ä¸ºèŒƒå›´æ•´æ•°ï¼Œå¯¹æ­¤æ•ˆç‡æ›´é«˜ã€‚ä¸€ä¸ªç®€å•çš„åŠæ³•å°±æ˜¯ä½¿ç”¨MD5ï¼ˆï¼‰å‡½æ•°è¿”å›å€¼çš„ä¸€éƒ¨åˆ†æ¥ä½œä¸ºè‡ªå®šä¹‰çš„hashå‡½æ•°ã€‚ä½†æ˜¯è¿™å¯èƒ½æ¯”è‡ªå·±å†™ä¸€ä¸ªhashç®—æ³•æ€§èƒ½è¦å·®ä¸€äº›ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlç´¢å¼•ï¼ˆä¸€ï¼‰ç´¢å¼•çš„åŸç†</title>
      <link href="/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%80%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86/"/>
      <url>/2021/09/17/MySQL/Mysql%E7%B4%A2%E5%BC%95/mysql%E7%B4%A2%E5%BC%95%EF%BC%88%E4%B8%80%EF%BC%89%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>ä¹‹å‰åœ¨å­¦ä¹ mysqlçš„æ—¶å€™ï¼Œå¯¹ç´¢å¼•æœ‰äº†åˆæ­¥çš„äº†è§£ã€‚</p><p>ä½†æ˜¯ï¼Œäº†è§£çš„ä¸æ˜¯å¾ˆé€ï¼Œæ¯”å¦‚è¯´ï¼Œå½“æ—¶æˆ‘å°±ä¸çŸ¥é“ï¼Œç´¢å¼•å…¶å®æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ã€‚</p><h2 id="ä¸€ï¼šç´¢å¼•ä»‹ç»"><a href="#ä¸€ï¼šç´¢å¼•ä»‹ç»" class="headerlink" title="ä¸€ï¼šç´¢å¼•ä»‹ç»"></a>ä¸€ï¼šç´¢å¼•ä»‹ç»</h2><h4 id="1ï¼šä¸ºä½•è¦æœ‰ç´¢å¼•"><a href="#1ï¼šä¸ºä½•è¦æœ‰ç´¢å¼•" class="headerlink" title="1ï¼šä¸ºä½•è¦æœ‰ç´¢å¼•?"></a>1ï¼šä¸ºä½•è¦æœ‰ç´¢å¼•?</h4><p>ä¸€èˆ¬çš„åº”ç”¨ç³»ç»Ÿï¼Œè¯»å†™æ¯”ä¾‹åœ¨10:1å·¦å³ï¼Œè€Œä¸”æ’å…¥æ“ä½œå’Œä¸€èˆ¬çš„æ›´æ–°æ“ä½œå¾ˆå°‘å‡ºç°æ€§èƒ½é—®é¢˜ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬é‡åˆ°æœ€å¤šçš„ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé—®é¢˜çš„ï¼Œè¿˜æ˜¯ä¸€äº›å¤æ‚çš„æŸ¥è¯¢æ“ä½œï¼Œå› æ­¤å¯¹æŸ¥è¯¢è¯­å¥çš„ä¼˜åŒ–æ˜¾ç„¶æ˜¯é‡ä¸­ä¹‹é‡ã€‚è¯´èµ·åŠ é€ŸæŸ¥è¯¢ï¼Œå°±ä¸å¾—ä¸æåˆ°ç´¢å¼•äº†ã€‚</p><h4 id="2ï¼šä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ"><a href="#2ï¼šä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ" class="headerlink" title="2ï¼šä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ"></a>2ï¼šä»€ä¹ˆæ˜¯ç´¢å¼•ï¼Ÿ</h4><p>ç´¢å¼•åœ¨MySQLä¸­ä¹Ÿå«åšâ€œé”®â€æˆ–è€…â€keyâ€ï¼ˆprimary keyï¼Œunique keyï¼Œè¿˜æœ‰ä¸€ä¸ªindex keyï¼‰ï¼Œæ˜¯å­˜å‚¨å¼•æ“ç”¨äºå¿«é€Ÿæ‰¾åˆ°è®°å½•çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚ç´¢å¼•å¯¹äºè‰¯å¥½çš„æ€§èƒ½éå¸¸å…³é”®ï¼Œå°¤å…¶æ˜¯å½“è¡¨ä¸­çš„æ•°æ®é‡è¶Šæ¥è¶Šå¤§æ—¶ï¼Œç´¢å¼•å¯¹äºæ€§èƒ½çš„å½±å“æ„ˆå‘é‡è¦ï¼Œå‡å°‘ioæ¬¡æ•°ï¼ŒåŠ é€ŸæŸ¥è¯¢ã€‚ï¼ˆå…¶ä¸­primary keyå’Œunique keyï¼Œé™¤äº†æœ‰åŠ é€ŸæŸ¥è¯¢çš„æ•ˆæœä¹‹å¤–ï¼Œè¿˜æœ‰çº¦æŸçš„æ•ˆæœï¼Œprimary key ä¸ä¸ºç©ºä¸”å”¯ä¸€ï¼Œunique key å”¯ä¸€ï¼Œè€Œindex keyåªæœ‰åŠ é€ŸæŸ¥è¯¢çš„æ•ˆæœï¼Œæ²¡æœ‰çº¦æŸæ•ˆæœï¼‰</p><p>ç´¢å¼•ä¼˜åŒ–åº”è¯¥æ˜¯å¯¹æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–æœ€æœ‰æ•ˆçš„æ‰‹æ®µäº†ã€‚ç´¢å¼•èƒ½å¤Ÿè½»æ˜“å°†æŸ¥è¯¢æ€§èƒ½æé«˜å¥½å‡ ä¸ªæ•°é‡çº§ã€‚<br>ç´¢å¼•ç›¸å½“äºå­—å…¸çš„éŸ³åºè¡¨ï¼Œå¦‚æœè¦æŸ¥æŸä¸ªå­—ï¼Œå¦‚æœä¸ä½¿ç”¨éŸ³åºè¡¨ï¼Œåˆ™éœ€è¦ä»å‡ ç™¾é¡µä¸­é€é¡µå»æŸ¥ã€‚</p><p>å¼ºè°ƒï¼šä¸€æ—¦ä¸ºè¡¨åˆ›å»ºäº†ç´¢å¼•ï¼Œä»¥åçš„æŸ¥è¯¢æœ€å¥½å…ˆæŸ¥ç´¢å¼•ï¼Œå†æ ¹æ®ç´¢å¼•å®šä½çš„ç»“æœå»æ‰¾æ•°æ®</p><h4 id="3ï¼šå¯¹ç´¢å¼•çš„è¯¯è§£"><a href="#3ï¼šå¯¹ç´¢å¼•çš„è¯¯è§£" class="headerlink" title="3ï¼šå¯¹ç´¢å¼•çš„è¯¯è§£"></a>3ï¼šå¯¹ç´¢å¼•çš„è¯¯è§£</h4><p><strong>ï¼ˆ1ï¼‰ï¼šç´¢å¼•æ—¶ä¸å¿…è¶Šå¤šè¶Šå¥½ï¼Œæ·»åŠ ç´¢å¼•å¯¹æŸ¥è¯¢ä¼šæé«˜é€Ÿåº¦ï¼Œå¯¹å†™å…¥åŠåˆ é™¤ä¼šè¾ƒä½æ•ˆç‡ã€‚å› æ­¤éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆ›å»ºç´¢å¼•çš„å¹³è¡¡ç‚¹</strong></p><p><strong>ï¼ˆ2ï¼‰ï¼šç´¢å¼•å¤ªå¤šï¼Œä¼šå½±å“ç£ç›˜çš„ä½¿ç”¨ç‡ï¼Œå°½é‡åˆ é™¤ä¸€äº›ä¸å¿…è¦çš„ç´¢å¼•ã€‚</strong></p><h2 id="äºŒï¼šç´¢å¼•çš„åŸç†"><a href="#äºŒï¼šç´¢å¼•çš„åŸç†" class="headerlink" title="äºŒï¼šç´¢å¼•çš„åŸç†"></a>äºŒï¼šç´¢å¼•çš„åŸç†</h2><h4 id="1ï¼šç´¢å¼•çš„åŸç†"><a href="#1ï¼šç´¢å¼•çš„åŸç†" class="headerlink" title="1ï¼šç´¢å¼•çš„åŸç†"></a>1ï¼šç´¢å¼•çš„åŸç†</h4><p>ç´¢å¼•å°±ç›¸å½“äºæ˜¯ä¸€æœ¬å­—å…¸çš„æŸ¥æ‰¾ç›®å½•ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®æ‹¼éŸ³æŸ¥æ‰¾ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®åæ—éƒ¨é¦–ä¹‹ç±»çš„æŸ¥æ‰¾ã€‚</p><p>ä¸‹é¢å†…å®¹çœ‹ä¸æ‡‚çš„åŒå­¦ä¹Ÿæ²¡å…³ç³»ï¼Œèƒ½æ˜ç™½ä¸Šè¾¹è¿™ä¸ªç›®å½•çš„é“ç†å°±è¡Œäº†ã€‚ é‚£ä¹ˆä½ æƒ³ï¼Œä¹¦çš„ç›®å½•å ä¸å é¡µæ•°ï¼Œè¿™ä¸ªé¡µæ˜¯ä¸æ˜¯ä¹Ÿè¦å­˜åˆ°ç¡¬ç›˜é‡Œé¢ï¼Œä¹Ÿå ç”¨ç¡¬ç›˜ç©ºé—´ã€‚ä½ å†æƒ³ï¼Œä½ åœ¨æ²¡æœ‰æ•°æ®çš„æƒ…å†µä¸‹å…ˆå»ºç´¢å¼•æˆ–è€…è¯´ç›®å½•å¿«ï¼Œè¿˜æ˜¯å·²ç»å­˜åœ¨å¥½å¤šçš„æ•°æ®äº†ï¼Œç„¶åå†å»å»ºç´¢å¼•ï¼Œå“ªä¸ªå¿«ï¼Œè‚¯å®šæ˜¯æ²¡æœ‰æ•°æ®çš„æ—¶å€™å¿«ã€‚</p><p>å› ä¸ºå¦‚æœå·²ç»æœ‰äº†å¾ˆå¤šæ•°æ®äº†ï¼Œä½ å†å»æ ¹æ®è¿™äº›æ•°æ®å»ºç´¢å¼•ï¼Œæ˜¯ä¸æ˜¯è¦å°†æ•°æ®å…¨éƒ¨éå†ä¸€éï¼Œç„¶åæ ¹æ®æ•°æ®å»ºç«‹ç´¢å¼•ã€‚ä½ å†æƒ³ï¼Œç´¢å¼•å»ºç«‹å¥½ä¹‹åå†æ·»åŠ æ•°æ®å¿«ï¼Œè¿˜æ˜¯æ²¡æœ‰ç´¢å¼•çš„æ—¶å€™æ·»åŠ æ•°æ®å¿«ï¼Œç´¢å¼•æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„ï¼Œæ˜¯ç”¨æ¥åŠ é€ŸæŸ¥è¯¢çš„ï¼Œé‚£å¯¹ä½ å†™å…¥æ•°æ®ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Œè‚¯å®šæ˜¯æ…¢ä¸€äº›äº†ï¼Œå› ä¸ºä½ ä½†å‡¡åŠ å…¥ä¸€äº›æ–°çš„æ•°æ®ï¼Œéƒ½éœ€è¦æŠŠç´¢å¼•æˆ–è€…è¯´ä¹¦çš„ç›®å½•é‡æ–°åšä¸€ä¸ªï¼Œæ‰€ä»¥ç´¢å¼•è™½ç„¶ä¼šåŠ å¿«æŸ¥è¯¢ï¼Œä½†æ˜¯ä¼šé™ä½å†™å…¥çš„æ•ˆç‡ã€‚</p><h4 id="2ï¼šç´¢å¼•çš„å½±å“"><a href="#2ï¼šç´¢å¼•çš„å½±å“" class="headerlink" title="2ï¼šç´¢å¼•çš„å½±å“"></a>2ï¼šç´¢å¼•çš„å½±å“</h4><p><strong>1ã€åœ¨è¡¨ä¸­æœ‰å¤§é‡æ•°æ®çš„å‰æä¸‹ï¼Œåˆ›å»ºç´¢å¼•é€Ÿåº¦ä¼šå¾ˆæ…¢</strong></p><p><strong>2ã€åœ¨ç´¢å¼•åˆ›å»ºå®Œæ¯•åï¼Œå¯¹è¡¨çš„æŸ¥è¯¢æ€§èƒ½ä¼šå‘å¹…åº¦æå‡ï¼Œä½†æ˜¯å†™æ€§èƒ½ä¼šé™ä½</strong></p><p>æœ¬è´¨éƒ½æ˜¯ï¼šé€šè¿‡ä¸æ–­åœ°ç¼©å°æƒ³è¦è·å–æ•°æ®çš„èŒƒå›´æ¥ç­›é€‰å‡ºæœ€ç»ˆæƒ³è¦çš„ç»“æœï¼ŒåŒæ—¶æŠŠéšæœºçš„äº‹ä»¶å˜æˆé¡ºåºçš„äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ‰äº†è¿™ç§ç´¢å¼•æœºåˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æ€»æ˜¯ç”¨åŒä¸€ç§æŸ¥æ‰¾æ–¹å¼æ¥é”å®šæ•°æ®ã€‚</p><p>è¿™é‡Œå¤§æ¦‚è§£é‡Šä¸€ä¸‹ï¼š</p><p>æ•°æ®åº“ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½†æ˜¾ç„¶è¦å¤æ‚çš„å¤šï¼Œå› ä¸ºä¸ä»…é¢ä¸´ç€ç­‰å€¼æŸ¥è¯¢ï¼Œè¿˜æœ‰èŒƒå›´æŸ¥è¯¢(&gt;ã€&lt;ã€betweenã€in)ã€æ¨¡ç³ŠæŸ¥è¯¢(like)ã€å¹¶é›†æŸ¥è¯¢(or)ç­‰ç­‰ã€‚</p><p>æ•°æ®åº“åº”è¯¥é€‰æ‹©æ€ä¹ˆæ ·çš„æ–¹å¼æ¥åº”å¯¹æ‰€æœ‰çš„é—®é¢˜å‘¢ï¼Ÿæˆ‘ä»¬å›æƒ³å­—å…¸çš„ä¾‹å­ï¼Œèƒ½ä¸èƒ½æŠŠæ•°æ®åˆ†æˆæ®µï¼Œç„¶ååˆ†æ®µæŸ¥è¯¢å‘¢ï¼Ÿæœ€ç®€å•çš„å¦‚æœ1000æ¡æ•°æ®ï¼Œ1åˆ°100åˆ†æˆç¬¬ä¸€æ®µï¼Œ101åˆ°200åˆ†æˆç¬¬äºŒæ®µï¼Œ201åˆ°300åˆ†æˆç¬¬ä¸‰æ®µâ€¦è¿™æ ·æŸ¥ç¬¬250æ¡æ•°æ®ï¼Œåªè¦æ‰¾ç¬¬ä¸‰æ®µå°±å¯ä»¥äº†ï¼Œä¸€ä¸‹å­å»é™¤äº†90%çš„æ— æ•ˆæ•°æ®ã€‚</p><p>ä½†å¦‚æœæ˜¯1åƒä¸‡çš„è®°å½•å‘¢ï¼Œåˆ†æˆå‡ æ®µæ¯”è¾ƒå¥½ï¼Ÿç¨æœ‰ç®—æ³•åŸºç¡€çš„åŒå­¦ä¼šæƒ³åˆ°æœç´¢æ ‘ï¼Œå…¶å¹³å‡å¤æ‚åº¦æ˜¯lgNï¼Œå…·æœ‰ä¸é”™çš„æŸ¥è¯¢æ€§èƒ½ã€‚ä½†è¿™é‡Œæˆ‘ä»¬å¿½ç•¥äº†ä¸€ä¸ªå…³é”®çš„é—®é¢˜ï¼Œå¤æ‚åº¦æ¨¡å‹æ˜¯åŸºäºæ¯æ¬¡ç›¸åŒçš„æ“ä½œæˆæœ¬æ¥è€ƒè™‘çš„ã€‚</p><p>è€Œæ•°æ®åº“å®ç°æ¯”è¾ƒå¤æ‚ï¼Œä¸€æ–¹é¢æ•°æ®æ˜¯ä¿å­˜åœ¨ç£ç›˜ä¸Šçš„ï¼Œå¦å¤–ä¸€æ–¹é¢ä¸ºäº†æé«˜æ€§èƒ½ï¼Œæ¯æ¬¡åˆå¯ä»¥æŠŠéƒ¨åˆ†æ•°æ®è¯»å…¥å†…å­˜æ¥è®¡ç®—ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“è®¿é—®ç£ç›˜çš„æˆæœ¬å¤§æ¦‚æ˜¯è®¿é—®å†…å­˜çš„åä¸‡å€å·¦å³ï¼Œæ‰€ä»¥ç®€å•çš„æœç´¢æ ‘éš¾ä»¥æ»¡è¶³å¤æ‚çš„åº”ç”¨åœºæ™¯ã€‚</p><h4 id="3ï¼šç£ç›˜IOè¯»å–"><a href="#3ï¼šç£ç›˜IOè¯»å–" class="headerlink" title="3ï¼šç£ç›˜IOè¯»å–"></a>3ï¼šç£ç›˜IOè¯»å–</h4><p>è¿™ä¸ªæ¶‰åŠåˆ°éƒ¨åˆ†ç¡¬ä»¶çš„åŸç†ï¼Œè¿™ä¸ªä¸äº†è§£æ— æ‰€è°“ï¼Œåªéœ€è¦çŸ¥é“ï¼Œç£ç›˜I&#x2F;Oæ˜¯å¾ˆè€—è´¹èµ„æºå’Œæ—¶é—´çš„ï¼Œè€Œä¸”ç£ç›˜I&#x2F;Oæ˜¯æœ‰ç“¶é¢ˆçš„ã€‚</p><p>è€ƒè™‘åˆ°ç£ç›˜IOæ˜¯éå¸¸é«˜æ˜‚çš„æ“ä½œï¼Œè®¡ç®—æœºæ“ä½œç³»ç»Ÿåšäº†ä¸€äº›ä¼˜åŒ–ï¼Œå½“ä¸€æ¬¡IOæ—¶ï¼Œä¸å…‰æŠŠå½“å‰ç£ç›˜åœ°å€çš„æ•°æ®ï¼Œè€Œæ˜¯æŠŠç›¸é‚»çš„æ•°æ®ä¹Ÿéƒ½è¯»å–åˆ°å†…å­˜ç¼“å†²åŒºå†…ï¼Œå› ä¸ºå±€éƒ¨é¢„è¯»æ€§åŸç†å‘Šè¯‰æˆ‘ä»¬ï¼Œå½“è®¡ç®—æœºè®¿é—®ä¸€ä¸ªåœ°å€çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸å…¶ç›¸é‚»çš„æ•°æ®ä¹Ÿä¼šå¾ˆå¿«è¢«è®¿é—®åˆ°ã€‚æ¯ä¸€æ¬¡IOè¯»å–çš„æ•°æ®æˆ‘ä»¬ç§°ä¹‹ä¸ºä¸€é¡µ(page)ã€‚</p><p>å…·ä½“ä¸€é¡µæœ‰å¤šå¤§æ•°æ®è·Ÿæ“ä½œç³»ç»Ÿæœ‰å…³ï¼Œä¸€èˆ¬ä¸º4kæˆ–8kï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯»å–ä¸€é¡µå†…çš„æ•°æ®æ—¶å€™ï¼Œå®é™…ä¸Šæ‰å‘ç”Ÿäº†ä¸€æ¬¡IOï¼Œè¿™ä¸ªç†è®ºå¯¹äºç´¢å¼•çš„æ•°æ®ç»“æ„è®¾è®¡éå¸¸æœ‰å¸®åŠ©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-Mysqlç´¢å¼• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>replace intoç”¨æ³•</title>
      <link href="/2021/09/17/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/replace%20into%E7%94%A8%E6%B3%95/"/>
      <url>/2021/09/17/MySQL/SQL%E8%AF%AD%E5%8F%A5/%E6%8F%92%E5%85%A5/replace%20into%E7%94%A8%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h1><h4 id="ç›¸åŒ"><a href="#ç›¸åŒ" class="headerlink" title="ç›¸åŒ"></a>ç›¸åŒ</h4><ul><li>replace into è·Ÿ insert åŠŸèƒ½ç±»ä¼¼<h4 id="ä¸åŒ"><a href="#ä¸åŒ" class="headerlink" title="ä¸åŒ"></a>ä¸åŒ</h4></li><li><strong>replace into é¦–å…ˆå°è¯•æ’å…¥æ•°æ®åˆ°è¡¨ä¸­ï¼å¦‚æœå‘ç°è¡¨ä¸­å·²ç»æœ‰æ­¤è¡Œæ•°æ®ï¼ˆæ ¹æ®ä¸»é”®æˆ–è€…å”¯ä¸€ç´¢å¼•åˆ¤æ–­ï¼‰åˆ™å…ˆåˆ é™¤æ­¤è¡Œæ•°æ®ï¼Œç„¶åæ’å…¥æ–°çš„æ•°æ®å¦åˆ™ï¼Œç›´æ¥æ’å…¥æ–°æ•°æ®ã€‚</strong></li></ul><p><font color=red>è¦æ³¨æ„çš„æ˜¯ï¼šæ’å…¥æ•°æ®çš„è¡¨å¿…é¡»æœ‰ä¸»é”®æˆ–è€…æ˜¯å”¯ä¸€ç´¢å¼•ï¼å¦åˆ™çš„è¯ï¼Œreplace into ä¼šç›´æ¥æ’å…¥æ•°æ®ï¼Œè¿™å°†å¯¼è‡´è¡¨ä¸­å‡ºç°é‡å¤çš„æ•°æ®ã€‚</font></p><hr><h1 id="replace-into-çš„ä¸‰ç§å½¢å¼ï¼š"><a href="#replace-into-çš„ä¸‰ç§å½¢å¼ï¼š" class="headerlink" title="replace into çš„ä¸‰ç§å½¢å¼ï¼š"></a>replace into çš„ä¸‰ç§å½¢å¼ï¼š</h1><h2 id="ç¬¬ä¸€ç§"><a href="#ç¬¬ä¸€ç§" class="headerlink" title="ç¬¬ä¸€ç§"></a>ç¬¬ä¸€ç§</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replace into tbl_name(col_name, ...) values(...)</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ç§å½¢å¼ç±»ä¼¼äºinsert intoçš„ç”¨æ³•</p><h2 id="ç¬¬äºŒç§"><a href="#ç¬¬äºŒç§" class="headerlink" title="ç¬¬äºŒç§"></a>ç¬¬äºŒç§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replace into tbl_name(col_name, ...) select ...</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒç§replace selectçš„ç”¨æ³•ä¹Ÿç±»ä¼¼äºinsert selectï¼Œè¿™ç§ç”¨æ³•å¹¶ä¸ä¸€å®šè¦æ±‚åˆ—ååŒ¹é…ï¼Œäº‹å®ä¸Šï¼ŒMYSQLç”šè‡³ä¸å…³å¿ƒselectè¿”å›çš„åˆ—åï¼Œå®ƒéœ€è¦çš„æ˜¯åˆ—çš„ä½ç½®ã€‚ä¾‹å¦‚ï¼Œreplace into tb1( name, title, mood) select rname, rtitle, rmood from tb2;?è¿™ä¸ªä¾‹å­ä½¿ç”¨replace intoä»?tb2ä¸­å°†æ‰€æœ‰æ•°æ®å¯¼å…¥tb1ä¸­ã€‚</p><h2 id="ç¬¬ä¸‰ç§"><a href="#ç¬¬ä¸‰ç§" class="headerlink" title="ç¬¬ä¸‰ç§"></a>ç¬¬ä¸‰ç§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">replace into tbl_name <span class="built_in">set</span> col_name=value, ...**</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸‰ç§replace setç”¨æ³•ç±»ä¼¼äºupdate setç”¨æ³•ï¼Œä½¿ç”¨ä¸€ä¸ªä¾‹å¦‚â€œSET col_name &#x3D; col_name + 1â€çš„èµ‹å€¼ï¼Œåˆ™å¯¹ä½äºå³ä¾§çš„åˆ—åç§°çš„å¼•ç”¨ä¼šè¢«ä½œä¸ºDEFAULT(col_name)å¤„ç†ã€‚å› æ­¤ï¼Œè¯¥èµ‹å€¼ç›¸å½“äºSET col_name &#x3D; DEFAULT(col_name) + 1ã€‚</p><p>å‰ä¸¤ç§å½¢å¼ç”¨çš„å¤šäº›ã€‚å…¶ä¸­ â€œintoâ€ å…³é”®å­—å¯ä»¥çœç•¥ï¼Œä¸è¿‡æœ€å¥½åŠ ä¸Š â€œintoâ€ï¼Œè¿™æ ·æ„æ€æ›´åŠ ç›´è§‚ã€‚å¦å¤–ï¼Œå¯¹äºé‚£äº›æ²¡æœ‰ç»™äºˆå€¼çš„åˆ—ï¼ŒMySQL å°†è‡ªåŠ¨ä¸ºè¿™äº›åˆ—èµ‹ä¸Šé»˜è®¤å€¼ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL-SQLè¯­å¥-æ’å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python-æ‰¹é‡æ’å…¥å¤šæ¡æ•°æ®-pymysql-executemanyæ–¹æ³•</title>
      <link href="/2021/09/17/Python/%E6%A8%A1%E5%9D%97/PyMySQL/python-%E6%89%B9%E9%87%8F%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE-pymysql-executemany%E6%96%B9%E6%B3%95/"/>
      <url>/2021/09/17/Python/%E6%A8%A1%E5%9D%97/PyMySQL/python-%E6%89%B9%E9%87%8F%E6%8F%92%E5%85%A5%E5%A4%9A%E6%9D%A1%E6%95%B0%E6%8D%AE-pymysql-executemany%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>pymysqlä¸­æ¸¸æ ‡å¯¹è±¡ï¼Œexecuteå¯ä»¥æ‰§è¡Œä¸€æ¬¡sqlè¯­å¥</p><p>å¦‚æœæˆ‘ä»¬ä¸€æ¬¡éœ€è¦æ‰§è¡Œå¤šæ¬¡sqlè¯­å¥</p><p>å¯ä»¥ç”¨æ–°çš„æ–¹æ³•æ‰¹é‡æ“ä½œ</p><h2 id="executemanyæ–¹æ³•"><a href="#executemanyæ–¹æ³•" class="headerlink" title="executemanyæ–¹æ³•"></a>executemanyæ–¹æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cursor.executemany(&quot;&quot;&quot; insert into aaa(å­—æ®µ1, å­—æ®µn) values(å ä½1ï¼Œå ä½n)&quot;&quot;&quot;, [ï¼ˆæ•°æ®1ï¼Œæ•°æ®nï¼‰ï¼Œï¼ˆæ•°æ®1ï¼Œæ•°æ®nï¼‰])</span><br></pre></td></tr></table></figure><p>è¯´æ˜ï¼Œexecutemanyæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯ä¸€ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªå…ƒç»„ã€‚</p><p>å…ƒç»„ä¸­çš„æ•°æ®ï¼Œä¼šæŒ‰ç…§ä½ç½®å¯¹åº”å…³ç³»æ›¿ä»£åˆ°å ä½1ä¸å ä½2ä¸­</p><hr><p>ã€‹è¯•éªŒä»£ç </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import pymysql</span><br><span class="line"></span><br><span class="line">conn = pymysql.connect(</span><br><span class="line">    host = &quot;127.0.0.1&quot;,</span><br><span class="line">    port=3306,</span><br><span class="line">    user=&#x27;root&#x27;,</span><br><span class="line">    password=&#x27;root&#x27;,</span><br><span class="line">    database=&#x27;pytest3&#x27;,</span><br><span class="line">    charset=&#x27;utf8&#x27;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cursor = conn.cursor(cursor=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line"># res = cursor.execute(&quot;&quot;&quot; select * from aaa ;&quot;&quot;&quot;)</span><br><span class="line">li = []</span><br><span class="line">for i in range(20,30):</span><br><span class="line">    li.append((i,&quot;å­¦ç”Ÿ%s&quot; %i))</span><br><span class="line"></span><br><span class="line">cursor.executemany(&quot;&quot;&quot; insert into aaa(id, name) values(%s,&quot;%s&quot;)&quot;&quot;&quot;, li)</span><br><span class="line"></span><br><span class="line">conn.commit()</span><br><span class="line"></span><br><span class="line">print(&#x27;ok&#x27;)</span><br></pre></td></tr></table></figure><p>ã€‹æ•ˆæœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from aaa;</span><br><span class="line">+----+----------+</span><br><span class="line">| id | name     |</span><br><span class="line">+----+----------+</span><br><span class="line">|  1 | 11       |</span><br><span class="line">|  2 | 1        |</span><br><span class="line">|  3 | 2        |</span><br><span class="line">|  4 | 3        |</span><br><span class="line">|  5 | 4        |</span><br><span class="line">|  6 | 5        |</span><br><span class="line">| 20 | &#x27;å­¦ç”Ÿ20&#x27; |</span><br><span class="line">| 21 | &#x27;å­¦ç”Ÿ21&#x27; |</span><br><span class="line">| 22 | &#x27;å­¦ç”Ÿ22&#x27; |</span><br><span class="line">| 23 | &#x27;å­¦ç”Ÿ23&#x27; |</span><br><span class="line">| 24 | &#x27;å­¦ç”Ÿ24&#x27; |</span><br><span class="line">| 25 | &#x27;å­¦ç”Ÿ25&#x27; |</span><br><span class="line">| 26 | &#x27;å­¦ç”Ÿ26&#x27; |</span><br><span class="line">| 27 | &#x27;å­¦ç”Ÿ27&#x27; |</span><br><span class="line">| 28 | &#x27;å­¦ç”Ÿ28&#x27; |</span><br><span class="line">| 29 | &#x27;å­¦ç”Ÿ29&#x27; |</span><br><span class="line">+----+----------+</span><br><span class="line">16 rows in set (0.00 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-PyMySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pandas--Series</title>
      <link href="/2021/09/17/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--Series/"/>
      <url>/2021/09/17/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/pandas/Pandas--Series/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="1ã€Series"><a href="#1ã€Series" class="headerlink" title="1ã€Series"></a>1ã€Series</h2><p>çº¿æ€§çš„æ•°æ®ç»“æ„, seriesæ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</p><p>Pandas ä¼šé»˜ç„¶ç”¨0åˆ°n-1æ¥ä½œä¸ºseriesçš„index, ä½†ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šindex( å¯ä»¥æŠŠindexç†è§£ä¸ºdicté‡Œé¢çš„key )</p><h4 id="1-1åˆ›é€ ä¸€ä¸ªseriseæ•°æ®"><a href="#1-1åˆ›é€ ä¸€ä¸ªseriseæ•°æ®" class="headerlink" title="1.1åˆ›é€ ä¸€ä¸ªseriseæ•°æ®"></a>1.1åˆ›é€ ä¸€ä¸ªseriseæ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">&#x27;zheng&#x27;</span>, <span class="string">&#x27;beijing&#x27;</span>, <span class="number">128</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><ul><li><p>æ‰“å°</p><p>æ‰“å°</p><p>0          9<br>1      zheng<br>2    beijing<br>3        128<br>dtype: object</p></li><li><p>è®¿é—®å…¶ä¸­æŸä¸ªæ•°æ®</p><p>è®¿é—®å…¶ä¸­æŸä¸ªæ•°æ®</p><p>print(s[1:2])</p><h1 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h1><p>1    zheng<br>dtype: object</p></li></ul><h4 id="1-2-æŒ‡å®šindex"><a href="#1-2-æŒ‡å®šindex" class="headerlink" title="1.2 æŒ‡å®šindex"></a>1.2 æŒ‡å®šindex</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">&#x27;zheng&#x27;</span>, <span class="string">&#x27;beijing&#x27;</span>, <span class="number">128</span>, <span class="string">&#x27;usa&#x27;</span>, <span class="number">990</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;g&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><ul><li><p>æ‰“å°</p><p>æ‰“å°</p><p>1          9<br>2      zheng<br>3    beijing<br>e        128<br>f        usa<br>g        990<br>dtype: object</p></li><li><p>æ ¹æ®ç´¢å¼•æ‰¾å‡ºå€¼</p><p>print(s[â€˜fâ€™])    # usa</p></li></ul><h4 id="1-3-ç”¨dictionaryæ„é€ ä¸€ä¸ªseries"><a href="#1-3-ç”¨dictionaryæ„é€ ä¸€ä¸ªseries" class="headerlink" title="1.3 ç”¨dictionaryæ„é€ ä¸€ä¸ªseries"></a>1.3 ç”¨dictionaryæ„é€ ä¸€ä¸ªseries</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = &#123;<span class="string">&quot;ton&quot;</span>: <span class="number">20</span>, <span class="string">&quot;mary&quot;</span>: <span class="number">18</span>, <span class="string">&quot;jack&quot;</span>: <span class="number">19</span>, <span class="string">&quot;car&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"></span><br><span class="line">sa = pd.Series(s, name=<span class="string">&quot;age&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sa)</span><br></pre></td></tr></table></figure><ul><li><p>æ‰“å°</p><p>car      NaN<br>jack    19.0<br>mary    18.0<br>ton     20.0<br>Name: age, dtype: float64</p></li><li><p>æ£€æµ‹ç±»å‹</p><p>print(type(sa))    # &lt;class â€˜pandas.core.series.Seriesâ€™&gt;</p></li></ul><h4 id="1-4-ç”¨numpy-ndarrayæ„é€ ä¸€ä¸ªSeries"><a href="#1-4-ç”¨numpy-ndarrayæ„é€ ä¸€ä¸ªSeries" class="headerlink" title="1.4 ç”¨numpy ndarrayæ„é€ ä¸€ä¸ªSeries"></a>1.4 ç”¨numpy ndarrayæ„é€ ä¸€ä¸ªSeries</h4><p>#ç”Ÿæˆä¸€ä¸ªéšæœºæ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">num_abc = pd.Series(np.random.randn(<span class="number">5</span>), index=<span class="built_in">list</span>(<span class="string">&#x27;abcde&#x27;</span>))</span><br><span class="line">num = pd.Series(np.random.randn(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(num)</span><br><span class="line"><span class="built_in">print</span>(num_abc)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å°</span></span><br><span class="line"><span class="number">0</span>   -<span class="number">0.102860</span></span><br><span class="line"><span class="number">1</span>   -<span class="number">1.138242</span></span><br><span class="line"><span class="number">2</span>    <span class="number">1.408063</span></span><br><span class="line"><span class="number">3</span>   -<span class="number">0.893559</span></span><br><span class="line"><span class="number">4</span>    <span class="number">1.378845</span></span><br><span class="line">dtype: float64</span><br><span class="line">a   -<span class="number">0.658398</span></span><br><span class="line">b    <span class="number">1.568236</span></span><br><span class="line">c    <span class="number">0.535451</span></span><br><span class="line">d    <span class="number">0.103117</span></span><br><span class="line">e   -<span class="number">1.556231</span></span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><h4 id="1-5-åˆ‡ç‰‡"><a href="#1-5-åˆ‡ç‰‡" class="headerlink" title="1.5 åˆ‡ç‰‡"></a>1.5 åˆ‡ç‰‡</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">&#x27;zheng&#x27;</span>, <span class="string">&#x27;beijing&#x27;</span>, <span class="number">128</span>, <span class="string">&#x27;usa&#x27;</span>, <span class="number">990</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;g&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(s[<span class="number">1</span>:<span class="number">3</span>])  <span class="comment"># é€‰æ‹©ç¬¬1åˆ°3ä¸ª, åŒ…å·¦ä¸åŒ…å³ zheng beijing</span></span><br><span class="line"><span class="built_in">print</span>(s[[<span class="number">1</span>,<span class="number">3</span>]])  <span class="comment"># é€‰æ‹©ç¬¬1ä¸ªå’Œç¬¬3ä¸ª, zheng 128</span></span><br><span class="line"><span class="built_in">print</span>(s[:-<span class="number">1</span>]) <span class="comment"># é€‰æ‹©ç¬¬1ä¸ªåˆ°å€’æ•°ç¬¬1ä¸ª, 9 zheng beijing 128 usa</span></span><br></pre></td></tr></table></figure><h4 id="1-6-åˆ‡ç‰‡æ“ä½œæ•°æ®"><a href="#1-6-åˆ‡ç‰‡æ“ä½œæ•°æ®" class="headerlink" title="1.6 åˆ‡ç‰‡æ“ä½œæ•°æ®"></a>1.6 åˆ‡ç‰‡æ“ä½œæ•°æ®</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">&#x27;zheng&#x27;</span>, <span class="string">&#x27;beijing&#x27;</span>, <span class="number">128</span>, <span class="string">&#x27;usa&#x27;</span>, <span class="number">990</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;g&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">sum</span> = s[<span class="number">1</span>:<span class="number">3</span>] + s[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">sum1 = s[<span class="number">1</span>:<span class="number">4</span>] + s[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">sum2 = s[<span class="number">1</span>:<span class="number">3</span>] + s[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">sum3 = s[:<span class="number">3</span>] + s[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br><span class="line"><span class="built_in">print</span>(sum1)</span><br><span class="line"><span class="built_in">print</span>(sum2)</span><br><span class="line"><span class="built_in">print</span>(sum3)</span><br></pre></td></tr></table></figure><p>#æ‰“å°</p><pre><code>2        zhengzheng3    beijingbeijingdtype: object2        zhengzheng3    beijingbeijinge               256dtype: object2        zhengzheng3    beijingbeijinge               NaNdtype: object1               NaN2        zhengzheng3    beijingbeijinge               NaNf               NaNg               NaNdtype: object</code></pre><h4 id="1-7-æŸ¥æ‰¾"><a href="#1-7-æŸ¥æ‰¾" class="headerlink" title="1.7 æŸ¥æ‰¾"></a>1.7 æŸ¥æ‰¾</h4><ul><li>èŒƒå›´æŸ¥æ‰¾</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">s = &#123;<span class="string">&quot;ton&quot;</span>: <span class="number">20</span>, <span class="string">&quot;mary&quot;</span>: <span class="number">18</span>, <span class="string">&quot;jack&quot;</span>: <span class="number">19</span>, <span class="string">&quot;jim&quot;</span>: <span class="number">22</span>, <span class="string">&quot;lj&quot;</span>: <span class="number">24</span>, <span class="string">&quot;car&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"> </span><br><span class="line">sa = pd.Series(s, name=<span class="string">&quot;age&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(sa[sa&gt;<span class="number">19</span>])</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uoKpT.png" alt="4uoKpT.png"></p><ul><li>ä¸­ä½æ•°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">s = &#123;<span class="string">&quot;ton&quot;</span>: <span class="number">20</span>, <span class="string">&quot;mary&quot;</span>: <span class="number">18</span>, <span class="string">&quot;jack&quot;</span>: <span class="number">19</span>, <span class="string">&quot;jim&quot;</span>: <span class="number">22</span>, <span class="string">&quot;lj&quot;</span>: <span class="number">24</span>, <span class="string">&quot;car&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"> </span><br><span class="line">sa = pd.Series(s, name=<span class="string">&quot;age&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(sa.median())  <span class="comment"># 20</span></span><br></pre></td></tr></table></figure><ul><li>åˆ¤æ–­æ˜¯å¦å¤§äºä¸­ä½æ•°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">s = &#123;<span class="string">&quot;ton&quot;</span>: <span class="number">20</span>, <span class="string">&quot;mary&quot;</span>: <span class="number">18</span>, <span class="string">&quot;jack&quot;</span>: <span class="number">19</span>, <span class="string">&quot;jim&quot;</span>: <span class="number">22</span>, <span class="string">&quot;lj&quot;</span>: <span class="number">24</span>, <span class="string">&quot;car&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"> </span><br><span class="line">sa = pd.Series(s, name=<span class="string">&quot;age&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(sa&gt;sa.median())</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uoG7R.png" alt="4uoG7R.png"></p><ul><li><h4 id="1-9-æ»¡è¶³æ¡ä»¶çš„ç»Ÿä¸€èµ‹å€¼"><a href="#1-9-æ»¡è¶³æ¡ä»¶çš„ç»Ÿä¸€èµ‹å€¼" class="headerlink" title="1.9 æ»¡è¶³æ¡ä»¶çš„ç»Ÿä¸€èµ‹å€¼"></a>1.9 æ»¡è¶³æ¡ä»¶çš„ç»Ÿä¸€èµ‹å€¼</h4></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"> </span><br><span class="line">s = &#123;<span class="string">&quot;ton&quot;</span>: <span class="number">20</span>, <span class="string">&quot;mary&quot;</span>: <span class="number">18</span>, <span class="string">&quot;jack&quot;</span>: <span class="number">19</span>, <span class="string">&quot;jim&quot;</span>: <span class="number">22</span>, <span class="string">&quot;lj&quot;</span>: <span class="number">24</span>, <span class="string">&quot;car&quot;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"> </span><br><span class="line">sa = pd.Series(s, name=<span class="string">&quot;age&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(s) <span class="comment"># æ‰“å°åŸå­—å…¸</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;---------------------&#x27;</span>)   <span class="comment"># åˆ†å‰²çº¿</span></span><br><span class="line"> </span><br><span class="line">sa[sa&gt;<span class="number">19</span>] = <span class="number">88</span> <span class="comment"># å°†æ‰€æœ‰å¤§äº19çš„åŒä¸€æ”¹ä¸º88</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(sa) <span class="comment"># æ‰“å°æ›´æ”¹ä¹‹åçš„æ•°æ®</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;---------------------&#x27;</span>)   <span class="comment"># åˆ†å‰²çº¿</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(sa / <span class="number">2</span>) <span class="comment"># å°†æ‰€æœ‰æ•°æ®é™¤ä»¥2</span></span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/17/4uoR9f.png" alt="4uoR9f.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-pandas </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>datetimeæ¨¡å—</title>
      <link href="/2021/09/16/Python/%E6%A8%A1%E5%9D%97/datetime/datetime%E6%A8%A1%E5%9D%97/"/>
      <url>/2021/09/16/Python/%E6%A8%A1%E5%9D%97/datetime/datetime%E6%A8%A1%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="x3D-x3D-datetimeæ˜¯æ¨¡å—ï¼Œdatetimeæ¨¡å—è¿˜åŒ…å«ä¸€ä¸ªdatetimeç±»-x3D-x3D"><a href="#x3D-x3D-datetimeæ˜¯æ¨¡å—ï¼Œdatetimeæ¨¡å—è¿˜åŒ…å«ä¸€ä¸ªdatetimeç±»-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;datetimeæ˜¯æ¨¡å—ï¼Œdatetimeæ¨¡å—è¿˜åŒ…å«ä¸€ä¸ªdatetimeç±»&#x3D;&#x3D;"></a>&#x3D;&#x3D;datetimeæ˜¯æ¨¡å—ï¼Œdatetimeæ¨¡å—è¿˜åŒ…å«ä¸€ä¸ªdatetimeç±»&#x3D;&#x3D;</h2><h4 id="é€šè¿‡from-datetime-import-datetimeå¯¼å…¥çš„æ‰æ˜¯datetimeè¿™ä¸ªç±»ã€‚"><a href="#é€šè¿‡from-datetime-import-datetimeå¯¼å…¥çš„æ‰æ˜¯datetimeè¿™ä¸ªç±»ã€‚" class="headerlink" title="é€šè¿‡from datetime import datetimeå¯¼å…¥çš„æ‰æ˜¯datetimeè¿™ä¸ªç±»ã€‚"></a>é€šè¿‡from datetime import datetimeå¯¼å…¥çš„æ‰æ˜¯datetimeè¿™ä¸ªç±»ã€‚</h4><p>å¦‚æœä»…å¯¼å…¥import datetimeï¼Œåˆ™å¿…é¡»å¼•ç”¨å…¨ådatetime.datetimeã€‚</p><p>datetime.now()è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´ï¼Œå…¶ç±»å‹æ˜¯datetimeã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line">datetime_now = datetime.now() <span class="comment"># åˆ›å»ºå½“å‰æ—¶é—´çš„ datetime å¯¹è±¡</span></span><br><span class="line"><span class="built_in">print</span>(datetime_now)  <span class="comment"># 2021-09-16 17:21:39.869128</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(datetime_now))  <span class="comment"># &lt;class &#x27;datetime.datetime&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">dt = datetime(<span class="number">2021</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">00</span>)  <span class="comment"># ç”¨æŒ‡å®šæ—¥æœŸæ—¶é—´åˆ›å»º datetime å¯¹è±¡</span></span><br><span class="line"><span class="built_in">print</span>(dt)  <span class="comment"># 2021-10-01 12:00:00</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(dt))  <span class="comment"># &lt;class &#x27;datetime.datetime&#x27;&gt;</span></span><br></pre></td></tr></table></figure><table><thead><tr><th>header 1</th><th>header 2</th></tr></thead><tbody><tr><td>row 1 col 1</td><td>row 1 col 2</td></tr><tr><td>row 2 col 1</td><td>row 2 col 2</td></tr></tbody></table><hr><h2 id="x3D-x3D-1ã€strè½¬æ¢ä¸ºdatetime-x3D-x3D"><a href="#x3D-x3D-1ã€strè½¬æ¢ä¸ºdatetime-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;1ã€strè½¬æ¢ä¸ºdatetime&#x3D;&#x3D;"></a>&#x3D;&#x3D;1ã€strè½¬æ¢ä¸ºdatetime&#x3D;&#x3D;</h2><h4 id="å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·è¾“å…¥çš„æ—¥æœŸå’Œæ—¶é—´æ˜¯å­—ç¬¦ä¸²ï¼Œè¦å¤„ç†æ—¥æœŸå’Œæ—¶é—´ï¼Œé¦–å…ˆå¿…é¡»æŠŠstrè½¬æ¢ä¸ºdatetimeã€‚è½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡datetime-strptime-å®ç°ï¼Œéœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š"><a href="#å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·è¾“å…¥çš„æ—¥æœŸå’Œæ—¶é—´æ˜¯å­—ç¬¦ä¸²ï¼Œè¦å¤„ç†æ—¥æœŸå’Œæ—¶é—´ï¼Œé¦–å…ˆå¿…é¡»æŠŠstrè½¬æ¢ä¸ºdatetimeã€‚è½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡datetime-strptime-å®ç°ï¼Œéœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š" class="headerlink" title="å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·è¾“å…¥çš„æ—¥æœŸå’Œæ—¶é—´æ˜¯å­—ç¬¦ä¸²ï¼Œè¦å¤„ç†æ—¥æœŸå’Œæ—¶é—´ï¼Œé¦–å…ˆå¿…é¡»æŠŠstrè½¬æ¢ä¸ºdatetimeã€‚è½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡datetime.strptime()å®ç°ï¼Œéœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š"></a>å¾ˆå¤šæ—¶å€™ï¼Œç”¨æˆ·è¾“å…¥çš„æ—¥æœŸå’Œæ—¶é—´æ˜¯å­—ç¬¦ä¸²ï¼Œè¦å¤„ç†æ—¥æœŸå’Œæ—¶é—´ï¼Œé¦–å…ˆå¿…é¡»æŠŠstrè½¬æ¢ä¸ºdatetimeã€‚è½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡datetime.<font size=6 color=red>strptime()</font>å®ç°ï¼Œéœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from datetime import datetime</span><br><span class="line">&gt;&gt;&gt; cday = datetime.strptime(&#x27;2015-6-1 18:19:59&#x27;, &#x27;%Y-%m-%d %H:%M:%S&#x27;)</span><br><span class="line">&gt;&gt;&gt; print(cday)</span><br><span class="line">2015-06-01 18:19:59</span><br></pre></td></tr></table></figure><p>å­—ç¬¦ä¸²â€™%Y-%m-%d %H:%M:%Sâ€™è§„å®šäº†æ—¥æœŸå’Œæ—¶é—´éƒ¨åˆ†çš„æ ¼å¼ã€‚</p><h4 id="æŠ¥é”™ç¤ºä¾‹ï¼š"><a href="#æŠ¥é”™ç¤ºä¾‹ï¼š" class="headerlink" title="æŠ¥é”™ç¤ºä¾‹ï¼š"></a>æŠ¥é”™ç¤ºä¾‹ï¼š</h4><h4 id="1ã€ValueError-time-data-â€˜2020-1-1â€™-does-not-match-format-â€˜-Y-m-dâ€™æ•°æ®å­˜å‚¨çš„åˆ†éš”ç¬¦ä¸å¯¹åº”çš„å‚æ•°æ ¼å¼åˆ†éš”ç¬¦äº¦å¿…é¡»ä¸å…¶ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå¾—åˆ°é”™è¯¯"><a href="#1ã€ValueError-time-data-â€˜2020-1-1â€™-does-not-match-format-â€˜-Y-m-dâ€™æ•°æ®å­˜å‚¨çš„åˆ†éš”ç¬¦ä¸å¯¹åº”çš„å‚æ•°æ ¼å¼åˆ†éš”ç¬¦äº¦å¿…é¡»ä¸å…¶ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå¾—åˆ°é”™è¯¯" class="headerlink" title="1ã€ValueError: time data â€˜2020,1 ,1â€™ does not match format â€˜%Y,%m,%dâ€™æ•°æ®å­˜å‚¨çš„åˆ†éš”ç¬¦ä¸å¯¹åº”çš„å‚æ•°æ ¼å¼åˆ†éš”ç¬¦äº¦å¿…é¡»ä¸å…¶ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå¾—åˆ°é”™è¯¯"></a>1ã€ValueError: time data â€˜2020,1 ,1â€™ does not match format â€˜%Y,%m,%dâ€™æ•°æ®å­˜å‚¨çš„åˆ†éš”ç¬¦ä¸å¯¹åº”çš„å‚æ•°æ ¼å¼åˆ†éš”ç¬¦äº¦å¿…é¡»ä¸å…¶ä¿æŒä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå¾—åˆ°é”™è¯¯</h4><p>æ­£ç¡®ä¿®æ”¹ï¼šå‰åæ ¼å¼å¿…é¡»ä¿æŒä¸€è‡´</p><hr><h4 id="ValueError-time-data-â€˜2014-x2F-7-x2F-1â€™-does-not-match-format-â€˜-Y-m-dâ€™"><a href="#ValueError-time-data-â€˜2014-x2F-7-x2F-1â€™-does-not-match-format-â€˜-Y-m-dâ€™" class="headerlink" title="ValueError: time data â€˜2014&#x2F;7&#x2F;1â€™ does not match format â€˜%Y-%m-%dâ€™"></a>ValueError: time data â€˜2014&#x2F;7&#x2F;1â€™ does not match format â€˜%Y-%m-%dâ€™</h4><p>æ­£ç¡®ä¿®æ”¹ï¼šæŠŠâ€˜2014&#x2F;7&#x2F;1â€™æ”¹æˆâ€˜2014-7-1â€™ æˆ–è€…æŠŠâ€˜%Y-%m-%dâ€™æ”¹æˆ â€˜%Y&#x2F;%m&#x2F;%dâ€™æ ¼å¼</p><h2 id="x3D-x3D-2ã€datetimeè½¬æ¢ä¸ºstr-x3D-x3D"><a href="#x3D-x3D-2ã€datetimeè½¬æ¢ä¸ºstr-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;2ã€datetimeè½¬æ¢ä¸ºstr&#x3D;&#x3D;"></a>&#x3D;&#x3D;2ã€datetimeè½¬æ¢ä¸ºstr&#x3D;&#x3D;</h2><h4 id="å¦‚æœå·²ç»æœ‰äº†datetimeå¯¹è±¡ï¼Œè¦æŠŠå®ƒæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œå°±éœ€è¦è½¬æ¢ä¸ºstrï¼Œè½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡strftime-å®ç°çš„ï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š"><a href="#å¦‚æœå·²ç»æœ‰äº†datetimeå¯¹è±¡ï¼Œè¦æŠŠå®ƒæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œå°±éœ€è¦è½¬æ¢ä¸ºstrï¼Œè½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡strftime-å®ç°çš„ï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š" class="headerlink" title="å¦‚æœå·²ç»æœ‰äº†datetimeå¯¹è±¡ï¼Œè¦æŠŠå®ƒæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œå°±éœ€è¦è½¬æ¢ä¸ºstrï¼Œè½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡strftime()å®ç°çš„ï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š"></a>å¦‚æœå·²ç»æœ‰äº†datetimeå¯¹è±¡ï¼Œè¦æŠŠå®ƒæ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œå°±éœ€è¦è½¬æ¢ä¸ºstrï¼Œè½¬æ¢æ–¹æ³•æ˜¯é€šè¿‡<font color=red size=6>strftime()</font>å®ç°çš„ï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from datetime import datetime</span><br><span class="line">&gt;&gt;&gt; now = datetime.now()</span><br><span class="line">&gt;&gt;&gt; print(now.strftime(&#x27;%a, %b %d %H:%M&#x27;))</span><br><span class="line">Mon, May 05 16:28</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">## 3ã€datetimeè½¬æ¢ä¸ºæ—¶é—´æˆ³</span><br><span class="line"></span><br><span class="line">time_stamp = time.mktime(date_time.timetuple())</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">## 4ã€æ—¶é—´æˆ³è½¬æ¢æˆstring</span><br><span class="line"></span><br><span class="line">string = time.strftime(&#x27;%Y-%m-%d&#x27;,time.localtime(time_stamp))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### datetimeåŠ å‡</span><br><span class="line"></span><br><span class="line">å¯¹æ—¥æœŸå’Œæ—¶é—´è¿›è¡ŒåŠ å‡å®é™…ä¸Šå°±æ˜¯æŠŠdatetimeå¾€åæˆ–å¾€å‰è®¡ç®—ï¼Œå¾—åˆ°æ–°çš„datetimeã€‚åŠ å‡å¯ä»¥ç›´æ¥ç”¨+å’Œ-è¿ç®—ç¬¦ï¼Œä¸è¿‡éœ€è¦å¯¼å…¥&lt;font color=red size=5&gt;timedelta&lt;/font&gt;è¿™ä¸ªç±»ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><blockquote><blockquote><p>from datetime import datetime, timedelta<br>now &#x3D; datetime.now()<br>now<br>datetime.datetime(2015, 5, 18, 16, 57, 3, 540997)<br>now + timedelta(hours&#x3D;10)<br>datetime.datetime(2015, 5, 19, 2, 57, 3, 540997)<br>now - timedelta(days&#x3D;1)<br>datetime.datetime(2015, 5, 17, 16, 57, 3, 540997)<br>now + timedelta(days&#x3D;2, hours&#x3D;12)<br>datetime.datetime(2015, 5, 21, 4, 57, 3, 540997)</p></blockquote></blockquote></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#### æœ¬åœ°æ—¶é—´è½¬æ¢ä¸ºUTCæ—¶é—´</span><br><span class="line"></span><br><span class="line">æœ¬åœ°æ—¶é—´æ˜¯æŒ‡ç³»ç»Ÿè®¾å®šæ—¶åŒºçš„æ—¶é—´ï¼Œä¾‹å¦‚åŒ—äº¬æ—¶é—´æ˜¯UTC+8:00æ—¶åŒºçš„æ—¶é—´ï¼Œè€ŒUTCæ—¶é—´æŒ‡UTC+0:00æ—¶åŒºçš„æ—¶é—´ã€‚</span><br><span class="line"></span><br><span class="line">ä¸€ä¸ªdatetimeç±»å‹æœ‰ä¸€ä¸ªæ—¶åŒºå±æ€§tzinfoï¼Œä½†æ˜¯é»˜è®¤ä¸ºNoneï¼Œæ‰€ä»¥æ— æ³•åŒºåˆ†è¿™ä¸ªdatetimeåˆ°åº•æ˜¯å“ªä¸ªæ—¶åŒºï¼Œé™¤éå¼ºè¡Œç»™datetimeè®¾ç½®ä¸€ä¸ªæ—¶åŒºï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><blockquote><blockquote><p>from datetime import datetime, timedelta, timezone<br>tz_utc_8 &#x3D; timezone(timedelta(hours&#x3D;8)) # åˆ›å»ºæ—¶åŒºUTC+8:00<br>now &#x3D; datetime.now()<br>now<br>datetime.datetime(2015, 5, 18, 17, 2, 10, 871012)<br>dt &#x3D; now.replace(tzinfo&#x3D;tz_utc_8) # å¼ºåˆ¶è®¾ç½®ä¸ºUTC+8:00<br>dt<br>datetime.datetime(2015, 5, 18, 17, 2, 10, 871012, tzinfo&#x3D;datetime.timezone(datetime.timedelta(0, 28800)))</p></blockquote></blockquote></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å¦‚æœç³»ç»Ÿæ—¶åŒºæ°å¥½æ˜¯UTC+8:00ï¼Œé‚£ä¹ˆä¸Šè¿°ä»£ç å°±æ˜¯æ­£ç¡®çš„ï¼Œå¦åˆ™ï¼Œä¸èƒ½å¼ºåˆ¶è®¾ç½®ä¸ºUTC+8:00æ—¶åŒºã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### æ—¶åŒºè½¬æ¢</span><br><span class="line"></span><br><span class="line">æˆ‘ä»¬å¯ä»¥å…ˆé€šè¿‡utcnow()æ‹¿åˆ°å½“å‰çš„UTCæ—¶é—´ï¼Œå†è½¬æ¢ä¸ºä»»æ„æ—¶åŒºçš„æ—¶é—´ï¼š</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æ‹¿åˆ°UTCæ—¶é—´ï¼Œå¹¶å¼ºåˆ¶è®¾ç½®æ—¶åŒºä¸ºUTC-0-00"><a href="#æ‹¿åˆ°UTCæ—¶é—´ï¼Œå¹¶å¼ºåˆ¶è®¾ç½®æ—¶åŒºä¸ºUTC-0-00" class="headerlink" title="æ‹¿åˆ°UTCæ—¶é—´ï¼Œå¹¶å¼ºåˆ¶è®¾ç½®æ—¶åŒºä¸ºUTC+0:00:"></a>æ‹¿åˆ°UTCæ—¶é—´ï¼Œå¹¶å¼ºåˆ¶è®¾ç½®æ—¶åŒºä¸ºUTC+0:00:</h1><blockquote><blockquote><blockquote><p>utc_dt &#x3D; datetime.utcnow().replace(tzinfo&#x3D;timezone.utc)<br>print(utc_dt)<br>2015-05-18 09:05:12.377316+00:00</p></blockquote></blockquote></blockquote><h1 id="astimezone-å°†è½¬æ¢æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´"><a href="#astimezone-å°†è½¬æ¢æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´" class="headerlink" title="astimezone()å°†è½¬æ¢æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´:"></a>astimezone()å°†è½¬æ¢æ—¶åŒºä¸ºåŒ—äº¬æ—¶é—´:</h1><blockquote><blockquote><blockquote><p>bj_dt &#x3D; utc_dt.astimezone(timezone(timedelta(hours&#x3D;8)))<br>print(bj_dt)<br>2015-05-18 17:05:12.377316+08:00</p></blockquote></blockquote></blockquote><h1 id="astimezone-å°†è½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´"><a href="#astimezone-å°†è½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´" class="headerlink" title="astimezone()å°†è½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´:"></a>astimezone()å°†è½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´:</h1><blockquote><blockquote><blockquote><p>tokyo_dt &#x3D; utc_dt.astimezone(timezone(timedelta(hours&#x3D;9)))<br>print(tokyo_dt)<br>2015-05-18 18:05:12.377316+09:00</p></blockquote></blockquote></blockquote><h1 id="astimezone-å°†bj-dtè½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´"><a href="#astimezone-å°†bj-dtè½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´" class="headerlink" title="astimezone()å°†bj_dtè½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´:"></a>astimezone()å°†bj_dtè½¬æ¢æ—¶åŒºä¸ºä¸œäº¬æ—¶é—´:</h1><blockquote><blockquote><blockquote><p>tokyo_dt2 &#x3D; bj_dt.astimezone(timezone(timedelta(hours&#x3D;9)))<br>print(tokyo_dt2)<br>2015-05-18 18:05:12.377316+09:00</p></blockquote></blockquote></blockquote><p>&#96;&#96;&#96;<br>æ—¶åŒºè½¬æ¢çš„å…³é”®åœ¨äºï¼Œæ‹¿åˆ°ä¸€ä¸ªdatetimeæ—¶ï¼Œè¦è·çŸ¥å…¶æ­£ç¡®çš„æ—¶åŒºï¼Œç„¶åå¼ºåˆ¶è®¾ç½®æ—¶åŒºï¼Œä½œä¸ºåŸºå‡†æ—¶é—´ã€‚</p><p>åˆ©ç”¨å¸¦æ—¶åŒºçš„datetimeï¼Œé€šè¿‡astimezone()æ–¹æ³•ï¼Œå¯ä»¥è½¬æ¢åˆ°ä»»æ„æ—¶åŒºã€‚</p><p>æ³¨ï¼šä¸æ˜¯å¿…é¡»ä»UTC+0:00æ—¶åŒºè½¬æ¢åˆ°å…¶ä»–æ—¶åŒºï¼Œä»»ä½•å¸¦æ—¶åŒºçš„datetimeéƒ½å¯ä»¥æ­£ç¡®è½¬æ¢ï¼Œä¾‹å¦‚ä¸Šè¿°bj_dtåˆ°tokyo_dtçš„è½¬æ¢ã€‚</p><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>datetimeè¡¨ç¤ºçš„æ—¶é—´éœ€è¦æ—¶åŒºä¿¡æ¯æ‰èƒ½ç¡®å®šä¸€ä¸ªç‰¹å®šçš„æ—¶é—´ï¼Œå¦åˆ™åªèƒ½è§†ä¸ºæœ¬åœ°æ—¶é—´ã€‚</p><p>å¦‚æœè¦å­˜å‚¨datetimeï¼Œæœ€ä½³æ–¹æ³•æ˜¯å°†å…¶è½¬æ¢ä¸ºtimestampå†å­˜å‚¨ï¼Œå› ä¸ºtimestampçš„å€¼ä¸æ—¶åŒºå®Œå…¨æ— å…³ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-datetime </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlå®šæ—¶ä»»åŠ¡ï¼šæŒ‰å¤©å»ºè¡¨</title>
      <link href="/2021/09/15/MySQL/Mysql%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%EF%BC%9A%E6%8C%89%E5%A4%A9%E5%BB%BA%E8%A1%A8/"/>
      <url>/2021/09/15/MySQL/Mysql%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%EF%BC%9A%E6%8C%89%E5%A4%A9%E5%BB%BA%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="mysqlè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼š"><a href="#mysqlè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼š" class="headerlink" title="mysqlè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼š"></a>mysqlè®¾ç½®å®šæ—¶ä»»åŠ¡ï¼š</h2><p>éœ€æ±‚ï¼šmysqlæ•°æ®åº“é‡Œé¢åšä¸ªå®šæ—¶ä»»åŠ¡è‡ªåŠ¨æ¯å¤©åˆ›å»ºä¸€å¼ è¡¨ã€‚</p><h4 id="1-æŸ¥çœ‹æ˜¯å¦å¼€å¯eventä¸å¼€å¯event"><a href="#1-æŸ¥çœ‹æ˜¯å¦å¼€å¯eventä¸å¼€å¯event" class="headerlink" title="1.æŸ¥çœ‹æ˜¯å¦å¼€å¯eventä¸å¼€å¯event"></a>1.æŸ¥çœ‹æ˜¯å¦å¼€å¯eventä¸å¼€å¯event</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%sche%&#x27;;  </span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è‹¥æœªå¼€å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set global event_scheduler =1;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="2-åˆ›å»ºå­˜å‚¨è¿‡ç¨‹"><a href="#2-åˆ›å»ºå­˜å‚¨è¿‡ç¨‹" class="headerlink" title="2.åˆ›å»ºå­˜å‚¨è¿‡ç¨‹"></a>2.åˆ›å»ºå­˜å‚¨è¿‡ç¨‹</h4><p>æ¯å¤©åˆ›å»ºä¸€ä¸ªåä¸º test_å¹´æœˆæ—¥çš„è¡¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">delimiter //</span><br><span class="line"></span><br><span class="line">drop procedure if exists create_table01//</span><br><span class="line"></span><br><span class="line">CREATE PROCEDURE create_table01()</span><br><span class="line"></span><br><span class="line">BEGIN</span><br><span class="line"></span><br><span class="line">declare str_date varchar(50);</span><br><span class="line"></span><br><span class="line">SET str_date = date_format(now(),&#x27;%Y%m%d&#x27;);  </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">SET @sqlcmd1 = CONCAT(&#x27;CREATE TABLE test_&#x27;,str_date,&#x27;(</span><br><span class="line"></span><br><span class="line">id int(11) not null auto_increment primary key,</span><br><span class="line"></span><br><span class="line">time datetime not null</span><br><span class="line"></span><br><span class="line">) ;&#x27;);</span><br><span class="line"></span><br><span class="line">PREPARE p1 FROM @sqlcmd1;</span><br><span class="line"></span><br><span class="line">EXECUTE p1;</span><br><span class="line"></span><br><span class="line">DEALLOCATE PREPARE p1;</span><br><span class="line"></span><br><span class="line">END//</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-åˆ›å»ºäº‹ä»¶ï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹"><a href="#3-åˆ›å»ºäº‹ä»¶ï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹" class="headerlink" title="3.åˆ›å»ºäº‹ä»¶ï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹"></a>3.åˆ›å»ºäº‹ä»¶ï¼Œè°ƒç”¨å­˜å‚¨è¿‡ç¨‹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">drop event if exists test_event01;</span><br><span class="line"></span><br><span class="line">create event test_event01</span><br><span class="line"></span><br><span class="line">on schedule every 1 DAY STARTS NOW()</span><br><span class="line"></span><br><span class="line">do call create_table01();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¼€å¯äº‹ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter event test_event on completion preserve enable;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show tables;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢æ˜¯å¦å»ºè¡¨æˆåŠŸ</p><p>è‹¥æ˜¯æƒ³å…³é—­äº‹ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alter event test_event on completion preserve disable;</span><br></pre></td></tr></table></figure><h4 id="4-äº‹ä»¶æ‰§è¡Œæ—¶é—´çš„è®¾ç½®"><a href="#4-äº‹ä»¶æ‰§è¡Œæ—¶é—´çš„è®¾ç½®" class="headerlink" title="4.äº‹ä»¶æ‰§è¡Œæ—¶é—´çš„è®¾ç½®"></a>4.äº‹ä»¶æ‰§è¡Œæ—¶é—´çš„è®¾ç½®</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE EVENT test_event01 ON SCHEDULE EVERY 1 DAY STARTS &#x27;2012-09-24 00:00:00&#x27;</span><br><span class="line"></span><br><span class="line">ON COMPLETION PRESERVE ENABLE DO CALL  create_table01();</span><br></pre></td></tr></table></figure><p>EVERY #åé¢çš„æ˜¯æ—¶é—´é—´éš”ï¼Œå¯ä»¥é€‰ 1 secondï¼Œ3 minuteï¼Œ5 hourï¼Œ9 dayï¼Œ1 monthï¼Œ1 quarterï¼ˆå­£åº¦ï¼‰ï¼Œ1 year</p><p>#ä»2013å¹´1æœˆ13å·0ç‚¹å¼€å§‹ï¼Œæ¯å¤©è¿è¡Œä¸€æ¬¡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ON SCHEDULE EVERY 1 DAY   STARTS &#x27;2013-01-13 00:00:00&#x27;</span><br></pre></td></tr></table></figure><p>#ä»ç°åœ¨å¼€å§‹æ¯éš”ä¹å¤©å®šæ—¶æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ON SCHEDULE EVERY 9 DAY STARTS NOW() ï¼›</span><br></pre></td></tr></table></figure><p>#æ¯ä¸ªæœˆçš„ä¸€å·å‡Œæ™¨1 ç‚¹æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">on schedule every 1 month starts date_add(date_add(date_sub(curdate(),interval day(curdate())-1 day),interval 1 month),interval 1 hour);</span><br></pre></td></tr></table></figure><p>#æ¯ä¸ªå­£åº¦ä¸€å·çš„å‡Œæ™¨1ç‚¹æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">on schedule every 1 quarter starts date_add(date_add(date(concat(year(curdate()),&#x27;-&#x27;,elt(quarter(curdate()),1,4,7,10),&#x27;-&#x27;,1)),interval 1 quarter),interval 1 hour);</span><br></pre></td></tr></table></figure><p>#æ¯å¹´1æœˆ1å·å‡Œæ™¨1ç‚¹æ‰§è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">on schedule every 1 quarter starts date_add(date_add(date(concat(year(curdate()),&#x27;-&#x27;,elt(quarter(curdate()),1,4,7,10),&#x27;-&#x27;,1)),interval 1 quarter),interval 1 hour);</span><br></pre></td></tr></table></figure><h3 id="5-å‡ ä¸ªç›¸å…³æ¦‚å¿µ"><a href="#5-å‡ ä¸ªç›¸å…³æ¦‚å¿µ" class="headerlink" title="5.å‡ ä¸ªç›¸å…³æ¦‚å¿µ"></a>5.å‡ ä¸ªç›¸å…³æ¦‚å¿µ</h3><p>å­˜å‚¨ç¨‹åºï¼š( å­˜å‚¨å‡½æ•°(stored function)+å­˜å‚¨è¿‡ç¨‹(stored procedure)+è§¦å‘å™¨(trigger)+äº‹ä»¶(event) )</p><p>å­˜å‚¨å‡½æ•°ï¼šè¿”å›ä¸€ä¸ªè®¡ç®—ç»“æœï¼Œè¯¥ç»“æœå¯ä»¥ç”¨åœ¨è¡¨è¾¾å¼é‡Œ</p><p>å­˜å‚¨è¿‡ç¨‹ï¼šä¸ç›´æ¥è¿”å›ä¸€ä¸ªç»“æœï¼Œä½†å¯ä»¥ç”¨æ¥å®Œæˆä¸€èˆ¬çš„è¿ç®—æˆ–æ˜¯ç”Ÿæˆä¸€ä¸ªç»“æœé›†å¹¶ä¼ é€’ä¼šå®¢æˆ·</p><p>è§¦å‘å™¨ï¼šä¸æ•°æ®è¡¨å…³è”ï¼Œå½“é‚£ä¸ªæ•°æ®è¡¨è¢« insertã€deleteã€updateè¯­å¥ä¿®æ”¹æ—¶ï¼Œè§¦å‘å™¨å°†è‡ªåŠ¨æ‰§è¡Œ</p><p>äº‹ä»¶ï¼šæ ¹æ®æ—¶é—´è¡¨åœ¨é¢„è®¢æ—¶åˆ»è‡ªåŠ¨æ‰§è¡Œ</p><hr><h2 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h2><p>æˆ‘ä½¿ç”¨çš„æ˜¯navicatå›¾å½¢åŒ–å·¥å…·ç¼–ç çš„ã€‚æ‰€ä»¥ä¸‹é¢æˆ‘ä»‹ç»çš„æ˜¯ä½¿ç”¨æœ¬å·¥å…·åˆ›å»ºå­˜å‚¨è¿‡ç¨‹ã€‚</p><p>1.æ‰“å¼€navicatï¼Œé€‰æ‹©éœ€è¦åˆ›å»ºè¡¨çš„æ•°æ®åº“ï¼Œç‚¹å‡»â€œæŸ¥è¯¢â€ï¼Œåœ¨æŸ¥è¯¢ç¼–è¾‘å™¨ä¸­è¾“å…¥ä¸‹é¢ä»£ç ï¼š</p><p>ä¾æ¬¡é€‰ä¸­æ‰§è¡Œï¼š++å­˜å‚¨è¿‡ç¨‹â€“&gt;å®šæ—¶ä»»åŠ¡â€“&gt;å¼€å¯äº‹ä»¶++</p><p>æ³¨ï¼šå¦‚æœæƒ³æ¢äº‹ä»¶è¦å…ˆåœæ­¢æ—¶é—´</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"># å­˜å‚¨è¿‡ç¨‹</span><br><span class="line">delimiter //</span><br><span class="line"></span><br><span class="line">drop procedure if exists create_table01//</span><br><span class="line"></span><br><span class="line">CREATE PROCEDURE create_table01()</span><br><span class="line"></span><br><span class="line">BEGIN</span><br><span class="line"></span><br><span class="line">declare str_date varchar(50);</span><br><span class="line"></span><br><span class="line">SET str_date = date_format(now(),&#x27;%Y%m%d&#x27;);  </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"># æ—¶é—´å”¯ä¸€ç´¢å¼•æœ‰é—®é¢˜ï¼Œåç»­ä¸ç«™ç‚¹ç»“åˆåˆ›å»º</span><br><span class="line">SET @sqlcmd1 = CONCAT(&#x27;CREATE TABLE surf_chn_mul_full_min_&#x27;,str_date,</span><br><span class="line">&quot;(</span><br><span class="line">`id` bigint(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;è‡ªå¢ç¼–å·&#x27;,</span><br><span class="line">`province` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT &#x27;çœä»½&#x27;,</span><br><span class="line">`station_name` varchar(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT &#x27;ç«™å&#x27;,</span><br><span class="line">`date_time` datetime NOT NULL COMMENT &#x27;èµ„æ–™æ—¶é—´&#x27;,</span><br><span class="line">`lat` varchar(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT &#x27;çº¬åº¦&#x27;,</span><br><span class="line">`lon` varchar(40) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL COMMENT &#x27;ç»åº¦&#x27;,</span><br><span class="line">`temperature` decimal(10,4) DEFAULT NULL COMMENT &#x27;æ°”æ¸©ï¼Œå•ä½(1â„ƒ),å½“å‰æ—¶åˆ»çš„ç©ºæ°”æ¸©åº¦&#x27;,</span><br><span class="line">`temperature_dewpoint` decimal(10,4) DEFAULT NULL COMMENT &#x27;éœ²ç‚¹æ¸©åº¦ï¼Œå•ä½(1â„ƒ),å½“å‰æ—¶åˆ»çš„éœ²ç‚¹æ¸©åº¦å€¼&#x27;,</span><br><span class="line">`pressure` decimal(10,4) DEFAULT NULL COMMENT &#x27;æ°”å‹ï¼Œå•ä½(1hPa)&#x27;,</span><br><span class="line">`pressure_sealevel` decimal(10,4) DEFAULT NULL COMMENT &#x27;æµ·å¹³é¢æ°”å‹ï¼Œå•ä½(1hPa),å½“å‰æ—¶åˆ»çš„æµ·å¹³é¢æ°”å‹å€¼&#x27;,</span><br><span class="line">`visibility` decimal(10,4) DEFAULT NULL COMMENT &#x27;10 åˆ†é’Ÿå¹³å‡æ°´å¹³èƒ½è§åº¦ï¼Œå•ä½(1m),å½“å‰æ—¶åˆ»çš„10 åˆ†é’Ÿå¹³å‡æ°´å¹³èƒ½è§åº¦&#x27;,</span><br><span class="line">`cloud_low` decimal(10,4) DEFAULT NULL COMMENT &#x27;ä½äº‘é‡ï¼Œå•ä½(1 æˆ)&#x27;,</span><br><span class="line">`cloud_base_height` decimal(10,4) DEFAULT NULL COMMENT &#x27;äº‘åº•é«˜åº¦ï¼Œå•ä½(1m),æ­£ç‚¹çš„ä½ï¼ˆä¸­ï¼‰äº‘çŠ¶äº‘é«˜&#x27;,</span><br><span class="line">`relative_humidity` decimal(10,4) DEFAULT NULL COMMENT &#x27;ç›¸å¯¹æ¹¿åº¦ï¼Œå•ä½(1%),å½“å‰æ—¶åˆ»çš„ç›¸å¯¹æ¹¿åº¦&#x27;,</span><br><span class="line">`wind_direct_2m` decimal(10,4) DEFAULT NULL COMMENT &#x27;2 åˆ†é’Ÿé£å‘ï¼Œå•ä½(1Â°),å½“å‰æ—¶åˆ»çš„ 2 åˆ†é’Ÿå¹³å‡é£å‘&#x27;,</span><br><span class="line">`wind_speed_2m` decimal(10,4) DEFAULT NULL COMMENT &#x27;2 åˆ†é’Ÿå¹³å‡é£é€Ÿï¼Œå•ä½(1m/s),å½“å‰æ—¶åˆ»çš„ 2 åˆ†é’Ÿå¹³å‡é£é€Ÿ&#x27;,</span><br><span class="line">`precipitation_1h` decimal(10,4) DEFAULT NULL COMMENT &#x27;å°æ—¶é™æ°´é‡ï¼Œå•ä½(1mm),æ¯ 1 å°æ—¶å†…çš„é™æ°´é‡ç´¯è®¡é‡&#x27;,</span><br><span class="line">`weather_code` int(6) DEFAULT NULL COMMENT &#x27;ç°åœ¨å¤©æ°”ç°è±¡ç¼–ç &#x27;,</span><br><span class="line">`create_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP  COMMENT &#x27;åˆ›å»ºæ—¶é—´&#x27;,</span><br><span class="line">`update_time` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP COMMENT&#x27;ä¿®æ”¹æ—¶é—´&#x27;,</span><br><span class="line"> PRIMARY KEY (`id`),</span><br><span class="line">UNIQUE KEY `index_time` (`date_time`) USING BTREE</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci&quot;);</span><br><span class="line"></span><br><span class="line">PREPARE p1 FROM @sqlcmd1;</span><br><span class="line"></span><br><span class="line">EXECUTE p1;</span><br><span class="line"></span><br><span class="line">DEALLOCATE PREPARE p1;</span><br><span class="line"></span><br><span class="line">END//</span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> # å®šæ—¶ä»»åŠ¡!!!!!!!!!!!!!!</span><br><span class="line"># å¦‚æœäº‹ä»¶å­˜åœ¨åˆ™åˆ é™¤</span><br><span class="line">drop event if exists test_event01;</span><br><span class="line"># åˆ›å»ºäº‹ä»¶</span><br><span class="line">create event test_event01</span><br><span class="line"># ä»ç°åœ¨å¼€å§‹æ¯ä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span><br><span class="line">on schedule every 1 MINUTE STARTS NOW()</span><br><span class="line"></span><br><span class="line">do call create_table01();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å¼€å¯äº‹ä»¶</span><br><span class="line">alter event test_event on completion preserve enable;</span><br><span class="line"># å…³é—­äº‹ä»¶</span><br><span class="line">alter event test_event on completion preserve disable;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Numpy--tolistå‡½æ•°</title>
      <link href="/2021/09/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--tolist%E5%87%BD%E6%95%B0/"/>
      <url>/2021/09/08/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/numpy/Numpy--tolist%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="å°†çŸ©é˜µè½¬æ¢æˆåˆ—è¡¨"><a href="#å°†çŸ©é˜µè½¬æ¢æˆåˆ—è¡¨" class="headerlink" title="å°†çŸ©é˜µè½¬æ¢æˆåˆ—è¡¨"></a>å°†çŸ©é˜µè½¬æ¢æˆ<font color="blue">åˆ—è¡¨</font></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = np.arrary([[1,2,3],[4,5,6],[7,8,9]])</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/08/h79K1J.png" alt="h79K1J.png"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = a.tolist()</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/08/h79BnI.png" alt="h79BnI.png"></p><h2 id="é€‰æ‹©åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ ï¼š"><a href="#é€‰æ‹©åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ ï¼š" class="headerlink" title="é€‰æ‹©åˆ—è¡¨ä¸­æŒ‡å®šå…ƒç´ ï¼š"></a>é€‰æ‹©<font color="blue">åˆ—è¡¨</font>ä¸­æŒ‡å®šå…ƒç´ ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c = a.tolist()[0]</span><br><span class="line">d = a.tolist()[2]</span><br><span class="line">print(c)</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/08/h79Wcj.png" alt="h79Wcj.png"></p><h2 id="åˆ—è¡¨åˆ‡ç‰‡ï¼š"><a href="#åˆ—è¡¨åˆ‡ç‰‡ï¼š" class="headerlink" title="åˆ—è¡¨åˆ‡ç‰‡ï¼š"></a><font color="blue">åˆ—è¡¨</font>åˆ‡ç‰‡ï¼š</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">e = a.tolist()[0:2]</span><br><span class="line"></span><br><span class="line">print(e)</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/08/h7CpE6.png" alt="h7CpE6.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-numpy </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¯å¢ƒå˜é‡</title>
      <link href="/2021/09/07/Ubuntu/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
      <url>/2021/09/07/Ubuntu/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>åˆ é™¤æŸä¸ªç¯å¢ƒå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset ç¯å¢ƒå˜é‡å</span><br></pre></td></tr></table></figure><p>å±•ç¤ºæ‰€æœ‰ç¯å¢ƒå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1.</span><br><span class="line">export -p</span><br><span class="line"></span><br><span class="line">2.</span><br><span class="line">env</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç¯å¢ƒå˜é‡çš„å€¼</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $ ç¯å¢ƒå˜é‡å</span><br></pre></td></tr></table></figure><p>æ·»åŠ ç¯å¢ƒå˜é‡</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export ç¯å¢ƒå˜é‡å = ç»å¯¹è·¯å¾„</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³apt-get install xxxæŠ¥é”™</title>
      <link href="/2021/09/07/Ubuntu/%E8%A7%A3%E5%86%B3apt-get%20install%20xxx%E6%8A%A5%E9%94%99/"/>
      <url>/2021/09/07/Ubuntu/%E8%A7%A3%E5%86%B3apt-get%20install%20xxx%E6%8A%A5%E9%94%99/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="E-æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚"><a href="#E-æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚" class="headerlink" title="E: æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚"></a>E: æ— æ³•ä¿®æ­£é”™è¯¯ï¼Œå› ä¸ºæ‚¨è¦æ±‚æŸäº›è½¯ä»¶åŒ…ä¿æŒç°çŠ¶ï¼Œå°±æ˜¯å®ƒä»¬ç ´åäº†è½¯ä»¶åŒ…é—´çš„ä¾èµ–å…³ç³»ã€‚</h2><p><img src="https://z3.ax1x.com/2021/09/07/hIYNGQ.png" alt="hIYNGQ.png"></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libhdf5-dev=1.8.11-5ubuntu7(ä¾èµ–)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>compile-uncompyle6--pyæ–‡ä»¶ä¸pycäº’è½¬</title>
      <link href="/2021/09/07/Python/%E6%A8%A1%E5%9D%97/compile%E3%80%81uncompyle6/compile-uncompyle6--py%E6%96%87%E4%BB%B6%E4%B8%8Epyc%E4%BA%92%E8%BD%AC/"/>
      <url>/2021/09/07/Python/%E6%A8%A1%E5%9D%97/compile%E3%80%81uncompyle6/compile-uncompyle6--py%E6%96%87%E4%BB%B6%E4%B8%8Epyc%E4%BA%92%E8%BD%AC/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ä¸€ï¼š"><a href="#ä¸€ï¼š" class="headerlink" title="ä¸€ï¼š"></a>ä¸€ï¼š</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># å°†ç›®å½•ä¸‹çš„æ–‡ä»¶è½¬ä¸º.pyc</span><br><span class="line">import compileall</span><br><span class="line">compileall.compile_dir(r&#x27;/mnt/hgfs/fy4_liucheng&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># å°†å•ä¸ª.pyæ–‡ä»¶è½¬ä¸º.pyc</span><br><span class="line">import py_compile</span><br><span class="line">py_compile.compile(&#x27;fy4_main.py&#x27;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="æˆåŠŸ"><a href="#æˆåŠŸ" class="headerlink" title="æˆåŠŸ"></a>æˆåŠŸ</h1><p><img src="https://z3.ax1x.com/2021/09/07/hIVy5V.png" alt="hIVy5V.png"></p><h2 id="äºŒï¼š"><a href="#äºŒï¼š" class="headerlink" title="äºŒï¼š"></a>äºŒï¼š</h2><h4 id="å®‰è£…uncompyle6"><a href="#å®‰è£…uncompyle6" class="headerlink" title="å®‰è£…uncompyle6"></a>å®‰è£…uncompyle6</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uncompyle6</span><br></pre></td></tr></table></figure><h4 id="å‘½ä»¤è¡Œä½¿ç”¨ï¼šè½¬åŒ–filename-pyc"><a href="#å‘½ä»¤è¡Œä½¿ç”¨ï¼šè½¬åŒ–filename-pyc" class="headerlink" title="å‘½ä»¤è¡Œä½¿ç”¨ï¼šè½¬åŒ–filename.pyc"></a>å‘½ä»¤è¡Œä½¿ç”¨ï¼šè½¬åŒ–filename.pyc</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uncompyle6 -o filename.py filename.pyc</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/09/26/4cSpxx.png" alt="4cSpxx.png"></p><h4 id="æ‰¹é‡è½¬åŒ–ç»™å®šç›®å½•ä¸‹çš„æ‰€æœ‰pycæ–‡ä»¶"><a href="#æ‰¹é‡è½¬åŒ–ç»™å®šç›®å½•ä¸‹çš„æ‰€æœ‰pycæ–‡ä»¶" class="headerlink" title="æ‰¹é‡è½¬åŒ–ç»™å®šç›®å½•ä¸‹çš„æ‰€æœ‰pycæ–‡ä»¶"></a>æ‰¹é‡è½¬åŒ–ç»™å®šç›®å½•ä¸‹çš„æ‰€æœ‰pycæ–‡ä»¶</h4><p>å…¸å‹æ¡ˆä¾‹ï¼špycæ–‡ä»¶åˆ†å¸ƒåœ¨ä¸åŒå­ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€å±‚éå†ï¼Œå°†æ¯ä¸€ä¸ªpycæ–‡ä»¶åˆ†åˆ«è½¬åŒ–æˆä¸€ä¸ªåŒåçš„pyæ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import sys</span><br><span class="line">def walk_dir(dir,topdown=True):</span><br><span class="line">for root, dirs, files in os.walk(dir, topdown):</span><br><span class="line">for name in files:</span><br><span class="line">    if name.endswith(&#x27;.pyc&#x27;):</span><br><span class="line">        part_name = name[0:-4]</span><br><span class="line">        part_file_name = os.path.join(root, part_name)</span><br><span class="line">        print(part_file_name)</span><br><span class="line">os.system(&#x27;uncompyle6 -o %s.py %s.pyc&#x27;%(part_file_name,part_file_name))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &#x27;__main__&#x27;:</span><br><span class="line">dirname = &quot;D:\dirname&quot;</span><br><span class="line">walk_dir(dirname)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-compileã€uncompyle6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå¤šé˜¶æ„å»º</title>
      <link href="/2021/08/31/Docker/Docker%E5%A4%9A%E9%98%B6%E6%9E%84%E5%BB%BA/"/>
      <url>/2021/08/31/Docker/Docker%E5%A4%9A%E9%98%B6%E6%9E%84%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="å¤šé˜¶æ„å»º"><a href="#å¤šé˜¶æ„å»º" class="headerlink" title="å¤šé˜¶æ„å»º"></a>å¤šé˜¶æ„å»º</h2><pre><code>dockerç‰ˆæœ¬ï¼š&gt;=17.05</code></pre><p>å¤šé˜¶æ®µæ„å»ºéœ€è¦æˆ‘ä»¬åœ¨Dockerfileä¸­ä½¿ç”¨FORMå£°æ˜ï¼Œæ¯æ¬¡FROMæŒ‡ä»¤å¯ä»¥ä½¿ç”¨ä¸åŒçš„åŸºç¡€é•œåƒï¼Œå¹¶ä¸”FORMæŒ‡ä»¤éƒ½ä¼šå¼€å§‹æ–°çš„æ„å»ºï¼Œæˆ‘ä»¬å¯ä»¥<font color=red><strong>é€‰æ‹©ä¸€ä¸ªé˜¶æ®µçš„æ„å»ºç»“æœå¤åˆ¶åˆ°å¦ä¸€ä¸ªé˜¶æ®µï¼Œåœ¨æœ€ç»ˆçš„é•œåƒä¸­åªä¼šç•™ä¸‹æœ€åä¸€æ¬¡æ„å»ºçš„ç»“æœ</strong></font>ï¼Œè¿™æ ·å°±å¯ä»¥å¾ˆå®¹æ˜“çš„è§£å†³å‰é¢æåˆ°çš„é—®é¢˜ï¼Œå¹¶ä¸”åªéœ€è¦ç¼–å†™ä¸€ä¸ªDockerfileæ–‡ä»¶ã€‚</p><p>åœ¨Dockerfileé‡Œä½¿ç”¨asæ¥ä¸ºæŸä¸€é˜¶æ®µå–ä¸€åˆ«åâ€œbuild-envâ€ï¼š</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> duojie-docker:latest as build-<span class="keyword">env</span></span><br></pre></td></tr></table></figure><p>ç„¶åä»ä¸Šä¸€é˜¶æ®µçš„é•œåƒä¸­å¤åˆ¶æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥å¤åˆ¶ä»»æ„é•œåƒä¸­çš„æ–‡ä»¶</p><figure class="highlight docker"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --from=build-env /code/ /code/</span></span><br></pre></td></tr></table></figure><p>çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># åŸºç¡€é•œåƒ</span><br><span class="line">FROM duojie-docker:latest as build-env</span><br><span class="line"></span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">FROM python:37</span><br><span class="line"></span><br><span class="line">COPY --from=build-env /code/ /code/</span><br><span class="line"></span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">CMD [&quot;python&quot;,&quot;test.py&quot;]</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œdocker build -t â€“rm duojie-dockeråå†æ‰§è¡Œdocker images ï¼Œç„¶åæˆ‘ä»¬æ¥çœ‹é•œåƒçš„å¤§å°ï¼š</p><p>å¤šé˜¶æ„å»ºç»™æˆ‘ä»¬å¸¦æ¥å¾ˆå¤šä¾¿åˆ©ï¼Œæœ€å¤§çš„ä¼˜åŠ¿æ˜¯åœ¨ä¿è¯è¿è¡Œé•œåƒè¶³å¤Ÿå°çš„æƒ…å†µä¸‹è¿˜å‡è½»äº†Dockerfileçš„ç»´æŠ¤è´Ÿæ‹…ï¼Œå› æ­¤æˆ‘ä»¬æåŠ›æ¨èä½¿ç”¨å¤šé˜¶æ„å»ºæ¥å°†ä½ çš„ä»£ç æ‰“åŒ…æˆDocker é•œåƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OSæ¨¡å—--æŸ¥æ‰¾ã€åˆ›å»ºã€åˆ é™¤æ–‡ä»¶</title>
      <link href="/2021/08/26/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E6%9F%A5%E6%89%BE%E3%80%81%E5%88%9B%E5%BB%BA%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6/"/>
      <url>/2021/08/26/Python/%E6%A8%A1%E5%9D%97/os/OS%E6%A8%A1%E5%9D%97--%E6%9F%A5%E6%89%BE%E3%80%81%E5%88%9B%E5%BB%BA%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># åˆ¤æ–­ç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(path):</span><br><span class="line">    <span class="comment"># åˆ›å»ºå¤šå±‚ç›®å½•</span></span><br><span class="line">    os.makedirs(path)</span><br><span class="line">    <span class="comment"># åˆ›å»ºç›®å½•</span></span><br><span class="line">    os.mkdir(path)</span><br><span class="line">    <span class="comment"># åˆ é™¤ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line">    os.remove(path)</span><br><span class="line">    <span class="comment"># é€’å½’åœ°åˆ é™¤ç›®å½•ã€‚å¦‚æœå­ç›®å½•æˆåŠŸè¢«åˆ é™¤ï¼Œåˆ™å°†ä¼šæˆåŠŸåˆ é™¤çˆ¶ç›®å½•ï¼Œå­ç›®å½•æ²¡æˆåŠŸåˆ é™¤ï¼Œå°†æŠ›å¼‚å¸¸ã€‚</span></span><br><span class="line">    os.removedirs(path)</span><br></pre></td></tr></table></figure><h4 id="os-walk-æ–¹æ³•ç”¨äºéå†ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹"><a href="#os-walk-æ–¹æ³•ç”¨äºéå†ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹" class="headerlink" title="os.walk()æ–¹æ³•ç”¨äºéå†ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹"></a>os.walk()æ–¹æ³•ç”¨äºéå†ç›®å½•ä¸‹çš„æ–‡ä»¶åï¼Œå‘ä¸Šæˆ–è€…å‘ä¸‹</h4><p>å‚æ•°ï¼š</p><ul><li><strong>top</strong> â€“ æ˜¯ä½ æ‰€è¦éå†çš„ç›®å½•çš„åœ°å€, è¿”å›çš„æ˜¯ä¸€ä¸ªä¸‰å…ƒç»„(root,dirs,files)ã€‚<ul><li>root æ‰€æŒ‡çš„æ˜¯å½“å‰æ­£åœ¨éå†çš„è¿™ä¸ªæ–‡ä»¶å¤¹çš„æœ¬èº«çš„åœ°å€</li><li>dirs æ˜¯ä¸€ä¸ª list ï¼Œå†…å®¹æ˜¯è¯¥æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰çš„ç›®å½•çš„åå­—(ä¸åŒ…æ‹¬å­ç›®å½•)</li><li>files åŒæ ·æ˜¯ list , å†…å®¹æ˜¯è¯¥æ–‡ä»¶å¤¹ä¸­æ‰€æœ‰çš„æ–‡ä»¶(ä¸åŒ…æ‹¬å­ç›®å½•)</li></ul></li><li><strong>topdown</strong> â€“å¯é€‰ï¼Œä¸º Trueï¼Œåˆ™ä¼˜å…ˆéå† top ç›®å½•ï¼Œå¦åˆ™ä¼˜å…ˆéå† top çš„å­ç›®å½•(é»˜è®¤ä¸ºå¼€å¯)ã€‚å¦‚æœ topdown å‚æ•°ä¸º Trueï¼Œwalk ä¼šéå†topæ–‡ä»¶å¤¹ï¼Œä¸top æ–‡ä»¶å¤¹ä¸­æ¯ä¸€ä¸ªå­ç›®å½•ã€‚</li><li><strong>onerror</strong> â€“ å¯é€‰ï¼Œéœ€è¦ä¸€ä¸ª callable å¯¹è±¡ï¼Œå½“ walk éœ€è¦å¼‚å¸¸æ—¶ï¼Œä¼šè°ƒç”¨ã€‚</li><li><strong>followlinks</strong> â€“ å¯é€‰ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ä¼šéå†ç›®å½•ä¸‹çš„å¿«æ·æ–¹å¼(linux ä¸‹æ˜¯è½¯è¿æ¥ symbolic link )å®é™…æ‰€æŒ‡çš„ç›®å½•(é»˜è®¤å…³é—­)ï¼Œå¦‚æœä¸º Falseï¼Œåˆ™ä¼˜å…ˆéå† top çš„å­ç›®å½•ã€‚</li></ul><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">walkFile</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(file):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># root è¡¨ç¤ºå½“å‰æ­£åœ¨è®¿é—®çš„æ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line">        <span class="comment"># dirs è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹ä¸‹çš„å­ç›®å½•ålist</span></span><br><span class="line">        <span class="comment"># files è¡¨ç¤ºè¯¥æ–‡ä»¶å¤¹ä¸‹çš„æ–‡ä»¶list</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># éå†æ–‡ä»¶</span></span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> files:</span><br><span class="line">            <span class="built_in">print</span>(os.path.join(root, f))</span><br><span class="line"></span><br><span class="line">        <span class="comment"># éå†æ‰€æœ‰çš„æ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="keyword">for</span> d <span class="keyword">in</span> dirs:</span><br><span class="line">            <span class="built_in">print</span>(os.path.join(root, d))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-os </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jsonæ¨¡å—å¸¸ç”¨æ–¹æ³•</title>
      <link href="/2021/08/25/Python/%E6%A8%A1%E5%9D%97/json/json%E6%A8%A1%E5%9D%97%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/"/>
      <url>/2021/08/25/Python/%E6%A8%A1%E5%9D%97/json/json%E6%A8%A1%E5%9D%97%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="JSON-å‡½æ•°"><a href="#JSON-å‡½æ•°" class="headerlink" title="JSON å‡½æ•°"></a>JSON å‡½æ•°</h2><p>ä½¿ç”¨ JSON å‡½æ•°éœ€è¦å¯¼å…¥ json åº“ï¼šimport jsonã€‚</p><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>json.dumps()</td><td>å°† Python å¯¹è±¡è½¬æ¢æˆ JSON å­—ç¬¦ä¸²ã€‚</td></tr><tr><td>json.loads()</td><td>å°† JSON å­—ç¬¦ä¸²è½¬æ¢æˆ Python å¯¹è±¡ã€‚</td></tr><tr><td>json.dump()</td><td>å°† Python ä¸­çš„å¯¹è±¡è½¬åŒ–æˆ JSON å­—ç¬¦ä¸²å‚¨å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</td></tr><tr><td>json.load()</td><td>å°†æ–‡ä»¶ä¸­çš„ JSON å­—ç¬¦ä¸²è½¬åŒ–æˆ Python å¯¹è±¡æå–å‡ºæ¥ã€‚</td></tr></tbody></table><h3 id="json-dumpsï¼ˆåºåˆ—åŒ–ï¼‰"><a href="#json-dumpsï¼ˆåºåˆ—åŒ–ï¼‰" class="headerlink" title="json.dumpsï¼ˆåºåˆ—åŒ–ï¼‰"></a><strong>json.dumps</strong>ï¼ˆåºåˆ—åŒ–ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment">#pythonå­—å…¸</span></span><br><span class="line">item = &#123;<span class="string">&#x27;website&#x27;</span>: <span class="string">&#x27;Cè¯­è¨€ä¸­æ–‡ç½‘&#x27;</span>, <span class="string">&#x27;rank&#x27;</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="comment"># json.dumpsä¹‹å</span></span><br><span class="line">item = json.dumps(item,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;è½¬æ¢ä¹‹åçš„æ•°æ®ç±»å‹ä¸ºï¼š&#x27;</span>,<span class="built_in">type</span>(item))</span><br><span class="line"><span class="built_in">print</span>(item)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è½¬æ¢ä¹‹åçš„æ•°æ®ç±»å‹ä¸ºï¼š &lt;class &#x27;str&#x27;&gt;</span><br><span class="line">&#123;&quot;website&quot;: &quot;Cè¯­è¨€ä¸­æ–‡ç½‘&quot;, &quot;url&quot;: &quot;c.biancheng.net&quot;&#125;</span><br></pre></td></tr></table></figure><h3 id="json-loadsï¼ˆååºåˆ—åŒ–ï¼‰"><a href="#json-loadsï¼ˆååºåˆ—åŒ–ï¼‰" class="headerlink" title="json.loadsï¼ˆååºåˆ—åŒ–ï¼‰"></a><strong>json.loads</strong>ï¼ˆååºåˆ—åŒ–ï¼‰</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf8</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment">#JOSNå­—ç¬¦ä¸²</span></span><br><span class="line">website_info=<span class="string">&#x27;&#123;&quot;name&quot; : &quot;cè¯­è¨€ä¸­æ–‡ç½‘&quot;&#125;&#x27;</span></span><br><span class="line">py_dict=json.loads(website_info)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;pythonå­—å…¸æ•°æ®æ ¼å¼ï¼š%sï¼›æ•°æ®ç±»å‹ï¼š%s&quot;</span>% (py_dict,<span class="built_in">type</span>(py_dict)))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pythonå­—å…¸æ•°æ®æ ¼å¼ï¼š&#123;&#x27;name&#x27;: &#x27;cè¯­è¨€ä¸­æ–‡ç½‘&#x27;&#125;ï¼›æ•°æ®ç±»å‹ï¼š&lt;class &#x27;dict&#x27;&gt;</span><br></pre></td></tr></table></figure><h3 id="json-dump"><a href="#json-dump" class="headerlink" title="json.dump()"></a><strong>json.dump()</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">json.dump(<span class="built_in">object</span>,f,inden=<span class="number">0</span>ï¼Œensure_ascii=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment"># objectï¼šPython æ•°æ®å¯¹è±¡ï¼Œæ¯”å¦‚å­—å…¸ï¼Œåˆ—è¡¨ç­‰</span></span><br><span class="line"><span class="comment"># fï¼šæ–‡ä»¶æµå¯¹è±¡ï¼Œå³æ–‡ä»¶å¥æŸ„ã€‚</span></span><br><span class="line"><span class="comment"># indentï¼šæ ¼å¼åŒ–å­˜å‚¨æ•°æ®ï¼Œä½¿ JSON å­—ç¬¦ä¸²æ›´æ˜“é˜…è¯»ã€‚</span></span><br><span class="line"><span class="comment"># ensure_asciiï¼šæ˜¯å¦ä½¿ç”¨ ascii ç¼–ç ï¼Œå½“æ•°æ®ä¸­å‡ºç°ä¸­æ–‡çš„æ—¶å€™ï¼Œéœ€è¦å°†å…¶è®¾ç½®ä¸º Falseã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">ditc_info=&#123;<span class="string">&quot;name&quot;</span> : <span class="string">&quot;cè¯­è¨€ä¸­æ–‡ç½‘&quot;</span>,<span class="string">&quot;PV&quot;</span> : <span class="string">&quot;50ä¸‡&quot;</span>,<span class="string">&quot;UV&quot;</span> : <span class="string">&quot;20ä¸‡&quot;</span>,<span class="string">&quot;create_time&quot;</span> : <span class="string">&quot;2010å¹´&quot;</span>&#125;</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;web.josn&quot;</span>,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(ditc_info,f,ensure_ascii=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p>æ‰“å¼€ web.json æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cè¯­è¨€ä¸­æ–‡ç½‘&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;PV&quot;</span><span class="punctuation">:</span> <span class="string">&quot;50ä¸‡&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;UV&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20ä¸‡&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;create_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2010å¹´&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="json-load"><a href="#json-load" class="headerlink" title="json.load"></a>json.load</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">site = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;cè¯­è¨€ä¸­æ–‡ç½‘&#x27;</span>,<span class="string">&quot;url&quot;</span>:<span class="string">&quot;c.biancheng.net&quot;</span>&#125;</span><br><span class="line">filename = <span class="string">&#x27;website.json&#x27;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span> (filename,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(site,f,ensure_ascii=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span> (filename,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="built_in">print</span>(json.load(f))</span><br></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœ</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span>&#x27;name&#x27;<span class="punctuation">:</span> &#x27;cè¯­è¨€ä¸­æ–‡ç½‘&#x27;<span class="punctuation">,</span> &#x27;url&#x27;<span class="punctuation">:</span> &#x27;c.biancheng.net&#x27;<span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="json-dumpsçš„å‚æ•°-ensure-ascii-x3D-False"><a href="#json-dumpsçš„å‚æ•°-ensure-ascii-x3D-False" class="headerlink" title="json.dumpsçš„å‚æ•°:ensure_ascii&#x3D;False"></a>json.dumpsçš„å‚æ•°:ensure_ascii&#x3D;False</h3><p>json_dumps(dict)æ—¶ï¼Œå¦‚æœdictåŒ…å«æœ‰æ±‰å­—ï¼Œä¸€å®šåŠ ä¸Šensure_ascii&#x3D;Falseã€‚å¦åˆ™æŒ‰å‚æ•°é»˜è®¤å€¼Trueï¼Œæ„æ€æ˜¯ä¿è¯dumpsä¹‹åçš„ç»“æœé‡Œæ‰€æœ‰çš„å­—ç¬¦éƒ½èƒ½å¤Ÿè¢«asciiè¡¨ç¤ºï¼Œæ±‰å­—åœ¨asciiçš„å­—ç¬¦é›†é‡Œé¢ï¼Œå› æ­¤ç»è¿‡dumpsä»¥åçš„stré‡Œï¼Œæ±‰å­—ä¼šå˜æˆå¯¹åº”çš„unicodeã€‚</p><h4 id="x3D-x3D-ç»¼ä¸Šæ‰€è¿°-json-load-ä¸-json-dump-æ“ä½œçš„æ˜¯æ–‡ä»¶æµå¯¹è±¡ï¼Œå®ç°äº†-json-æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œè€Œ-json-loads-ä¸-json-dumps-æ“ä½œçš„æ˜¯-Python-å¯¹è±¡æˆ–è€…-JOSN-å­—ç¬¦ä¸²ã€‚-x3D-x3D"><a href="#x3D-x3D-ç»¼ä¸Šæ‰€è¿°-json-load-ä¸-json-dump-æ“ä½œçš„æ˜¯æ–‡ä»¶æµå¯¹è±¡ï¼Œå®ç°äº†-json-æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œè€Œ-json-loads-ä¸-json-dumps-æ“ä½œçš„æ˜¯-Python-å¯¹è±¡æˆ–è€…-JOSN-å­—ç¬¦ä¸²ã€‚-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;ç»¼ä¸Šæ‰€è¿° json.load() ä¸ json.dump() æ“ä½œçš„æ˜¯æ–‡ä»¶æµå¯¹è±¡ï¼Œå®ç°äº† json æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œè€Œ json.loads() ä¸ json.dumps() æ“ä½œçš„æ˜¯ Python å¯¹è±¡æˆ–è€… JOSN å­—ç¬¦ä¸²ã€‚&#x3D;&#x3D;"></a>&#x3D;&#x3D;ç»¼ä¸Šæ‰€è¿° json.load() ä¸ json.dump() æ“ä½œçš„æ˜¯æ–‡ä»¶æµå¯¹è±¡ï¼Œå®ç°äº† json æ–‡ä»¶çš„è¯»å†™æ“ä½œï¼Œè€Œ json.loads() ä¸ json.dumps() æ“ä½œçš„æ˜¯ Python å¯¹è±¡æˆ–è€… JOSN å­—ç¬¦ä¸²ã€‚&#x3D;&#x3D;</h4>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-json </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>sys.argvæ¥æ”¶jsonæ ¼å¼å‚æ•°é—®é¢˜</title>
      <link href="/2021/08/25/Python/%E6%A8%A1%E5%9D%97/sys/sys.argv%E6%8E%A5%E6%94%B6json%E6%A0%BC%E5%BC%8F%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/"/>
      <url>/2021/08/25/Python/%E6%A8%A1%E5%9D%97/sys/sys.argv%E6%8E%A5%E6%94%B6json%E6%A0%BC%E5%BC%8F%E5%8F%82%E6%95%B0%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="äº²æµ‹"><a href="#äº²æµ‹" class="headerlink" title="äº²æµ‹"></a>äº²æµ‹</h3><p>åœºæ™¯ï¼šä½¿ç”¨sys.argvæ¥æ”¶å‚æ•°æ—¶ï¼Œåœ¨æœåŠ¡å™¨ä¸‹å’Œå®¹å™¨ä¸‹æ¥æ”¶åˆ°çš„åŒä¸€ä¸ªjsonå‚æ•°ä¸ä¸€è‡´</p><p>1.ä¾‹å¦‚ï¼š</p><pre><code>python ./fy4_main.py exe &#123;&quot;times&quot;:&#123;&quot;clp&quot;:&quot;20210112005542&quot;&#125;,&quot;outpath&quot;:&quot;/output/fy4&quot;,&quot;fy4_l2&quot;:&#123;&quot;clp&quot;:&quot;/CMADAAS/DATA/FY4A/L2/AGRI/2021//20210112/Z_SATE_C_BAWX_20210112005542_P_FY4A-_AGRI--_N_REGC_1047E_L2-_CLP-_MULT_NOM_20210112004500_20210112004917_4000M_V0001.NC&quot;&#125;,&quot;shp&quot;:&quot;/input/xibei.shp&quot;&#125;</code></pre><p>åœ¨æŸäº›ç¯å¢ƒä¸‹ï¼Œæ¥æ”¶åˆ°exeåé¢çš„jsonå‚æ•°åï¼Œä¼šå‘ç°<font color="red">åŒå¼•å·è¢«ç›´æ¥çœç•¥</font>ï¼Œå¯¼è‡´æ— æ³•è½¬ä¸ºjsonå­—ç¬¦ä¸²</p><p>å¦‚ä¸‹ï¼š</p><pre><code>[&#39;times:&#123;clp:20210112005542&#125;&#39;, &#39;outpath:/output/fy4&#39;, &#39;fy4_l2:&#123;clp:/CMADAAS/DATA/FY4A/L2/AGRI/2021//20210112/Z_SATE_C_BAWX_20210112005542_P_FY4A-_AGRI--_N_REGC_1047E_L2-_CLP-_MULT_NOM_20210112004500_20210112004917_4000M_V0001.NC&#125;&#39;, &#39;shp:/input/xibei.shp&#39;]</code></pre><p>å½“å°†ä¸Šé¢çš„å‚æ•°æ‰§è¡Œjson.loads(ä¸Šé¢jsonå‚æ•°)æ—¶ï¼Œå¯èƒ½ä¼šæŠ¥é”™ï¼š<font color="red">â€œNo JSON object could be decodedâ€</font></p><p>è§£å†³æ–¹å¼å¦‚ä¸‹ï¼š</p><pre><code>åœ¨æ‰§è¡Œå‘½ä»¤çš„å‘½ä»¤ä¸­ï¼Œjsonå‚æ•°çš„å‰ååŠ ä¸€ä¸ªå•å¼•å·python ./fy4_main.py exe &#39;&#123;&quot;times&quot;:&#123;&quot;clp&quot;:&quot;20210112005542&quot;&#125;,&quot;outpath&quot;:&quot;/output/fy4&quot;,&quot;fy4_l2&quot;:&#123;&quot;clp&quot;:&quot;/CMADAAS/DATA/FY4A/L2/AGRI/2021//20210112/Z_SATE_C_BAWX_20210112005542_P_FY4A-_AGRI--_N_REGC_1047E_L2-_CLP-_MULT_NOM_20210112004500_20210112004917_4000M_V0001.NC&quot;&#125;,&quot;shp&quot;:&quot;/input/xibei.shp&quot;&#125;&#39;</code></pre><p>æ­¤æ—¶æ¥æ”¶çš„jsonå‚æ•°argsä¸ºï¼ˆä¸¤ç§ï¼‰ï¼š</p><pre><code>[&#39;\&#39;&#123;&quot;times&quot;:&#123;&quot;clp&quot;:&quot;20210112005542&quot;&#125;,&quot;outpath&quot;:&quot;/output/fy4&quot;,&quot;fy4_l2&quot;:&#123;&quot;clp&quot;:&quot;/CMADAAS/DATA/FY4A/L2/AGRI/2021//20210112/Z_SATE_C_BAWX_20210112005542_P_FY4A-_AGRI--_N_REGC_1047E_L2-_CLP-_MULT_NOM_20210112004500_20210112004917_4000M_V0001.NC&quot;&#125;,&quot;shp&quot;:&quot;/input/xibei.shp&quot;&#125;\&#39;&#39;][&#39;&#123;&quot;times&quot;:&#123;&quot;clp&quot;:&quot;20210112005542&quot;&#125;,&quot;outpath&quot;:&quot;/output/fy4&quot;,&quot;fy4_l2&quot;:&#123;&quot;clp&quot;:&quot;/CMADAAS/DATA/FY4A/L2/AGRI/2021//20210112/Z_SATE_C_BAWX_20210112005542_P_FY4A-_AGRI--_N_REGC_1047E_L2-_CLP-_MULT_NOM_20210112004500_20210112004917_4000M_V0001.NC&quot;&#125;,&quot;shp&quot;:&quot;/input/xibei.shp&quot;&#125;&#39;]</code></pre><p>æ­¤æ—¶æœªé˜²æ­¢æœåŠ¡å™¨ä¸‹å’Œå®¹å™¨å†…æ¥æ”¶åˆ°çš„å‚æ•°ä¸ä¸€è‡´ï¼Œæ‰€ä»¥è½¬ä¸ºjsonå­—ç¬¦ä¸²æ›´å…¨é¢çš„åŠæ³•æ˜¯ï¼š</p><pre><code>try:    dicts = json.loads(args[0])except:    dicts = json.loads(args[0].split(&quot;&#39;&quot;)[1])print(dicts)</code></pre><hr><h3 id="å…¶ä»–åœºæ™¯"><a href="#å…¶ä»–åœºæ™¯" class="headerlink" title="å…¶ä»–åœºæ™¯"></a>å…¶ä»–åœºæ™¯</h3><p>1ã€jsonæ ¼å¼ä¸å¯¹ï¼šä¼ é€’çš„jsonä¸­å¯èƒ½å«æœ‰å•å¼•å·ï¼Œå†å°±æ˜¯åŒå¼•å·ä¼šå¤±æ•ˆï¼Œä¸‹é¢ä¼šè®²åˆ°</p><p>2ã€jsonä¸­æœ‰ä¸­æ–‡ï¼Œåœ¨pyæ–‡ä»¶ä¸­è§£æä¼šæŠ¥ç¼–ç é”™è¯¯</p><p>3ã€jsonä¸­æœ‰ç©ºæ ¼ï¼Œå¯¼è‡´pyæ–‡ä»¶æ¥æ”¶å‚æ•°æ—¶ä¸å®Œæ•´</p><h4 id="é—®é¢˜ä¸€ï¼šæ ¼å¼é—®é¢˜"><a href="#é—®é¢˜ä¸€ï¼šæ ¼å¼é—®é¢˜" class="headerlink" title="é—®é¢˜ä¸€ï¼šæ ¼å¼é—®é¢˜"></a>é—®é¢˜ä¸€ï¼šæ ¼å¼é—®é¢˜</h4><p>é€šè¿‡sys.argvä¼ å‚ç»™pyæ–‡ä»¶ï¼Œä¸€ä¸ªé—®é¢˜å°±æ˜¯åŒå¼•å·ä¼šè¢«å½“æˆæ˜¯å­—ç¬¦çš„ä¸€éƒ¨åˆ†ä¸ºçœç•¥æ‰å¦‚å›¾ï¼š</p><p><img src="https://z3.ax1x.com/2021/08/25/hZUycD.png" alt="hZUycD.png"></p><p>è§£å†³æ–¹æ³•ï¼šè½¬ä¹‰ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://z3.ax1x.com/2021/08/25/hZU6je.png" alt="hZU6je.png"></p><h4 id="é—®é¢˜äºŒï¼šä¸­æ–‡é—®é¢˜ï¼Œargvä¼ å‚çš„æœ€å¤šå¤§é—®é¢˜æ˜¯æ­¤æ—¶çš„ä¸­æ–‡ç¼–ç æ˜¯æ§åˆ¶å°çš„ç¼–ç è€Œä¸æ˜¯utf-8ï¼Œå¦‚å›¾ï¼š"><a href="#é—®é¢˜äºŒï¼šä¸­æ–‡é—®é¢˜ï¼Œargvä¼ å‚çš„æœ€å¤šå¤§é—®é¢˜æ˜¯æ­¤æ—¶çš„ä¸­æ–‡ç¼–ç æ˜¯æ§åˆ¶å°çš„ç¼–ç è€Œä¸æ˜¯utf-8ï¼Œå¦‚å›¾ï¼š" class="headerlink" title="é—®é¢˜äºŒï¼šä¸­æ–‡é—®é¢˜ï¼Œargvä¼ å‚çš„æœ€å¤šå¤§é—®é¢˜æ˜¯æ­¤æ—¶çš„ä¸­æ–‡ç¼–ç æ˜¯æ§åˆ¶å°çš„ç¼–ç è€Œä¸æ˜¯utf-8ï¼Œå¦‚å›¾ï¼š"></a>é—®é¢˜äºŒï¼šä¸­æ–‡é—®é¢˜ï¼Œargvä¼ å‚çš„æœ€å¤šå¤§é—®é¢˜æ˜¯æ­¤æ—¶çš„ä¸­æ–‡ç¼–ç æ˜¯æ§åˆ¶å°çš„ç¼–ç è€Œä¸æ˜¯utf-8ï¼Œå¦‚å›¾ï¼š</h4><p><img src="https://z3.ax1x.com/2021/08/25/hZUfAI.png" alt="hZUfAI.png"></p><p>è§£å†³æ–¹æ³•ï¼šè·å–å­—ç¬¦ç¼–ç å†è§£ç </p><p><img src="https://z3.ax1x.com/2021/08/25/hZa8UI.png" alt="hZa8UI.png"></p><h4 id="é—®é¢˜ä¸‰ï¼šjsonä¸­æœ‰ç©ºæ ¼å’‹åŠï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘ï¼Œä½†æ˜¯ä¸èƒ½å®Œå…¨é¿å…ï¼Œæ­¤æ—¶çš„ç©ºæ ¼ä¼šè¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªargvå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œå¦‚å›¾ï¼š"><a href="#é—®é¢˜ä¸‰ï¼šjsonä¸­æœ‰ç©ºæ ¼å’‹åŠï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘ï¼Œä½†æ˜¯ä¸èƒ½å®Œå…¨é¿å…ï¼Œæ­¤æ—¶çš„ç©ºæ ¼ä¼šè¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªargvå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œå¦‚å›¾ï¼š" class="headerlink" title="é—®é¢˜ä¸‰ï¼šjsonä¸­æœ‰ç©ºæ ¼å’‹åŠï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘ï¼Œä½†æ˜¯ä¸èƒ½å®Œå…¨é¿å…ï¼Œæ­¤æ—¶çš„ç©ºæ ¼ä¼šè¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªargvå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œå¦‚å›¾ï¼š"></a>é—®é¢˜ä¸‰ï¼šjsonä¸­æœ‰ç©ºæ ¼å’‹åŠï¼Œè¿™ç§æƒ…å†µå¾ˆå°‘ï¼Œä½†æ˜¯ä¸èƒ½å®Œå…¨é¿å…ï¼Œæ­¤æ—¶çš„ç©ºæ ¼ä¼šè¢«è®¤ä¸ºæ˜¯ä¸¤ä¸ªargvå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œå¦‚å›¾ï¼š</h4><p><img src="https://z3.ax1x.com/2021/08/25/hZat8f.png" alt="hZat8f.png"></p><p>è§£å†³æ–¹æ³•ï¼šæ‹¼æ¥argvsï¼Œç›®å‰æ²¡æƒ³åˆ°åˆ«çš„æ–¹æ³•ï¼Œæ‹¼æ¥æ˜¯ç®€å•ç²—æš´çš„ï¼Œä½†æ˜¯ä¸èƒ½ç”¨joinæ‹¼æ¥ï¼Œå› ä¸ºä¸­æ–‡ç¼–ç æŠ¥é”™ã€‚ä½¿ç”¨+ï¼š</p><p><img src="https://z3.ax1x.com/2021/08/25/hZaUxS.png" alt="hZaUxS.png"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-sys </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonè¯»å–txtæ–‡ä»¶ã€with</title>
      <link href="/2021/08/25/Python/%E6%A8%A1%E5%9D%97/read%E3%80%81readline%E3%80%81readlines%E3%80%81with/python%E8%AF%BB%E5%8F%96txt%E6%96%87%E4%BB%B6%E3%80%81with/"/>
      <url>/2021/08/25/Python/%E6%A8%A1%E5%9D%97/read%E3%80%81readline%E3%80%81readlines%E3%80%81with/python%E8%AF%BB%E5%8F%96txt%E6%96%87%E4%BB%B6%E3%80%81with/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="Pythonè¯»å–txtæ–‡ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š"><a href="#Pythonè¯»å–txtæ–‡ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š" class="headerlink" title="Pythonè¯»å–txtæ–‡ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š"></a>Pythonè¯»å–txtæ–‡ä»¶ï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</h2><h4 id="1-é€è¡Œè¯»å–readline"><a href="#1-é€è¡Œè¯»å–readline" class="headerlink" title="(1)é€è¡Œè¯»å–readline()"></a>(1)é€è¡Œè¯»å–readline()</h4><p>å‡½æ•°ç”¨äºè¯»å–æ–‡ä»¶ä¸­çš„ä¸€è¡Œï¼ŒåŒ…å«æœ€åçš„æ¢è¡Œç¬¦â€œ\nâ€ã€‚æ­¤å‡½æ•°çš„åŸºæœ¬è¯­æ³•æ ¼å¼ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1 data=open(&quot;data.txt&quot;)</span><br><span class="line">2 line=data.readline()</span><br><span class="line">3 while line:</span><br><span class="line">4       print line</span><br><span class="line">5       line=data.readline()</span><br></pre></td></tr></table></figure><h4 id="2-ä¸€æ¬¡å…¨éƒ¨è¯»å…¥å†…å­˜readlines"><a href="#2-ä¸€æ¬¡å…¨éƒ¨è¯»å…¥å†…å­˜readlines" class="headerlink" title="(2)ä¸€æ¬¡å…¨éƒ¨è¯»å…¥å†…å­˜readlines()"></a>(2)ä¸€æ¬¡å…¨éƒ¨è¯»å…¥å†…å­˜readlines()</h4><p>readlines() å‡½æ•°ç”¨äºè¯»å–æ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡Œï¼Œå®ƒå’Œè°ƒç”¨ä¸æŒ‡å®š size å‚æ•°çš„ read() å‡½æ•°ç±»ä¼¼ï¼Œåªä¸è¿‡è¯¥å‡½æ•°è¿”å›æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²åˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä¸ºæ–‡ä»¶ä¸­çš„ä¸€è¡Œå†…å®¹ã€‚</p><p>å’Œ readline() å‡½æ•°ä¸€æ ·ï¼Œreadlines() å‡½æ•°åœ¨è¯»å–æ¯ä¸€è¡Œæ—¶ï¼Œä¼šè¿åŒè¡Œå°¾çš„æ¢è¡Œç¬¦ä¸€å—è¯»å–ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1 data=open(&quot;data.txt&quot;)</span><br><span class="line">2 for line in data.readlines():</span><br><span class="line">3       print line</span><br></pre></td></tr></table></figure><h1 id="python-ä½¿ç”¨-with-openï¼ˆï¼‰-as-è¯»å†™æ–‡ä»¶"><a href="#python-ä½¿ç”¨-with-openï¼ˆï¼‰-as-è¯»å†™æ–‡ä»¶" class="headerlink" title="python ä½¿ç”¨ with openï¼ˆï¼‰ as è¯»å†™æ–‡ä»¶"></a>python ä½¿ç”¨ with openï¼ˆï¼‰ as è¯»å†™æ–‡ä»¶</h1><p>è¯»æ–‡ä»¶:</p><p>è¦ä»¥è¯»æ–‡ä»¶çš„æ¨¡å¼æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡ï¼Œä½¿ç”¨Pythonå†…ç½®çš„open()å‡½æ•°ï¼Œä¼ å…¥æ–‡ä»¶åå’Œæ ‡ç¤ºç¬¦ï¼š</p><blockquote><p>f &#x3D; open(â€˜E:\python\python\test.txtâ€™, â€˜râ€™)</p></blockquote><p>æ ‡ç¤ºç¬¦â€™râ€™è¡¨ç¤ºè¯»ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±æˆåŠŸåœ°æ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶ã€‚</p><p>å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œopen()å‡½æ•°å°±ä¼šæŠ›å‡ºä¸€ä¸ªIOErrorçš„é”™è¯¯ï¼Œå¹¶ä¸”ç»™å‡ºé”™è¯¯ç å’Œè¯¦ç»†çš„ä¿¡æ¯å‘Šè¯‰ä½ æ–‡ä»¶ä¸å­˜åœ¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f=open(&#x27;E:\python\python\notfound.txt&#x27;, &#x27;r&#x27;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span><br><span class="line">FileNotFoundError: [Errno 2] No such file or directory: &#x27;E:\python\python\notfound.txt&#x27;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ–‡ä»¶æ‰“å¼€æˆåŠŸï¼Œæ¥ä¸‹æ¥ï¼Œè°ƒç”¨read()æ–¹æ³•å¯ä»¥ä¸€æ¬¡è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼ŒPythonæŠŠå†…å®¹è¯»åˆ°å†…å­˜ï¼Œç”¨ä¸€ä¸ªstrå¯¹è±¡è¡¨ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; f.read()</span><br><span class="line">&#x27;Hello, python!&#x27;</span><br></pre></td></tr></table></figure><p>æœ€åä¸€æ­¥æ˜¯è°ƒç”¨close()æ–¹æ³•å…³é—­æ–‡ä»¶ã€‚æ–‡ä»¶ä½¿ç”¨å®Œæ¯•åå¿…é¡»å…³é—­ï¼Œå› ä¸ºæ–‡ä»¶å¯¹è±¡ä¼šå ç”¨æ“ä½œç³»ç»Ÿçš„èµ„æºï¼Œå¹¶ä¸”æ“ä½œç³»ç»ŸåŒä¸€æ—¶é—´èƒ½æ‰“å¼€çš„æ–‡ä»¶æ•°é‡ä¹Ÿæ˜¯æœ‰é™çš„ï¼š</p><blockquote><blockquote><blockquote><p>f.close()</p></blockquote></blockquote></blockquote><p>ç”±äºæ–‡ä»¶è¯»å†™æ—¶éƒ½æœ‰å¯èƒ½äº§ç”ŸIOErrorï¼Œä¸€æ—¦å‡ºé”™ï¼Œåé¢çš„f.close()å°±ä¸ä¼šè°ƒç”¨ã€‚æ‰€ä»¥ï¼Œä¸ºäº†ä¿è¯æ— è®ºæ˜¯å¦å‡ºé”™éƒ½èƒ½æ­£ç¡®åœ°å…³é—­æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨with â€¦ openæ¥å®ç°ï¼š<br>å®ƒå¯ä»¥è‡ªåŠ¨è°ƒç”¨closeæ–¹æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">with open(&#x27;/path/to/file&#x27;, &#x27;r&#x27;) as f:</span><br><span class="line">    print(f.read())</span><br></pre></td></tr></table></figure><h4 id="å°çŸ¥è¯†ç‚¹"><a href="#å°çŸ¥è¯†ç‚¹" class="headerlink" title="å°çŸ¥è¯†ç‚¹"></a>å°çŸ¥è¯†ç‚¹</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for line in f.readlines():</span><br><span class="line">    print(line.strip()) # æŠŠæœ«å°¾çš„&#x27;\n&#x27;åˆ æ‰</span><br></pre></td></tr></table></figure><h2 id="readã€readlineã€readlinesçš„åŒºåˆ«"><a href="#readã€readlineã€readlinesçš„åŒºåˆ«" class="headerlink" title="readã€readlineã€readlinesçš„åŒºåˆ«"></a>readã€readlineã€readlinesçš„åŒºåˆ«</h2><p>è°ƒç”¨read()ä¼šä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼Œå¦‚æœæ–‡ä»¶æœ‰20Gï¼Œå†…å­˜å°±çˆ†äº†ï¼Œæ‰€ä»¥ï¼Œè¦ä¿é™©èµ·è§ï¼Œå¯ä»¥åå¤è°ƒç”¨read(size)æ–¹æ³•ï¼Œæ¯æ¬¡æœ€å¤šè¯»å–sizeä¸ªå­—èŠ‚çš„å†…å®¹ã€‚</p><p>å¦å¤–ï¼Œè°ƒç”¨readline()å¯ä»¥æ¯æ¬¡è¯»å–ä¸€è¡Œå†…å®¹ã€‚</p><p>è°ƒç”¨readlines()ä¸€æ¬¡è¯»å–æ‰€æœ‰å†…å®¹å¹¶æŒ‰è¡Œè¿”å›listã€‚å› æ­¤ï¼Œè¦æ ¹æ®éœ€è¦å†³å®šæ€ä¹ˆè°ƒç”¨ã€‚</p><ol><li>read() æ¯æ¬¡è¯»å–æ•´ä¸ªæ–‡ä»¶ï¼Œå®ƒé€šå¸¸å°†è¯»å–åˆ°åº•æ–‡ä»¶å†…å®¹æ”¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´ .read() ç”Ÿæˆæ–‡ä»¶å†…å®¹æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ã€‚</li><li>readline()æ¯åªè¯»å–æ–‡ä»¶çš„ä¸€è¡Œï¼Œé€šå¸¸ä¹Ÿæ˜¯è¯»å–åˆ°çš„ä¸€è¡Œå†…å®¹æ”¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ä¸­ï¼Œè¿”å›strç±»å‹ã€‚</li><li>readlines()æ¯æ¬¡æŒ‰è¡Œè¯»å–æ•´ä¸ªæ–‡ä»¶å†…å®¹ï¼Œå°†è¯»å–åˆ°çš„å†…å®¹æ”¾åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œè¿”å›listç±»å‹ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-readã€readlineã€readlinesã€with </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå®¹å™¨é•œåƒæ‰“æˆtaråŒ…</title>
      <link href="/2021/08/23/Docker/Docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%89%93%E6%88%90tar%E5%8C%85/"/>
      <url>/2021/08/23/Docker/Docker%E5%AE%B9%E5%99%A8%E9%95%9C%E5%83%8F%E6%89%93%E6%88%90tar%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¸€ã€ç®€è¿°éœ€æ±‚ï¼š"><a href="#ä¸€ã€ç®€è¿°éœ€æ±‚ï¼š" class="headerlink" title="ä¸€ã€ç®€è¿°éœ€æ±‚ï¼š"></a>ä¸€ã€<strong>ç®€è¿°éœ€æ±‚ï¼š</strong></h2><p><strong>åœ¨ç°åœ¨å®¹å™¨ä¸Šä¿å­˜é•œåƒè¿›è¡Œæ‰“åŒ…ï¼Œåœ¨å¦ä¸€å°æœåŠ¡ä¸Šä½¿ç”¨</strong></p><h3 id="1-æŸ¥çœ‹æ‰“åŒ…å®¹å™¨"><a href="#1-æŸ¥çœ‹æ‰“åŒ…å®¹å™¨" class="headerlink" title="1.æŸ¥çœ‹æ‰“åŒ…å®¹å™¨"></a>1.æŸ¥çœ‹æ‰“åŒ…å®¹å™¨</h3><p>é¦–å…ˆæŸ¥çœ‹ä¸‹ç°æœ‰è¦æ‰“taråŒ…çš„å®¹å™¨</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/08/23/hCqCyn.png" alt="hCqCyn.png"></p><h3 id="2-ä¿å­˜é•œåƒ"><a href="#2-ä¿å­˜é•œåƒ" class="headerlink" title="2.ä¿å­˜é•œåƒ"></a>2.ä¿å­˜é•œåƒ</h3><p>æ¥ä¸‹æ¥ç”¨commitå‚æ•°è¿›è¡Œä¿å­˜é•œåƒï¼Œ -a æäº¤äººçš„å§“å  -m â€œæäº¤å†…å®¹â€ï¼Œæ ¼å¼å¦‚ï¼šdocker  commit  -a  -m  ç°æœ‰å®¹å™¨ID     ä¿å­˜åçš„åç§°ï¼šç‰ˆæœ¬å·</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit -a &quot;wanghan&quot; -m &quot;åŒºåŸŸå¼‚å¸¸å€¼æ¶ˆé™¤ç®—æ³•&quot; e6f78e0b5ec7 regional_outlier:1.0</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥æŸ¥çœ‹ä¸‹é•œåƒæ˜¯å¦å‡ºç°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/08/23/hCqa6A.png" alt="hCqa6A.png"></p><h3 id="3-æ‰“åŒ…"><a href="#3-æ‰“åŒ…" class="headerlink" title="3.æ‰“åŒ…"></a>3.æ‰“åŒ…</h3><p>ç„¶åsaveå‚æ•°è¿›è¡Œæ‰“åŒ…ï¼Œæ ¼å¼å¦‚ï¼šdocker save -o  è¦æ‰“é•œåƒåŒ…åç§°     é•œåƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save -o regional_outlier.tar regional_outlier:1.0</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/08/23/hCLSAK.png" alt="hCLSAK.png"></p><h2 id="æ‹“å±•"><a href="#æ‹“å±•" class="headerlink" title="æ‹“å±•"></a>æ‹“å±•</h2><p>å°†taråŒ…å¯¼å…¥ä¸ºé•œåƒ<br>é¦–å…ˆè¿›è¡Œloadè¿›è¡Œå¯¼å‡ºé•œåƒæ“ä½œ        docker load:å¯¼å…¥ä½¿ç”¨ï¼Œdocker save å‘½ä»¤å¯¼å‡ºçš„é•œåƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i regional_outlier.tar</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æœ¬åœ°æ˜¯å¦å‡ºç°é•œåƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘--åœ¨pythonè„šæœ¬æ‰§è¡Œåï¼Œdockerå®¹å™¨ç«‹å³é€€å‡º</title>
      <link href="/2021/08/17/Docker/%E5%9D%91--%E5%9C%A8python%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%EF%BC%8Cdocker%E5%AE%B9%E5%99%A8%E7%AB%8B%E5%8D%B3%E9%80%80%E5%87%BA/"/>
      <url>/2021/08/17/Docker/%E5%9D%91--%E5%9C%A8python%E8%84%9A%E6%9C%AC%E6%89%A7%E8%A1%8C%E5%90%8E%EF%BC%8Cdocker%E5%AE%B9%E5%99%A8%E7%AB%8B%E5%8D%B3%E9%80%80%E5%87%BA/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="åœ¨pythonè„šæœ¬æ‰§è¡Œåç«‹å³é€€å‡ºdockerå®¹å™¨ï¼š"><a href="#åœ¨pythonè„šæœ¬æ‰§è¡Œåç«‹å³é€€å‡ºdockerå®¹å™¨ï¼š" class="headerlink" title="åœ¨pythonè„šæœ¬æ‰§è¡Œåç«‹å³é€€å‡ºdockerå®¹å™¨ï¼š"></a>åœ¨pythonè„šæœ¬æ‰§è¡Œåç«‹å³é€€å‡ºdockerå®¹å™¨ï¼š</h4><ul><li>å‘½ä»¤æˆåŠŸä½†ç«‹å³é€€å‡ºå¯åŠ¨å®¹å™¨ã€‚æˆ‘æ— æ³•ä½¿ç”¨â€œdocker start container idâ€å¯åŠ¨å®¹å™¨ã€‚</li><li>æ‰‹åŠ¨è¿è¡Œâ€œpython test.pyâ€åœ¨å®¹å™¨å†…æˆåŠŸï¼Œä½†åœ¨â€œdocker run â€¦.â€ä¸­æ²¡æœ‰æˆåŠŸã€‚</li></ul><h3 id="ç­”æ¡ˆï¼š"><a href="#ç­”æ¡ˆï¼š" class="headerlink" title="ç­”æ¡ˆï¼š"></a>ç­”æ¡ˆï¼š</h3><p>åˆšåˆšå¯åŠ¨æœåŠ¡å™¨æ˜¯ä¸å¤Ÿçš„ã€‚å½“CMDé€€å‡ºæ—¶ï¼Œå®¹å™¨ä¹Ÿä¼šé€€å‡ºã€‚å› æ­¤ï¼Œå¦‚æœæ‚¨ &#x3D;&#x3D;å¯åŠ¨ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹çš„æœåŠ¡ï¼Œæ‚¨éœ€è¦ä¿æŒæ‚¨çš„è¿›ç¨‹å­˜æ´»ã€‚&#x3D;&#x3D; è¿™å¯ä»¥é€šè¿‡ä¾‹å¦‚æ‹–å°¾æœåŠ¡æ—¥å¿—æ–‡ä»¶æ¥å®ç°ã€‚ supervisordæ˜¯å¦ä¸€ç§è¿è¡Œè¿›ç¨‹å¹¶ä½¿CMDä¿æŒæ´»è·ƒçš„æ–¹å¼ã€‚</p><p>ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CMD /test.py &amp;&amp; tail -F /var/log/zookeeper.log</span><br></pre></td></tr></table></figure><p>ä»å‘½ä»¤è¡Œè¿è¡Œä½ å¯ä»¥åšç±»ä¼¼çš„äº‹æƒ…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -t -i -v /root/test.py:/test.py zookeeper bash -c &quot;python test.py &amp;&amp; tail -F /var/log/zookeeper.log&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>evalå‡½æ•°ï¼šå­—ç¬¦ä¸²å½¢å¼çš„åˆ—è¡¨ï¼Œè½¬æ¢ä¸ºåˆ—è¡¨</title>
      <link href="/2021/08/17/Python/%E6%A8%A1%E5%9D%97/eval/eval%E5%87%BD%E6%95%B0%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%88%97%E8%A1%A8%EF%BC%8C%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%88%97%E8%A1%A8/"/>
      <url>/2021/08/17/Python/%E6%A8%A1%E5%9D%97/eval/eval%E5%87%BD%E6%95%B0%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%BD%A2%E5%BC%8F%E7%9A%84%E5%88%97%E8%A1%A8%EF%BC%8C%E8%BD%AC%E6%8D%A2%E4%B8%BA%E5%88%97%E8%A1%A8/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>é‡åˆ°ä¸ªé—®é¢˜ï¼Œæ¨¡å‹å¾—åˆ°çš„ç»“æœæ˜¯å­—ç¬¦ä¸²å½¢å¼çš„åˆ—è¡¨ï¼Œç®€å•ä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">str_list = &quot;[1,2,3,4,5,6]&quot;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘ä»¬æƒ³ç”¨é‡Œé¢çš„åˆ—è¡¨ï¼Œäºæ˜¯ä½¿ç”¨eval()å‡½æ•°è¿›è¡Œå¿«é€Ÿè½¬æ¢ï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ï¼Œæ¼”ç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list_1 = eval(str_list)</span><br><span class="line">print(list_1)</span><br><span class="line"># [1,2,3,4,5,6]</span><br></pre></td></tr></table></figure><p>å½“ç„¶äº†å¦‚æœç›´æ¥listï¼ˆstr_listï¼‰æ˜¯å¾—ä¸åˆ°ä½ æƒ³è¦çš„ç»“æœçš„ï¼š[â€˜[â€˜, â€˜1â€™, â€˜,â€™, â€˜2â€™, â€˜,â€™, â€˜3â€™, â€˜,â€™, â€˜4â€™, â€˜,â€™, â€˜5â€™, â€˜,â€™, â€˜6â€™, â€˜]â€™]</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-eval </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è§£å†³è½¯ä»¶åŒ… xxxx çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦</title>
      <link href="/2021/08/16/Ubuntu/%E8%A7%A3%E5%86%B3%E8%BD%AF%E4%BB%B6%E5%8C%85%20xxxx%20%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E5%88%97%E8%A1%A8%E6%96%87%E4%BB%B6%E7%BC%BA%E5%B0%91%E6%9C%80%E5%90%8E%E7%BB%93%E5%B0%BE%E7%9A%84%E6%8D%A2%E8%A1%8C%E7%AC%A6/"/>
      <url>/2021/08/16/Ubuntu/%E8%A7%A3%E5%86%B3%E8%BD%AF%E4%BB%B6%E5%8C%85%20xxxx%20%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E5%88%97%E8%A1%A8%E6%96%87%E4%BB%B6%E7%BC%BA%E5%B0%91%E6%9C%80%E5%90%8E%E7%BB%93%E5%B0%BE%E7%9A%84%E6%8D%A2%E8%A1%8C%E7%AC%A6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¸€ã€è§£å†³è½¯ä»¶åŒ…-xxxx-çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦"><a href="#ä¸€ã€è§£å†³è½¯ä»¶åŒ…-xxxx-çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦" class="headerlink" title="ä¸€ã€è§£å†³è½¯ä»¶åŒ… xxxx çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦"></a>ä¸€ã€è§£å†³è½¯ä»¶åŒ… xxxx çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦</h2><h3 id="æ‰§è¡Œsudo-apt-update-â€”-gt-sudo-apt-upgrade"><a href="#æ‰§è¡Œsudo-apt-update-â€”-gt-sudo-apt-upgrade" class="headerlink" title="æ‰§è¡Œsudo apt update â€”&gt;sudo apt upgrade"></a>æ‰§è¡Œsudo apt update â€”&gt;sudo apt upgrade</h3><p><font color=red>dpkg: æ— æ³•æ¢å¤çš„è‡´å‘½é”™è¯¯ï¼Œä¸­æ­¢ï¼š<br>è½¯ä»¶åŒ… &#x3D;&#x3D;xxxxx&#x3D;&#x3D; çš„æ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶ç¼ºå°‘æœ€åç»“å°¾çš„æ¢è¡Œç¬¦<br>E: Sub-process &#x2F;usr&#x2F;bin&#x2F;dpkg returned an error code (2)<br></font></p><h2 id="è§£å†³æ–¹æ¡ˆï¼š"><a href="#è§£å†³æ–¹æ¡ˆï¼š" class="headerlink" title="è§£å†³æ–¹æ¡ˆï¼š"></a>è§£å†³æ–¹æ¡ˆï¼š</h2><p>sudo su</p><p>cd &#x2F;var&#x2F;lib&#x2F;dpkg&#x2F;info</p><p>ls &#x2F;&#x2F;æˆ‘è¿™æ˜¯å› ä¸ºgtkæ–‡ä»¶ååˆ—è¡¨æ–‡ä»¶å‡ºé—®é¢˜äº†ï¼Œæˆ‘æŸ¥çœ‹ç›¸å…³æ–‡ä»¶æœ‰å››ä¸ªï¼š&#x3D;&#x3D;xxxx&#x3D;&#x3D;.listï¼Œ&#x3D;&#x3D;xxxx&#x3D;&#x3D;.md5sumsï¼Œ&#x3D;&#x3D;xxxx&#x3D;&#x3D;.postinstï¼Œ&#x3D;&#x3D;xxxx&#x3D;&#x3D;.postrm</p><p>rm xxxxx.* &#x2F;&#x2F;å°†ç›¸å…³æ–‡ä»¶å…¨åˆ é™¤</p><p>sudo apt upgrade &#x2F;&#x2F;æˆåŠŸ</p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå®‰è£…Cartopyï¼ˆé¿å‘æ•™ç¨‹ï¼‰</title>
      <link href="/2021/08/12/Ubuntu/Linux%E5%AE%89%E8%A3%85Cartopy%EF%BC%88%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B%EF%BC%89/"/>
      <url>/2021/08/12/Ubuntu/Linux%E5%AE%89%E8%A3%85Cartopy%EF%BC%88%E9%81%BF%E5%9D%91%E6%95%99%E7%A8%8B%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h3 id="åœ¨-Linux-ä¸Šï¼Œ-å®‰è£…-Cartopyï¼Œä¸èƒ½ç›´æ¥pipå®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ã€‚"><a href="#åœ¨-Linux-ä¸Šï¼Œ-å®‰è£…-Cartopyï¼Œä¸èƒ½ç›´æ¥pipå®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ã€‚" class="headerlink" title="åœ¨ Linux ä¸Šï¼Œ å®‰è£… Cartopyï¼Œä¸èƒ½ç›´æ¥pipå®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ã€‚"></a>åœ¨ Linux ä¸Šï¼Œ å®‰è£… Cartopyï¼Œä¸èƒ½ç›´æ¥pipå®‰è£…ï¼Œéœ€è¦å…ˆå®‰è£…ä¾èµ–ã€‚</h3><h4 id="å¦‚æœç›´æ¥"><a href="#å¦‚æœç›´æ¥" class="headerlink" title="å¦‚æœç›´æ¥"></a>å¦‚æœç›´æ¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Cartopy</span><br></pre></td></tr></table></figure><h4 id="åˆ™æŠ¥é”™ï¼š"><a href="#åˆ™æŠ¥é”™ï¼š" class="headerlink" title="åˆ™æŠ¥é”™ï¼š"></a>åˆ™æŠ¥é”™ï¼š</h4><p><img src="https://z3.ax1x.com/2021/08/12/f0kR4f.png" alt="f0kR4f.png"></p><p>CartopyåŒ…å®‰è£…å¿…é¡»ä¾èµ–numpyã€pyshpã€ShapelyåŒ…ï¼Œåœ¨å¤„ç†åœ°å›¾æŠ•å½±å˜å½¢å’Œè¯»å†™å’Œæ“ä½œæ …æ ¼å›¾åƒæ—¶è¿˜éœ€è¦pyprojã€pillowåŒ…ï¼Œä¸” Cartopyå¸¸ä¸Matplotlibä¸€èµ·ä½¿ç”¨ï¼ŒMatplotlibæ˜¯Python çš„ç»˜å›¾åº“ï¼Œå› æ­¤è¿˜éœ€å®‰è£…Matplotlibï¼Œåœ¨ <a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">UC Irvine</a>é¡µé¢ä¸Šæ‰¾åˆ°è¿™äº›å·¥å…·åŒ…é’ˆå¯¹ Windows æ“ä½œç³»ç»Ÿçš„é¢„ç¼–è¯‘ç‰ˆæœ¬ï¼Œä¸€å®šè¦æ³¨æ„ä¸è‡ªå·±Pythonç‰ˆæœ¬å·å¯¹åº”ï¼Œæˆ‘çš„ç‰ˆæœ¬æ˜¯3.7ï¼Œå› æ­¤æˆ‘ä¸‹è½½çš„æ˜¯ï¼šåœ¨ <a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">UC Irvine</a>æ‰¾åˆ°è¿™å‡ ä¸ªåŒ…å¯¹åº”çš„python3.7ç‰ˆæœ¬å·å’Œæ“ä½œç³»ç»Ÿ<br>æ¯”å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">numpy-1.18.0+mkl-cp37-cp37m-win_amd64.whl</span><br><span class="line"></span><br><span class="line">pyshp-2.1.0-py2.py3-none-any.whl</span><br><span class="line"></span><br><span class="line">Shapelyâ€‘1.7.1â€‘cp37â€‘cp37mâ€‘win_amd64.whl</span><br><span class="line"></span><br><span class="line">matplotlib-3.2.0rc2-cp37-cp37m-win_amd64.whl</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æ‰¾åˆ°å¯¹åº”çš„-whlä¹‹åï¼Œåˆ™æ‰§è¡Œï¼š"><a href="#æ‰¾åˆ°å¯¹åº”çš„-whlä¹‹åï¼Œåˆ™æ‰§è¡Œï¼š" class="headerlink" title="æ‰¾åˆ°å¯¹åº”çš„.whlä¹‹åï¼Œåˆ™æ‰§è¡Œï¼š"></a>æ‰¾åˆ°å¯¹åº”çš„.whlä¹‹åï¼Œåˆ™æ‰§è¡Œï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy==1.18.1</span><br><span class="line"></span><br><span class="line">pip install pyshp==2.1.3</span><br><span class="line"># pyshpï¼šPython å®ç°çš„ ESRI Shapefile è¯»å†™åŒ…ï¼›</span><br><span class="line"></span><br><span class="line">pip install Shapely==1.7.1</span><br><span class="line"># shapelyï¼šæ“ä½œå’Œåˆ†æç©ºé—´åœ°ç†å¯¹è±¡ï¼›</span><br><span class="line"></span><br><span class="line">pip install matplotlib==3.1.2</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å¦‚æœè¿™äº›ä¾èµ–éƒ½å­˜åœ¨çš„è¯ï¼Œéœ€è¦pip-listæ¥ç¡®è®¤ä¾èµ–çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®"><a href="#å¦‚æœè¿™äº›ä¾èµ–éƒ½å­˜åœ¨çš„è¯ï¼Œéœ€è¦pip-listæ¥ç¡®è®¤ä¾èµ–çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®" class="headerlink" title="å¦‚æœè¿™äº›ä¾èµ–éƒ½å­˜åœ¨çš„è¯ï¼Œéœ€è¦pip listæ¥ç¡®è®¤ä¾èµ–çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®"></a>å¦‚æœè¿™äº›ä¾èµ–éƒ½å­˜åœ¨çš„è¯ï¼Œéœ€è¦<strong>pip list</strong>æ¥ç¡®è®¤ä¾èµ–çš„ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®</h4><p>æœ€åï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install Cartopy</span><br></pre></td></tr></table></figure><h2 id="æ­¤æ—¶å¦‚æœå®‰è£…-x3D-x3D-æŠ¥é”™-x3D-x3D-ï¼š"><a href="#æ­¤æ—¶å¦‚æœå®‰è£…-x3D-x3D-æŠ¥é”™-x3D-x3D-ï¼š" class="headerlink" title="æ­¤æ—¶å¦‚æœå®‰è£…&#x3D;&#x3D;æŠ¥é”™&#x3D;&#x3D;ï¼š"></a>æ­¤æ—¶å¦‚æœå®‰è£…&#x3D;&#x3D;æŠ¥é”™&#x3D;&#x3D;ï¼š</h2><h3 id="ç¬¬ä¸€ç§æŠ¥é”™ï¼š"><a href="#ç¬¬ä¸€ç§æŠ¥é”™ï¼š" class="headerlink" title="ç¬¬ä¸€ç§æŠ¥é”™ï¼š"></a>ç¬¬ä¸€ç§æŠ¥é”™ï¼š</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    ERROR: Command errored out with exit status 1:</span><br><span class="line">     command: /home/mlli/anaconda3/envs/deepsphere/bin/python -c &#x27;import sys, setuptools, tokenize; sys.argv[0] = &#x27;&quot;&#x27;&quot;&#x27;/home/mlli/pip-install-6xdwlgfn/cartopy_b061d538b6be48e0a39db2878cca4ebf/setup.py&#x27;&quot;&#x27;&quot;&#x27;; __file__=&#x27;&quot;&#x27;&quot;&#x27;/home/mlli/pip-install-6xdwlgfn/cartopy_b061d538b6be48e0a39db2878cca4ebf/setup.py&#x27;&quot;&#x27;&quot;&#x27;;f=getattr(tokenize, &#x27;&quot;&#x27;&quot;&#x27;open&#x27;&quot;&#x27;&quot;&#x27;, open)(__file__);code=f.read().replace(&#x27;&quot;&#x27;&quot;&#x27;\r\n&#x27;&quot;&#x27;&quot;&#x27;, &#x27;&quot;&#x27;&quot;&#x27;\n&#x27;&quot;&#x27;&quot;&#x27;);f.close();exec(compile(code, __file__, &#x27;&quot;&#x27;&quot;&#x27;exec&#x27;&quot;&#x27;&quot;&#x27;))&#x27; egg_info --egg-base /home/mlli/pip-pip-egg-info-avvdfa6v</span><br><span class="line">         cwd: /home/mlli/pip-install-6xdwlgfn/cartopy_b061d538b6be48e0a39db2878cca4ebf/</span><br><span class="line">    Complete output (3 lines):</span><br><span class="line">    /home/mlli/pip-install-6xdwlgfn/cartopy_b061d538b6be48e0a39db2878cca4ebf/setup.py:107: UserWarning: Unable to determine GEOS version. Ensure you have 3.3.3 or later installed, or installation may fail.</span><br><span class="line">      &#x27;.&#x27;.join(str(v) for v in GEOS_MIN_VERSION), ))</span><br><span class="line">    Proj 4.9.0 must be installed.</span><br><span class="line">    ----------------------------------------</span><br><span class="line">ERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.</span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;Proj 4.9.0 must be installed.&#x3D;&#x3D;</p><p>çœ‹åˆ°è¿™æ¡æŠ¥é”™ä¿¡æ¯ï¼Œä¸€å®šæ˜¯å› ä¸ºä¸Šé¢çš„ä¾èµ–å®‰è£…çš„ç‰ˆæœ¬ä¸å¯¹<br>è¦å®‰è£…å¯¹åº”pythonç‰ˆæœ¬çš„ä¾èµ–,å¯ä»¥å¸è½½é‡è£…ä¸€è¾¹ä¾èµ–</p><h3 id="ç¬¬äºŒç§æŠ¥é”™"><a href="#ç¬¬äºŒç§æŠ¥é”™" class="headerlink" title="ç¬¬äºŒç§æŠ¥é”™"></a>ç¬¬äºŒç§æŠ¥é”™</h3><p>ç±»ä¼¼äºè¿™ç§çš„ï¼š</p><p><img src="https://z3.ax1x.com/2021/08/16/fWjyWt.png" alt="fWjyWt.png"></p><p>&#x3D;&#x3D;error: command â€˜x86_64-linux-gnu-gccâ€™ failed with exit status 1&#x3D;&#x3D;<br>è¿™ä¸ªæŠ¥é”™ä¹Ÿæ˜¯ç”±äºç”µè„‘ç›¸å…³ä¾èµ–æ–‡ä»¶æ²¡è£…ï¼Œ<br>åœ¨è¿™ä¸ªæŠ¥é”™ä¸Šæ–¹å¯èƒ½å‡ºç°ï¼Œpython.hè¿™ä¸ªæ–‡ä»¶éœ€è¦ä¸‹è½½å®‰è£…ï¼Œæ‰¾ä¸åˆ°ç­‰</p><p>è§£å†³åŠæ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-dev</span><br><span class="line"># æˆ–è€…sudo apt-get install xxxxx-devï¼Œæ ¹æ®å…·ä½“æƒ…å†µè€Œå˜</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šè¿°æ–¹æ³•è¡Œä¸é€šï¼Œå¯ä»¥<strong>python -V</strong>æŸ¥çœ‹è‡ªå·±çš„pythonç‰ˆæœ¬</p><p>æœ‰æ—¶å€™éœ€è¦æŒ‡å®šç‰ˆæœ¬ï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯3.7ï¼Œæ‰€ä»¥å°±è¦ä¸“é—¨å®‰è£…3.7å¯¹åº”çš„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3.7-dev</span><br></pre></td></tr></table></figure><h2 id="ç¬¬ä¸‰ç§ï¼ˆåŒç¬¬äºŒç§ï¼‰"><a href="#ç¬¬ä¸‰ç§ï¼ˆåŒç¬¬äºŒç§ï¼‰" class="headerlink" title="ç¬¬ä¸‰ç§ï¼ˆåŒç¬¬äºŒç§ï¼‰"></a>ç¬¬ä¸‰ç§ï¼ˆåŒç¬¬äºŒç§ï¼‰</h2><p>&#x3D;&#x3D;Python.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•&#x3D;&#x3D;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In file included from greenlet.c:5:0:</span><br><span class="line">greenlet.h:8:20: è‡´å‘½é”™è¯¯ï¼š Python.hï¼šæ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line">ç¼–è¯‘ä¸­æ–­ã€‚</span><br><span class="line">error: Setup script exited with error: command &#x27;gcc&#x27; failed with exit status 1</span><br></pre></td></tr></table></figure><p>è§£å†³åŠæ³•ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python-dev</span><br><span class="line"># æˆ–è€…sudo apt-get install xxxxx-devï¼Œæ ¹æ®å…·ä½“æƒ…å†µè€Œå˜</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸Šè¿°æ–¹æ³•è¡Œä¸é€šï¼Œå¯ä»¥<strong>python -V</strong>æŸ¥çœ‹è‡ªå·±çš„pythonç‰ˆæœ¬<br>ç„¶åæ‰§è¡Œï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3.7-dev</span><br></pre></td></tr></table></figure><h2 id="ä¸Šè¿°å¦‚æœéƒ½è§£å†³ä¸äº†ï¼Œå¯å°è¯•"><a href="#ä¸Šè¿°å¦‚æœéƒ½è§£å†³ä¸äº†ï¼Œå¯å°è¯•" class="headerlink" title="ä¸Šè¿°å¦‚æœéƒ½è§£å†³ä¸äº†ï¼Œå¯å°è¯•"></a>ä¸Šè¿°å¦‚æœéƒ½è§£å†³ä¸äº†ï¼Œå¯å°è¯•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1Â Â $ sudo apt-get install libgeos-dev</span><br><span class="line"></span><br><span class="line">2Â Â $ sudo apt-get install libgeos++-dev</span><br><span class="line"></span><br><span class="line">3Â $ sudo apt-get install proj-bin</span><br><span class="line"></span><br><span class="line">4Â $ sudo apt-get install libproj-dev</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æœ€å pip install cartopy</p>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerfileåˆ¶ä½œpython3.7é•œåƒ</title>
      <link href="/2021/08/11/Docker/Dockerfile%E5%88%B6%E4%BD%9Cpython3.7%E9%95%9C%E5%83%8F/"/>
      <url>/2021/08/11/Docker/Dockerfile%E5%88%B6%E4%BD%9Cpython3.7%E9%95%9C%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æ­å»ºä¸€ä¸ªç®€å•çš„Pythonç¯å¢ƒ</p><h2 id="x3D-x3D-è·å–é•œåƒ-x3D-x3D"><a href="#x3D-x3D-è·å–é•œåƒ-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;è·å–é•œåƒ&#x3D;&#x3D;"></a>&#x3D;&#x3D;è·å–é•œåƒ&#x3D;&#x3D;</h2><p>ä»<a href="https://hub.docker.com/_/python?tab=tags&page=1&ordering=-last_updated&name=3.7.1">docker hub</a>è·å–æœ€æ–°çš„pythoné•œåƒï¼Œä¾‹å¦‚æˆ‘è¿™æ¬¡å‡†å¤‡ç”¨çš„æ˜¯<a href="https://hub.docker.com/_/python/">3.7.1-stretch</a></p><h4 id="ç¼–å†™dockerfileæ–‡ä»¶"><a href="#ç¼–å†™dockerfileæ–‡ä»¶" class="headerlink" title="ç¼–å†™dockerfileæ–‡ä»¶"></a>ç¼–å†™dockerfileæ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FROM python:3.7.1-stretch</span><br></pre></td></tr></table></figure><h4 id="ç”Ÿæˆé•œåƒ"><a href="#ç”Ÿæˆé•œåƒ" class="headerlink" title="ç”Ÿæˆé•œåƒ"></a>ç”Ÿæˆé•œåƒ</h4><p>ä½¿ç”¨dockerå‘½ä»¤ï¼Œç”Ÿæˆdockeré•œåƒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker build -t é•œåƒå:æ ‡ç­¾å -f dockerfileè·¯å¾„ .</span><br><span class="line">ä¾‹å¦‚ï¼šdocker build -t python:37 .</span><br></pre></td></tr></table></figure><h4 id="æŸ¥çœ‹é•œåƒ"><a href="#æŸ¥çœ‹é•œåƒ" class="headerlink" title="æŸ¥çœ‹é•œåƒ"></a>æŸ¥çœ‹é•œåƒ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h4 id="è¿›å…¥é•œåƒï¼ˆåˆ›å»ºå¹¶è¿›å…¥å®¹å™¨ï¼‰"><a href="#è¿›å…¥é•œåƒï¼ˆåˆ›å»ºå¹¶è¿›å…¥å®¹å™¨ï¼‰" class="headerlink" title="è¿›å…¥é•œåƒï¼ˆåˆ›å»ºå¹¶è¿›å…¥å®¹å™¨ï¼‰"></a>è¿›å…¥é•œåƒï¼ˆåˆ›å»ºå¹¶è¿›å…¥å®¹å™¨ï¼‰</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it python:37 bash</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerå‘½ä»¤</title>
      <link href="/2021/08/11/Docker/Docker%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/08/11/Docker/Docker%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>æ³¨æ„ï¼Œdockerçš„æ“ä½œå…¨ç¨‹éœ€è¦rootæƒé™ï¼Œæ‰€ä»¥æœ€å¥½å°†ç”¨æˆ·çš„sudoæƒé™è¿›è¡Œç»†åˆ†æ§åˆ¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æ·»åŠ åä¸ºdockerçš„ç”¨æˆ·ç¾¤</span><br><span class="line">sudo groupadd docker</span><br><span class="line"># å°†å½“å‰ç”¨æˆ·æ·»åŠ å¤§dockerç”¨æˆ·ç¾¤</span><br><span class="line">sudo usermod -aG docker [ä½ å½“å‰çš„ç”¨æˆ·å]</span><br><span class="line">## é€€å‡ºç³»ç»Ÿï¼Œé‡æ–°ç™»å½•</span><br></pre></td></tr></table></figure><hr><h2 id="æ ¹æ®dockerfileæ–‡ä»¶æ„å»ºé•œåƒ"><a href="#æ ¹æ®dockerfileæ–‡ä»¶æ„å»ºé•œåƒ" class="headerlink" title="æ ¹æ®dockerfileæ–‡ä»¶æ„å»ºé•œåƒ"></a>æ ¹æ®dockerfileæ–‡ä»¶æ„å»ºé•œåƒ</h2><p>docker build -t é•œåƒå dockerfileçš„è·¯å¾„ .</p><h4 id="Dockeré•œåƒæ‹‰å–"><a href="#Dockeré•œåƒæ‹‰å–" class="headerlink" title="Dockeré•œåƒæ‹‰å–"></a>Dockeré•œåƒæ‹‰å–</h4><p>docker pull é•œåƒåï¼šæ ‡ç­¾</p><h2 id="æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ"><a href="#æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ"></a>æŸ¥çœ‹æ‰€æœ‰çš„é•œåƒ</h2><p>docker images</p><h4 id="åˆ é™¤é•œåƒï¼ˆå…ˆåˆ é™¤å®¹å™¨ï¼‰"><a href="#åˆ é™¤é•œåƒï¼ˆå…ˆåˆ é™¤å®¹å™¨ï¼‰" class="headerlink" title="åˆ é™¤é•œåƒï¼ˆå…ˆåˆ é™¤å®¹å™¨ï¼‰"></a>åˆ é™¤é•œåƒï¼ˆå…ˆåˆ é™¤å®¹å™¨ï¼‰</h4><p>docker rmi é•œåƒID</p><br><h2 id="æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨"><a href="#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨"></a>æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</h2><p>docker ps</p><h4 id="æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨"><a href="#æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨"></a>æŸ¥çœ‹æ‰€æœ‰çš„å®¹å™¨</h4><p>docker ps -a</p><h4 id="åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿è¡Œé•œåƒï¼‰"><a href="#åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿è¡Œé•œåƒï¼‰" class="headerlink" title="åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿è¡Œé•œåƒï¼‰"></a>åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿è¡Œé•œåƒï¼‰</h4><p>docker run -it â€“name å®¹å™¨å é•œåƒå<br>å‚æ•°ï¼š </p><ul><li>-w &#x2F;data&#x2F;alg&#x2F;a&#x2F;   è¿è¡Œæ—¶ç›´æ¥è¿›å…¥&#x2F;data&#x2F;alg&#x2F;a&#x2F;ç›®å½•ä¸‹æ‰§è¡Œ</li><li>-d ä¿è¯å®¹å™¨åœ¨åå°è¿è¡Œï¼ˆå‰æä¸ºå®¹å™¨ä¸­æœ‰ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„è¿›ç¨‹ï¼Œå®¹å™¨æ‰ä¸ä¼šå…³é—­ï¼‰</li></ul><h4 id="åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿›å…¥å®¹å™¨ï¼‰"><a href="#åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿›å…¥å®¹å™¨ï¼‰" class="headerlink" title="åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿›å…¥å®¹å™¨ï¼‰"></a>åˆ›å»ºå®¹å™¨ï¼ˆå¹¶è¿›å…¥å®¹å™¨ï¼‰</h4><p>docker run -it python:37 bash</p><h4 id="è¿›å…¥å®¹å™¨-è¿è¡Œä¸­çš„"><a href="#è¿›å…¥å®¹å™¨-è¿è¡Œä¸­çš„" class="headerlink" title="è¿›å…¥å®¹å™¨(è¿è¡Œä¸­çš„)"></a>è¿›å…¥å®¹å™¨(è¿è¡Œä¸­çš„)</h4><p>docker exec -it å®¹å™¨å &#x2F;bin&#x2F;bash</p><p>attachï¼š ç›´æ¥è¿›å…¥å®¹å™¨å¯åŠ¨å‘½ä»¤çš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹</p><p>execï¼š æ˜¯åœ¨å®¹å™¨ä¸­æ‰“å¼€æ–°çš„ç»ˆç«¯ï¼Œå¹¶ä¸”å¯ä»¥å¯åŠ¨æ–°çš„è¿›ç¨‹</p><h4 id="é€€å‡ºå®¹å™¨"><a href="#é€€å‡ºå®¹å™¨" class="headerlink" title="é€€å‡ºå®¹å™¨"></a>é€€å‡ºå®¹å™¨</h4><p>exit</p><h4 id="åœæ­¢æ‰€æœ‰çš„å®¹å™¨"><a href="#åœæ­¢æ‰€æœ‰çš„å®¹å™¨" class="headerlink" title="åœæ­¢æ‰€æœ‰çš„å®¹å™¨"></a>åœæ­¢æ‰€æœ‰çš„å®¹å™¨</h4><p>docker stop $(docker ps -a -q)</p><h4 id="é‡å‘½åå®¹å™¨"><a href="#é‡å‘½åå®¹å™¨" class="headerlink" title="é‡å‘½åå®¹å™¨"></a>é‡å‘½åå®¹å™¨</h4><p>docker rename æ—§å®¹å™¨å æ–°å®¹å™¨å</p><h4 id="å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨"><a href="#å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨" class="headerlink" title="å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨"></a>å¯åŠ¨å·²åœæ­¢çš„å®¹å™¨</h4><p>docker  start  å®¹å™¨ID</p><h4 id="é‡å¯å®¹å™¨"><a href="#é‡å¯å®¹å™¨" class="headerlink" title="é‡å¯å®¹å™¨"></a>é‡å¯å®¹å™¨</h4><p>docker  restart  å®¹å™¨ID</p><h4 id="åˆ é™¤å®¹å™¨-å…ˆåœæ­¢ï¼Œååˆ é™¤"><a href="#åˆ é™¤å®¹å™¨-å…ˆåœæ­¢ï¼Œååˆ é™¤" class="headerlink" title="åˆ é™¤å®¹å™¨(å…ˆåœæ­¢ï¼Œååˆ é™¤)"></a>åˆ é™¤å®¹å™¨(å…ˆåœæ­¢ï¼Œååˆ é™¤)</h4><p>docker rm å®¹å™¨å&#x2F;å®¹å™¨ID</p><h4 id="åˆ é™¤æ‰€æœ‰å®¹å™¨"><a href="#åˆ é™¤æ‰€æœ‰å®¹å™¨" class="headerlink" title="åˆ é™¤æ‰€æœ‰å®¹å™¨"></a>åˆ é™¤æ‰€æœ‰å®¹å™¨</h4><p>docker rm $(docker ps -a -q)</p><h4 id="æ‰¹é‡åœæ­¢æŒ‡å®šå®¹å™¨"><a href="#æ‰¹é‡åœæ­¢æŒ‡å®šå®¹å™¨" class="headerlink" title="æ‰¹é‡åœæ­¢æŒ‡å®šå®¹å™¨"></a>æ‰¹é‡åœæ­¢æŒ‡å®šå®¹å™¨</h4><p>docker stop <code>sudo docker ps | grep &#39;å…³é”®å­—&#39; | awk &#39;&#123;print $1&#125;&#39;</code></p><h4 id="æ‰¹é‡åˆ é™¤æŒ‡å®šå®¹å™¨"><a href="#æ‰¹é‡åˆ é™¤æŒ‡å®šå®¹å™¨" class="headerlink" title="æ‰¹é‡åˆ é™¤æŒ‡å®šå®¹å™¨"></a>æ‰¹é‡åˆ é™¤æŒ‡å®šå®¹å™¨</h4><p>docker rm <code>sudo docker ps | grep &#39;å…³é”®å­—&#39; | awk &#39;&#123;print $1&#125;&#39;</code></p><h4 id="æ‰¹é‡åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨"><a href="#æ‰¹é‡åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨" class="headerlink" title="æ‰¹é‡åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨"></a>æ‰¹é‡åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„å®¹å™¨</h4><p>docker rm <code>docker ps -a|grep Exited|awk &#39;&#123;print $1&#125;&#39;</code></p><h4 id="æ‰¹é‡åˆ é™¤æŒ‡å®šé•œåƒ"><a href="#æ‰¹é‡åˆ é™¤æŒ‡å®šé•œåƒ" class="headerlink" title="æ‰¹é‡åˆ é™¤æŒ‡å®šé•œåƒ"></a>æ‰¹é‡åˆ é™¤æŒ‡å®šé•œåƒ</h4><p>docker rmi $(sudo docker images | grep å…³é”®å­— | awk â€˜{print $1â€:â€$2}â€™)</p><br><h2 id="æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆå®¹å™¨å¤–ï¼‰"><a href="#æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆå®¹å™¨å¤–ï¼‰" class="headerlink" title="æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆå®¹å™¨å¤–ï¼‰"></a>æŸ¥çœ‹å®¹å™¨æ—¥å¿—ï¼ˆå®¹å™¨å¤–ï¼‰</h2><p>docker logs -f å®¹å™¨ID</p><ul><li>-t æ˜¯åŠ å…¥æ—¶é—´æˆ³</li><li>-f è·Ÿéšæœ€æ–°çš„æ—¥å¿—æ‰“å°</li><li>â€“tail æ•°å­— æ˜¾ç¤ºæœ€åå¤šå°‘æ¡</li></ul><h4 id="æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹"><a href="#æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹" class="headerlink" title="æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹"></a>æŸ¥çœ‹å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹</h4><p>docker top å®¹å™¨ID</p><br><h2 id="å¤åˆ¶dockerä¸­çš„æ–‡ä»¶åˆ°å®¿ä¸»æœºï¼ˆå®¹å™¨åœ¨è¿è¡Œä¸­ï¼‰"><a href="#å¤åˆ¶dockerä¸­çš„æ–‡ä»¶åˆ°å®¿ä¸»æœºï¼ˆå®¹å™¨åœ¨è¿è¡Œä¸­ï¼‰" class="headerlink" title="å¤åˆ¶dockerä¸­çš„æ–‡ä»¶åˆ°å®¿ä¸»æœºï¼ˆå®¹å™¨åœ¨è¿è¡Œä¸­ï¼‰"></a>å¤åˆ¶dockerä¸­çš„æ–‡ä»¶åˆ°å®¿ä¸»æœºï¼ˆå®¹å™¨åœ¨è¿è¡Œä¸­ï¼‰</h2><p>docker cp å®¹å™¨idï¼šæ–‡ä»¶è·¯å¾„ å®¿ä¸»æœºæ–‡ä»¶å­˜æ”¾è·¯å¾„</p><h4 id="å¤åˆ¶å®¿ä¸»æœºçš„æ–‡ä»¶åˆ°dockerä¸­"><a href="#å¤åˆ¶å®¿ä¸»æœºçš„æ–‡ä»¶åˆ°dockerä¸­" class="headerlink" title="å¤åˆ¶å®¿ä¸»æœºçš„æ–‡ä»¶åˆ°dockerä¸­"></a>å¤åˆ¶å®¿ä¸»æœºçš„æ–‡ä»¶åˆ°dockerä¸­</h4><p>docker cp å®¿ä¸»æœºæ–‡ä»¶è·¯å¾„  å®¹å™¨idï¼šdockeræ–‡ä»¶è·¯å¾„</p><br><hr><h1 id="x3D-x3D-å®¹å™¨è¿ç§»-x3D-x3D"><a href="#x3D-x3D-å®¹å™¨è¿ç§»-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;å®¹å™¨è¿ç§»&#x3D;&#x3D;"></a>&#x3D;&#x3D;å®¹å™¨è¿ç§»&#x3D;&#x3D;</h1><blockquote><p>è¿ç§»åœ¨è®¸å¤šæƒ…å†µä¸‹éƒ½æ˜¯ä¸å¯é¿å…çš„ã€‚ç¡¬ä»¶å‡çº§ã€æ•°æ®ä¸­å¿ƒå˜åŒ–ã€è¿‡æ—¶çš„æ“ä½œç³»ç»Ÿã€è¿è¡Œç¯å¢ƒçš„å˜åŒ–ï¼Œæ‰€æœ‰è¿™äº›éƒ½å¯èƒ½æˆä¸ºè¿ç§»çš„è§¦å‘ç‚¹ã€‚</p></blockquote><blockquote><p>Dockerå®¹å™¨è¿ç§»é€šå¸¸æ˜¯è¿ç§»ä»»åŠ¡çš„ä¸€éƒ¨åˆ†ã€‚ä»Šå¤©æˆ‘ä»¬å°†çœ‹åˆ°å°†Dockerå®¹å™¨ä»ç°æœ‰æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨çš„ä¸åŒæ–¹æ³•ã€‚</p></blockquote><blockquote><p>å¦‚ä½•å°†Dockerå®¹å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨ï¼Œæ²¡æœ‰ç›´æ¥å°†Dockerå®¹å™¨ä»ä¸€å°æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨çš„æ–¹æ³•ï¼Œæˆ‘ä»¬é€šè¿‡ä½¿ç”¨ä¸‹é¢è¿™äº›æ–¹æ³•ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ¥è§£å†³Dockerå®¹å™¨è¿ç§»çš„é—®é¢˜ã€‚</p></blockquote><h2 id="1ã€å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨"><a href="#1ã€å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨" class="headerlink" title="1ã€å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨"></a>1ã€å¯¼å‡ºå’Œå¯¼å…¥å®¹å™¨</h2><p>å®¹å™¨è¿ç§»ï¼Œå…ˆå¯¼å‡ºå®¹å™¨ï¼Œåœ¨å¯¼å…¥æˆé•œåƒå³å¯ã€‚  </p><h5 id="å¯¼å‡ºå®¹å™¨"><a href="#å¯¼å‡ºå®¹å™¨" class="headerlink" title="å¯¼å‡ºå®¹å™¨"></a>å¯¼å‡ºå®¹å™¨</h5><p>å¯¼å‡ºå®¹å™¨æ„å‘³ç€ä»å®¹å™¨çš„æ–‡ä»¶ç³»ç»Ÿåˆ›å»ºå‹ç¼©æ–‡ä»¶ï¼Œå¯¼å‡ºçš„æ–‡ä»¶ä¿å­˜ä¸ºâ€œgzipâ€æ–‡ä»¶ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker export å®¹å™¨ID | gzip &gt; å®¹å™¨å.tar.gz  </span><br></pre></td></tr></table></figure><h5 id="å¯¼å…¥æˆé•œåƒ"><a href="#å¯¼å…¥æˆé•œåƒ" class="headerlink" title="å¯¼å…¥æˆé•œåƒ"></a>å¯¼å…¥æˆé•œåƒ</h5><p>ç„¶åé€šè¿‡æ–‡ä»¶ä¼ è¾“å·¥å…·(å¦‚scpæˆ–rsync)å°†å‹ç¼©æ–‡ä»¶å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨ã€‚åœ¨æ–°æœåŠ¡å™¨ä¸­ï¼Œè¿™ä¸ªgzipæ–‡ä»¶éšåè¢«å¯¼å…¥åˆ°ä¸€ä¸ªæ–°å®¹å™¨ä¸­ã€‚  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zcat å®¹å™¨å.tar.gz | docker import - å®¹å™¨å</span><br></pre></td></tr></table></figure><blockquote><p>ç¼ºç‚¹ï¼š<br>å¯¼å‡ºå®¹å™¨å·¥å…·çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå®ƒä¸å¯¼å‡ºå®¹å™¨çš„ç«¯å£å’Œå˜é‡ï¼Œä¹Ÿä¸å¯¼å‡ºåŒ…å«å®¹å™¨çš„åº•å±‚æ•°æ®ã€‚<br>å½“å°è¯•åœ¨å¦ä¸€å°æœåŠ¡å™¨ä¸­åŠ è½½å®¹å™¨æ—¶ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é”™è¯¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©Dockeré•œåƒè¿ç§»æ¥å°†å®¹å™¨ä»ä¸€å°æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨ã€‚</p></blockquote><h2 id="2ã€å®¹å™¨é•œåƒè¿ç§»"><a href="#2ã€å®¹å™¨é•œåƒè¿ç§»" class="headerlink" title="2ã€å®¹å™¨é•œåƒè¿ç§»"></a>2ã€å®¹å™¨é•œåƒè¿ç§»</h2><p>å°†Dockerå®¹å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨çš„æœ€å¸¸ç”¨æ–¹æ³•æ˜¯è¿ç§»å®¹å™¨å…³è”åˆ°çš„é•œåƒã€‚  </p><p>å¯¹äºå¿…é¡»è¿ç§»çš„å®¹å™¨ï¼Œé¦–å…ˆä½¿ç”¨â€œDocker commitâ€å‘½ä»¤å°†å…¶Dockeré•œåƒä¿å­˜åˆ°å‹ç¼©æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker commit container-id image-name </span><br></pre></td></tr></table></figure><p>ç”Ÿæˆçš„é•œåƒå°†è¢«å‹ç¼©å¹¶ä¸Šä¼ åˆ°æ–°æœåŠ¡å™¨ä¸Šï¼Œåœ¨æ–°æœåŠ¡å™¨ä¸­ï¼Œå°†ä½¿ç”¨â€œdocker runâ€åˆ›å»ºä¸€ä¸ªæ–°å®¹å™¨ã€‚</p><p>ä½¿ç”¨æ­¤æ–¹æ³•ï¼Œæ•°æ®å·ä¸ä¼šè¢«è¿ç§»ï¼Œä½†å®ƒä¼šä¿ç•™åœ¨å®¹å™¨å†…åˆ›å»ºçš„åº”ç”¨ç¨‹åºçš„æ•°æ®ã€‚</p><h2 id="3ã€ä¿å­˜å’ŒåŠ è½½é•œåƒ"><a href="#3ã€ä¿å­˜å’ŒåŠ è½½é•œåƒ" class="headerlink" title="3ã€ä¿å­˜å’ŒåŠ è½½é•œåƒ"></a>3ã€ä¿å­˜å’ŒåŠ è½½é•œåƒ</h2><p>dockeré•œåƒæ˜¯åº”ç”¨ç¨‹åºçš„ä»£ç ã€åº“ã€é…ç½®æ–‡ä»¶ç­‰çš„åŒ…ã€‚Dockerå®¹å™¨æ˜¯ç”±è¿™äº›é•œåƒåˆ›å»ºçš„ã€‚</p><p>å¯ä»¥ä½¿ç”¨â€œdocker saveâ€å‹ç¼©é•œåƒå¹¶å°†å…¶è¿ç§»åˆ°æ–°æœåŠ¡å™¨ã€‚</p><p>docker save image-name &gt; image-name.tar<br>åœ¨æ–°æœåŠ¡å™¨ä¸­ï¼Œä½¿ç”¨â€œdocker loadâ€å°†å‹ç¼©é•œåƒæ–‡ä»¶ç”¨äºåˆ›å»ºæ–°é•œåƒã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat image-name.tar | docker load </span><br></pre></td></tr></table></figure><h2 id="4ã€è¿ç§»æ•°æ®å·"><a href="#4ã€è¿ç§»æ•°æ®å·" class="headerlink" title="4ã€è¿ç§»æ•°æ®å·"></a>4ã€è¿ç§»æ•°æ®å·</h2><p>Dockerå®¹å™¨ä¸­çš„æ•°æ®å·æ˜¯å…±äº«ç›®å½•ï¼Œå…¶ä¸­åŒ…å«ç‰¹å®šäºå®¹å™¨çš„æ•°æ®ã€‚å·ä¸­çš„æ•°æ®æ˜¯æŒä¹…çš„ï¼Œåœ¨å®¹å™¨é‡æ–°åˆ›å»ºæœŸé—´ä¸ä¼šä¸¢å¤±ã€‚</p><p>ä½¿ç”¨å¯¼å‡ºæˆ–æäº¤å·¥å…·å°†Dockerå®¹å™¨æˆ–é•œåƒä»ä¸€å°æœåŠ¡å™¨è¿ç§»åˆ°å¦ä¸€å°æœåŠ¡å™¨æ—¶ï¼Œä¸ä¼šè¿ç§»åŸºç¡€æ•°æ®å·ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŒ…å«æ•°æ®çš„ç›®å½•å°†æ‰‹åŠ¨è¿ç§»åˆ°æ–°æœåŠ¡å™¨ã€‚ç„¶ååœ¨æ–°æœåŠ¡å™¨åˆ›å»ºå®¹å™¨ï¼Œå¼•ç”¨è¯¥ç›®å½•ä½œä¸ºå…¶æ•°æ®å·ã€‚</p><p>å¦ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡åœ¨â€œdocker runâ€å‘½ä»¤ä¸­ä¼ é€’â€œ-volumes fromâ€å‚æ•°æ¥å¤‡ä»½å’Œæ¢å¤æ•°æ®å·ã€‚</p><p>docker run â€“rm â€“volumes-from datavolume-name -v $(pwd):&#x2F;backup image-name tar cvf backup.tar &#x2F;path-to-datavolume<br>è¿™é‡Œï¼Œdatavolumeåç§°æ˜¯&#x2F;path&#x2F;to&#x2F;volumeã€‚æ­¤å‘½ä»¤æä¾›æ•°æ®å·çš„å¤‡ä»½ã€‚è¦æŒ‡å®šå·¥ä½œç›®å½•ï¼Œè¿˜å¯ä»¥æŒ‡å®š-w&#x2F;backupã€‚åœ¨&#x2F;backupæ–‡ä»¶å¤¹ä¸­ç”Ÿæˆçš„å¤‡ä»½å¯ä»¥é€šè¿‡scpæˆ–ftpå·¥å…·å¤åˆ¶åˆ°æ–°æœåŠ¡å™¨ã€‚ç„¶åæå–å¤åˆ¶çš„å¤‡ä»½å¹¶å°†å…¶è¿˜åŸåˆ°æ–°å®¹å™¨ä¸­çš„æ•°æ®å·ä¸­ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --rm --volumes-from datavolume-name -v $(pwd):/backup image-name bash -c &quot;cd /path-to-datavolume &amp;&amp; tar xvf /backup/backup.tar --strip 1&quot; </span><br></pre></td></tr></table></figure><hr><h1 id="x3D-x3D-å®¹å™¨å¤‡ä»½æ¢å¤-x3D-x3D"><a href="#x3D-x3D-å®¹å™¨å¤‡ä»½æ¢å¤-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;å®¹å™¨å¤‡ä»½æ¢å¤&#x3D;&#x3D;"></a>&#x3D;&#x3D;å®¹å™¨å¤‡ä»½æ¢å¤&#x3D;&#x3D;</h1><h2 id="å¤‡ä»½å®¹å™¨"><a href="#å¤‡ä»½å®¹å™¨" class="headerlink" title="å¤‡ä»½å®¹å™¨"></a>å¤‡ä»½å®¹å™¨</h2><p>1.é¦–å…ˆæŸ¥çœ‹å½“å‰å®¹å™¨åˆ—è¡¨ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/08/11/faEf2Q.png" alt="faEf2Q.png"></p><h5 id="2-æ¯”å¦‚æˆ‘è¦å¤‡ä»½çº¢æ¡†é‡Œé¢çš„å®¹å™¨drawï¼Œå®¹å™¨idä¸º3c9a8a74bc0dï¼Œéœ€è¦å…ˆåˆ›å»ºè¯¥å®¹å™¨çš„å¿«ç…§ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š"><a href="#2-æ¯”å¦‚æˆ‘è¦å¤‡ä»½çº¢æ¡†é‡Œé¢çš„å®¹å™¨drawï¼Œå®¹å™¨idä¸º3c9a8a74bc0dï¼Œéœ€è¦å…ˆåˆ›å»ºè¯¥å®¹å™¨çš„å¿«ç…§ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š" class="headerlink" title="2.æ¯”å¦‚æˆ‘è¦å¤‡ä»½çº¢æ¡†é‡Œé¢çš„å®¹å™¨drawï¼Œå®¹å™¨idä¸º3c9a8a74bc0dï¼Œéœ€è¦å…ˆåˆ›å»ºè¯¥å®¹å™¨çš„å¿«ç…§ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š"></a>2.æ¯”å¦‚æˆ‘è¦å¤‡ä»½çº¢æ¡†é‡Œé¢çš„å®¹å™¨drawï¼Œå®¹å™¨idä¸º3c9a8a74bc0dï¼Œéœ€è¦å…ˆåˆ›å»ºè¯¥å®¹å™¨çš„å¿«ç…§ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># draw-backupä¸ºå¤‡ä»½å</span><br><span class="line">docker commit -p 3c9a8a74bc0d draw-backup</span><br></pre></td></tr></table></figure><p><img src="https://z3.ax1x.com/2021/08/11/faEW8g.png" alt="faEW8g.png"></p><p>3.æ‰§è¡Œå®Œæˆåï¼ŒæŸ¥çœ‹é•œåƒï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤å¯ä»¥çœ‹åˆ°å·²ç»å¤‡ä»½æˆåŠŸï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h5 id="4-å¯¼å‡ºåˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ï¼š-x2F-home-x2F-ç”¨æˆ·å-x2F-Desktopç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸ºdraw-backup-tarï¼‰"><a href="#4-å¯¼å‡ºåˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ï¼š-x2F-home-x2F-ç”¨æˆ·å-x2F-Desktopç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸ºdraw-backup-tarï¼‰" class="headerlink" title="4.å¯¼å‡ºåˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ï¼š&#x2F;home&#x2F;ç”¨æˆ·å&#x2F;Desktopç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸ºdraw-backup.tarï¼‰"></a>4.å¯¼å‡ºåˆ°æœ¬åœ°ç›®å½•ï¼ˆå¦‚ï¼š&#x2F;home&#x2F;ç”¨æˆ·å&#x2F;Desktopç›®å½•ä¸‹ï¼Œå¹¶å‘½åä¸ºdraw-backup.tarï¼‰</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker save draw-backup  &gt; /home/wanghan/Desktop/draw-backup.tar</span><br></pre></td></tr></table></figure><h2 id="æ¢å¤å®¹å™¨"><a href="#æ¢å¤å®¹å™¨" class="headerlink" title="æ¢å¤å®¹å™¨"></a>æ¢å¤å®¹å™¨</h2><p>1.ä¸ºäº†éªŒè¯å®¹å™¨æ˜¯å¦èƒ½å¯¼å…¥ï¼Œå…ˆåˆ é™¤dockeré‡Œé¢çš„é•œåƒï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker rmi draw-backup</span><br><span class="line">docker images</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š<br><img src="https://z3.ax1x.com/2021/08/11/famRwn.png" alt="famRwn.png"></p><hr><h1 id="x3D-x3D-æ•°æ®å·-x3D-x3D-ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰"><a href="#x3D-x3D-æ•°æ®å·-x3D-x3D-ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰" class="headerlink" title="&#x3D;&#x3D;æ•°æ®å·&#x3D;&#x3D;ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰"></a>&#x3D;&#x3D;æ•°æ®å·&#x3D;&#x3D;ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰</h1><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®¹å™¨åªæ˜¯è¿è¡Œç¯å¢ƒï¼Œä¸åº”è¯¥æ‰¿æ‹…æ•°æ®å­˜å‚¨çš„è§’è‰²ï¼Œå¦‚æœæœ‰æ•°æ®å­˜å‚¨çš„éœ€æ±‚æˆ–è€…éœ€è¦è¯»å–ç³»ç»Ÿæ–‡ä»¶ï¼Œå°±éœ€è¦å°†ç³»ç»Ÿçš„æŸä¸ªæ–‡ä»¶å¤¹æŒ‚åœ¨åˆ°å®¹å™¨ä¸­ï¼Œè¿™æ ·å®¹å™¨æ—¢èƒ½è¯»å–ç³»ç»Ÿæ–‡ä»¶ï¼Œä¹Ÿèƒ½å°†è¿è¡Œæ—¶ç”Ÿæˆçš„æ–‡ä»¶å†™åˆ°ç³»ç»Ÿä¸­ä¿å­˜èµ·æ¥ï¼Œæœ€å…¸å‹çš„å°±æ˜¯MySQLä¹‹ç±»çš„æ•°æ®åº“å®¹å™¨ï¼Œå¦‚æœä¸å°†æ•°æ®ä¿å­˜èµ·æ¥ï¼Œéšç€å®¹å™¨çš„æ¶ˆå¤±ï¼Œæ•°æ®ä¹Ÿè·Ÿç€æ¶ˆå¤±äº†ã€‚  </p><p>æ•°æ®å·é€šè¿‡å¯åŠ¨å‚æ•° -v æ¥æŒ‡å®šã€‚<br>-våé¢çš„æ˜ å°„å…³ç³»æ˜¯â€å®¿ä¸»æœºæ–‡ä»¶è·¯å¾„:å®¹å™¨é‡Œå¯¹åº”çš„æ–‡ä»¶è·¯å¾„â€ï¼Œå…¶ä¸­ï¼Œå®¿ä¸»æœºä¸Šçš„æ–‡ä»¶&#x2F;ç›®å½•æ˜¯è¦æå‰å­˜åœ¨çš„ï¼Œå®¹å™¨é‡Œå¯¹åº”çš„æ–‡ä»¶&#x2F;ç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºã€‚<br><strong>å› æ­¤ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ï¼Œæœ€å¥½æ˜¯å®¿ä¸»æœºè·¯å¾„ä¸å®¹å™¨è·¯å¾„ä¿æŒä¸€è‡´ã€‚</strong><br><strong>ç”¨æ³•ï¼š</strong>   </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -v å®¿ä¸»æœºæ–‡ä»¶ç»å¯¹è·¯å¾„ï¼šå®¹å™¨è·¯å¾„  é•œåƒå /bin/bash</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --privileged=true --name savegoi -v /data1/data/:/CMADAAS/DATA/ -v /data1/yftk/alg/savegoi:/data/alg -v /data1/yftk/alg/savegoi/savegoi.jar:/data/alg/app.jar -v /data1/yftk/input:/input -v /data1/yftk/output:/output -p 8192:8192 -d jdk8:latest</span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿæ–‡ä»¶ï¼š<br><img src="https://z3.ax1x.com/2021/08/11/fUcHbQ.png" alt="fUcHbQ.png"><br>Dockerå†…ï¼š<br><img src="https://z3.ax1x.com/2021/08/11/fUgpKU.png" alt="fUgpKU.png"></p><h1 id="x3D-x3D-ç«¯å£æš´éœ²-x3D-x3D"><a href="#x3D-x3D-ç«¯å£æš´éœ²-x3D-x3D" class="headerlink" title="&#x3D;&#x3D;ç«¯å£æš´éœ²&#x3D;&#x3D;"></a>&#x3D;&#x3D;ç«¯å£æš´éœ²&#x3D;&#x3D;</h1><h5 id="På‚æ•°ï¼šdockerè‡ªåŠ¨æ˜ å°„æš´éœ²ç«¯å£"><a href="#På‚æ•°ï¼šdockerè‡ªåŠ¨æ˜ å°„æš´éœ²ç«¯å£" class="headerlink" title="-På‚æ•°ï¼šdockerè‡ªåŠ¨æ˜ å°„æš´éœ²ç«¯å£"></a>-På‚æ•°ï¼šdockerè‡ªåŠ¨æ˜ å°„æš´éœ²ç«¯å£</h5><p>docker run -d -p 5000:80 training&#x2F;webapp  <span style="color:#009900;">&#x2F;&#x2F;hostä¸Š5000å·ç«¯å£ï¼Œæ˜ å°„åˆ°å®¹å™¨æš´éœ²çš„80ç«¯å£ï¼›</span></p><p>docker run -d -p 127.0.0.1:5000:80 training&#x2F;webapp <span style="color:#009900;">&#x2F;&#x2F;hostä¸Š127.0.0.1:5000å·ç«¯å£ï¼Œæ˜ å°„åˆ°å®¹å™¨æš´éœ²çš„80ç«¯å£ï¼›</span></p><p>docker run -d -p 127.0.0.1::5000 training&#x2F;webapp <span style="color:#009900;">&#x2F;&#x2F;hostä¸Š127.0.0.1:éšæœºç«¯å£ï¼Œæ˜ å°„åˆ°å®¹å™¨æš´éœ²çš„80ç«¯å£ï¼›</span></p><p>docker run -d -p 127.0.0.1:5000:5000&#x2F;udp training&#x2F;webapp <span style="color:#009900;">&#x2F;&#x2F;ç»‘å®šudpç«¯å£ï¼›</span></p><p>æœºç«¯å£ï¼Œæ˜ å°„åˆ°å®¹å™¨æš´éœ²çš„80ç«¯å£ï¼›</span></p><p>docker run -d -p 127.0.0.1:5000:5000&#x2F;udp training&#x2F;webapp <span style="color:#009900;">&#x2F;&#x2F;ç»‘å®šudpç«¯å£ï¼›</span></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>mysqlè‡ªå¢ä¸»é”®æ¸…é›¶æ–¹æ³•ï¼ˆä»1å¼€å§‹ï¼‰</title>
      <link href="/2021/08/10/MySQL/mysql%E8%87%AA%E5%A2%9E%E4%B8%BB%E9%94%AE%E6%B8%85%E9%9B%B6%E6%96%B9%E6%B3%95%EF%BC%88%E4%BB%8E1%E5%BC%80%E5%A7%8B%EF%BC%89/"/>
      <url>/2021/08/10/MySQL/mysql%E8%87%AA%E5%A2%9E%E4%B8%BB%E9%94%AE%E6%B8%85%E9%9B%B6%E6%96%B9%E6%B3%95%EF%BC%88%E4%BB%8E1%E5%BC%80%E5%A7%8B%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="truncateè¯­å¥ï¼Œæ˜¯æ¸…ç©ºè¡¨ä¸­çš„å†…å®¹ï¼ŒåŒ…æ‹¬è‡ªå¢ä¸»é”®çš„ä¿¡æ¯ã€‚truncateè¡¨åï¼Œè¡¨çš„ä¸»é”®å°±ä¼šé‡æ–°ä»1å¼€å§‹ã€‚"><a href="#truncateè¯­å¥ï¼Œæ˜¯æ¸…ç©ºè¡¨ä¸­çš„å†…å®¹ï¼ŒåŒ…æ‹¬è‡ªå¢ä¸»é”®çš„ä¿¡æ¯ã€‚truncateè¡¨åï¼Œè¡¨çš„ä¸»é”®å°±ä¼šé‡æ–°ä»1å¼€å§‹ã€‚" class="headerlink" title="truncateè¯­å¥ï¼Œæ˜¯æ¸…ç©ºè¡¨ä¸­çš„å†…å®¹ï¼ŒåŒ…æ‹¬è‡ªå¢ä¸»é”®çš„ä¿¡æ¯ã€‚truncateè¡¨åï¼Œè¡¨çš„ä¸»é”®å°±ä¼šé‡æ–°ä»1å¼€å§‹ã€‚"></a>truncateè¯­å¥ï¼Œæ˜¯æ¸…ç©ºè¡¨ä¸­çš„å†…å®¹ï¼ŒåŒ…æ‹¬è‡ªå¢ä¸»é”®çš„ä¿¡æ¯ã€‚truncateè¡¨åï¼Œè¡¨çš„ä¸»é”®å°±ä¼šé‡æ–°ä»1å¼€å§‹ã€‚</h2><h1 id=""><a href="#" class="headerlink" title=""></a></h1><p>1ã€è¯­æ³•ï¼š</p><p>TRUNCATE TABLE table1</p><p>2ã€å½“ç”¨æˆ·æ²¡æœ‰truncateçš„æƒé™æ—¶ä¸”æ›¾ç»çš„æ•°æ®ä¸éœ€è¦æ—¶ï¼š</p><ol><li>åˆ é™¤åŸæœ‰ä¸»é”®ï¼š</li></ol><p>ALTER TABLE â€˜table_nameâ€™ DROP â€˜idâ€™;</p><ul><li>1</li></ul><ol><li>æ·»åŠ æ–°ä¸»é”®ï¼š</li></ol><p>ALTER TABLE â€˜table_nameâ€™ ADD â€˜idâ€™ int(11) NOT NULL FIRST;</p><ul><li>1</li></ul><ol><li>è®¾ç½®æ–°ä¸»é”®ï¼š</li></ol><p>ALTER TABLE â€˜table_nameâ€™ MODIFY COLUMN â€˜idâ€™ int(11) NOT NULL AUTO_INCREMENT,ADD PRIMARY KEY(id);</p><ul><li>1</li></ul><p>3ã€å½“ç”¨æˆ·æ²¡æœ‰æƒé™æ—¶ï¼šÂ </p><p>å¯ä»¥ç›´æ¥è®¾ç½®æ•°æ®è¡¨çš„ AUTO_INCREMENT å€¼ä¸ºæƒ³è¦çš„åˆå§‹å€¼ï¼Œæ¯”å¦‚10000ï¼š</p>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerä¸Šä¼ é•œåƒè‡³ç§æœ‰ä»“åº“ã€dockeræ³¨å†Œä¸­å¿ƒï¼ˆ+æ‹‰å–é•œåƒï¼‰</title>
      <link href="/2021/08/09/Docker/Docker%E4%B8%8A%E4%BC%A0%E9%95%9C%E5%83%8F%E8%87%B3%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E3%80%81docker%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%EF%BC%88+%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%EF%BC%89/"/>
      <url>/2021/08/09/Docker/Docker%E4%B8%8A%E4%BC%A0%E9%95%9C%E5%83%8F%E8%87%B3%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93%E3%80%81docker%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%EF%BC%88+%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¸€ã€é…ç½®hosté…ç½®æ–‡ä»¶-ä¸ºäº†å°†åŸŸåè§£ææˆIPåœ°å€"><a href="#ä¸€ã€é…ç½®hosté…ç½®æ–‡ä»¶-ä¸ºäº†å°†åŸŸåè§£ææˆIPåœ°å€" class="headerlink" title="ä¸€ã€é…ç½®hosté…ç½®æ–‡ä»¶(ä¸ºäº†å°†åŸŸåè§£ææˆIPåœ°å€)"></a>ä¸€ã€é…ç½®hosté…ç½®æ–‡ä»¶(ä¸ºäº†å°†åŸŸåè§£ææˆIPåœ°å€)</h2><h5 id="ä¾‹ï¼šubuntu-20-04ï¼ˆä¸ºhostsé…ç½®æ–‡ä»¶ï¼‰"><a href="#ä¾‹ï¼šubuntu-20-04ï¼ˆä¸ºhostsé…ç½®æ–‡ä»¶ï¼‰" class="headerlink" title="ä¾‹ï¼šubuntu:20.04ï¼ˆä¸ºhostsé…ç½®æ–‡ä»¶ï¼‰"></a>ä¾‹ï¼šubuntu:20.04ï¼ˆä¸ºhostsé…ç½®æ–‡ä»¶ï¼‰</h5><p><img src="https://z3.ax1x.com/2021/08/09/f8wJEQ.png" alt="f8wJEQ.png"></p><h2 id="äºŒã€é…ç½®ä»“åº“ä¸Šä¼ æƒé™ï¼ˆå³é…ç½®ç™»å½•ç”¨æˆ·ï¼‰"><a href="#äºŒã€é…ç½®ä»“åº“ä¸Šä¼ æƒé™ï¼ˆå³é…ç½®ç™»å½•ç”¨æˆ·ï¼‰" class="headerlink" title="äºŒã€é…ç½®ä»“åº“ä¸Šä¼ æƒé™ï¼ˆå³é…ç½®ç™»å½•ç”¨æˆ·ï¼‰"></a>äºŒã€é…ç½®ä»“åº“ä¸Šä¼ æƒé™ï¼ˆå³é…ç½®ç™»å½•ç”¨æˆ·ï¼‰</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker login harbor-test.ecoweather.cn -u admin -p Harbor12345</span><br><span class="line"># harbor-test.ecoweather.cnä»“åº“åœ°å€</span><br><span class="line"># admin ç”¨æˆ·å</span><br><span class="line"># Harbor12345 å¯†ç </span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä¸Šä¼ é•œåƒ"><a href="#ä¸‰ã€ä¸Šä¼ é•œåƒ" class="headerlink" title="ä¸‰ã€ä¸Šä¼ é•œåƒ"></a>ä¸‰ã€ä¸Šä¼ é•œåƒ</h2><h4 id="1-é¦–å…ˆå°†æœ¬åœ°å‡†å¤‡ä¸Šä¼ çš„é•œåƒè¿›è¡Œæ ‡è®°"><a href="#1-é¦–å…ˆå°†æœ¬åœ°å‡†å¤‡ä¸Šä¼ çš„é•œåƒè¿›è¡Œæ ‡è®°" class="headerlink" title="1.é¦–å…ˆå°†æœ¬åœ°å‡†å¤‡ä¸Šä¼ çš„é•œåƒè¿›è¡Œæ ‡è®°"></a>1.é¦–å…ˆå°†æœ¬åœ°å‡†å¤‡ä¸Šä¼ çš„é•œåƒè¿›è¡Œæ ‡è®°</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker tag SOURCE_IMAGE[:TAG] harbor-test.ecoweather.cn/library/IMAGE[:TAG]</span><br><span class="line"># SOURCE_IMAGE ä¸ºæœ¬åœ°é•œåƒå</span><br><span class="line"># [:TAG] æœ¬åœ°é•œåƒæ ‡ç­¾ ï¼ˆä½¿ç”¨æ—¶å»æ‰[])</span><br><span class="line"># harbor-test.ecoweather.cnï¼ˆä¸ºç§æœ‰ä»“åº“åœ°å€ï¼‰</span><br><span class="line"># library/IMAGE[:TAG] ä¸ºä»“åº“ä¸­çš„è·¯å¾„ IMAGEä¸ºä»“åº“é•œåƒå [:TAG]ä»“åº“é•œåƒæ ‡ç­¾</span><br></pre></td></tr></table></figure><h5 id="â€”-ä¾‹å¦‚ï¼š"><a href="#â€”-ä¾‹å¦‚ï¼š" class="headerlink" title="â€”-ä¾‹å¦‚ï¼š"></a>â€”-ä¾‹å¦‚ï¼š</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker tag python:37 harbor-test.ecoweather.cn/library/python:37</span><br></pre></td></tr></table></figure><h4 id="æ ‡è®°æˆåŠŸï¼šï¼ˆç¬¬äºŒä¸ªä¸ºæœ¬åœ°é•œåƒï¼Œç¬¬ä¸‰ä¸ªä¸ºæ ‡è®°ä¹‹åç”Ÿæˆçš„ï¼‰"><a href="#æ ‡è®°æˆåŠŸï¼šï¼ˆç¬¬äºŒä¸ªä¸ºæœ¬åœ°é•œåƒï¼Œç¬¬ä¸‰ä¸ªä¸ºæ ‡è®°ä¹‹åç”Ÿæˆçš„ï¼‰" class="headerlink" title="æ ‡è®°æˆåŠŸï¼šï¼ˆç¬¬äºŒä¸ªä¸ºæœ¬åœ°é•œåƒï¼Œç¬¬ä¸‰ä¸ªä¸ºæ ‡è®°ä¹‹åç”Ÿæˆçš„ï¼‰"></a>æ ‡è®°æˆåŠŸï¼šï¼ˆç¬¬äºŒä¸ªä¸ºæœ¬åœ°é•œåƒï¼Œç¬¬ä¸‰ä¸ªä¸ºæ ‡è®°ä¹‹åç”Ÿæˆçš„ï¼‰</h4><p><img src="https://z3.ax1x.com/2021/08/09/f8cc1H.png" alt="f8cc1H.png"></p><h4 id="2-æ¨é€æœ¬åœ°é•œåƒåˆ°å½“å‰é¡¹ç›®ï¼ˆä¸Šä¼ çš„é•œåƒä»“åº“ï¼‰ï¼š"><a href="#2-æ¨é€æœ¬åœ°é•œåƒåˆ°å½“å‰é¡¹ç›®ï¼ˆä¸Šä¼ çš„é•œåƒä»“åº“ï¼‰ï¼š" class="headerlink" title="2.æ¨é€æœ¬åœ°é•œåƒåˆ°å½“å‰é¡¹ç›®ï¼ˆä¸Šä¼ çš„é•œåƒä»“åº“ï¼‰ï¼š"></a>2.æ¨é€æœ¬åœ°é•œåƒåˆ°å½“å‰é¡¹ç›®ï¼ˆä¸Šä¼ çš„é•œåƒä»“åº“ï¼‰ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker push harbor-test.ecoweather.cn/library/IMAGE[:TAG]</span><br><span class="line"># harbor-test.ecoweather.cn/library/IMAGE[:TAG] åŒä¸Š</span><br></pre></td></tr></table></figure><h4 id="ä¸Šä¼ æˆåŠŸï¼š"><a href="#ä¸Šä¼ æˆåŠŸï¼š" class="headerlink" title="ä¸Šä¼ æˆåŠŸï¼š"></a>ä¸Šä¼ æˆåŠŸï¼š</h4><p><img src="https://z3.ax1x.com/2021/08/09/f8D4K0.png" alt="f8D4K0.png"></p><h2 id="ä¸€ã€æ‹‰å–é•œåƒ"><a href="#ä¸€ã€æ‹‰å–é•œåƒ" class="headerlink" title="ä¸€ã€æ‹‰å–é•œåƒ"></a>ä¸€ã€æ‹‰å–é•œåƒ</h2><h4 id="ä½¿ç”¨-pull-å‘½ä»¤å³å¯"><a href="#ä½¿ç”¨-pull-å‘½ä»¤å³å¯" class="headerlink" title="ä½¿ç”¨ pull å‘½ä»¤å³å¯"></a>ä½¿ç”¨ pull å‘½ä»¤å³å¯</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker pull harbor-test.ecoweather.cn/library/IMAGE[:TAG]</span><br><span class="line"># harbor-test.ecoweather.cn/library/IMAGE[:TAG] åŒä¸Š</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šå¦‚æœæ‹‰å–æ—¶éœ€è¦æƒé™ï¼Œæ‰§è¡Œç¬¬äºŒæ­¥ï¼Œé…ç½®æƒé™å³å¯</p><p>é™„ï¼šï¼ˆå‚è€ƒï¼‰<br><a href="https://blog.csdn.net/qq_18598403/article/details/91349114">Docker: ä¸Šä¼ é•œåƒè‡³ç§æœ‰ä»“åº“</a></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dockerfileæ–‡ä»¶+æ„å»ºé•œåƒ</title>
      <link href="/2021/08/09/Docker/Dockerfile%E6%96%87%E4%BB%B6+%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F/"/>
      <url>/2021/08/09/Docker/Dockerfile%E6%96%87%E4%BB%B6+%E6%9E%84%E5%BB%BA%E9%95%9C%E5%83%8F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>ä¾‹å¦‚ï¼š</p><h3 id="1-Dockerfileæ–‡ä»¶æ„å»ºpython3-7é•œåƒ"><a href="#1-Dockerfileæ–‡ä»¶æ„å»ºpython3-7é•œåƒ" class="headerlink" title="1. Dockerfileæ–‡ä»¶æ„å»ºpython3.7é•œåƒ"></a>1. Dockerfileæ–‡ä»¶æ„å»ºpython3.7é•œåƒ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">FROM python:3.7.1-stretch</span><br><span class="line"></span><br><span class="line"># æ·»åŠ pythonä¾èµ–åŒ…</span><br><span class="line">RUN pip install pymysql requests redis ConfigParser</span><br></pre></td></tr></table></figure><h3 id="2-Dockerfileæ–‡ä»¶æ‰§è¡Œpythonè„šæœ¬"><a href="#2-Dockerfileæ–‡ä»¶æ‰§è¡Œpythonè„šæœ¬" class="headerlink" title="2. Dockerfileæ–‡ä»¶æ‰§è¡Œpythonè„šæœ¬"></a>2. Dockerfileæ–‡ä»¶æ‰§è¡Œpythonè„šæœ¬</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># æŒ‡å®šåŸºç¡€é•œåƒ</span><br><span class="line">FROM harbor-test.ecoweather.cn/library/python:37</span><br><span class="line"></span><br><span class="line"># å·¥ä½œè·¯å¾„ï¼Œç›¸å½“ä¸ cd xx</span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line"># è¿è¡ŒæŒ‡å®šçš„å‘½ä»¤</span><br><span class="line">RUN mkdir /EC &amp;&amp; mkdir /log</span><br><span class="line"></span><br><span class="line">WORKDIR /code/log</span><br><span class="line">RUN touch draw_data.log</span><br><span class="line"></span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line"># å¤åˆ¶ã€€æŒ‡å®šè·¯å¾„æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„ä¸‹</span><br><span class="line"># ADD å¤åˆ¶ï¼Œå¯ä»¥è‡ªåŠ¨è§£å‹åŒ…</span><br><span class="line">COPY /draw/draw_data_test.py /code</span><br><span class="line">COPY /draw/config.yaml /code</span><br><span class="line">COPY requirements.txt /code</span><br><span class="line">COPY Dockerfile /code</span><br><span class="line">COPY /data/model/EC/2021070612.070 /code/EC/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RUN pip install --upgrade pip -i http://nexus-pro.paas.ecoweather.cn/repository/ecoweather-pip/simple  --trusted-host nexus-pro.paas.ecoweather.cn</span><br><span class="line">RUN pip install -r requirements.txt  -i http://nexus-pro.paas.ecoweather.cn/repository/ecoweather-pip/simple  --trusted-host nexus-pro.paas.ecoweather.cn</span><br><span class="line"># RUN ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp;  echo &#x27;Asia/Shanghai&#x27; &gt;/etc/timezone</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># RUNæ˜¯æ„ä»¶å®¹å™¨æ—¶å°±è¿è¡Œçš„å‘½ä»¤ä»¥åŠæäº¤è¿è¡Œç»“æœ</span><br><span class="line"></span><br><span class="line"># CMDæ˜¯å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼Œåœ¨æ„ä»¶æ—¶å¹¶ä¸è¿è¡Œ</span><br><span class="line">CMD [&quot;python&quot;,&quot;draw_data_test.py&quot;]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-Dockerfileæ–‡ä»¶æ‰§è¡Œå¸¦å‚æ•°çš„pythonè„šæœ¬"><a href="#3-Dockerfileæ–‡ä»¶æ‰§è¡Œå¸¦å‚æ•°çš„pythonè„šæœ¬" class="headerlink" title="3. Dockerfileæ–‡ä»¶æ‰§è¡Œå¸¦å‚æ•°çš„pythonè„šæœ¬"></a>3. Dockerfileæ–‡ä»¶æ‰§è¡Œå¸¦å‚æ•°çš„pythonè„šæœ¬</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">FROM python:37</span><br><span class="line"></span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line">RUN mkdir &quot;test&quot;</span><br><span class="line">RUN touch regional_outlier_test.log</span><br><span class="line"></span><br><span class="line">COPY Dockerfile /code</span><br><span class="line">COPY regional_outlier_test.py /code</span><br><span class="line">COPY requirements.txt /code</span><br><span class="line">COPY test /code/test</span><br><span class="line"></span><br><span class="line">RUN pip install --upgrade pip -i https://pypi.doubanio.com/simple/</span><br><span class="line">RUN pip install -r requirements.txt -i https://pypi.doubanio.com/simple/</span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;python&quot;,&quot;regional_outlier_test.py&quot;]</span><br><span class="line"># regional_outlier_test.py</span><br><span class="line">CMD [&quot;exe&quot;,&quot;/code/test/test_data/&quot;,&quot;W_NAFP_C_ECMF_20200901054848_P_C1D09010000090103001.nc&quot;,&quot;2T&quot;,&quot;K&quot;,&quot;220&quot;,&quot;243&quot;,&#x27;&#123;&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[&#123;&quot;type&quot;:&quot;Feature&quot;,&quot;properties&quot;:&#123;&#125;,&quot;geometry&quot;:&#123;&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[99.1845703125,38.85682013474361],[98.0859375,38.58252615935333],[99.1845703125,36.70365959719456],[104.8974609375,35.28150065789119],[100.94238281249998,34.88593094075317],[103.22753906249998,31.653381399664],[106.435546875,31.31610138349565],[113.90625,32.287132632616384],[114.60937499999998,34.70549341022544],[112.06054687499998,38.685509760012],[107.9736328125,39.842286020743394],[99.1845703125,38.85682013474361]]]&#125;&#125;]&#125;&#x27;]</span><br></pre></td></tr></table></figure><h3 id="4-Dockerfileæ–‡ä»¶æ„å»ºjdkã€mavenç¯å¢ƒ"><a href="#4-Dockerfileæ–‡ä»¶æ„å»ºjdkã€mavenç¯å¢ƒ" class="headerlink" title="4. Dockerfileæ–‡ä»¶æ„å»ºjdkã€mavenç¯å¢ƒ"></a>4. Dockerfileæ–‡ä»¶æ„å»ºjdkã€mavenç¯å¢ƒ</h3><p>Pythonç¯å¢ƒä¸‹è½½ï¼š<a href="https://www.python.org/downloads/release/python-3711/">https://www.python.org/downloads/release/python-3711/</a></p><p>Mavenç¯å¢ƒä¸‹è½½ï¼š<a href="http://apache-mirror.rbc.ru/pub/apache/maven/maven-3/">http://apache-mirror.rbc.ru/pub/apache/maven/maven-3/</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">FROM python:37</span><br><span class="line"></span><br><span class="line">WORKDIR /code</span><br><span class="line"></span><br><span class="line">RUN mkdir &quot;test&quot; &amp;&amp; mkdir &quot;/var/tmp/jdk&quot; &amp;&amp; mkdir &quot;/var/tmp/maven&quot;</span><br><span class="line"></span><br><span class="line"># æ‹·è´é¡¹ç›®</span><br><span class="line">RUN touch regional_outlier_test.log</span><br><span class="line">COPY Dockerfile /code</span><br><span class="line">COPY regional_outlier_test.py /code</span><br><span class="line">COPY requirements.txt /code</span><br><span class="line">COPY test /code/test</span><br><span class="line"></span><br><span class="line"># æ‹·è´jdk/mavenç¯å¢ƒ</span><br><span class="line">COPY jdk1.8.0_301 /opt/jdk8</span><br><span class="line"># æ‹·è´mavenç¯å¢ƒ</span><br><span class="line"># RUN tar xzvf apache-maven-3.6.3-bin.tar.gz</span><br><span class="line"># RUN cp -R apache-maven-3.6.3 /usr/local/bin</span><br><span class="line">COPY apache-maven-3.6.3 /var/tmp/maven/apache-maven-3.6.3</span><br><span class="line"></span><br><span class="line"># é…ç½®JDK/mavenç¯å¢ƒå˜é‡</span><br><span class="line">ENV JAVA_HOME /opt/jdk8</span><br><span class="line">ENV MAVEN_HOME /var/tmp/maven/apache-maven-3.6.3</span><br><span class="line">ENV PATH $PATH:$JAVA_HOME/bin:$MAVEN_HOME/bin</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># å®‰è£…ä¾èµ–</span><br><span class="line">RUN pip install --upgrade pip -i https://pypi.doubanio.com/simple/</span><br><span class="line">RUN pip install -r requirements.txt -i https://pypi.doubanio.com/simple/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ENTRYPOINT [&quot;python&quot;,&quot;regional_outlier_test.py&quot;]</span><br><span class="line"># regional_outlier_test.py</span><br><span class="line">CMD [&quot;exe&quot;,&quot;/code/test/test_data/&quot;,&quot;W_NAFP_C_ECMF_20200901054848_P_C1D09010000090103001.nc&quot;,&quot;2T&quot;,&quot;K&quot;,&quot;220&quot;,&quot;243&quot;,&#x27;&#123;&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[&#123;&quot;type&quot;:&quot;Feature&quot;,&quot;properties&quot;:&#123;&#125;,&quot;geometry&quot;:&#123;&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[99.1845703125,38.85682013474361],[98.0859375,38.58252615935333],[99.1845703125,36.70365959719456],[104.8974609375,35.28150065789119],[100.94238281249998,34.88593094075317],[103.22753906249998,31.653381399664],[106.435546875,31.31610138349565],[113.90625,32.287132632616384],[114.60937499999998,34.70549341022544],[112.06054687499998,38.685509760012],[107.9736328125,39.842286020743394],[99.1845703125,38.85682013474361]]]&#125;&#125;]&#125;&#x27;]</span><br></pre></td></tr></table></figure><p>&#x3D;&#x3D;â€“&gt;3&#x3D;&#x3D;.æ­¤æ—¶çš„CMDå‘½ä»¤ä¸å† å…ˆåœ¨å®¹å™¨é‡Œæ‰§è¡Œï¼Œå½“é‡åˆ°äº†ENTRYPOINTï¼Œåˆ™å…ˆæ‰§è¡ŒENTRYPOINTä¸ºæ‰§è¡Œå‘½ä»¤ï¼Œè€ŒCMDåˆ™ä¸ºåæ‰§è¡Œï¼Œå½“åšå‘å®¹å™¨å†…ä¼ å‚ã€‚å³ENTRYPOINTæ‰§è¡Œè„šæœ¬ï¼ŒCMDåé¢çš„å†…å®¹éƒ½æ˜¯å‘regional_outlier_test.pyè„šæœ¬ä¼ å‚</p><h2 id="ENTRYPOINT-å…¥å£ç‚¹"><a href="#ENTRYPOINT-å…¥å£ç‚¹" class="headerlink" title="ENTRYPOINT å…¥å£ç‚¹"></a><a href="https://yeasy.gitbook.io/docker_practice/image/dockerfile/entrypoint">ENTRYPOINT å…¥å£ç‚¹</a></h2><p>ENTRYPOINT çš„æ ¼å¼å’Œ RUN æŒ‡ä»¤æ ¼å¼ä¸€æ ·ï¼Œåˆ†ä¸º exec æ ¼å¼å’Œ shell æ ¼å¼ã€‚</p><p>ENTRYPOINT çš„ç›®çš„å’Œ CMD ä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå‚æ•°ã€‚ENTRYPOINT åœ¨è¿è¡Œæ—¶ä¹Ÿå¯ä»¥æ›¿ä»£ï¼Œä¸è¿‡æ¯” CMD è¦ç•¥æ˜¾ç¹çï¼Œéœ€è¦é€šè¿‡ docker run çš„å‚æ•° â€“entrypoint æ¥æŒ‡å®šã€‚</p><p>å½“æŒ‡å®šäº† ENTRYPOINT åï¼ŒCMD çš„å«ä¹‰å°±å‘ç”Ÿäº†æ”¹å˜ï¼Œä¸å†æ˜¯ç›´æ¥çš„è¿è¡Œå…¶å‘½ä»¤ï¼Œè€Œæ˜¯å°† CMD çš„å†…å®¹ä½œä¸ºå‚æ•°ä¼ ç»™ ENTRYPOINT æŒ‡ä»¤ï¼Œæ¢å¥è¯è¯´å®é™…æ‰§è¡Œæ—¶ï¼Œå°†å˜ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;ENTRYPOINT&gt; &quot;&lt;CMD&gt;&quot;</span><br></pre></td></tr></table></figure><p>æ–‡ç« ï¼š<a href="https://blog.csdn.net/chenxing109/article/details/85319489">å¦‚ä½•å‘Dockerå®¹å™¨ä¼ é€’å‚æ•°</a></p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT [&quot;echo&quot;, &quot;hello&quot;]</span><br><span class="line">CMD [&quot;echo&quot;, &quot;world&quot;]</span><br></pre></td></tr></table></figure><p>å®é™…å…¥å£æ˜¯å®ƒä»¬æ‹¼æ¥èµ·æ¥ï¼Œå½¢æˆ [â€œechoâ€, â€œhelloâ€, â€œechoâ€, â€œworldâ€], æ‰§è¡Œ docker run test æ˜¾ç¤ºä¸º hello echo world</p><p>å®šä¹‰äº† ENTRYPOINT, CMD ç”± docker run æä¾›</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT  [&quot;echo&quot;, &quot;hello&quot;]</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤ docker run <image> rm -rf &#x2F;, å®é™…å…¥å£æ˜¯ç”± [â€œechoâ€, â€œhelloâ€] ä¸ [â€œrmâ€, â€œ-rfâ€, â€œ&#x2F;â€œ] æ‹¼æ¥è€Œæˆçš„ [â€œechoâ€, â€œhelloâ€, â€œrmâ€, â€œ-rfâ€, â€œ&#x2F;â€œ], è¾“å‡ºä¸º hello rm -rf &#x2F;ã€‚çœ‹åˆ° rm -rf &#x2F; ä¹Ÿä¸ç”¨æ‹…å¿ƒï¼Œç”¨ ENTRYPOINT å°±æ˜¯è®©äººæ”¾å¿ƒ</p><p>æ³¨ï¼šENTRYPOINT åŒæ ·å¯ä»¥è¢«è¦†ç›–ï¼Œå¦‚ docker run â€“entrypoint ls test -l &#x2F;ï¼Œå°†ä¼šæ‰§è¡Œ ls -l &#x2F; å‘½ä»¤ã€‚</p><p>å¦‚æœ ENTRYPOINT ç”¨ shell æ ¼å¼å®šä¹‰çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT java -jar /app.jar</span><br><span class="line">CMD [&quot;hello&quot;, &quot;world&quot;]</span><br></pre></td></tr></table></figure><p>é€šè¿‡ docker inspect å‘½ä»¤çœ‹åˆ°é•œåƒä¸­å®é™…çš„ ENTRYPOINT æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT [&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;java -jar /app.jar&quot;]</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ä¸ CMD è¿æ¥èµ·æ¥çš„å…¥å£å°±æ˜¯ [â€œ&#x2F;bin&#x2F;shâ€, â€œ-câ€, â€œjava -jar &#x2F;app.jarâ€, â€œhelloâ€, â€œworldâ€]ï¼Œâ€bin&#x2F;shâ€ ç›´æ¥å¿½ç•¥æ‰åé¢çš„ â€œhelloâ€ ä¸ â€œworldâ€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆshell å‘½ä»¤æ–¹å¼æ— æ³•è·å–å‚æ•°ã€‚</p><h2 id="æœªå®šä¹‰-ENTRYPOINT"><a href="#æœªå®šä¹‰-ENTRYPOINT" class="headerlink" title="æœªå®šä¹‰ ENTRYPOINT"></a>æœªå®šä¹‰ ENTRYPOINT</h2><p>æ²¡æœ‰å®šä¹‰ ENTRYPOINT çš„é•œåƒæƒ³æ€ä¹ˆæ¥å°±æ€ä¹ˆæ¥ï¼Œdocker run <image> åé¢çš„è¾“å…¥ä½ è‡ªå·±ä½œä¸»ã€‚</p><h2 id="æœ‰å®šä¹‰-ENTRYPOINT"><a href="#æœ‰å®šä¹‰-ENTRYPOINT" class="headerlink" title="æœ‰å®šä¹‰ ENTRYPOINT"></a>æœ‰å®šä¹‰ ENTRYPOINT</h2><p>å®šä¹‰äº† ENTRYPOINT çš„é•œåƒï¼Œåˆ™æ˜¯ CMD æˆ– docker run <image> åçš„è¾“å…¥ä½œä¸º  ENTRYPOINT ä¸­å‘½ä»¤çš„é™„åŠ å‚æ•°ã€‚å†æ¬¡æé†’ shell æ ¼å¼çš„ ENTRYPOINT å’Œ CMD  åŠ¡å¿…è¦è½¬æ¢ä¸ºç›¸åº” exec  æ ¼å¼æ¥ç†è§£ã€‚</p><h2 id="shell-æ ¼å¼çš„-ENTRYPOINT"><a href="#shell-æ ¼å¼çš„-ENTRYPOINT" class="headerlink" title="shell æ ¼å¼çš„ ENTRYPOINT"></a>shell æ ¼å¼çš„ ENTRYPOINT</h2><p>å¦‚æœæ˜¯å¤æ‚çš„ shell å‘½ä»¤ä¸å®¹æ˜“æ‹†è§£å‡ºä¸€ä¸ªä¸ªå‚æ•°ï¼Œè€Œå¸Œæœ›ç”¨  shell æ ¼å¼æ¥å®šä¹‰ ENTRYPOINT çš„è¯ï¼Œä¹Ÿæœ‰åŠæ³•ã€‚shell æ ¼å¼çš„ ENTRYPOINT æ˜¯ç”± â€œ&#x2F;bin&#x2F;sh -câ€ å¯åŠ¨çš„ï¼Œè€Œå®ƒæ˜¯å¯ä»¥è§£æå˜é‡çš„ã€‚å¦ä¸€æ–¹é¢ CMD æˆ– docker run <image> çš„è¾“å…¥ç¬¬ä¸€ä¸ªå…ƒç´ å­˜æˆäº† $0ï¼Œå…¶ä»–å‰©ä½™å…ƒç´ å­˜ä¸º $@, æ‰€ä»¥ shell æ ¼å¼çš„ ENTRYPOINT å¯ä»¥è¿™ä¹ˆå†™</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT echo hello $0 $@</span><br></pre></td></tr></table></figure><p>æ³¨ï¼šshell ä¸­ $0 è¡¨ç¤ºå‘½ä»¤æœ¬èº«ï¼Œ$@ ä¸ºæ‰€æœ‰å‚æ•°</p><p>è¿™æ ·æ‰§è¡Œä¸‹é¢ docker å‘½ä»¤å°†å¯è·å¾—æ‰€æœ‰çš„å‚æ•°è¾“å…¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run test world and China</span><br><span class="line"></span><br><span class="line">hello world and China</span><br></pre></td></tr></table></figure><p>å¦‚æœåªæ˜¯æŒ‰å¸¸è§„ shell è„šæœ¬æ¥å¯¹å¾…ï¼Œæƒ³å½“ç„¶çš„å†™æˆ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT echo hello $@</span><br></pre></td></tr></table></figure><p>æ•ˆæœå°†æ˜¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker run test world and China</span><br><span class="line"></span><br><span class="line">hello and China</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªå‚æ•°å°†è¢«ä¸¢å¤±ï¼Œdocker run <image> åç¬¬ä¸€ä¸ªè¾“å…¥é€šå¸¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œæ‰€ä»¥æ˜¯ $0, è€Œ ENTRYPOINT åˆå¸Œæœ›å®ƒæ˜¯ä¸€ä¸ªæ™®é€šå‚æ•°ï¼Œ</p><h2 id="ç›´æ¥ç”¨-docker-inspect-æŸ¥çœ‹"><a href="#ç›´æ¥ç”¨-docker-inspect-æŸ¥çœ‹" class="headerlink" title="ç›´æ¥ç”¨ docker inspect  æŸ¥çœ‹"></a>ç›´æ¥ç”¨ docker inspect <container-id> æŸ¥çœ‹</h2><p>æœ€ç®€å•ä¸”å‡†ç¡®çš„æ–¹å¼å°±æ˜¯ç›´æ¥ç”¨ docker inspect <container-id> æŸ¥çœ‹å®é™…å¯åŠ¨çš„å‘½ä»¤åŠå‚æ•°ï¼Œä¸ç”¨çŒœæµ‹ï¼Œdocker inspect ä¹Ÿä¸ä¼šæ’’è°ã€‚å¯¹äºå¦‚ä¸‹ Dockerfile å®šä¹‰</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ENTRYPOINT java -Xmx256M -jar /app.jar</span><br><span class="line">CMD [&quot;echo&quot;, &quot;hello&quot;]</span><br></pre></td></tr></table></figure><p>è¿è¡Œå®¹å™¨åï¼Œdocker inspect <container-id>, æ³¨æ„æ˜¯å®¹å™¨ ID è€Œéé•œåƒ IDã€‚åœ¨æ˜¾ç¤ºçš„ inspect JSON ç»“æœçš„æœ€é¡¶ç«¯æˆ‘ä»¬å¯ä»¥çœ‹åˆ°</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;Path&quot;: &quot;/bin/sh&quot;,    </span><br><span class="line">&quot;Args&quot;: [ </span><br><span class="line">  &quot;-c&quot;, </span><br><span class="line">  &quot;java -Xmx256M -jar /app.jar&quot;, </span><br><span class="line">  &quot;echo&quot;, </span><br><span class="line">  &quot;hello&quot;</span><br><span class="line">],</span><br></pre></td></tr></table></figure><p>ENTRYPOINT å’Œ CMD å¦‚ä½•ç»„æˆå®é™…å…¥å£ï¼Œä»è¿™é‡Œçš„ Path å’Œ Args æ˜¯ä¸€ç›®äº†ç„¶ï¼Œä¹Ÿä¸ç”¨è¯§å¼‚ä¸ºä½• CMD ä¸­çš„å‘½ä»¤éƒ¨åˆ†ä¹Ÿå˜æˆäº† ENTRYPOINT å‘½ä»¤çš„å‚æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>roundå‡½æ•°</title>
      <link href="/2021/08/03/Python/%E6%A8%A1%E5%9D%97/round/round%E5%87%BD%E6%95%B0/"/>
      <url>/2021/08/03/Python/%E6%A8%A1%E5%9D%97/round/round%E5%87%BD%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><p>roundå‡½æ•°ï¼š</p><p>Roundå‡½æ•°è¿”å›ä¸€ä¸ªæ•°å€¼ï¼Œè¯¥æ•°å€¼æ˜¯æŒ‰ç…§æŒ‡å®šçš„å°æ•°ä½æ•°è¿›è¡Œå››èˆäº”å…¥è¿ç®—çš„ç»“æœã€‚é™¤æ•°å€¼å¤–ï¼Œä¹Ÿå¯å¯¹æ—¥æœŸè¿›è¡Œèˆå…¥è¿ç®—ã€‚</p><p>roundå‡½æ•°çš„è¯­æ³•æ˜¯ï¼šROUND(number,num_digits)ï¼Œå³ï¼šRoundï¼ˆæ•°å€¼ï¼Œä¿ç•™çš„å°æ•°ä½æ•°)</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-round </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>netCDF4--è§£æncæ–‡ä»¶ï¼Œåˆ†ææ•°æ®ç»“æ„</title>
      <link href="/2021/08/02/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/netCDF4/netCDF4--%E8%A7%A3%E6%9E%90nc%E6%96%87%E4%BB%B6%EF%BC%8C%E5%88%86%E6%9E%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
      <url>/2021/08/02/Python/%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%20%E6%B0%94%E8%B1%A1%E7%BB%98%E5%9B%BE/netCDF4/netCDF4--%E8%A7%A3%E6%9E%90nc%E6%96%87%E4%BB%B6%EF%BC%8C%E5%88%86%E6%9E%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ncæ ¼å¼çš„æ–‡ä»¶å¯è°“éšå¤„å¯è§ï¼Œè¿™ç§æ–‡ä»¶å¯ä»¥å­˜å‚¨å¤šç»´æ•°å­—çŸ©é˜µï¼ŒåŒæ—¶åˆå°è£…äº†è‡ªæè¿°ä¿¡æ¯ï¼ˆä¾‹å¦‚ç»çº¬åº¦ã€é«˜åº¦å±‚ã€æ—¶é—´æˆ³ã€å•ä½ç­‰ï¼‰ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®å’Œæè¿°ä¿¡æ¯åˆ†ç¦»è€Œå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚"><a href="#ncæ ¼å¼çš„æ–‡ä»¶å¯è°“éšå¤„å¯è§ï¼Œè¿™ç§æ–‡ä»¶å¯ä»¥å­˜å‚¨å¤šç»´æ•°å­—çŸ©é˜µï¼ŒåŒæ—¶åˆå°è£…äº†è‡ªæè¿°ä¿¡æ¯ï¼ˆä¾‹å¦‚ç»çº¬åº¦ã€é«˜åº¦å±‚ã€æ—¶é—´æˆ³ã€å•ä½ç­‰ï¼‰ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®å’Œæè¿°ä¿¡æ¯åˆ†ç¦»è€Œå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚" class="headerlink" title="ncæ ¼å¼çš„æ–‡ä»¶å¯è°“éšå¤„å¯è§ï¼Œè¿™ç§æ–‡ä»¶å¯ä»¥å­˜å‚¨å¤šç»´æ•°å­—çŸ©é˜µï¼ŒåŒæ—¶åˆå°è£…äº†è‡ªæè¿°ä¿¡æ¯ï¼ˆä¾‹å¦‚ç»çº¬åº¦ã€é«˜åº¦å±‚ã€æ—¶é—´æˆ³ã€å•ä½ç­‰ï¼‰ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®å’Œæè¿°ä¿¡æ¯åˆ†ç¦»è€Œå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚"></a>ncæ ¼å¼çš„æ–‡ä»¶å¯è°“éšå¤„å¯è§ï¼Œè¿™ç§æ–‡ä»¶å¯ä»¥å­˜å‚¨å¤šç»´æ•°å­—çŸ©é˜µï¼ŒåŒæ—¶åˆå°è£…äº†è‡ªæè¿°ä¿¡æ¯ï¼ˆä¾‹å¦‚ç»çº¬åº¦ã€é«˜åº¦å±‚ã€æ—¶é—´æˆ³ã€å•ä½ç­‰ï¼‰ï¼Œå› æ­¤ä½¿ç”¨èµ·æ¥ååˆ†æ–¹ä¾¿ï¼Œä¸ç”¨æ‹…å¿ƒæ•°æ®å’Œæè¿°ä¿¡æ¯åˆ†ç¦»è€Œå¯¼è‡´æ•°æ®ä¸å¯ç”¨ã€‚</h4><h4 id="netCDF4å°±æ˜¯ç½‘ç»œé€šç”¨æ•°æ®æ ¼å¼ï¼Œæ˜¯pythonä¸€ä¸ªä¸“é—¨ç”¨æ¥å¤„ç†ncæ–‡ä»¶çš„åº“"><a href="#netCDF4å°±æ˜¯ç½‘ç»œé€šç”¨æ•°æ®æ ¼å¼ï¼Œæ˜¯pythonä¸€ä¸ªä¸“é—¨ç”¨æ¥å¤„ç†ncæ–‡ä»¶çš„åº“" class="headerlink" title="netCDF4å°±æ˜¯ç½‘ç»œé€šç”¨æ•°æ®æ ¼å¼ï¼Œæ˜¯pythonä¸€ä¸ªä¸“é—¨ç”¨æ¥å¤„ç†ncæ–‡ä»¶çš„åº“"></a>netCDF4å°±æ˜¯ç½‘ç»œé€šç”¨æ•°æ®æ ¼å¼ï¼Œæ˜¯pythonä¸€ä¸ªä¸“é—¨ç”¨æ¥å¤„ç†ncæ–‡ä»¶çš„åº“</h4><h2 id="ä»£ç ï¼š"><a href="#ä»£ç ï¼š" class="headerlink" title="ä»£ç ï¼š"></a>ä»£ç ï¼š</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥netCDF4åº“</span></span><br><span class="line"><span class="keyword">import</span> netCDF4 <span class="keyword">as</span> nc</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ netCDF4çš„ Datasetæ–¹æ³•è¯»å–æ–‡ä»¶</span></span><br><span class="line">dataset = nc.Dataset(<span class="string">&quot;/mnt/hgfs/pojiebao/2021070612.026&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„ç»“æ„</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹æ–‡ä»¶çš„ç»“æ„ï¼š\n&quot;</span>,dataset)</span><br><span class="line"><span class="comment"># &lt;class &#x27;netCDF4._netCDF4.Dataset&#x27;&gt;</span></span><br><span class="line"><span class="comment"># root group (NETCDF4 data model, file format HDF5):</span></span><br><span class="line"><span class="comment">#     title:  EC 5km spatial interpolation</span></span><br><span class="line"><span class="comment">#     dimensions(sizes): lon(1401), lat(1201), isobaric(19)</span></span><br><span class="line"><span class="comment">#     variables(dimensions): float32 lon(lon), float32 lat(lat), float32 isobaric(isobaric), int16 TMP(lat,lon), int16 TCC(lat,lon), int16 VIS(lat,lon), int16 PRE(lat,lon), int16 10U(lat,lon), int16 10V(lat,lon), int16 RH(lat,lon), int16 10WS(lat,lon), int16 10WD(lat,lon)</span></span><br><span class="line"><span class="comment">#     groups: </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„å˜é‡</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹æ–‡ä»¶çš„å˜é‡ï¼š\n&quot;</span>,dataset.variables.keys())</span><br><span class="line"><span class="comment"># dict_keys([&#x27;lon&#x27;, &#x27;lat&#x27;, &#x27;isobaric&#x27;, &#x27;TMP&#x27;, &#x27;TCC&#x27;, &#x27;VIS&#x27;, &#x27;PRE&#x27;, &#x27;10U&#x27;, &#x27;10V&#x27;, &#x27;RH&#x27;, &#x27;10WS&#x27;, &#x27;10WD&#x27;])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„æŸå˜é‡åçš„å±æ€§ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹TMPçš„å±æ€§ä¿¡æ¯ï¼š&quot;</span>,dataset.variables[<span class="string">&#x27;TMP&#x27;</span>])</span><br><span class="line"><span class="comment"># &lt;class &#x27;netCDF4._netCDF4.Variable&#x27;&gt;</span></span><br><span class="line"><span class="comment"># int16 TMP(lat, lon)</span></span><br><span class="line"><span class="comment">#     scale_factor: 0.1</span></span><br><span class="line"><span class="comment">#     units: Celsius</span></span><br><span class="line"><span class="comment"># unlimited dimensions: </span></span><br><span class="line"><span class="comment"># current shape = (1201, 1401)</span></span><br><span class="line"><span class="comment"># filling on, default _FillValue of -32767 used</span></span><br><span class="line"><span class="comment"># 1ã€å˜é‡çš„ç»´åº¦ä¿¡æ¯ï¼š</span></span><br><span class="line"><span class="comment"># å±æ€§ä¿¡æ¯çš„ç¬¬äºŒè¡Œæ˜¾ç¤ºäº†è¯¥å˜é‡çš„ç»´åº¦ç»„æˆï¼Œå³air(time, lat, lon)ã€‚è¿™è¡¨ç¤ºè¯¥å˜é‡æ˜¯ä¸‰ç»´æ•°ç»„ï¼Œå…¶ç»´åº¦é¡ºåºæ˜¯æ—¶é—´ã€çº¬åº¦ã€ç»åº¦ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dataset.variables.keys():</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æŸ¥çœ‹æ–‡ä»¶çš„æ•°æ®</span></span><br><span class="line">    data = dataset.variables[i][:].data</span><br><span class="line">    data2 = dataset.variables[i][:]</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;dataï¼š&quot;</span>,data)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;data2ï¼š&quot;</span>,data2)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># è¯»å–çŸ©é˜µçš„é•¿åº¦</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”&quot;</span>,i,data.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ªå˜é‡çš„ä¿¡æ¯</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹RHå˜é‡çš„ä¿¡æ¯ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;RH&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹PREå˜é‡çš„ä¿¡æ¯ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;PRE&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ªå˜é‡çš„å±æ€§</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹RHå˜é‡çš„å±æ€§ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;RH&#x27;</span>].ncattrs())</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹PREå˜é‡çš„å±æ€§ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;PRE&#x27;</span>].ncattrs())</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹æŸä¸ªå˜é‡çš„æ•°æ®å€¼</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹RHå˜é‡çš„æ•°æ®å€¼ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;RH&#x27;</span>][:])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æŸ¥çœ‹PREå˜é‡çš„æ•°æ®å€¼ï¼š\n&quot;</span>,dataset.variables[<span class="string">&#x27;PRE&#x27;</span>][:])</span><br><span class="line"></span><br><span class="line"><span class="comment"># å…³é—­æ–‡ä»¶</span></span><br><span class="line">dataset.close()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ•°æ®è§£æ æ°”è±¡ç»˜å›¾-netCDF4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pipreqsæŸ¥è¯¢å¹¶å®‰è£…é¡¹ç›®æ‰€ä¾èµ–çš„æ‰€æœ‰åŒ…</title>
      <link href="/2021/07/30/Python/pipreqs%E6%9F%A5%E8%AF%A2%E5%B9%B6%E5%AE%89%E8%A3%85%E9%A1%B9%E7%9B%AE%E6%89%80%E4%BE%9D%E8%B5%96%E7%9A%84%E6%89%80%E6%9C%89%E5%8C%85/"/>
      <url>/2021/07/30/Python/pipreqs%E6%9F%A5%E8%AF%A2%E5%B9%B6%E5%AE%89%E8%A3%85%E9%A1%B9%E7%9B%AE%E6%89%80%E4%BE%9D%E8%B5%96%E7%9A%84%E6%89%80%E6%9C%89%E5%8C%85/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="éœ€æ±‚"><a href="#éœ€æ±‚" class="headerlink" title="éœ€æ±‚"></a>éœ€æ±‚</h2><p>å¦‚æœéœ€è¦è¿›è¡Œä»£ç çš„ç§»æ¤ï¼Œè‚¯å®šå°‘ä¸äº†åœ¨å¦ä¸€å°pcæˆ–è€…æœåŠ¡å™¨ä¸Šè¿›è¡Œç¯å¢ƒçš„æ­å»ºï¼Œé‚£ä¹ˆé¦–å…ˆæ˜¯è¦çŸ¥é“åœ¨å·²æœ‰çš„å·¥ç¨‹çš„ä»£ç ä¸­ç”¨åˆ°äº†å“ªäº›åŒ…ï¼Œæ­¤æ—¶ï¼Œå¦‚æœæ˜¯ç”¨äººå·¥å»ä¸€ä¸ªä¸€ä¸ªçš„ä»£ç æ–‡ä»¶ä¸­å»æŸ¥çœ‹è°ƒç”¨äº†å“ªäº›åŒ…ï¼Œè¿™ä¸ªå·¥ä½œç”šæ˜¯ç¹çã€‚</p><p>å¹³æ—¶æ‰€ç”¨çš„IDEæ˜¯PyCharmï¼Œåœ¨é‡Œé¢æ‰¾äº†ä¸€æ‰¾ï¼Œä¼¼ä¹ä¹Ÿæ²¡æœ‰ç›¸å…³çš„åŠŸèƒ½ï¼ˆï¼Ÿï¼‰ã€‚ä½†æ˜¯ï¼Œä¹‹ååˆå‘ç°äº†pipreqsè¿™ä¸ªåŒ…ï¼Œå¯ä»¥æ¯”è¾ƒå®Œç¾åœ°è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><h2 id="pipreqsçš„å®‰è£…ä¸æŸ¥è¯¢"><a href="#pipreqsçš„å®‰è£…ä¸æŸ¥è¯¢" class="headerlink" title="pipreqsçš„å®‰è£…ä¸æŸ¥è¯¢"></a>pipreqsçš„å®‰è£…ä¸æŸ¥è¯¢</h2><p>åœ¨å®˜æ–¹çš„ç¬¬ä¸‰æ–¹åº“çš„ä»“åº“pypiä¸­æœ‰å…¶ç›¸å…³çš„è¯¦ç»†ä»‹ç»ï¼špipreqs Â· pypi</p><p>ä¸‹é¢ç®€å•ä»‹ç»ä¸€ä¸‹pipreqsçš„å®‰è£…ä¸æŸ¥è¯¢ä¾èµ–åŒ…çš„æ–¹æ³•ã€‚</p><p>é¦–å…ˆæ˜¯å®‰è£…ï¼Œæ–¹æ³•å’Œå…¶å®ƒpython çš„åŒ…çš„å®‰è£…æ–¹å¼ç›¸åŒï¼Œå¯ä»¥ä½¿ç”¨pip installæˆ–è€…pip3 installç­‰æ–¹æ³•å®‰è£…ï¼Œå¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pipreqs</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨æ§åˆ¶å°&#x2F;ç»ˆç«¯ä¸­cdè¿›é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œå¦‚å¯¹äºå¦‚ä¸‹ä¸€ä¸ªå·¥ç¨‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å…¶é¡¹ç›®æ ¹ç›®å½•ä¸º: D:\codes\slider_operation</span><br><span class="line">åˆ™è¿›å…¥è¯¥ç›®å½•ï¼šD:\codes\slider_operation</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œè¿è¡Œè¯¥æŒ‡ä»¤(å½“ç„¶ï¼Œé¦–å…ˆè¦ç¡®ä¿å¯ä»¥è¿è¡ŒpythonæŒ‡ä»¤ï¼Œå¦åˆ™å¯ä»¥æ‰‹åŠ¨æ¿€æ´»pythonç¯å¢ƒï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipreqs ./</span><br></pre></td></tr></table></figure><p>ä¹‹åç­‰å¾…ç¨‹åºè¿è¡Œå®Œæˆå³å¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wanghan@ubuntu:~/Documents$ pipreqs ./</span><br><span class="line">INFO: Successfully saved requirements file in ./requirements.txt</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä»å›¾ä¸­çœ‹åˆ°ï¼Œå·²ç»æˆåŠŸè¿è¡Œå®Œæˆäº†ã€‚</p><p>ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¥ç¨‹çš„æ ¹ç›®å½•ä¸­çœ‹åˆ°æœ‰è¿™æ ·ä¸€ä¸ª.txtæ–‡ä»¶ï¼šrequirements.txt</p><p>æ‰“å¼€ä¹‹åï¼Œä¾¿å¯ä»¥çœ‹åˆ°é¡¹ç›®æ‰€ä¾èµ–çš„ç¯å¢ƒå•¦ï¼Œä¸å…‰æœ‰åŒ…çš„åç§°ï¼ŒåŒæ—¶æ¯ä¸ªåŒ…çš„ç‰ˆæœ¬ä¹Ÿéƒ½å¯ä»¥çœ‹åˆ°ã€‚</p><h2 id="å®‰è£…æ‰€éœ€çš„ç¯å¢ƒ"><a href="#å®‰è£…æ‰€éœ€çš„ç¯å¢ƒ" class="headerlink" title="å®‰è£…æ‰€éœ€çš„ç¯å¢ƒ"></a>å®‰è£…æ‰€éœ€çš„ç¯å¢ƒ</h2><p>çœ‹åˆ°ä¸Šé¢requirements.txtçš„æ–‡ä»¶åå’Œå†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºpip install -rçš„æ‰€éœ€çš„æ–‡ä»¶æ ¼å¼æ˜¯å®Œå…¨ç¬¦åˆçš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶æ”¾åœ¨éœ€è¦å®‰è£…å·¥ç¨‹æ‰€éœ€ç¯å¢ƒçš„æœºå™¨ä¸Šï¼Œç„¶ååœ¨æ”¾ç½®çš„è·¯å¾„ä¸‹è¿è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>å³å¯ä¸€æ¬¡å°†æ‰€éœ€çš„åŒ…å…¨éƒ¨ä»¥æŒ‡å®šçš„ç‰ˆæœ¬è¿›è¡Œå®‰è£…äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ftplibæ¨¡å—</title>
      <link href="/2021/07/29/Python/%E6%A8%A1%E5%9D%97/FTP/ftplib%E6%A8%A1%E5%9D%97/"/>
      <url>/2021/07/29/Python/%E6%A8%A1%E5%9D%97/FTP/ftplib%E6%A8%A1%E5%9D%97/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="Pythonä¸­é»˜è®¤å®‰è£…çš„ftplibæ¨¡å—å®šä¹‰äº†FTPç±»-å¯ç”¨æ¥å®ç°ç®€å•çš„ftpå®¢æˆ·ç«¯ï¼Œç”¨äºä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶"><a href="#Pythonä¸­é»˜è®¤å®‰è£…çš„ftplibæ¨¡å—å®šä¹‰äº†FTPç±»-å¯ç”¨æ¥å®ç°ç®€å•çš„ftpå®¢æˆ·ç«¯ï¼Œç”¨äºä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶" class="headerlink" title="Pythonä¸­é»˜è®¤å®‰è£…çš„ftplibæ¨¡å—å®šä¹‰äº†FTPç±»,å¯ç”¨æ¥å®ç°ç®€å•çš„ftpå®¢æˆ·ç«¯ï¼Œç”¨äºä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶"></a>Pythonä¸­é»˜è®¤å®‰è£…çš„ftplibæ¨¡å—å®šä¹‰äº†FTPç±»,å¯ç”¨æ¥å®ç°ç®€å•çš„ftpå®¢æˆ·ç«¯ï¼Œç”¨äºä¸Šä¼ æˆ–ä¸‹è½½æ–‡ä»¶</h2><ul><li><p><font colo='black' size=5>FTPæœ‰ä¸¤ç§ä¼ è¾“æ¨¡å¼ï¼š</font><font size=4 color='red'>ASCIIä¼ è¾“æ¨¡å¼å’ŒBINARYä¼ è¾“æ¨¡å¼ã€‚</font></p><ul><li><font size=4 color='blue'>ASCIIä¼ è¾“æ¨¡å¼ï¼š</font><br><br>  è¯¥æ–¹å¼å¯ä»¥æ ¹æ®æœåŠ¡å™¨ç³»ç»Ÿå¯¹æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨è°ƒæ•´ï¼Œå°†åŸå§‹æ–‡ä»¶çš„å›è½¦æ¢è¡Œè½¬æ¢ä¸ºç³»ç»Ÿå¯¹åº”çš„å›è½¦å­—ç¬¦ï¼Œæ¯”å¦‚Unixä¸‹æ˜¯\n,Windowsä¸‹æ˜¯\r\nï¼ŒMacä¸‹æ˜¯\rã€‚CGIè„šæœ¬å’Œæ™®é€šHTMLæ–‡ä»¶ï¼ˆæˆ–å…¶ä»–æ–‡æœ¬æ–‡ä»¶ï¼‰ç”¨ASCIIæ¨¡å¼ä¸Šä¼ ï¼Œè€Œå…¶ä»–çš„ä¸€äº›æ–‡ä»¶åˆ™ä½¿ç”¨äºŒè¿›åˆ¶ä¼ è¾“æ¨¡å¼ã€‚</li><li><font size=4 color='blue'>BINARYä¼ è¾“æ¨¡å¼ï¼š</font><br><br>  åœ¨äºŒè¿›åˆ¶ä¼ è¾“ä¸­ï¼Œä¿å­˜æ–‡ä»¶çš„ä½åºï¼Œä»¥ä¾¿åŸå§‹å’Œæ‹·è´çš„æ˜¯é€ä½ä¸€ä¸€å¯¹åº”çš„ã€‚å³ä½¿ç›®çš„åœ°æœºå™¨ä¸ŠåŒ…å«ä½åºåˆ—çš„æ–‡ä»¶æ˜¯æ²¡æ„ä¹‰çš„ã€‚ä¾‹å¦‚ï¼Œmacintoshä»¥äºŒè¿›åˆ¶æ–¹å¼ä¼ é€å¯æ‰§è¡Œæ–‡ä»¶åˆ°Windowsç³»ç»Ÿï¼Œåœ¨å¯¹æ–¹ç³»ç»Ÿä¸Šï¼Œæ­¤æ–‡ä»¶ä¸èƒ½æ‰§è¡Œã€‚å¦‚æœä½ åœ¨ASCIIæ–¹å¼ä¸‹ä¼ è¾“äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå³ä½¿ä¸éœ€è¦ä¹Ÿä»ä¼šè½¬è¯‘ã€‚è¿™ä¼šä½¿ä¼ è¾“ç¨å¾®å˜æ…¢ ï¼Œä¹Ÿä¼šæŸåæ•°æ®ï¼Œä½¿æ–‡ä»¶å˜å¾—ä¸èƒ½ç”¨ã€‚ï¼ˆåœ¨å¤§å¤šæ•°è®¡ç®—æœºä¸Šï¼ŒASCIIæ–¹å¼ä¸€èˆ¬å‡è®¾æ¯ä¸€å­—ç¬¦çš„ç¬¬ä¸€æœ‰æ•ˆä½æ— æ„ä¹‰ï¼Œå› ä¸ºASCIIå­—ç¬¦ç»„åˆä¸ä½¿ç”¨å®ƒã€‚å¦‚æœä½ ä¼ è¾“äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰€æœ‰çš„ä½éƒ½æ˜¯é‡è¦çš„ã€‚ï¼‰å¦‚æœä½ çŸ¥é“è¿™ä¸¤å°æœºå™¨å…·æœ‰ç›¸åŒçš„ç³»ç»Ÿï¼Œåˆ™äºŒè¿›åˆ¶æ–¹å¼å¯¹æ–‡æœ¬æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶éƒ½æ˜¯æœ‰æ•ˆçš„ã€‚</li><li>&#x3D;&#x3D;åˆ—ä¸¾&#x3D;&#x3D;ï¼š<ul><li>ASCIIä¼ è¾“æ¨¡å¼ï¼šç”¨HTMLå’Œæ–‡æœ¬ç¼–å†™çš„æ–‡ä»¶å¿…é¡»ç”¨ASCIIæ¨¡å¼ä¸Šä¼ </li><li>äºŒè¿›åˆ¶ä¼ è¾“æ¨¡å¼ï¼šBINARYæ¨¡å¼ç”¨æ¥ä¼ é€å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå‹ç¼©æ–‡ä»¶ï¼Œå’Œå›¾ç‰‡æ–‡ä»¶</li></ul></li></ul></li></ul><p><a href="https://blog.csdn.net/cl965081198/article/details/82803333?utm_medium=distribute.pc_relevant_download.none-task-blog-2~default~BlogCommendFromBaidu~default-1.test_version_3&depth_1-utm_source=distribute.pc_relevant_download.none-task-blog-2~default~BlogCommendFromBaidu~default-1.test_version_">FTPä¼ è¾“æ¨¡å¼åº”ç”¨</a></p><h2 id="1-ftpç™»é™†è¿æ¥"><a href="#1-ftpç™»é™†è¿æ¥" class="headerlink" title="1.ftpç™»é™†è¿æ¥"></a>1.ftpç™»é™†è¿æ¥</h2><h4 id="å…ˆè®¾ç½®FTPè¿æ¥çš„å‚æ•°"><a href="#å…ˆè®¾ç½®FTPè¿æ¥çš„å‚æ•°" class="headerlink" title="å…ˆè®¾ç½®FTPè¿æ¥çš„å‚æ•°"></a>å…ˆè®¾ç½®FTPè¿æ¥çš„å‚æ•°</h4><h4 id="æ–‡ä»¶æœåŠ¡å™¨å‚æ•°"><a href="#æ–‡ä»¶æœåŠ¡å™¨å‚æ•°" class="headerlink" title="æ–‡ä»¶æœåŠ¡å™¨å‚æ•°"></a>æ–‡ä»¶æœåŠ¡å™¨å‚æ•°</h4><p>ftp_param &#x3D; {<br>â€˜hostâ€™: â€˜10.12.8.22â€™,</p><p>â€˜portâ€™: 2121,</p><p>â€˜userâ€™: â€˜userâ€™,</p><p>â€˜pwdâ€™: â€˜uesr1234â€™,</p><p>â€˜points_dirâ€™: â€˜comm&#x2F;cust_point&#x2F;â€˜,</p><p>â€˜xslâ€™: â€˜xsl&#x2F;dpsâ€™</p><p>}</p><h2 id="ç™»å½•è¿æ¥"><a href="#ç™»å½•è¿æ¥" class="headerlink" title="ç™»å½•è¿æ¥"></a>ç™»å½•è¿æ¥</h2><h4 id="å¼•å…¥FTPæ¨¡å—"><a href="#å¼•å…¥FTPæ¨¡å—" class="headerlink" title="å¼•å…¥FTPæ¨¡å—"></a>å¼•å…¥FTPæ¨¡å—</h4><p>from ftplib import FTP</p><p>import logging.config</p><p>logger &#x3D; logging.getLogger(<strong>name</strong>)</p><h4 id="è®¾ç½®å˜é‡"><a href="#è®¾ç½®å˜é‡" class="headerlink" title="è®¾ç½®å˜é‡"></a>è®¾ç½®å˜é‡</h4><p>ftp&#x3D;FTP()</p><h4 id="è¿æ¥çš„ftp-severå’Œç«¯å£"><a href="#è¿æ¥çš„ftp-severå’Œç«¯å£" class="headerlink" title="è¿æ¥çš„ftp severå’Œç«¯å£"></a>è¿æ¥çš„ftp severå’Œç«¯å£</h4><p>ftp.connect(ftp_param[â€˜hostâ€™], ftp_param[â€˜portâ€™])</p><h4 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h4><p>ftp.login(ftp_param[â€˜userâ€™], ftp_param[â€˜pwdâ€™])</p><h4 id="æ‰“å°æ¬¢è¿ä¿¡æ¯"><a href="#æ‰“å°æ¬¢è¿ä¿¡æ¯" class="headerlink" title="æ‰“å°æ¬¢è¿ä¿¡æ¯"></a>æ‰“å°æ¬¢è¿ä¿¡æ¯</h4><p>logger.debug(ftp.getwelcome())</p><h4 id="è¿›å…¥è¿œç¨‹ç›®å½•"><a href="#è¿›å…¥è¿œç¨‹ç›®å½•" class="headerlink" title="è¿›å…¥è¿œç¨‹ç›®å½•"></a>è¿›å…¥è¿œç¨‹ç›®å½•</h4><p>ftp.cwd(ftp_param[â€˜xslâ€™])</p><h4 id="éœ€è¦ä¸‹è½½çš„æ–‡ä»¶"><a href="#éœ€è¦ä¸‹è½½çš„æ–‡ä»¶" class="headerlink" title="éœ€è¦ä¸‹è½½çš„æ–‡ä»¶"></a>éœ€è¦ä¸‹è½½çš„æ–‡ä»¶</h4><p>filename&#x3D;â€xsl.txtâ€</p><h4 id="ä»¥å†™çš„æ¨¡å¼åœ¨æœ¬åœ°æ‰“å¼€æ–‡ä»¶"><a href="#ä»¥å†™çš„æ¨¡å¼åœ¨æœ¬åœ°æ‰“å¼€æ–‡ä»¶" class="headerlink" title="ä»¥å†™çš„æ¨¡å¼åœ¨æœ¬åœ°æ‰“å¼€æ–‡ä»¶"></a>ä»¥å†™çš„æ¨¡å¼åœ¨æœ¬åœ°æ‰“å¼€æ–‡ä»¶</h4><p>file_handle&#x3D;open(filename,â€wbâ€).write</p><h4 id="æ¥æ”¶æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¹¶å†™å…¥æœ¬åœ°æ–‡ä»¶"><a href="#æ¥æ”¶æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¹¶å†™å…¥æœ¬åœ°æ–‡ä»¶" class="headerlink" title="æ¥æ”¶æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¹¶å†™å…¥æœ¬åœ°æ–‡ä»¶"></a>æ¥æ”¶æœåŠ¡å™¨ä¸Šæ–‡ä»¶å¹¶å†™å…¥æœ¬åœ°æ–‡ä»¶</h4><p>ftp.retrbinaly(â€œRETR xsl.txtâ€,file_handle,bufsize)</p><h4 id="é€€å‡ºftp"><a href="#é€€å‡ºftp" class="headerlink" title="é€€å‡ºftp"></a>é€€å‡ºftp</h4><p>ftp.quit()</p><h2 id="2-FTPç›¸å…³å‘½ä»¤æ“ä½œ"><a href="#2-FTPç›¸å…³å‘½ä»¤æ“ä½œ" class="headerlink" title="2.FTPç›¸å…³å‘½ä»¤æ“ä½œ"></a>2.FTPç›¸å…³å‘½ä»¤æ“ä½œ</h2><h4 id="è®¾ç½®FTPå½“å‰æ“ä½œçš„è·¯å¾„"><a href="#è®¾ç½®FTPå½“å‰æ“ä½œçš„è·¯å¾„" class="headerlink" title="è®¾ç½®FTPå½“å‰æ“ä½œçš„è·¯å¾„"></a>è®¾ç½®FTPå½“å‰æ“ä½œçš„è·¯å¾„</h4><p>ftp.cwd(pathname)</p><h4 id="æ˜¾ç¤ºç›®å½•ä¸‹æ‰€æœ‰ç›®å½•ä¿¡æ¯"><a href="#æ˜¾ç¤ºç›®å½•ä¸‹æ‰€æœ‰ç›®å½•ä¿¡æ¯" class="headerlink" title="æ˜¾ç¤ºç›®å½•ä¸‹æ‰€æœ‰ç›®å½•ä¿¡æ¯"></a>æ˜¾ç¤ºç›®å½•ä¸‹æ‰€æœ‰ç›®å½•ä¿¡æ¯</h4><p>ftp.dir()</p><h4 id="è·å–ç›®å½•ä¸‹çš„æ–‡ä»¶"><a href="#è·å–ç›®å½•ä¸‹çš„æ–‡ä»¶" class="headerlink" title="è·å–ç›®å½•ä¸‹çš„æ–‡ä»¶"></a>è·å–ç›®å½•ä¸‹çš„æ–‡ä»¶</h4><p>ftp.nlst()</p><h4 id="æ–°å»ºè¿œç¨‹ç›®å½•"><a href="#æ–°å»ºè¿œç¨‹ç›®å½•" class="headerlink" title="æ–°å»ºè¿œç¨‹ç›®å½•"></a>æ–°å»ºè¿œç¨‹ç›®å½•</h4><p>ftp.mkd(pathname)</p><h4 id="è¿”å›å½“å‰æ‰€åœ¨ä½ç½®"><a href="#è¿”å›å½“å‰æ‰€åœ¨ä½ç½®" class="headerlink" title="è¿”å›å½“å‰æ‰€åœ¨ä½ç½®"></a>è¿”å›å½“å‰æ‰€åœ¨ä½ç½®</h4><p>ftp.pwd()</p><h4 id="åˆ é™¤è¿œç¨‹ç›®å½•"><a href="#åˆ é™¤è¿œç¨‹ç›®å½•" class="headerlink" title="åˆ é™¤è¿œç¨‹ç›®å½•"></a>åˆ é™¤è¿œç¨‹ç›®å½•</h4><p>ftp.rmd(dirname)</p><h4 id="åˆ é™¤è¿œç¨‹æ–‡ä»¶"><a href="#åˆ é™¤è¿œç¨‹æ–‡ä»¶" class="headerlink" title="åˆ é™¤è¿œç¨‹æ–‡ä»¶"></a>åˆ é™¤è¿œç¨‹æ–‡ä»¶</h4><p>ftp.delete(filename)</p><h4 id="å°†fromnameä¿®æ”¹åç§°ä¸ºtoname"><a href="#å°†fromnameä¿®æ”¹åç§°ä¸ºtoname" class="headerlink" title="å°†fromnameä¿®æ”¹åç§°ä¸ºtoname"></a>å°†fromnameä¿®æ”¹åç§°ä¸ºtoname</h4><p>ftp.rename(fromname, toname)</p><h4 id="ä¸Šä¼ ç›®æ ‡æ–‡ä»¶"><a href="#ä¸Šä¼ ç›®æ ‡æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ ç›®æ ‡æ–‡ä»¶"></a>ä¸Šä¼ ç›®æ ‡æ–‡ä»¶</h4><p>ftp.storbinary(â€œSTOR filename.txtâ€,file_handel,bufsize)</p><h4 id="ä¸‹è½½FTPæ–‡ä»¶"><a href="#ä¸‹è½½FTPæ–‡ä»¶" class="headerlink" title="ä¸‹è½½FTPæ–‡ä»¶"></a>ä¸‹è½½FTPæ–‡ä»¶</h4><p>ftp.retrbinary(â€œRETR filename.txtâ€,file_handel,bufsize)</p><h4 id="è®¾ç½®ç¼“å­˜å¤§å°"><a href="#è®¾ç½®ç¼“å­˜å¤§å°" class="headerlink" title="è®¾ç½®ç¼“å­˜å¤§å°"></a>è®¾ç½®ç¼“å­˜å¤§å°</h4><p>bufsize &#x3D; 1024</p><h4 id="æ‰“å¼€è°ƒè¯•çº§åˆ«2ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯"><a href="#æ‰“å¼€è°ƒè¯•çº§åˆ«2ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯" class="headerlink" title="æ‰“å¼€è°ƒè¯•çº§åˆ«2ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯"></a>æ‰“å¼€è°ƒè¯•çº§åˆ«2ï¼Œæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</h4><p>ftp.set_debuglevel(2)</p><h4 id="å…³é—­è°ƒè¯•æ¨¡å¼"><a href="#å…³é—­è°ƒè¯•æ¨¡å¼" class="headerlink" title="å…³é—­è°ƒè¯•æ¨¡å¼"></a>å…³é—­è°ƒè¯•æ¨¡å¼</h4><p>ftp.set_debuglevel(0)</p><h4 id="æ³¨æ„ï¼š"><a href="#æ³¨æ„ï¼š" class="headerlink" title="æ³¨æ„ï¼š"></a>æ³¨æ„ï¼š</h4><p>FTP.quit()ï¼šå‘é€QUITå‘½ä»¤ç»™æœåŠ¡å™¨å¹¶å…³é—­æ‰è¿æ¥ã€‚è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒâ€œç¼“å’Œâ€çš„å…³é—­è¿æ¥æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœæœåŠ¡å™¨å¯¹QUITå‘½ä»¤è¿”å›é”™è¯¯æ—¶ï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><p>FTP.close()ï¼šå•æ–¹é¢çš„å…³é—­æ‰è¿æ¥ï¼Œä¸åº”è¯¥ç”¨åœ¨å·²ç»å…³é—­çš„è¿æ¥ä¹‹åï¼Œä¾‹å¦‚ä¸åº”ç”¨åœ¨FTP.quit()ä¹‹åã€‚</p><h2 id="3-ä¾‹å­"><a href="#3-ä¾‹å­" class="headerlink" title="3.ä¾‹å­"></a>3.ä¾‹å­</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> ftplib <span class="keyword">import</span> FTP</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> tarfile</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> ftplib <span class="keyword">import</span> FTP</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ftpconnect</span>(<span class="params">host, username, password</span>)</span><br><span class="line">ftp = FTP()</span><br><span class="line">ftp.connect(host, <span class="number">21</span>)</span><br><span class="line">ftp.login(username, password)</span><br><span class="line"><span class="keyword">return</span> ftp</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">downloadfile</span>(<span class="params">ftp, remotepath, localpath</span>):</span><br><span class="line">bufsize = <span class="number">1024</span></span><br><span class="line">fp = <span class="built_in">open</span>(localpath, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">ftp.retrbinary(<span class="string">&#x27;RETR&#x27;</span>+remotepath, fp.write, bufsize)</span><br><span class="line"></span><br><span class="line">ftp.set_debuglevel(<span class="number">0</span>)</span><br><span class="line">fp.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">uploadfile</span>(<span class="params">ftp, remotepath, localpath</span>):</span><br><span class="line">bufsize = <span class="number">1024</span></span><br><span class="line">fp = <span class="built_in">open</span>(localpath, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">ftp.storbinary(<span class="string">&#x27;STOR&#x27;</span>+remotepath, fp, bufsize)</span><br><span class="line">ftp.set_debuglevel(<span class="number">0</span>)</span><br><span class="line">fp.close()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">ftp = ftpconnect(<span class="string">&quot;******&quot;</span>, <span class="string">&quot;***&quot;</span>, <span class="string">&quot;***&quot;</span>)</span><br><span class="line">    downloadfile(ftp, <span class="string">&quot;***&quot;</span>, <span class="string">&quot;***&quot;</span>)</span><br><span class="line">    uploadfile(ftp, <span class="string">&quot;***&quot;</span>, <span class="string">&quot;***&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    ftp.quit()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-FTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>UbuntuæŒ‚è½½å…±äº«æ–‡ä»¶</title>
      <link href="/2021/07/27/Ubuntu/Ubuntu%E6%8C%82%E8%BD%BD%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/"/>
      <url>/2021/07/27/Ubuntu/Ubuntu%E6%8C%82%E8%BD%BD%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h2 id="ä¸€ã€Ubuntu-vmwareå…±äº«æ–‡ä»¶å¤¹æŒ‚è½½hgfs-rootç”¨æˆ·ä¸‹"><a href="#ä¸€ã€Ubuntu-vmwareå…±äº«æ–‡ä»¶å¤¹æŒ‚è½½hgfs-rootç”¨æˆ·ä¸‹" class="headerlink" title="ä¸€ã€Ubuntu vmwareå…±äº«æ–‡ä»¶å¤¹æŒ‚è½½hgfs(rootç”¨æˆ·ä¸‹)"></a>ä¸€ã€Ubuntu vmwareå…±äº«æ–‡ä»¶å¤¹æŒ‚è½½hgfs(rootç”¨æˆ·ä¸‹)</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmhgfs-fuse .host:/ /mnt/hgfs</span><br></pre></td></tr></table></figure><h4 id="è‡ªåŠ¨æŒ‚è½½"><a href="#è‡ªåŠ¨æŒ‚è½½" class="headerlink" title="è‡ªåŠ¨æŒ‚è½½"></a>è‡ªåŠ¨æŒ‚è½½</h4><p>ä¿®æ”¹&#x2F;etc&#x2F;fstabï¼ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.host:/ /mnt/hgfs fuse.vmhgfs-fuse allow_other,defaults 0 0</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Ubuntu </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå®šæ—¶ä¸‹è½½FTPæŒ‡å®šæ–‡ä»¶</title>
      <link href="/2021/07/26/Python/%E6%A8%A1%E5%9D%97/FTP/Python%E5%AE%9A%E6%97%B6%E4%B8%8B%E8%BD%BDFTP%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6/"/>
      <url>/2021/07/26/Python/%E6%A8%A1%E5%9D%97/FTP/Python%E5%AE%9A%E6%97%B6%E4%B8%8B%E8%BD%BDFTP%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h4 id="ä¸€ã€å®šæœŸä»è¿œç«¯ftpä¸‹è½½æŒ‡å®šæ˜¨å¤©çš„æ•°æ®ï¼Œå†™äº†2ä¸ªå‡½æ•°ä¸€ä¸ªæ˜¯è¿æ¥è¿œç«¯ftpï¼Œå¦ä¸€ä¸ªæ˜¯å®šæœŸä¸‹è½½è¿œç«¯æ•°æ®ï¼Œç”¨åˆ°äº†ftplibã€datetimeå’Œæ­£åˆ™reä¸‰ä¸ªæ¨¡å—"><a href="#ä¸€ã€å®šæœŸä»è¿œç«¯ftpä¸‹è½½æŒ‡å®šæ˜¨å¤©çš„æ•°æ®ï¼Œå†™äº†2ä¸ªå‡½æ•°ä¸€ä¸ªæ˜¯è¿æ¥è¿œç«¯ftpï¼Œå¦ä¸€ä¸ªæ˜¯å®šæœŸä¸‹è½½è¿œç«¯æ•°æ®ï¼Œç”¨åˆ°äº†ftplibã€datetimeå’Œæ­£åˆ™reä¸‰ä¸ªæ¨¡å—" class="headerlink" title="ä¸€ã€å®šæœŸä»è¿œç«¯ftpä¸‹è½½æŒ‡å®šæ˜¨å¤©çš„æ•°æ®ï¼Œå†™äº†2ä¸ªå‡½æ•°ä¸€ä¸ªæ˜¯è¿æ¥è¿œç«¯ftpï¼Œå¦ä¸€ä¸ªæ˜¯å®šæœŸä¸‹è½½è¿œç«¯æ•°æ®ï¼Œç”¨åˆ°äº†ftplibã€datetimeå’Œæ­£åˆ™reä¸‰ä¸ªæ¨¡å—"></a>ä¸€ã€å®šæœŸä»è¿œç«¯ftpä¸‹è½½æŒ‡å®šæ˜¨å¤©çš„æ•°æ®ï¼Œå†™äº†2ä¸ªå‡½æ•°ä¸€ä¸ªæ˜¯è¿æ¥è¿œç«¯ftpï¼Œå¦ä¸€ä¸ªæ˜¯å®šæœŸä¸‹è½½è¿œç«¯æ•°æ®ï¼Œç”¨åˆ°äº†ftplibã€datetimeå’Œæ­£åˆ™reä¸‰ä¸ªæ¨¡å—</h4><blockquote><ol><li>ftplib:è¿æ¥å’Œä¸‹è½½ftpæ•°æ®</li><li>datetime:æŒ‡å®šä¸‹è½½æ—¥æœŸâ€“æ¯å¤©çš„å‰ä¸€å¤©</li><li>reè¿‡æ»¤æ‰å…¶ä»–æ—¥æœŸçš„æ•°æ®</li></ol></blockquote><h2 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-8</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line">from ftplib import FTP</span><br><span class="line">import datetime</span><br><span class="line">import re</span><br><span class="line">def ftpconnect():</span><br><span class="line">ftp_server = &#x27;IP&#x27;</span><br><span class="line">username = &#x27;è´¦å·&#x27;</span><br><span class="line">password = &#x27;å¯†ç &#x27;</span><br><span class="line">ftp = FTP()</span><br><span class="line">ftp.connect(ftp_server,21)</span><br><span class="line">ftp.login(username,password)</span><br><span class="line"> print ftp.getwelcome()</span><br><span class="line">return ftp</span><br><span class="line"></span><br><span class="line">def downloadfile():</span><br><span class="line">        #æ ¼å¼åŒ–å–åˆ°æ˜¨å¤©çš„æ—¥æœŸ</span><br><span class="line">d = (datetime.datetime.now() - datetime.timedelta(days=1)).strftime(&#x27;%Y%m%d&#x27;)</span><br><span class="line">remotepath = &#x27;/bssdata1/interface/yw_files/bak/&#x27;</span><br><span class="line">#è°ƒç”¨ftpè¿æ¥å‡½æ•°</span><br><span class="line">ftp = ftpconnect()</span><br><span class="line">bufsize = 1024</span><br><span class="line">ftp.cwd(remotepath)</span><br><span class="line">list = ftp.nlst()</span><br><span class="line">for name in list:</span><br><span class="line">        #æ­£åˆ™è¿‡æ»¤æ‰å…¶ä»–æ—¥æœŸ</span><br><span class="line">L = re.match(d,name)</span><br><span class="line">if L:</span><br><span class="line">path = &#x27;/data/download/&#x27; + name</span><br><span class="line">f = open(path,&#x27;wb&#x27;)</span><br><span class="line">filename = &#x27;RETR &#x27;+name</span><br><span class="line">ftp.retrbinary(filename,f.write,bufsize)</span><br><span class="line">f.close()</span><br><span class="line">ftp.quit()</span><br><span class="line">downloadfile()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-FTP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå®ç°ftpæ–‡ä»¶å®šæ—¶è‡ªåŠ¨ä¸‹è½½</title>
      <link href="/2021/07/26/Python/%E6%A8%A1%E5%9D%97/FTP/Python%E5%AE%9E%E7%8E%B0ftp%E6%96%87%E4%BB%B6%E5%AE%9A%E6%97%B6%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD/"/>
      <url>/2021/07/26/Python/%E6%A8%A1%E5%9D%97/FTP/Python%E5%AE%9E%E7%8E%B0ftp%E6%96%87%E4%BB%B6%E5%AE%9A%E6%97%B6%E8%87%AA%E5%8A%A8%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/css/APlayer.min.css"><script src="/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/js/Meting.min.js"></script><h1 id="ä¸€ã€éœ€æ±‚ï¼š"><a href="#ä¸€ã€éœ€æ±‚ï¼š" class="headerlink" title="ä¸€ã€éœ€æ±‚ï¼š"></a>ä¸€ã€éœ€æ±‚ï¼š</h1><p>ã€€ã€€æ¯æ—¥15:00~17:00ä¹‹é—´ï¼Œåœ¨å…¶FTPå‘å¸ƒå½“æ—¥æ•°æ®ä¾›ä¸‹è½½ï¼Œæˆ‘æ–¹éœ€åŠæ—¶ä¸‹è½½å½“æ—¥æ•°æ®è‡³æŒ‡å®šæœ¬åœ°ç›®å½•ã€‚</p><h1 id="äºŒã€åˆ†æï¼š"><a href="#äºŒã€åˆ†æï¼š" class="headerlink" title="äºŒã€åˆ†æï¼š"></a>äºŒã€åˆ†æï¼š</h1><h3 id="1ã€éœ€å®ç°FTPç™»é™†ã€æŸ¥è¯¢ã€ä¸‹è½½åŠŸèƒ½ï¼›"><a href="#1ã€éœ€å®ç°FTPç™»é™†ã€æŸ¥è¯¢ã€ä¸‹è½½åŠŸèƒ½ï¼›" class="headerlink" title="1ã€éœ€å®ç°FTPç™»é™†ã€æŸ¥è¯¢ã€ä¸‹è½½åŠŸèƒ½ï¼›"></a>1ã€éœ€å®ç°FTPç™»é™†ã€æŸ¥è¯¢ã€ä¸‹è½½åŠŸèƒ½ï¼›</h3><p>ã€€ã€€ä½¿ç”¨å†…ç½®çš„ftplibæ¨¡å—ä¸­FTPç±»ï¼›</p><h3 id="2ã€éœ€åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸‹è½½ï¼›"><a href="#2ã€éœ€åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸‹è½½ï¼›" class="headerlink" title="2ã€éœ€åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸‹è½½ï¼›"></a>2ã€éœ€åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¸‹è½½ï¼›</h3><p>ã€€ã€€ä½¿ç”¨osæ¨¡å—ä¸­path.existsæ–¹æ³•ï¼›</p><h3 id="3ã€éœ€åˆ¤æ–­åœ¨æŒ‡å®šæ—¶é—´æ®µå†…æ‰æ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼›"><a href="#3ã€éœ€åˆ¤æ–­åœ¨æŒ‡å®šæ—¶é—´æ®µå†…æ‰æ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼›" class="headerlink" title="3ã€éœ€åˆ¤æ–­åœ¨æŒ‡å®šæ—¶é—´æ®µå†…æ‰æ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼›"></a>3ã€éœ€åˆ¤æ–­åœ¨æŒ‡å®šæ—¶é—´æ®µå†…æ‰æ‰§è¡Œä¸‹è½½ä»»åŠ¡ï¼›</h3><p>ã€€ã€€ä½¿ç”¨å†…ç½®çš„timeæ¨¡å—æŠ“å–å½“å‰æ—¶é—´ï¼Œå¹¶ä¸æŒ‡å®šæ—¶é—´åšæ¯”è¾ƒï¼›</p><h3 id="4ã€éœ€è€ƒè™‘æ—¥æœŸåˆ‡æ¢é—®é¢˜ï¼›"><a href="#4ã€éœ€è€ƒè™‘æ—¥æœŸåˆ‡æ¢é—®é¢˜ï¼›" class="headerlink" title="4ã€éœ€è€ƒè™‘æ—¥æœŸåˆ‡æ¢é—®é¢˜ï¼›"></a>4ã€éœ€è€ƒè™‘æ—¥æœŸåˆ‡æ¢é—®é¢˜ï¼›</h3><p>ã€€ã€€ä½¿ç”¨å†…ç½®çš„timeæ¨¡å—æŠ“å–å½“å‰æ—¥æœŸï¼Œå¹¶ä¸å˜é‡ä¸­çš„æ—¥æœŸåšæ¯”è¾ƒã€‚</p><h1 id="ä¸‰ã€ä»£ç å®ç°"><a href="#ä¸‰ã€ä»£ç å®ç°" class="headerlink" title="ä¸‰ã€ä»£ç å®ç°"></a>ä¸‰ã€ä»£ç å®ç°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># _*_ coding:utf-8 _*_</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">@Time    : 2021-07-26 13:30</span></span><br><span class="line"><span class="string">@Author  : wanghan</span></span><br><span class="line"><span class="string">@FileName: 123.py</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> ftplib <span class="keyword">import</span> FTP</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">remote_path = <span class="string">&quot;/xxx/yy/z/&quot;</span>  <span class="comment"># è¿œç«¯ç›®å½•</span></span><br><span class="line">begin_time = <span class="number">1500</span>  <span class="comment"># ä»»åŠ¡å¼€å§‹æ—¶é—´</span></span><br><span class="line">end_time = <span class="number">1700</span>  <span class="comment"># ä»»åŠ¡ç»“æŸæ—¶é—´</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">today = time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>)  <span class="comment"># å½“å¤©æ—¥æœŸ</span></span><br><span class="line">today_file = today + <span class="string">&#x27;test.txt&#x27;</span>  <span class="comment"># å¾—åˆ°å½“å¤©æ—¥æœŸçš„ç›®æ ‡æ–‡ä»¶å</span></span><br><span class="line">remote_file = remote_path + today_file  <span class="comment"># è¿œç«¯æ–‡ä»¶å</span></span><br><span class="line">local_file = <span class="string">&#x27;\\\\local\\&#x27;</span> + today + <span class="string">&#x27;\\&#x27;</span> + today_file  <span class="comment"># æœ¬åœ°æ–‡ä»¶å</span></span><br><span class="line">log_file = <span class="string">&#x27;C:\\\\log\\ftp_log.txt&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ftp_connect</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç”¨äºFTPè¿æ¥&quot;&quot;&quot;</span></span><br><span class="line">    ftp_server = <span class="string">&#x27;w.x.y.z&#x27;</span>  <span class="comment"># ftpç«™ç‚¹å¯¹åº”çš„IPåœ°å€</span></span><br><span class="line">    username = <span class="string">&#x27;ftpuser&#x27;</span>  <span class="comment"># ç”¨æˆ·å</span></span><br><span class="line">    password = <span class="string">&#x27;ftppass&#x27;</span>  <span class="comment"># å¯†ç </span></span><br><span class="line">    ftp = FTP()</span><br><span class="line">    ftp.set_debuglevel(<span class="number">0</span>) <span class="comment"># è¾ƒé«˜çš„çº§åˆ«æ–¹ä¾¿æ’æŸ¥é—®é¢˜</span></span><br><span class="line">    ftp.connect(ftp_server, <span class="number">21</span>)</span><br><span class="line">    ftp.login(username, password)</span><br><span class="line">    <span class="keyword">return</span> ftp</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">remote_file_exists</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç”¨äºFTPç«™ç‚¹ç›®æ ‡æ–‡ä»¶å­˜åœ¨æ£€æµ‹&quot;&quot;&quot;</span></span><br><span class="line">    ftp = ftp_connect()</span><br><span class="line">    ftp.cwd(remote_path) <span class="comment"># è¿›å…¥ç›®æ ‡ç›®å½•</span></span><br><span class="line">    remote_file_names = ftp.nlst()  <span class="comment"># è·å–æ–‡ä»¶åˆ—è¡¨</span></span><br><span class="line">    ftp.quit()</span><br><span class="line">    <span class="keyword">if</span> today_file <span class="keyword">in</span> remote_file_names:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_file</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;ç”¨äºç›®æ ‡æ–‡ä»¶ä¸‹è½½&quot;&quot;&quot;</span></span><br><span class="line">    ftp = ftp_connect()</span><br><span class="line">    bufsize = <span class="number">1024</span></span><br><span class="line">    fp = <span class="built_in">open</span>(local_file, <span class="string">&#x27;wb&#x27;</span>)</span><br><span class="line">    ftp.set_debuglevel(<span class="number">0</span>) <span class="comment"># è¾ƒé«˜çš„çº§åˆ«æ–¹ä¾¿æ’æŸ¥é—®é¢˜</span></span><br><span class="line">    ftp.retrbinary(<span class="string">&#x27;RETR &#x27;</span> + remote_file, fp.write, bufsize)</span><br><span class="line">    fp.close()</span><br><span class="line">    ftp.quit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%H%M&quot;</span>)) <span class="keyword">in</span> <span class="built_in">range</span>(begin_time, end_time):  <span class="comment"># åˆ¤æ–­æ˜¯å¦åœ¨æ‰§è¡Œæ—¶é—´èŒƒå›´</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>)) - <span class="built_in">int</span>(today) == <span class="number">0</span>:  <span class="comment"># åˆ¤æ–­æ˜¯å¦è·¨æ—¥æœŸ</span></span><br><span class="line">            <span class="keyword">while</span> <span class="keyword">not</span> os.path.exists(local_file):  <span class="comment"># åˆ¤æ–­æœ¬åœ°æ˜¯å¦å·²æœ‰æ–‡ä»¶</span></span><br><span class="line">                <span class="keyword">if</span> remote_file_exists():  <span class="comment"># åˆ¤æ–­è¿œç«¯æ˜¯å¦å·²æœ‰æ–‡ä»¶</span></span><br><span class="line">                    download_file()</span><br><span class="line">                    <span class="keyword">with</span> <span class="built_in">open</span>(log_file, <span class="string">&#x27;a&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                        f.write(<span class="string">&#x27;\n&#x27;</span> + time.strftime(<span class="string">&quot;%Y/%m/%d %H:%M:%S&quot;</span>) + <span class="string">&quot; ä»Šæ—¥æ–‡ä»¶å·²ä¸‹è½½ï¼&quot;</span>)</span><br><span class="line">                    time.sleep(<span class="number">60</span>)  <span class="comment"># ä¸‹è½½å®Œæ¯•é™é»˜1åˆ†é’Ÿ</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    time.sleep(<span class="number">180</span>)</span><br><span class="line">                    <span class="keyword">break</span> <span class="comment"># æ³¨æ„ï¼Œæ­¤å¤„è·³å‡ºå¾ªç¯é‡æ–°åˆ¤æ–­æ—¥æœŸï¼Œé¿å…å‘¨æœ«æˆ–å½“å¤©æ²¡æ–‡ä»¶æ—¶é™·å…¥å†…å±‚å¾ªç¯</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                time.sleep(<span class="number">180</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="string">&quot;&quot;&quot;å¦‚æœè·¨æ—¥æœŸï¼Œåˆ™æ ¹æ®å½“å‰æ—¥æœŸï¼Œæ›´æ–°å„æ–‡ä»¶æ—¥æœŸ&quot;&quot;&quot;</span></span><br><span class="line">            today = time.strftime(<span class="string">&quot;%Y%m%d&quot;</span>)  <span class="comment"># å½“å¤©æ—¥æœŸ</span></span><br><span class="line">            today_file = today + <span class="string">&#x27;test.txt&#x27;</span>  <span class="comment"># å¾—åˆ°å½“å¤©æ—¥æœŸçš„ç›®æ ‡æ–‡ä»¶å</span></span><br><span class="line">            remote_file = remote_path + today_file  <span class="comment"># è¿œç«¯æ–‡ä»¶å</span></span><br><span class="line">            local_file = <span class="string">&#x27;\\\\local\\&#x27;</span> + today + <span class="string">&#x27;\\&#x27;</span> + today_file  <span class="comment"># æœ¬åœ°æ–‡ä»¶å</span></span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(log_file, <span class="string">&#x27;a&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">                f.write(<span class="string">&#x27;\n&#x27;</span> + time.strftime(<span class="string">&quot;%Y/%m/%d %H:%M:%S&quot;</span>) + <span class="string">&quot; ä»»åŠ¡å¯åŠ¨, æ–‡ä»¶æ—¥æœŸå·²æ›´æ–°ã€‚&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        time.sleep(<span class="number">1800</span>)</span><br></pre></td></tr></table></figure><p>.sleep(1800)</p><pre><code></code></pre>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python-æ¨¡å—-FTP </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
